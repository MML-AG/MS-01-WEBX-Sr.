function Q8(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const h=Object.getOwnPropertyDescriptor(n,s);h&&Object.defineProperty(e,s,h.get?h:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function n(s){if(s.ep)return;s.ep=!0;const h=r(s);fetch(s.href,h)}})();var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zI={exports:{}},Xv={},FI={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=Symbol.for("react.element"),eB=Symbol.for("react.portal"),tB=Symbol.for("react.fragment"),rB=Symbol.for("react.strict_mode"),nB=Symbol.for("react.profiler"),iB=Symbol.for("react.provider"),aB=Symbol.for("react.context"),oB=Symbol.for("react.forward_ref"),sB=Symbol.for("react.suspense"),lB=Symbol.for("react.memo"),cB=Symbol.for("react.lazy"),WT=Symbol.iterator;function uB(e){return e===null||typeof e!="object"?null:(e=WT&&e[WT]||e["@@iterator"],typeof e=="function"?e:null)}var BI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NI=Object.assign,OI={};function hh(e,t,r){this.props=e,this.context=t,this.refs=OI,this.updater=r||BI}hh.prototype.isReactComponent={};hh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jI(){}jI.prototype=hh.prototype;function Nw(e,t,r){this.props=e,this.context=t,this.refs=OI,this.updater=r||BI}var Ow=Nw.prototype=new jI;Ow.constructor=Nw;NI(Ow,hh.prototype);Ow.isPureReactComponent=!0;var GT=Array.isArray,VI=Object.prototype.hasOwnProperty,jw={current:null},UI={key:!0,ref:!0,__self:!0,__source:!0};function KI(e,t,r){var n,s={},h=null,d=null;if(t!=null)for(n in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(h=""+t.key),t)VI.call(t,n)&&!UI.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var v=Array(c),w=0;w<c;w++)v[w]=arguments[w+2];s.children=v}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:sm,type:e,key:h,ref:d,props:s,_owner:jw.current}}function dB(e,t){return{$$typeof:sm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vw(e){return typeof e=="object"&&e!==null&&e.$$typeof===sm}function hB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ZT=/\/+/g;function Qx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hB(""+e.key):t.toString(36)}function xy(e,t,r,n,s){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(h){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case sm:case eB:d=!0}}if(d)return d=e,s=s(d),e=n===""?"."+Qx(d,0):n,GT(s)?(r="",e!=null&&(r=e.replace(ZT,"$&/")+"/"),xy(s,t,r,"",function(w){return w})):s!=null&&(Vw(s)&&(s=dB(s,r+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(ZT,"$&/")+"/")+e)),t.push(s)),1;if(d=0,n=n===""?".":n+":",GT(e))for(var c=0;c<e.length;c++){h=e[c];var v=n+Qx(h,c);d+=xy(h,t,r,v,s)}else if(v=uB(e),typeof v=="function")for(e=v.call(e),c=0;!(h=e.next()).done;)h=h.value,v=n+Qx(h,c++),d+=xy(h,t,r,v,s);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Dg(e,t,r){if(e==null)return e;var n=[],s=0;return xy(e,n,"","",function(h){return t.call(r,h,s++)}),n}function fB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Li={current:null},_y={transition:null},pB={ReactCurrentDispatcher:Li,ReactCurrentBatchConfig:_y,ReactCurrentOwner:jw};function HI(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:Dg,forEach:function(e,t,r){Dg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dg(e,function(){t++}),t},toArray:function(e){return Dg(e,function(t){return t})||[]},only:function(e){if(!Vw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};er.Component=hh;er.Fragment=tB;er.Profiler=nB;er.PureComponent=Nw;er.StrictMode=rB;er.Suspense=sB;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pB;er.act=HI;er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=NI({},e.props),s=e.key,h=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,d=jw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(v in t)VI.call(t,v)&&!UI.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&c!==void 0?c[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){c=Array(v);for(var w=0;w<v;w++)c[w]=arguments[w+2];n.children=c}return{$$typeof:sm,type:e.type,key:s,ref:h,props:n,_owner:d}};er.createContext=function(e){return e={$$typeof:aB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iB,_context:e},e.Consumer=e};er.createElement=KI;er.createFactory=function(e){var t=KI.bind(null,e);return t.type=e,t};er.createRef=function(){return{current:null}};er.forwardRef=function(e){return{$$typeof:oB,render:e}};er.isValidElement=Vw;er.lazy=function(e){return{$$typeof:cB,_payload:{_status:-1,_result:e},_init:fB}};er.memo=function(e,t){return{$$typeof:lB,type:e,compare:t===void 0?null:t}};er.startTransition=function(e){var t=_y.transition;_y.transition={};try{e()}finally{_y.transition=t}};er.unstable_act=HI;er.useCallback=function(e,t){return Li.current.useCallback(e,t)};er.useContext=function(e){return Li.current.useContext(e)};er.useDebugValue=function(){};er.useDeferredValue=function(e){return Li.current.useDeferredValue(e)};er.useEffect=function(e,t){return Li.current.useEffect(e,t)};er.useId=function(){return Li.current.useId()};er.useImperativeHandle=function(e,t,r){return Li.current.useImperativeHandle(e,t,r)};er.useInsertionEffect=function(e,t){return Li.current.useInsertionEffect(e,t)};er.useLayoutEffect=function(e,t){return Li.current.useLayoutEffect(e,t)};er.useMemo=function(e,t){return Li.current.useMemo(e,t)};er.useReducer=function(e,t,r){return Li.current.useReducer(e,t,r)};er.useRef=function(e){return Li.current.useRef(e)};er.useState=function(e){return Li.current.useState(e)};er.useSyncExternalStore=function(e,t,r){return Li.current.useSyncExternalStore(e,t,r)};er.useTransition=function(){return Li.current.useTransition()};er.version="18.3.1";FI.exports=er;var z=FI.exports;const Qt=om(z),mB=Q8({__proto__:null,default:Qt},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gB=z,yB=Symbol.for("react.element"),vB=Symbol.for("react.fragment"),xB=Object.prototype.hasOwnProperty,_B=gB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bB={key:!0,ref:!0,__self:!0,__source:!0};function WI(e,t,r){var n,s={},h=null,d=null;r!==void 0&&(h=""+r),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(d=t.ref);for(n in t)xB.call(t,n)&&!bB.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:yB,type:e,key:h,ref:d,props:s,_owner:_B.current}}Xv.Fragment=vB;Xv.jsx=WI;Xv.jsxs=WI;zI.exports=Xv;var $=zI.exports,E_={},GI={exports:{}},xa={},ZI={exports:{}},qI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(De,Ve){var Oe=De.length;De.push(Ve);e:for(;0<Oe;){var he=Oe-1>>>1,ze=De[he];if(0<s(ze,Ve))De[he]=Ve,De[Oe]=ze,Oe=he;else break e}}function r(De){return De.length===0?null:De[0]}function n(De){if(De.length===0)return null;var Ve=De[0],Oe=De.pop();if(Oe!==Ve){De[0]=Oe;e:for(var he=0,ze=De.length,Je=ze>>>1;he<Je;){var ft=2*(he+1)-1,mt=De[ft],gt=ft+1,Et=De[gt];if(0>s(mt,Oe))gt<ze&&0>s(Et,mt)?(De[he]=Et,De[gt]=Oe,he=gt):(De[he]=mt,De[ft]=Oe,he=ft);else if(gt<ze&&0>s(Et,Oe))De[he]=Et,De[gt]=Oe,he=gt;else break e}}return Ve}function s(De,Ve){var Oe=De.sortIndex-Ve.sortIndex;return Oe!==0?Oe:De.id-Ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var d=Date,c=d.now();e.unstable_now=function(){return d.now()-c}}var v=[],w=[],S=1,T=null,C=3,D=!1,B=!1,V=!1,Y=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(De){for(var Ve=r(w);Ve!==null;){if(Ve.callback===null)n(w);else if(Ve.startTime<=De)n(w),Ve.sortIndex=Ve.expirationTime,t(v,Ve);else break;Ve=r(w)}}function ee(De){if(V=!1,O(De),!B)if(r(v)!==null)B=!0,Le(ie);else{var Ve=r(w);Ve!==null&&ae(ee,Ve.startTime-De)}}function ie(De,Ve){B=!1,V&&(V=!1,U(Z),Z=-1),D=!0;var Oe=C;try{for(O(Ve),T=r(v);T!==null&&(!(T.expirationTime>Ve)||De&&!se());){var he=T.callback;if(typeof he=="function"){T.callback=null,C=T.priorityLevel;var ze=he(T.expirationTime<=Ve);Ve=e.unstable_now(),typeof ze=="function"?T.callback=ze:T===r(v)&&n(v),O(Ve)}else n(v);T=r(v)}if(T!==null)var Je=!0;else{var ft=r(w);ft!==null&&ae(ee,ft.startTime-Ve),Je=!1}return Je}finally{T=null,C=Oe,D=!1}}var fe=!1,we=null,Z=-1,me=5,xe=-1;function se(){return!(e.unstable_now()-xe<me)}function Te(){if(we!==null){var De=e.unstable_now();xe=De;var Ve=!0;try{Ve=we(!0,De)}finally{Ve?ge():(fe=!1,we=null)}}else fe=!1}var ge;if(typeof F=="function")ge=function(){F(Te)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Be=ve.port2;ve.port1.onmessage=Te,ge=function(){Be.postMessage(null)}}else ge=function(){Y(Te,0)};function Le(De){we=De,fe||(fe=!0,ge())}function ae(De,Ve){Z=Y(function(){De(e.unstable_now())},Ve)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(De){De.callback=null},e.unstable_continueExecution=function(){B||D||(B=!0,Le(ie))},e.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<De?Math.floor(1e3/De):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(De){switch(C){case 1:case 2:case 3:var Ve=3;break;default:Ve=C}var Oe=C;C=Ve;try{return De()}finally{C=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(De,Ve){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var Oe=C;C=De;try{return Ve()}finally{C=Oe}},e.unstable_scheduleCallback=function(De,Ve,Oe){var he=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?he+Oe:he):Oe=he,De){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Oe+ze,De={id:S++,callback:Ve,priorityLevel:De,startTime:Oe,expirationTime:ze,sortIndex:-1},Oe>he?(De.sortIndex=Oe,t(w,De),r(v)===null&&De===r(w)&&(V?(U(Z),Z=-1):V=!0,ae(ee,Oe-he))):(De.sortIndex=ze,t(v,De),B||D||(B=!0,Le(ie))),De},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(De){var Ve=C;return function(){var Oe=C;C=Ve;try{return De.apply(this,arguments)}finally{C=Oe}}}})(qI);ZI.exports=qI;var wB=ZI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SB=z,ma=wB;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YI=new Set,Ap={};function eu(e,t){Yd(e,t),Yd(e+"Capture",t)}function Yd(e,t){for(Ap[e]=t,e=0;e<t.length;e++)YI.add(t[e])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k_=Object.prototype.hasOwnProperty,PB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qT={},YT={};function TB(e){return k_.call(YT,e)?!0:k_.call(qT,e)?!1:PB.test(e)?YT[e]=!0:(qT[e]=!0,!1)}function CB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EB(e,t,r,n){if(t===null||typeof t>"u"||CB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zi(e,t,r,n,s,h,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=d}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ti[e]=new zi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ti[t]=new zi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ti[e]=new zi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ti[e]=new zi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ti[e]=new zi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ti[e]=new zi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ti[e]=new zi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ti[e]=new zi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ti[e]=new zi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Uw=/[\-:]([a-z])/g;function Kw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Uw,Kw);ti[t]=new zi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Uw,Kw);ti[t]=new zi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Uw,Kw);ti[t]=new zi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ti[e]=new zi(e,1,!1,e.toLowerCase(),null,!1,!1)});ti.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ti[e]=new zi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hw(e,t,r,n){var s=ti.hasOwnProperty(t)?ti[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EB(t,r,s,n)&&(r=null),n||s===null?TB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cs=SB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$g=Symbol.for("react.element"),md=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),A_=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),JI=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),I_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),Zw=Symbol.for("react.memo"),cl=Symbol.for("react.lazy"),QI=Symbol.for("react.offscreen"),XT=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=XT&&e[XT]||e["@@iterator"],typeof e=="function"?e:null)}var Qr=Object.assign,e1;function ep(e){if(e1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);e1=t&&t[1]||""}return`
`+e1+e}var t1=!1;function r1(e,t){if(!e||t1)return"";t1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var n=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){n=w}e.call(t.prototype)}else{try{throw Error()}catch(w){n=w}e()}}catch(w){if(w&&n&&typeof w.stack=="string"){for(var s=w.stack.split(`
`),h=n.stack.split(`
`),d=s.length-1,c=h.length-1;1<=d&&0<=c&&s[d]!==h[c];)c--;for(;1<=d&&0<=c;d--,c--)if(s[d]!==h[c]){if(d!==1||c!==1)do if(d--,c--,0>c||s[d]!==h[c]){var v=`
`+s[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=c);break}}}finally{t1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ep(e):""}function kB(e){switch(e.tag){case 5:return ep(e.type);case 16:return ep("Lazy");case 13:return ep("Suspense");case 19:return ep("SuspenseList");case 0:case 2:case 15:return e=r1(e.type,!1),e;case 11:return e=r1(e.type.render,!1),e;case 1:return e=r1(e.type,!0),e;default:return""}}function D_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gd:return"Fragment";case md:return"Portal";case A_:return"Profiler";case Ww:return"StrictMode";case I_:return"Suspense";case M_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JI:return(e.displayName||"Context")+".Consumer";case XI:return(e._context.displayName||"Context")+".Provider";case Gw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zw:return t=e.displayName||null,t!==null?t:D_(e.type)||"Memo";case cl:t=e._payload,e=e._init;try{return D_(e(t))}catch{}}return null}function AB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D_(t);case 8:return t===Ww?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $l(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function eM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IB(e){var t=eM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){n=""+d,h.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rg(e){e._valueTracker||(e._valueTracker=IB(e))}function tM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=eM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ky(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $_(e,t){var r=t.checked;return Qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function JT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$l(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rM(e,t){t=t.checked,t!=null&&Hw(e,"checked",t,!1)}function R_(e,t){rM(e,t);var r=$l(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?L_(e,t.type,r):t.hasOwnProperty("defaultValue")&&L_(e,t.type,$l(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function L_(e,t,r){(t!=="number"||Ky(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tp=Array.isArray;function Rd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$l(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function z_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(tt(92));if(tp(r)){if(1<r.length)throw Error(tt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$l(r)}}function nM(e,t){var r=$l(t.value),n=$l(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lg,aM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lg=Lg||document.createElement("div"),Lg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ip(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MB=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(e){MB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dp[t]=dp[e]})});function oM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dp.hasOwnProperty(e)&&dp[e]?(""+t).trim():t+"px"}function sM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=oM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var DB=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function B_(e,t){if(t){if(DB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function N_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O_=null;function qw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var j_=null,Ld=null,zd=null;function rC(e){if(e=um(e)){if(typeof j_!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=r0(t),j_(e.stateNode,e.type,t))}}function lM(e){Ld?zd?zd.push(e):zd=[e]:Ld=e}function cM(){if(Ld){var e=Ld,t=zd;if(zd=Ld=null,rC(e),t)for(e=0;e<t.length;e++)rC(t[e])}}function uM(e,t){return e(t)}function dM(){}var n1=!1;function hM(e,t,r){if(n1)return e(t,r);n1=!0;try{return uM(e,t,r)}finally{n1=!1,(Ld!==null||zd!==null)&&(dM(),cM())}}function Mp(e,t){var r=e.stateNode;if(r===null)return null;var n=r0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(tt(231,t,typeof r));return r}var V_=!1;if(vs)try{var Ff={};Object.defineProperty(Ff,"passive",{get:function(){V_=!0}}),window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,Ff)}catch{V_=!1}function $B(e,t,r,n,s,h,d,c,v){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(S){this.onError(S)}}var hp=!1,Hy=null,Wy=!1,U_=null,RB={onError:function(e){hp=!0,Hy=e}};function LB(e,t,r,n,s,h,d,c,v){hp=!1,Hy=null,$B.apply(RB,arguments)}function zB(e,t,r,n,s,h,d,c,v){if(LB.apply(this,arguments),hp){if(hp){var w=Hy;hp=!1,Hy=null}else throw Error(tt(198));Wy||(Wy=!0,U_=w)}}function tu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function fM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nC(e){if(tu(e)!==e)throw Error(tt(188))}function FB(e){var t=e.alternate;if(!t){if(t=tu(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var h=s.alternate;if(h===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===h.child){for(h=s.child;h;){if(h===r)return nC(s),e;if(h===n)return nC(s),t;h=h.sibling}throw Error(tt(188))}if(r.return!==n.return)r=s,n=h;else{for(var d=!1,c=s.child;c;){if(c===r){d=!0,r=s,n=h;break}if(c===n){d=!0,n=s,r=h;break}c=c.sibling}if(!d){for(c=h.child;c;){if(c===r){d=!0,r=h,n=s;break}if(c===n){d=!0,n=h,r=s;break}c=c.sibling}if(!d)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?e:t}function pM(e){return e=FB(e),e!==null?mM(e):null}function mM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mM(e);if(t!==null)return t;e=e.sibling}return null}var gM=ma.unstable_scheduleCallback,iC=ma.unstable_cancelCallback,BB=ma.unstable_shouldYield,NB=ma.unstable_requestPaint,hn=ma.unstable_now,OB=ma.unstable_getCurrentPriorityLevel,Yw=ma.unstable_ImmediatePriority,yM=ma.unstable_UserBlockingPriority,Gy=ma.unstable_NormalPriority,jB=ma.unstable_LowPriority,vM=ma.unstable_IdlePriority,Jv=null,Mo=null;function VB(e){if(Mo&&typeof Mo.onCommitFiberRoot=="function")try{Mo.onCommitFiberRoot(Jv,e,void 0,(e.current.flags&128)===128)}catch{}}var ao=Math.clz32?Math.clz32:HB,UB=Math.log,KB=Math.LN2;function HB(e){return e>>>=0,e===0?32:31-(UB(e)/KB|0)|0}var zg=64,Fg=4194304;function rp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,h=e.pingedLanes,d=r&268435455;if(d!==0){var c=d&~s;c!==0?n=rp(c):(h&=d,h!==0&&(n=rp(h)))}else d=r&~s,d!==0?n=rp(d):h!==0&&(n=rp(h));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,h=t&-t,s>=h||s===16&&(h&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ao(t),s=1<<r,n|=e[r],t&=~s;return n}function WB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,h=e.pendingLanes;0<h;){var d=31-ao(h),c=1<<d,v=s[d];v===-1?(!(c&r)||c&n)&&(s[d]=WB(c,t)):v<=t&&(e.expiredLanes|=c),h&=~c}}function K_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xM(){var e=zg;return zg<<=1,!(zg&4194240)&&(zg=64),e}function i1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function lm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ao(t),e[t]=r}function ZB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ao(r),h=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~h}}function Xw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ao(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var _r=0;function _M(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bM,Jw,wM,SM,PM,H_=!1,Bg=[],bl=null,wl=null,Sl=null,Dp=new Map,$p=new Map,pl=[],qB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aC(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Dp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$p.delete(t.pointerId)}}function Bf(e,t,r,n,s,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:h,targetContainers:[s]},t!==null&&(t=um(t),t!==null&&Jw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function YB(e,t,r,n,s){switch(t){case"focusin":return bl=Bf(bl,e,t,r,n,s),!0;case"dragenter":return wl=Bf(wl,e,t,r,n,s),!0;case"mouseover":return Sl=Bf(Sl,e,t,r,n,s),!0;case"pointerover":var h=s.pointerId;return Dp.set(h,Bf(Dp.get(h)||null,e,t,r,n,s)),!0;case"gotpointercapture":return h=s.pointerId,$p.set(h,Bf($p.get(h)||null,e,t,r,n,s)),!0}return!1}function TM(e){var t=kc(e.target);if(t!==null){var r=tu(t);if(r!==null){if(t=r.tag,t===13){if(t=fM(r),t!==null){e.blockedOn=t,PM(e.priority,function(){wM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function by(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=W_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);O_=n,r.target.dispatchEvent(n),O_=null}else return t=um(r),t!==null&&Jw(t),e.blockedOn=r,!1;t.shift()}return!0}function oC(e,t,r){by(e)&&r.delete(t)}function XB(){H_=!1,bl!==null&&by(bl)&&(bl=null),wl!==null&&by(wl)&&(wl=null),Sl!==null&&by(Sl)&&(Sl=null),Dp.forEach(oC),$p.forEach(oC)}function Nf(e,t){e.blockedOn===t&&(e.blockedOn=null,H_||(H_=!0,ma.unstable_scheduleCallback(ma.unstable_NormalPriority,XB)))}function Rp(e){function t(s){return Nf(s,e)}if(0<Bg.length){Nf(Bg[0],e);for(var r=1;r<Bg.length;r++){var n=Bg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bl!==null&&Nf(bl,e),wl!==null&&Nf(wl,e),Sl!==null&&Nf(Sl,e),Dp.forEach(t),$p.forEach(t),r=0;r<pl.length;r++)n=pl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<pl.length&&(r=pl[0],r.blockedOn===null);)TM(r),r.blockedOn===null&&pl.shift()}var Fd=Cs.ReactCurrentBatchConfig,qy=!0;function JB(e,t,r,n){var s=_r,h=Fd.transition;Fd.transition=null;try{_r=1,Qw(e,t,r,n)}finally{_r=s,Fd.transition=h}}function QB(e,t,r,n){var s=_r,h=Fd.transition;Fd.transition=null;try{_r=4,Qw(e,t,r,n)}finally{_r=s,Fd.transition=h}}function Qw(e,t,r,n){if(qy){var s=W_(e,t,r,n);if(s===null)p1(e,t,n,Yy,r),aC(e,n);else if(YB(s,e,t,r,n))n.stopPropagation();else if(aC(e,n),t&4&&-1<qB.indexOf(e)){for(;s!==null;){var h=um(s);if(h!==null&&bM(h),h=W_(e,t,r,n),h===null&&p1(e,t,n,Yy,r),h===s)break;s=h}s!==null&&n.stopPropagation()}else p1(e,t,n,null,r)}}var Yy=null;function W_(e,t,r,n){if(Yy=null,e=qw(n),e=kc(e),e!==null)if(t=tu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=fM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yy=e,null}function CM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OB()){case Yw:return 1;case yM:return 4;case Gy:case jB:return 16;case vM:return 536870912;default:return 16}default:return 16}}var gl=null,e2=null,wy=null;function EM(){if(wy)return wy;var e,t=e2,r=t.length,n,s="value"in gl?gl.value:gl.textContent,h=s.length;for(e=0;e<r&&t[e]===s[e];e++);var d=r-e;for(n=1;n<=d&&t[r-n]===s[h-n];n++);return wy=s.slice(e,1<n?1-n:void 0)}function Sy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ng(){return!0}function sC(){return!1}function _a(e){function t(r,n,s,h,d){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(h):h[c]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ng:sC,this.isPropagationStopped=sC,this}return Qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ng)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ng)},persist:function(){},isPersistent:Ng}),t}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t2=_a(fh),cm=Qr({},fh,{view:0,detail:0}),eN=_a(cm),a1,o1,Of,Qv=Qr({},cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Of&&(Of&&e.type==="mousemove"?(a1=e.screenX-Of.screenX,o1=e.screenY-Of.screenY):o1=a1=0,Of=e),a1)},movementY:function(e){return"movementY"in e?e.movementY:o1}}),lC=_a(Qv),tN=Qr({},Qv,{dataTransfer:0}),rN=_a(tN),nN=Qr({},cm,{relatedTarget:0}),s1=_a(nN),iN=Qr({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),aN=_a(iN),oN=Qr({},fh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sN=_a(oN),lN=Qr({},fh,{data:0}),cC=_a(lN),cN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dN[e])?!!t[e]:!1}function r2(){return hN}var fN=Qr({},cm,{key:function(e){if(e.key){var t=cN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r2,charCode:function(e){return e.type==="keypress"?Sy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pN=_a(fN),mN=Qr({},Qv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uC=_a(mN),gN=Qr({},cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r2}),yN=_a(gN),vN=Qr({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),xN=_a(vN),_N=Qr({},Qv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bN=_a(_N),wN=[9,13,27,32],n2=vs&&"CompositionEvent"in window,fp=null;vs&&"documentMode"in document&&(fp=document.documentMode);var SN=vs&&"TextEvent"in window&&!fp,kM=vs&&(!n2||fp&&8<fp&&11>=fp),dC=" ",hC=!1;function AM(e,t){switch(e){case"keyup":return wN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yd=!1;function PN(e,t){switch(e){case"compositionend":return IM(t);case"keypress":return t.which!==32?null:(hC=!0,dC);case"textInput":return e=t.data,e===dC&&hC?null:e;default:return null}}function TN(e,t){if(yd)return e==="compositionend"||!n2&&AM(e,t)?(e=EM(),wy=e2=gl=null,yd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kM&&t.locale!=="ko"?null:t.data;default:return null}}var CN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CN[e.type]:t==="textarea"}function MM(e,t,r,n){lM(n),t=Xy(t,"onChange"),0<t.length&&(r=new t2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pp=null,Lp=null;function EN(e){VM(e,0)}function e0(e){var t=_d(e);if(tM(t))return e}function kN(e,t){if(e==="change")return t}var DM=!1;if(vs){var l1;if(vs){var c1="oninput"in document;if(!c1){var pC=document.createElement("div");pC.setAttribute("oninput","return;"),c1=typeof pC.oninput=="function"}l1=c1}else l1=!1;DM=l1&&(!document.documentMode||9<document.documentMode)}function mC(){pp&&(pp.detachEvent("onpropertychange",$M),Lp=pp=null)}function $M(e){if(e.propertyName==="value"&&e0(Lp)){var t=[];MM(t,Lp,e,qw(e)),hM(EN,t)}}function AN(e,t,r){e==="focusin"?(mC(),pp=t,Lp=r,pp.attachEvent("onpropertychange",$M)):e==="focusout"&&mC()}function IN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return e0(Lp)}function MN(e,t){if(e==="click")return e0(t)}function DN(e,t){if(e==="input"||e==="change")return e0(t)}function $N(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:$N;function zp(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!k_.call(t,s)||!lo(e[s],t[s]))return!1}return!0}function gC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yC(e,t){var r=gC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gC(r)}}function RM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function LM(){for(var e=window,t=Ky();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ky(e.document)}return t}function i2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RN(e){var t=LM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&RM(r.ownerDocument.documentElement,r)){if(n!==null&&i2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,h=Math.min(n.start,s);n=n.end===void 0?h:Math.min(n.end,s),!e.extend&&h>n&&(s=n,n=h,h=s),s=yC(r,h);var d=yC(r,n);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),h>n?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LN=vs&&"documentMode"in document&&11>=document.documentMode,vd=null,G_=null,mp=null,Z_=!1;function vC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Z_||vd==null||vd!==Ky(n)||(n=vd,"selectionStart"in n&&i2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mp&&zp(mp,n)||(mp=n,n=Xy(G_,"onSelect"),0<n.length&&(t=new t2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vd)))}function Og(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xd={animationend:Og("Animation","AnimationEnd"),animationiteration:Og("Animation","AnimationIteration"),animationstart:Og("Animation","AnimationStart"),transitionend:Og("Transition","TransitionEnd")},u1={},zM={};vs&&(zM=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function t0(e){if(u1[e])return u1[e];if(!xd[e])return e;var t=xd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zM)return u1[e]=t[r];return e}var FM=t0("animationend"),BM=t0("animationiteration"),NM=t0("animationstart"),OM=t0("transitionend"),jM=new Map,xC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nl(e,t){jM.set(e,t),eu(t,[e])}for(var d1=0;d1<xC.length;d1++){var h1=xC[d1],zN=h1.toLowerCase(),FN=h1[0].toUpperCase()+h1.slice(1);Nl(zN,"on"+FN)}Nl(FM,"onAnimationEnd");Nl(BM,"onAnimationIteration");Nl(NM,"onAnimationStart");Nl("dblclick","onDoubleClick");Nl("focusin","onFocus");Nl("focusout","onBlur");Nl(OM,"onTransitionEnd");Yd("onMouseEnter",["mouseout","mouseover"]);Yd("onMouseLeave",["mouseout","mouseover"]);Yd("onPointerEnter",["pointerout","pointerover"]);Yd("onPointerLeave",["pointerout","pointerover"]);eu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eu("onBeforeInput",["compositionend","keypress","textInput","paste"]);eu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BN=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function _C(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zB(n,t,void 0,e),e.currentTarget=null}function VM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var h=void 0;if(t)for(var d=n.length-1;0<=d;d--){var c=n[d],v=c.instance,w=c.currentTarget;if(c=c.listener,v!==h&&s.isPropagationStopped())break e;_C(s,c,w),h=v}else for(d=0;d<n.length;d++){if(c=n[d],v=c.instance,w=c.currentTarget,c=c.listener,v!==h&&s.isPropagationStopped())break e;_C(s,c,w),h=v}}}if(Wy)throw e=U_,Wy=!1,U_=null,e}function Nr(e,t){var r=t[Q_];r===void 0&&(r=t[Q_]=new Set);var n=e+"__bubble";r.has(n)||(UM(t,e,2,!1),r.add(n))}function f1(e,t,r){var n=0;t&&(n|=4),UM(r,e,n,t)}var jg="_reactListening"+Math.random().toString(36).slice(2);function Fp(e){if(!e[jg]){e[jg]=!0,YI.forEach(function(r){r!=="selectionchange"&&(BN.has(r)||f1(r,!1,e),f1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jg]||(t[jg]=!0,f1("selectionchange",!1,t))}}function UM(e,t,r,n){switch(CM(t)){case 1:var s=JB;break;case 4:s=QB;break;default:s=Qw}r=s.bind(null,t,r,e),s=void 0,!V_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function p1(e,t,r,n,s){var h=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(d===4)for(d=n.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;d=d.return}for(;c!==null;){if(d=kc(c),d===null)return;if(v=d.tag,v===5||v===6){n=h=d;continue e}c=c.parentNode}}n=n.return}hM(function(){var w=h,S=qw(r),T=[];e:{var C=jM.get(e);if(C!==void 0){var D=t2,B=e;switch(e){case"keypress":if(Sy(r)===0)break e;case"keydown":case"keyup":D=pN;break;case"focusin":B="focus",D=s1;break;case"focusout":B="blur",D=s1;break;case"beforeblur":case"afterblur":D=s1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=lC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=rN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=yN;break;case FM:case BM:case NM:D=aN;break;case OM:D=xN;break;case"scroll":D=eN;break;case"wheel":D=bN;break;case"copy":case"cut":case"paste":D=sN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=uC}var V=(t&4)!==0,Y=!V&&e==="scroll",U=V?C!==null?C+"Capture":null:C;V=[];for(var F=w,O;F!==null;){O=F;var ee=O.stateNode;if(O.tag===5&&ee!==null&&(O=ee,U!==null&&(ee=Mp(F,U),ee!=null&&V.push(Bp(F,ee,O)))),Y)break;F=F.return}0<V.length&&(C=new D(C,B,null,r,S),T.push({event:C,listeners:V}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&r!==O_&&(B=r.relatedTarget||r.fromElement)&&(kc(B)||B[xs]))break e;if((D||C)&&(C=S.window===S?S:(C=S.ownerDocument)?C.defaultView||C.parentWindow:window,D?(B=r.relatedTarget||r.toElement,D=w,B=B?kc(B):null,B!==null&&(Y=tu(B),B!==Y||B.tag!==5&&B.tag!==6)&&(B=null)):(D=null,B=w),D!==B)){if(V=lC,ee="onMouseLeave",U="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(V=uC,ee="onPointerLeave",U="onPointerEnter",F="pointer"),Y=D==null?C:_d(D),O=B==null?C:_d(B),C=new V(ee,F+"leave",D,r,S),C.target=Y,C.relatedTarget=O,ee=null,kc(S)===w&&(V=new V(U,F+"enter",B,r,S),V.target=O,V.relatedTarget=Y,ee=V),Y=ee,D&&B)t:{for(V=D,U=B,F=0,O=V;O;O=nd(O))F++;for(O=0,ee=U;ee;ee=nd(ee))O++;for(;0<F-O;)V=nd(V),F--;for(;0<O-F;)U=nd(U),O--;for(;F--;){if(V===U||U!==null&&V===U.alternate)break t;V=nd(V),U=nd(U)}V=null}else V=null;D!==null&&bC(T,C,D,V,!1),B!==null&&Y!==null&&bC(T,Y,B,V,!0)}}e:{if(C=w?_d(w):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var ie=kN;else if(fC(C))if(DM)ie=DN;else{ie=IN;var fe=AN}else(D=C.nodeName)&&D.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(ie=MN);if(ie&&(ie=ie(e,w))){MM(T,ie,r,S);break e}fe&&fe(e,C,w),e==="focusout"&&(fe=C._wrapperState)&&fe.controlled&&C.type==="number"&&L_(C,"number",C.value)}switch(fe=w?_d(w):window,e){case"focusin":(fC(fe)||fe.contentEditable==="true")&&(vd=fe,G_=w,mp=null);break;case"focusout":mp=G_=vd=null;break;case"mousedown":Z_=!0;break;case"contextmenu":case"mouseup":case"dragend":Z_=!1,vC(T,r,S);break;case"selectionchange":if(LN)break;case"keydown":case"keyup":vC(T,r,S)}var we;if(n2)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else yd?AM(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(kM&&r.locale!=="ko"&&(yd||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&yd&&(we=EM()):(gl=S,e2="value"in gl?gl.value:gl.textContent,yd=!0)),fe=Xy(w,Z),0<fe.length&&(Z=new cC(Z,e,null,r,S),T.push({event:Z,listeners:fe}),we?Z.data=we:(we=IM(r),we!==null&&(Z.data=we)))),(we=SN?PN(e,r):TN(e,r))&&(w=Xy(w,"onBeforeInput"),0<w.length&&(S=new cC("onBeforeInput","beforeinput",null,r,S),T.push({event:S,listeners:w}),S.data=we))}VM(T,t)})}function Bp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Xy(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,h=s.stateNode;s.tag===5&&h!==null&&(s=h,h=Mp(e,r),h!=null&&n.unshift(Bp(e,h,s)),h=Mp(e,t),h!=null&&n.push(Bp(e,h,s))),e=e.return}return n}function nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,r,n,s){for(var h=t._reactName,d=[];r!==null&&r!==n;){var c=r,v=c.alternate,w=c.stateNode;if(v!==null&&v===n)break;c.tag===5&&w!==null&&(c=w,s?(v=Mp(r,h),v!=null&&d.unshift(Bp(r,v,c))):s||(v=Mp(r,h),v!=null&&d.push(Bp(r,v,c)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var NN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function wC(e){return(typeof e=="string"?e:""+e).replace(NN,`
`).replace(ON,"")}function Vg(e,t,r){if(t=wC(t),wC(e)!==t&&r)throw Error(tt(425))}function Jy(){}var q_=null,Y_=null;function X_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J_=typeof setTimeout=="function"?setTimeout:void 0,jN=typeof clearTimeout=="function"?clearTimeout:void 0,SC=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof SC<"u"?function(e){return SC.resolve(null).then(e).catch(UN)}:J_;function UN(e){setTimeout(function(){throw e})}function m1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Rp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rp(t)}function Pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function PC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ph=Math.random().toString(36).slice(2),Eo="__reactFiber$"+ph,Np="__reactProps$"+ph,xs="__reactContainer$"+ph,Q_="__reactEvents$"+ph,KN="__reactListeners$"+ph,HN="__reactHandles$"+ph;function kc(e){var t=e[Eo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xs]||r[Eo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=PC(e);e!==null;){if(r=e[Eo])return r;e=PC(e)}return t}e=r,r=e.parentNode}return null}function um(e){return e=e[Eo]||e[xs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _d(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function r0(e){return e[Np]||null}var eb=[],bd=-1;function Ol(e){return{current:e}}function jr(e){0>bd||(e.current=eb[bd],eb[bd]=null,bd--)}function Rr(e,t){bd++,eb[bd]=e.current,e.current=t}var Rl={},bi=Ol(Rl),Gi=Ol(!1),Kc=Rl;function Xd(e,t){var r=e.type.contextTypes;if(!r)return Rl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},h;for(h in r)s[h]=t[h];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Zi(e){return e=e.childContextTypes,e!=null}function Qy(){jr(Gi),jr(bi)}function TC(e,t,r){if(bi.current!==Rl)throw Error(tt(168));Rr(bi,t),Rr(Gi,r)}function KM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(tt(108,AB(e)||"Unknown",s));return Qr({},r,n)}function ev(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rl,Kc=bi.current,Rr(bi,e),Rr(Gi,Gi.current),!0}function CC(e,t,r){var n=e.stateNode;if(!n)throw Error(tt(169));r?(e=KM(e,t,Kc),n.__reactInternalMemoizedMergedChildContext=e,jr(Gi),jr(bi),Rr(bi,e)):jr(Gi),Rr(Gi,r)}var is=null,n0=!1,g1=!1;function HM(e){is===null?is=[e]:is.push(e)}function WN(e){n0=!0,HM(e)}function jl(){if(!g1&&is!==null){g1=!0;var e=0,t=_r;try{var r=is;for(_r=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}is=null,n0=!1}catch(s){throw is!==null&&(is=is.slice(e+1)),gM(Yw,jl),s}finally{_r=t,g1=!1}}return null}var wd=[],Sd=0,tv=null,rv=0,$a=[],Ra=0,Hc=null,os=1,ss="";function _c(e,t){wd[Sd++]=rv,wd[Sd++]=tv,tv=e,rv=t}function WM(e,t,r){$a[Ra++]=os,$a[Ra++]=ss,$a[Ra++]=Hc,Hc=e;var n=os;e=ss;var s=32-ao(n)-1;n&=~(1<<s),r+=1;var h=32-ao(t)+s;if(30<h){var d=s-s%5;h=(n&(1<<d)-1).toString(32),n>>=d,s-=d,os=1<<32-ao(t)+s|r<<s|n,ss=h+e}else os=1<<h|r<<s|n,ss=e}function a2(e){e.return!==null&&(_c(e,1),WM(e,1,0))}function o2(e){for(;e===tv;)tv=wd[--Sd],wd[Sd]=null,rv=wd[--Sd],wd[Sd]=null;for(;e===Hc;)Hc=$a[--Ra],$a[Ra]=null,ss=$a[--Ra],$a[Ra]=null,os=$a[--Ra],$a[Ra]=null}var pa=null,fa=null,Gr=!1,ro=null;function GM(e,t){var r=za(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function EC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pa=e,fa=Pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pa=e,fa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hc!==null?{id:os,overflow:ss}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=za(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pa=e,fa=null,!0):!1;default:return!1}}function tb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rb(e){if(Gr){var t=fa;if(t){var r=t;if(!EC(e,t)){if(tb(e))throw Error(tt(418));t=Pl(r.nextSibling);var n=pa;t&&EC(e,t)?GM(n,r):(e.flags=e.flags&-4097|2,Gr=!1,pa=e)}}else{if(tb(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Gr=!1,pa=e}}}function kC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pa=e}function Ug(e){if(e!==pa)return!1;if(!Gr)return kC(e),Gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!X_(e.type,e.memoizedProps)),t&&(t=fa)){if(tb(e))throw ZM(),Error(tt(418));for(;t;)GM(e,t),t=Pl(t.nextSibling)}if(kC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fa=Pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fa=null}}else fa=pa?Pl(e.stateNode.nextSibling):null;return!0}function ZM(){for(var e=fa;e;)e=Pl(e.nextSibling)}function Jd(){fa=pa=null,Gr=!1}function s2(e){ro===null?ro=[e]:ro.push(e)}var GN=Cs.ReactCurrentBatchConfig;function jf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,e));var s=n,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(d){var c=s.refs;d===null?delete c[h]:c[h]=d},t._stringRef=h,t)}if(typeof e!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,e))}return e}function Kg(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function AC(e){var t=e._init;return t(e._payload)}function qM(e){function t(U,F){if(e){var O=U.deletions;O===null?(U.deletions=[F],U.flags|=16):O.push(F)}}function r(U,F){if(!e)return null;for(;F!==null;)t(U,F),F=F.sibling;return null}function n(U,F){for(U=new Map;F!==null;)F.key!==null?U.set(F.key,F):U.set(F.index,F),F=F.sibling;return U}function s(U,F){return U=kl(U,F),U.index=0,U.sibling=null,U}function h(U,F,O){return U.index=O,e?(O=U.alternate,O!==null?(O=O.index,O<F?(U.flags|=2,F):O):(U.flags|=2,F)):(U.flags|=1048576,F)}function d(U){return e&&U.alternate===null&&(U.flags|=2),U}function c(U,F,O,ee){return F===null||F.tag!==6?(F=S1(O,U.mode,ee),F.return=U,F):(F=s(F,O),F.return=U,F)}function v(U,F,O,ee){var ie=O.type;return ie===gd?S(U,F,O.props.children,ee,O.key):F!==null&&(F.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===cl&&AC(ie)===F.type)?(ee=s(F,O.props),ee.ref=jf(U,F,O),ee.return=U,ee):(ee=Iy(O.type,O.key,O.props,null,U.mode,ee),ee.ref=jf(U,F,O),ee.return=U,ee)}function w(U,F,O,ee){return F===null||F.tag!==4||F.stateNode.containerInfo!==O.containerInfo||F.stateNode.implementation!==O.implementation?(F=P1(O,U.mode,ee),F.return=U,F):(F=s(F,O.children||[]),F.return=U,F)}function S(U,F,O,ee,ie){return F===null||F.tag!==7?(F=Nc(O,U.mode,ee,ie),F.return=U,F):(F=s(F,O),F.return=U,F)}function T(U,F,O){if(typeof F=="string"&&F!==""||typeof F=="number")return F=S1(""+F,U.mode,O),F.return=U,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $g:return O=Iy(F.type,F.key,F.props,null,U.mode,O),O.ref=jf(U,null,F),O.return=U,O;case md:return F=P1(F,U.mode,O),F.return=U,F;case cl:var ee=F._init;return T(U,ee(F._payload),O)}if(tp(F)||zf(F))return F=Nc(F,U.mode,O,null),F.return=U,F;Kg(U,F)}return null}function C(U,F,O,ee){var ie=F!==null?F.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ie!==null?null:c(U,F,""+O,ee);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case $g:return O.key===ie?v(U,F,O,ee):null;case md:return O.key===ie?w(U,F,O,ee):null;case cl:return ie=O._init,C(U,F,ie(O._payload),ee)}if(tp(O)||zf(O))return ie!==null?null:S(U,F,O,ee,null);Kg(U,O)}return null}function D(U,F,O,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return U=U.get(O)||null,c(F,U,""+ee,ie);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case $g:return U=U.get(ee.key===null?O:ee.key)||null,v(F,U,ee,ie);case md:return U=U.get(ee.key===null?O:ee.key)||null,w(F,U,ee,ie);case cl:var fe=ee._init;return D(U,F,O,fe(ee._payload),ie)}if(tp(ee)||zf(ee))return U=U.get(O)||null,S(F,U,ee,ie,null);Kg(F,ee)}return null}function B(U,F,O,ee){for(var ie=null,fe=null,we=F,Z=F=0,me=null;we!==null&&Z<O.length;Z++){we.index>Z?(me=we,we=null):me=we.sibling;var xe=C(U,we,O[Z],ee);if(xe===null){we===null&&(we=me);break}e&&we&&xe.alternate===null&&t(U,we),F=h(xe,F,Z),fe===null?ie=xe:fe.sibling=xe,fe=xe,we=me}if(Z===O.length)return r(U,we),Gr&&_c(U,Z),ie;if(we===null){for(;Z<O.length;Z++)we=T(U,O[Z],ee),we!==null&&(F=h(we,F,Z),fe===null?ie=we:fe.sibling=we,fe=we);return Gr&&_c(U,Z),ie}for(we=n(U,we);Z<O.length;Z++)me=D(we,U,Z,O[Z],ee),me!==null&&(e&&me.alternate!==null&&we.delete(me.key===null?Z:me.key),F=h(me,F,Z),fe===null?ie=me:fe.sibling=me,fe=me);return e&&we.forEach(function(se){return t(U,se)}),Gr&&_c(U,Z),ie}function V(U,F,O,ee){var ie=zf(O);if(typeof ie!="function")throw Error(tt(150));if(O=ie.call(O),O==null)throw Error(tt(151));for(var fe=ie=null,we=F,Z=F=0,me=null,xe=O.next();we!==null&&!xe.done;Z++,xe=O.next()){we.index>Z?(me=we,we=null):me=we.sibling;var se=C(U,we,xe.value,ee);if(se===null){we===null&&(we=me);break}e&&we&&se.alternate===null&&t(U,we),F=h(se,F,Z),fe===null?ie=se:fe.sibling=se,fe=se,we=me}if(xe.done)return r(U,we),Gr&&_c(U,Z),ie;if(we===null){for(;!xe.done;Z++,xe=O.next())xe=T(U,xe.value,ee),xe!==null&&(F=h(xe,F,Z),fe===null?ie=xe:fe.sibling=xe,fe=xe);return Gr&&_c(U,Z),ie}for(we=n(U,we);!xe.done;Z++,xe=O.next())xe=D(we,U,Z,xe.value,ee),xe!==null&&(e&&xe.alternate!==null&&we.delete(xe.key===null?Z:xe.key),F=h(xe,F,Z),fe===null?ie=xe:fe.sibling=xe,fe=xe);return e&&we.forEach(function(Te){return t(U,Te)}),Gr&&_c(U,Z),ie}function Y(U,F,O,ee){if(typeof O=="object"&&O!==null&&O.type===gd&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case $g:e:{for(var ie=O.key,fe=F;fe!==null;){if(fe.key===ie){if(ie=O.type,ie===gd){if(fe.tag===7){r(U,fe.sibling),F=s(fe,O.props.children),F.return=U,U=F;break e}}else if(fe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===cl&&AC(ie)===fe.type){r(U,fe.sibling),F=s(fe,O.props),F.ref=jf(U,fe,O),F.return=U,U=F;break e}r(U,fe);break}else t(U,fe);fe=fe.sibling}O.type===gd?(F=Nc(O.props.children,U.mode,ee,O.key),F.return=U,U=F):(ee=Iy(O.type,O.key,O.props,null,U.mode,ee),ee.ref=jf(U,F,O),ee.return=U,U=ee)}return d(U);case md:e:{for(fe=O.key;F!==null;){if(F.key===fe)if(F.tag===4&&F.stateNode.containerInfo===O.containerInfo&&F.stateNode.implementation===O.implementation){r(U,F.sibling),F=s(F,O.children||[]),F.return=U,U=F;break e}else{r(U,F);break}else t(U,F);F=F.sibling}F=P1(O,U.mode,ee),F.return=U,U=F}return d(U);case cl:return fe=O._init,Y(U,F,fe(O._payload),ee)}if(tp(O))return B(U,F,O,ee);if(zf(O))return V(U,F,O,ee);Kg(U,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,F!==null&&F.tag===6?(r(U,F.sibling),F=s(F,O),F.return=U,U=F):(r(U,F),F=S1(O,U.mode,ee),F.return=U,U=F),d(U)):r(U,F)}return Y}var Qd=qM(!0),YM=qM(!1),nv=Ol(null),iv=null,Pd=null,l2=null;function c2(){l2=Pd=iv=null}function u2(e){var t=nv.current;jr(nv),e._currentValue=t}function nb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bd(e,t){iv=e,l2=Pd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wi=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(l2!==e)if(e={context:e,memoizedValue:t,next:null},Pd===null){if(iv===null)throw Error(tt(308));Pd=e,iv.dependencies={lanes:0,firstContext:e}}else Pd=Pd.next=e;return t}var Ac=null;function d2(e){Ac===null?Ac=[e]:Ac.push(e)}function XM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,d2(t)):(r.next=s.next,s.next=r),t.interleaved=r,_s(e,n)}function _s(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ul=!1;function h2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_s(e,r)}return s=n.interleaved,s===null?(t.next=t,d2(n)):(t.next=s.next,s.next=t),n.interleaved=t,_s(e,r)}function Py(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xw(e,r)}}function IC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?s=h=d:h=h.next=d,r=r.next}while(r!==null);h===null?s=h=t:h=h.next=t}else s=h=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:h,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function av(e,t,r,n){var s=e.updateQueue;ul=!1;var h=s.firstBaseUpdate,d=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var v=c,w=v.next;v.next=null,d===null?h=w:d.next=w,d=v;var S=e.alternate;S!==null&&(S=S.updateQueue,c=S.lastBaseUpdate,c!==d&&(c===null?S.firstBaseUpdate=w:c.next=w,S.lastBaseUpdate=v))}if(h!==null){var T=s.baseState;d=0,S=w=v=null,c=h;do{var C=c.lane,D=c.eventTime;if((n&C)===C){S!==null&&(S=S.next={eventTime:D,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var B=e,V=c;switch(C=t,D=r,V.tag){case 1:if(B=V.payload,typeof B=="function"){T=B.call(D,T,C);break e}T=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=V.payload,C=typeof B=="function"?B.call(D,T,C):B,C==null)break e;T=Qr({},T,C);break e;case 2:ul=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,C=s.effects,C===null?s.effects=[c]:C.push(c))}else D={eventTime:D,lane:C,tag:c.tag,payload:c.payload,callback:c.callback,next:null},S===null?(w=S=D,v=T):S=S.next=D,d|=C;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;C=c,c=C.next,C.next=null,s.lastBaseUpdate=C,s.shared.pending=null}}while(!0);if(S===null&&(v=T),s.baseState=v,s.firstBaseUpdate=w,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else h===null&&(s.shared.lanes=0);Gc|=d,e.lanes=d,e.memoizedState=T}}function MC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(tt(191,s));s.call(n)}}}var dm={},Do=Ol(dm),Op=Ol(dm),jp=Ol(dm);function Ic(e){if(e===dm)throw Error(tt(174));return e}function f2(e,t){switch(Rr(jp,t),Rr(Op,e),Rr(Do,dm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:F_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=F_(t,e)}jr(Do),Rr(Do,t)}function eh(){jr(Do),jr(Op),jr(jp)}function QM(e){Ic(jp.current);var t=Ic(Do.current),r=F_(t,e.type);t!==r&&(Rr(Op,e),Rr(Do,r))}function p2(e){Op.current===e&&(jr(Do),jr(Op))}var Yr=Ol(0);function ov(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var y1=[];function m2(){for(var e=0;e<y1.length;e++)y1[e]._workInProgressVersionPrimary=null;y1.length=0}var Ty=Cs.ReactCurrentDispatcher,v1=Cs.ReactCurrentBatchConfig,Wc=0,Jr=null,Tn=null,On=null,sv=!1,gp=!1,Vp=0,ZN=0;function fi(){throw Error(tt(321))}function g2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!lo(e[r],t[r]))return!1;return!0}function y2(e,t,r,n,s,h){if(Wc=h,Jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ty.current=e===null||e.memoizedState===null?JN:QN,e=r(n,s),gp){h=0;do{if(gp=!1,Vp=0,25<=h)throw Error(tt(301));h+=1,On=Tn=null,t.updateQueue=null,Ty.current=eO,e=r(n,s)}while(gp)}if(Ty.current=lv,t=Tn!==null&&Tn.next!==null,Wc=0,On=Tn=Jr=null,sv=!1,t)throw Error(tt(300));return e}function v2(){var e=Vp!==0;return Vp=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Jr.memoizedState=On=e:On=On.next=e,On}function Na(){if(Tn===null){var e=Jr.alternate;e=e!==null?e.memoizedState:null}else e=Tn.next;var t=On===null?Jr.memoizedState:On.next;if(t!==null)On=t,Tn=e;else{if(e===null)throw Error(tt(310));Tn=e,e={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},On===null?Jr.memoizedState=On=e:On=On.next=e}return On}function Up(e,t){return typeof t=="function"?t(e):t}function x1(e){var t=Na(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=Tn,s=n.baseQueue,h=r.pending;if(h!==null){if(s!==null){var d=s.next;s.next=h.next,h.next=d}n.baseQueue=s=h,r.pending=null}if(s!==null){h=s.next,n=n.baseState;var c=d=null,v=null,w=h;do{var S=w.lane;if((Wc&S)===S)v!==null&&(v=v.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),n=w.hasEagerState?w.eagerState:e(n,w.action);else{var T={lane:S,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};v===null?(c=v=T,d=n):v=v.next=T,Jr.lanes|=S,Gc|=S}w=w.next}while(w!==null&&w!==h);v===null?d=n:v.next=c,lo(n,t.memoizedState)||(Wi=!0),t.memoizedState=n,t.baseState=d,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do h=s.lane,Jr.lanes|=h,Gc|=h,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _1(e){var t=Na(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,h=t.memoizedState;if(s!==null){r.pending=null;var d=s=s.next;do h=e(h,d.action),d=d.next;while(d!==s);lo(h,t.memoizedState)||(Wi=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,n]}function e5(){}function t5(e,t){var r=Jr,n=Na(),s=t(),h=!lo(n.memoizedState,s);if(h&&(n.memoizedState=s,Wi=!0),n=n.queue,x2(i5.bind(null,r,n,e),[e]),n.getSnapshot!==t||h||On!==null&&On.memoizedState.tag&1){if(r.flags|=2048,Kp(9,n5.bind(null,r,n,s,t),void 0,null),jn===null)throw Error(tt(349));Wc&30||r5(r,t,s)}return s}function r5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jr.updateQueue,t===null?(t={lastEffect:null,stores:null},Jr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function n5(e,t,r,n){t.value=r,t.getSnapshot=n,a5(t)&&o5(e)}function i5(e,t,r){return r(function(){a5(t)&&o5(e)})}function a5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!lo(e,r)}catch{return!0}}function o5(e){var t=_s(e,1);t!==null&&oo(t,e,1,-1)}function DC(e){var t=Co();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:e},t.queue=e,e=e.dispatch=XN.bind(null,Jr,e),[t.memoizedState,e]}function Kp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jr.updateQueue,t===null?(t={lastEffect:null,stores:null},Jr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s5(){return Na().memoizedState}function Cy(e,t,r,n){var s=Co();Jr.flags|=e,s.memoizedState=Kp(1|t,r,void 0,n===void 0?null:n)}function i0(e,t,r,n){var s=Na();n=n===void 0?null:n;var h=void 0;if(Tn!==null){var d=Tn.memoizedState;if(h=d.destroy,n!==null&&g2(n,d.deps)){s.memoizedState=Kp(t,r,h,n);return}}Jr.flags|=e,s.memoizedState=Kp(1|t,r,h,n)}function $C(e,t){return Cy(8390656,8,e,t)}function x2(e,t){return i0(2048,8,e,t)}function l5(e,t){return i0(4,2,e,t)}function c5(e,t){return i0(4,4,e,t)}function u5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d5(e,t,r){return r=r!=null?r.concat([e]):null,i0(4,4,u5.bind(null,t,e),r)}function _2(){}function h5(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&g2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f5(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&g2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function p5(e,t,r){return Wc&21?(lo(r,t)||(r=xM(),Jr.lanes|=r,Gc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wi=!0),e.memoizedState=r)}function qN(e,t){var r=_r;_r=r!==0&&4>r?r:4,e(!0);var n=v1.transition;v1.transition={};try{e(!1),t()}finally{_r=r,v1.transition=n}}function m5(){return Na().memoizedState}function YN(e,t,r){var n=El(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},g5(e))y5(t,r);else if(r=XM(e,t,r,n),r!==null){var s=Ri();oo(r,e,n,s),v5(r,t,n)}}function XN(e,t,r){var n=El(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(g5(e))y5(t,s);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var d=t.lastRenderedState,c=h(d,r);if(s.hasEagerState=!0,s.eagerState=c,lo(c,d)){var v=t.interleaved;v===null?(s.next=s,d2(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=XM(e,t,s,n),r!==null&&(s=Ri(),oo(r,e,n,s),v5(r,t,n))}}function g5(e){var t=e.alternate;return e===Jr||t!==null&&t===Jr}function y5(e,t){gp=sv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xw(e,r)}}var lv={readContext:Ba,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},JN={readContext:Ba,useCallback:function(e,t){return Co().memoizedState=[e,t===void 0?null:t],e},useContext:Ba,useEffect:$C,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cy(4194308,4,u5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cy(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cy(4,2,e,t)},useMemo:function(e,t){var r=Co();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Co();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YN.bind(null,Jr,e),[n.memoizedState,e]},useRef:function(e){var t=Co();return e={current:e},t.memoizedState=e},useState:DC,useDebugValue:_2,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=DC(!1),t=e[0];return e=qN.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jr,s=Co();if(Gr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=t(),jn===null)throw Error(tt(349));Wc&30||r5(n,t,r)}s.memoizedState=r;var h={value:r,getSnapshot:t};return s.queue=h,$C(i5.bind(null,n,h,e),[e]),n.flags|=2048,Kp(9,n5.bind(null,n,h,r,t),void 0,null),r},useId:function(){var e=Co(),t=jn.identifierPrefix;if(Gr){var r=ss,n=os;r=(n&~(1<<32-ao(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ZN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QN={readContext:Ba,useCallback:h5,useContext:Ba,useEffect:x2,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:f5,useReducer:x1,useRef:s5,useState:function(){return x1(Up)},useDebugValue:_2,useDeferredValue:function(e){var t=Na();return p5(t,Tn.memoizedState,e)},useTransition:function(){var e=x1(Up)[0],t=Na().memoizedState;return[e,t]},useMutableSource:e5,useSyncExternalStore:t5,useId:m5,unstable_isNewReconciler:!1},eO={readContext:Ba,useCallback:h5,useContext:Ba,useEffect:x2,useImperativeHandle:d5,useInsertionEffect:l5,useLayoutEffect:c5,useMemo:f5,useReducer:_1,useRef:s5,useState:function(){return _1(Up)},useDebugValue:_2,useDeferredValue:function(e){var t=Na();return Tn===null?t.memoizedState=e:p5(t,Tn.memoizedState,e)},useTransition:function(){var e=_1(Up)[0],t=Na().memoizedState;return[e,t]},useMutableSource:e5,useSyncExternalStore:t5,useId:m5,unstable_isNewReconciler:!1};function Qa(e,t){if(e&&e.defaultProps){t=Qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ib(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var a0={isMounted:function(e){return(e=e._reactInternals)?tu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ri(),s=El(e),h=fs(n,s);h.payload=t,r!=null&&(h.callback=r),t=Tl(e,h,s),t!==null&&(oo(t,e,s,n),Py(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ri(),s=El(e),h=fs(n,s);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=Tl(e,h,s),t!==null&&(oo(t,e,s,n),Py(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ri(),n=El(e),s=fs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Tl(e,s,n),t!==null&&(oo(t,e,n,r),Py(t,e,n))}};function RC(e,t,r,n,s,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,h,d):t.prototype&&t.prototype.isPureReactComponent?!zp(r,n)||!zp(s,h):!0}function x5(e,t,r){var n=!1,s=Rl,h=t.contextType;return typeof h=="object"&&h!==null?h=Ba(h):(s=Zi(t)?Kc:bi.current,n=t.contextTypes,h=(n=n!=null)?Xd(e,s):Rl),t=new t(r,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),t}function LC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&a0.enqueueReplaceState(t,t.state,null)}function ab(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},h2(e);var h=t.contextType;typeof h=="object"&&h!==null?s.context=Ba(h):(h=Zi(t)?Kc:bi.current,s.context=Xd(e,h)),s.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(ib(e,t,h,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&a0.enqueueReplaceState(s,s.state,null),av(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function th(e,t){try{var r="",n=t;do r+=kB(n),n=n.return;while(n);var s=r}catch(h){s=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:s,digest:null}}function b1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ob(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var tO=typeof WeakMap=="function"?WeakMap:Map;function _5(e,t,r){r=fs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){uv||(uv=!0,gb=n),ob(e,t)},r}function b5(e,t,r){r=fs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ob(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){ob(e,t),typeof n!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function zC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=mO.bind(null,e,t,r),t.then(e,e))}function FC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fs(-1,1),t.tag=2,Tl(r,t,1))),r.lanes|=1),e)}var rO=Cs.ReactCurrentOwner,Wi=!1;function Di(e,t,r,n){t.child=e===null?YM(t,null,r,n):Qd(t,e.child,r,n)}function NC(e,t,r,n,s){r=r.render;var h=t.ref;return Bd(t,s),n=y2(e,t,r,n,h,s),r=v2(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bs(e,t,s)):(Gr&&r&&a2(t),t.flags|=1,Di(e,t,n,s),t.child)}function OC(e,t,r,n,s){if(e===null){var h=r.type;return typeof h=="function"&&!k2(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,w5(e,t,h,n,s)):(e=Iy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&s)){var d=h.memoizedProps;if(r=r.compare,r=r!==null?r:zp,r(d,n)&&e.ref===t.ref)return bs(e,t,s)}return t.flags|=1,e=kl(h,n),e.ref=t.ref,e.return=t,t.child=e}function w5(e,t,r,n,s){if(e!==null){var h=e.memoizedProps;if(zp(h,n)&&e.ref===t.ref)if(Wi=!1,t.pendingProps=n=h,(e.lanes&s)!==0)e.flags&131072&&(Wi=!0);else return t.lanes=e.lanes,bs(e,t,s)}return sb(e,t,r,n,s)}function S5(e,t,r){var n=t.pendingProps,s=n.children,h=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(Cd,ua),ua|=r;else{if(!(r&1073741824))return e=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(Cd,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=h!==null?h.baseLanes:r,Rr(Cd,ua),ua|=n}else h!==null?(n=h.baseLanes|r,t.memoizedState=null):n=r,Rr(Cd,ua),ua|=n;return Di(e,t,s,r),t.child}function P5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sb(e,t,r,n,s){var h=Zi(r)?Kc:bi.current;return h=Xd(t,h),Bd(t,s),r=y2(e,t,r,n,h,s),n=v2(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,bs(e,t,s)):(Gr&&n&&a2(t),t.flags|=1,Di(e,t,r,s),t.child)}function jC(e,t,r,n,s){if(Zi(r)){var h=!0;ev(t)}else h=!1;if(Bd(t,s),t.stateNode===null)Ey(e,t),x5(t,r,n),ab(t,r,n,s),n=!0;else if(e===null){var d=t.stateNode,c=t.memoizedProps;d.props=c;var v=d.context,w=r.contextType;typeof w=="object"&&w!==null?w=Ba(w):(w=Zi(r)?Kc:bi.current,w=Xd(t,w));var S=r.getDerivedStateFromProps,T=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function";T||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==n||v!==w)&&LC(t,d,n,w),ul=!1;var C=t.memoizedState;d.state=C,av(t,n,d,s),v=t.memoizedState,c!==n||C!==v||Gi.current||ul?(typeof S=="function"&&(ib(t,r,S,n),v=t.memoizedState),(c=ul||RC(t,r,c,n,C,v,w))?(T||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),d.props=n,d.state=v,d.context=w,n=c):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,JM(e,t),c=t.memoizedProps,w=t.type===t.elementType?c:Qa(t.type,c),d.props=w,T=t.pendingProps,C=d.context,v=r.contextType,typeof v=="object"&&v!==null?v=Ba(v):(v=Zi(r)?Kc:bi.current,v=Xd(t,v));var D=r.getDerivedStateFromProps;(S=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==T||C!==v)&&LC(t,d,n,v),ul=!1,C=t.memoizedState,d.state=C,av(t,n,d,s);var B=t.memoizedState;c!==T||C!==B||Gi.current||ul?(typeof D=="function"&&(ib(t,r,D,n),B=t.memoizedState),(w=ul||RC(t,r,w,n,C,B,v)||!1)?(S||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,B,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,B,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),d.props=n,d.state=B,d.context=v,n=w):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return lb(e,t,r,n,h,s)}function lb(e,t,r,n,s,h){P5(e,t);var d=(t.flags&128)!==0;if(!n&&!d)return s&&CC(t,r,!1),bs(e,t,h);n=t.stateNode,rO.current=t;var c=d&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&d?(t.child=Qd(t,e.child,null,h),t.child=Qd(t,null,c,h)):Di(e,t,c,h),t.memoizedState=n.state,s&&CC(t,r,!0),t.child}function T5(e){var t=e.stateNode;t.pendingContext?TC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TC(e,t.context,!1),f2(e,t.containerInfo)}function VC(e,t,r,n,s){return Jd(),s2(s),t.flags|=256,Di(e,t,r,n),t.child}var cb={dehydrated:null,treeContext:null,retryLane:0};function ub(e){return{baseLanes:e,cachePool:null,transitions:null}}function C5(e,t,r){var n=t.pendingProps,s=Yr.current,h=!1,d=(t.flags&128)!==0,c;if((c=d)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Rr(Yr,s&1),e===null)return rb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=n.children,e=n.fallback,h?(n=t.mode,h=t.child,d={mode:"hidden",children:d},!(n&1)&&h!==null?(h.childLanes=0,h.pendingProps=d):h=l0(d,n,0,null),e=Nc(e,n,r,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=ub(r),t.memoizedState=cb,e):b2(t,d));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return nO(e,t,d,n,c,s,r);if(h){h=n.fallback,d=t.mode,s=e.child,c=s.sibling;var v={mode:"hidden",children:n.children};return!(d&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=kl(s,v),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?h=kl(c,h):(h=Nc(h,d,r,null),h.flags|=2),h.return=t,n.return=t,n.sibling=h,t.child=n,n=h,h=t.child,d=e.child.memoizedState,d=d===null?ub(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},h.memoizedState=d,h.childLanes=e.childLanes&~r,t.memoizedState=cb,n}return h=e.child,e=h.sibling,n=kl(h,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function b2(e,t){return t=l0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hg(e,t,r,n){return n!==null&&s2(n),Qd(t,e.child,null,r),e=b2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nO(e,t,r,n,s,h,d){if(r)return t.flags&256?(t.flags&=-257,n=b1(Error(tt(422))),Hg(e,t,d,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=n.fallback,s=t.mode,n=l0({mode:"visible",children:n.children},s,0,null),h=Nc(h,s,d,null),h.flags|=2,n.return=t,h.return=t,n.sibling=h,t.child=n,t.mode&1&&Qd(t,e.child,null,d),t.child.memoizedState=ub(d),t.memoizedState=cb,h);if(!(t.mode&1))return Hg(e,t,d,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,h=Error(tt(419)),n=b1(h,n,void 0),Hg(e,t,d,n)}if(c=(d&e.childLanes)!==0,Wi||c){if(n=jn,n!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|d)?0:s,s!==0&&s!==h.retryLane&&(h.retryLane=s,_s(e,s),oo(n,e,s,-1))}return E2(),n=b1(Error(tt(421))),Hg(e,t,d,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=gO.bind(null,e),s._reactRetry=t,null):(e=h.treeContext,fa=Pl(s.nextSibling),pa=t,Gr=!0,ro=null,e!==null&&($a[Ra++]=os,$a[Ra++]=ss,$a[Ra++]=Hc,os=e.id,ss=e.overflow,Hc=t),t=b2(t,n.children),t.flags|=4096,t)}function UC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nb(e.return,t,r)}function w1(e,t,r,n,s){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=r,h.tailMode=s)}function E5(e,t,r){var n=t.pendingProps,s=n.revealOrder,h=n.tail;if(Di(e,t,n.children,r),n=Yr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UC(e,r,t);else if(e.tag===19)UC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rr(Yr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ov(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),w1(t,!1,s,r,h);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ov(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}w1(t,!0,r,null,h);break;case"together":w1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ey(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,r=kl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function iO(e,t,r){switch(t.tag){case 3:T5(t),Jd();break;case 5:QM(t);break;case 1:Zi(t.type)&&ev(t);break;case 4:f2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Rr(nv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rr(Yr,Yr.current&1),t.flags|=128,null):r&t.child.childLanes?C5(e,t,r):(Rr(Yr,Yr.current&1),e=bs(e,t,r),e!==null?e.sibling:null);Rr(Yr,Yr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return E5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rr(Yr,Yr.current),n)break;return null;case 22:case 23:return t.lanes=0,S5(e,t,r)}return bs(e,t,r)}var k5,db,A5,I5;k5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};db=function(){};A5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ic(Do.current);var h=null;switch(r){case"input":s=$_(e,s),n=$_(e,n),h=[];break;case"select":s=Qr({},s,{value:void 0}),n=Qr({},n,{value:void 0}),h=[];break;case"textarea":s=z_(e,s),n=z_(e,n),h=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jy)}B_(r,n);var d;r=null;for(w in s)if(!n.hasOwnProperty(w)&&s.hasOwnProperty(w)&&s[w]!=null)if(w==="style"){var c=s[w];for(d in c)c.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Ap.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in n){var v=n[w];if(c=s!=null?s[w]:void 0,n.hasOwnProperty(w)&&v!==c&&(v!=null||c!=null))if(w==="style")if(c){for(d in c)!c.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in v)v.hasOwnProperty(d)&&c[d]!==v[d]&&(r||(r={}),r[d]=v[d])}else r||(h||(h=[]),h.push(w,r)),r=v;else w==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,c=c?c.__html:void 0,v!=null&&c!==v&&(h=h||[]).push(w,v)):w==="children"?typeof v!="string"&&typeof v!="number"||(h=h||[]).push(w,""+v):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Ap.hasOwnProperty(w)?(v!=null&&w==="onScroll"&&Nr("scroll",e),h||c===v||(h=[])):(h=h||[]).push(w,v))}r&&(h=h||[]).push("style",r);var w=h;(t.updateQueue=w)&&(t.flags|=4)}};I5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vf(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function aO(e,t,r){var n=t.pendingProps;switch(o2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(t),null;case 1:return Zi(t.type)&&Qy(),pi(t),null;case 3:return n=t.stateNode,eh(),jr(Gi),jr(bi),m2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ug(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ro!==null&&(xb(ro),ro=null))),db(e,t),pi(t),null;case 5:p2(t);var s=Ic(jp.current);if(r=t.type,e!==null&&t.stateNode!=null)A5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(tt(166));return pi(t),null}if(e=Ic(Do.current),Ug(t)){n=t.stateNode,r=t.type;var h=t.memoizedProps;switch(n[Eo]=t,n[Np]=h,e=(t.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(s=0;s<np.length;s++)Nr(np[s],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":JT(n,h),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!h.multiple},Nr("invalid",n);break;case"textarea":eC(n,h),Nr("invalid",n)}B_(r,h),s=null;for(var d in h)if(h.hasOwnProperty(d)){var c=h[d];d==="children"?typeof c=="string"?n.textContent!==c&&(h.suppressHydrationWarning!==!0&&Vg(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(h.suppressHydrationWarning!==!0&&Vg(n.textContent,c,e),s=["children",""+c]):Ap.hasOwnProperty(d)&&c!=null&&d==="onScroll"&&Nr("scroll",n)}switch(r){case"input":Rg(n),QT(n,h,!0);break;case"textarea":Rg(n),tC(n);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(n.onclick=Jy)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=d.createElement(r,{is:n.is}):(e=d.createElement(r),r==="select"&&(d=e,n.multiple?d.multiple=!0:n.size&&(d.size=n.size))):e=d.createElementNS(e,r),e[Eo]=t,e[Np]=n,k5(e,t,!1,!1),t.stateNode=e;e:{switch(d=N_(r,n),r){case"dialog":Nr("cancel",e),Nr("close",e),s=n;break;case"iframe":case"object":case"embed":Nr("load",e),s=n;break;case"video":case"audio":for(s=0;s<np.length;s++)Nr(np[s],e);s=n;break;case"source":Nr("error",e),s=n;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=n;break;case"details":Nr("toggle",e),s=n;break;case"input":JT(e,n),s=$_(e,n),Nr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Qr({},n,{value:void 0}),Nr("invalid",e);break;case"textarea":eC(e,n),s=z_(e,n),Nr("invalid",e);break;default:s=n}B_(r,s),c=s;for(h in c)if(c.hasOwnProperty(h)){var v=c[h];h==="style"?sM(e,v):h==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&aM(e,v)):h==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&Ip(e,v):typeof v=="number"&&Ip(e,""+v):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ap.hasOwnProperty(h)?v!=null&&h==="onScroll"&&Nr("scroll",e):v!=null&&Hw(e,h,v,d))}switch(r){case"input":Rg(e),QT(e,n,!1);break;case"textarea":Rg(e),tC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$l(n.value));break;case"select":e.multiple=!!n.multiple,h=n.value,h!=null?Rd(e,!!n.multiple,h,!1):n.defaultValue!=null&&Rd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Jy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pi(t),null;case 6:if(e&&t.stateNode!=null)I5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(tt(166));if(r=Ic(jp.current),Ic(Do.current),Ug(t)){if(n=t.stateNode,r=t.memoizedProps,n[Eo]=t,(h=n.nodeValue!==r)&&(e=pa,e!==null))switch(e.tag){case 3:Vg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vg(n.nodeValue,r,(e.mode&1)!==0)}h&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Eo]=t,t.stateNode=n}return pi(t),null;case 13:if(jr(Yr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&fa!==null&&t.mode&1&&!(t.flags&128))ZM(),Jd(),t.flags|=98560,h=!1;else if(h=Ug(t),n!==null&&n.dehydrated!==null){if(e===null){if(!h)throw Error(tt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(tt(317));h[Eo]=t}else Jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pi(t),h=!1}else ro!==null&&(xb(ro),ro=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Yr.current&1?En===0&&(En=3):E2())),t.updateQueue!==null&&(t.flags|=4),pi(t),null);case 4:return eh(),db(e,t),e===null&&Fp(t.stateNode.containerInfo),pi(t),null;case 10:return u2(t.type._context),pi(t),null;case 17:return Zi(t.type)&&Qy(),pi(t),null;case 19:if(jr(Yr),h=t.memoizedState,h===null)return pi(t),null;if(n=(t.flags&128)!==0,d=h.rendering,d===null)if(n)Vf(h,!1);else{if(En!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=ov(e),d!==null){for(t.flags|=128,Vf(h,!1),n=d.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)h=r,e=n,h.flags&=14680066,d=h.alternate,d===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=d.childLanes,h.lanes=d.lanes,h.child=d.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=d.memoizedProps,h.memoizedState=d.memoizedState,h.updateQueue=d.updateQueue,h.type=d.type,e=d.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rr(Yr,Yr.current&1|2),t.child}e=e.sibling}h.tail!==null&&hn()>rh&&(t.flags|=128,n=!0,Vf(h,!1),t.lanes=4194304)}else{if(!n)if(e=ov(d),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Gr)return pi(t),null}else 2*hn()-h.renderingStartTime>rh&&r!==1073741824&&(t.flags|=128,n=!0,Vf(h,!1),t.lanes=4194304);h.isBackwards?(d.sibling=t.child,t.child=d):(r=h.last,r!==null?r.sibling=d:t.child=d,h.last=d)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=hn(),t.sibling=null,r=Yr.current,Rr(Yr,n?r&1|2:r&1),t):(pi(t),null);case 22:case 23:return C2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ua&1073741824&&(pi(t),t.subtreeFlags&6&&(t.flags|=8192)):pi(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function oO(e,t){switch(o2(t),t.tag){case 1:return Zi(t.type)&&Qy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eh(),jr(Gi),jr(bi),m2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return p2(t),null;case 13:if(jr(Yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));Jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jr(Yr),null;case 4:return eh(),null;case 10:return u2(t.type._context),null;case 22:case 23:return C2(),null;case 24:return null;default:return null}}var Wg=!1,gi=!1,sO=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Td(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){an(e,t,n)}else r.current=null}function hb(e,t,r){try{r()}catch(n){an(e,t,n)}}var KC=!1;function lO(e,t){if(q_=qy,e=LM(),i2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,h=n.focusNode;n=n.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var d=0,c=-1,v=-1,w=0,S=0,T=e,C=null;t:for(;;){for(var D;T!==r||s!==0&&T.nodeType!==3||(c=d+s),T!==h||n!==0&&T.nodeType!==3||(v=d+n),T.nodeType===3&&(d+=T.nodeValue.length),(D=T.firstChild)!==null;)C=T,T=D;for(;;){if(T===e)break t;if(C===r&&++w===s&&(c=d),C===h&&++S===n&&(v=d),(D=T.nextSibling)!==null)break;T=C,C=T.parentNode}T=D}r=c===-1||v===-1?null:{start:c,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(Y_={focusedElem:e,selectionRange:r},qy=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){t=wt;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var V=B.memoizedProps,Y=B.memoizedState,U=t.stateNode,F=U.getSnapshotBeforeUpdate(t.elementType===t.type?V:Qa(t.type,V),Y);U.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(ee){an(t,t.return,ee)}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}return B=KC,KC=!1,B}function yp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var h=s.destroy;s.destroy=void 0,h!==void 0&&hb(t,r,h)}s=s.next}while(s!==n)}}function o0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function M5(e){var t=e.alternate;t!==null&&(e.alternate=null,M5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Eo],delete t[Np],delete t[Q_],delete t[KN],delete t[HN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D5(e){return e.tag===5||e.tag===3||e.tag===4}function HC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jy));else if(n!==4&&(e=e.child,e!==null))for(pb(e,t,r),e=e.sibling;e!==null;)pb(e,t,r),e=e.sibling}function mb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mb(e,t,r),e=e.sibling;e!==null;)mb(e,t,r),e=e.sibling}var Xn=null,eo=!1;function tl(e,t,r){for(r=r.child;r!==null;)$5(e,t,r),r=r.sibling}function $5(e,t,r){if(Mo&&typeof Mo.onCommitFiberUnmount=="function")try{Mo.onCommitFiberUnmount(Jv,r)}catch{}switch(r.tag){case 5:gi||Td(r,t);case 6:var n=Xn,s=eo;Xn=null,tl(e,t,r),Xn=n,eo=s,Xn!==null&&(eo?(e=Xn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xn.removeChild(r.stateNode));break;case 18:Xn!==null&&(eo?(e=Xn,r=r.stateNode,e.nodeType===8?m1(e.parentNode,r):e.nodeType===1&&m1(e,r),Rp(e)):m1(Xn,r.stateNode));break;case 4:n=Xn,s=eo,Xn=r.stateNode.containerInfo,eo=!0,tl(e,t,r),Xn=n,eo=s;break;case 0:case 11:case 14:case 15:if(!gi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var h=s,d=h.destroy;h=h.tag,d!==void 0&&(h&2||h&4)&&hb(r,t,d),s=s.next}while(s!==n)}tl(e,t,r);break;case 1:if(!gi&&(Td(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){an(r,t,c)}tl(e,t,r);break;case 21:tl(e,t,r);break;case 22:r.mode&1?(gi=(n=gi)||r.memoizedState!==null,tl(e,t,r),gi=n):tl(e,t,r);break;default:tl(e,t,r)}}function WC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sO),t.forEach(function(n){var s=yO.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var h=e,d=t,c=d;e:for(;c!==null;){switch(c.tag){case 5:Xn=c.stateNode,eo=!1;break e;case 3:Xn=c.stateNode.containerInfo,eo=!0;break e;case 4:Xn=c.stateNode.containerInfo,eo=!0;break e}c=c.return}if(Xn===null)throw Error(tt(160));$5(h,d,s),Xn=null,eo=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(w){an(s,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R5(t,e),t=t.sibling}function R5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xa(t,e),Po(e),n&4){try{yp(3,e,e.return),o0(3,e)}catch(V){an(e,e.return,V)}try{yp(5,e,e.return)}catch(V){an(e,e.return,V)}}break;case 1:Xa(t,e),Po(e),n&512&&r!==null&&Td(r,r.return);break;case 5:if(Xa(t,e),Po(e),n&512&&r!==null&&Td(r,r.return),e.flags&32){var s=e.stateNode;try{Ip(s,"")}catch(V){an(e,e.return,V)}}if(n&4&&(s=e.stateNode,s!=null)){var h=e.memoizedProps,d=r!==null?r.memoizedProps:h,c=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{c==="input"&&h.type==="radio"&&h.name!=null&&rM(s,h),N_(c,d);var w=N_(c,h);for(d=0;d<v.length;d+=2){var S=v[d],T=v[d+1];S==="style"?sM(s,T):S==="dangerouslySetInnerHTML"?aM(s,T):S==="children"?Ip(s,T):Hw(s,S,T,w)}switch(c){case"input":R_(s,h);break;case"textarea":nM(s,h);break;case"select":var C=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!h.multiple;var D=h.value;D!=null?Rd(s,!!h.multiple,D,!1):C!==!!h.multiple&&(h.defaultValue!=null?Rd(s,!!h.multiple,h.defaultValue,!0):Rd(s,!!h.multiple,h.multiple?[]:"",!1))}s[Np]=h}catch(V){an(e,e.return,V)}}break;case 6:if(Xa(t,e),Po(e),n&4){if(e.stateNode===null)throw Error(tt(162));s=e.stateNode,h=e.memoizedProps;try{s.nodeValue=h}catch(V){an(e,e.return,V)}}break;case 3:if(Xa(t,e),Po(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rp(t.containerInfo)}catch(V){an(e,e.return,V)}break;case 4:Xa(t,e),Po(e);break;case 13:Xa(t,e),Po(e),s=e.child,s.flags&8192&&(h=s.memoizedState!==null,s.stateNode.isHidden=h,!h||s.alternate!==null&&s.alternate.memoizedState!==null||(P2=hn())),n&4&&WC(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(gi=(w=gi)||S,Xa(t,e),gi=w):Xa(t,e),Po(e),n&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!S&&e.mode&1)for(wt=e,S=e.child;S!==null;){for(T=wt=S;wt!==null;){switch(C=wt,D=C.child,C.tag){case 0:case 11:case 14:case 15:yp(4,C,C.return);break;case 1:Td(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){n=C,r=C.return;try{t=n,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(V){an(n,r,V)}}break;case 5:Td(C,C.return);break;case 22:if(C.memoizedState!==null){ZC(T);continue}}D!==null?(D.return=C,wt=D):ZC(T)}S=S.sibling}e:for(S=null,T=e;;){if(T.tag===5){if(S===null){S=T;try{s=T.stateNode,w?(h=s.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(c=T.stateNode,v=T.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,c.style.display=oM("display",d))}catch(V){an(e,e.return,V)}}}else if(T.tag===6){if(S===null)try{T.stateNode.nodeValue=w?"":T.memoizedProps}catch(V){an(e,e.return,V)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;S===T&&(S=null),T=T.return}S===T&&(S=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Xa(t,e),Po(e),n&4&&WC(e);break;case 21:break;default:Xa(t,e),Po(e)}}function Po(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D5(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ip(s,""),n.flags&=-33);var h=HC(e);mb(e,h,s);break;case 3:case 4:var d=n.stateNode.containerInfo,c=HC(e);pb(e,c,d);break;default:throw Error(tt(161))}}catch(v){an(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cO(e,t,r){wt=e,L5(e)}function L5(e,t,r){for(var n=(e.mode&1)!==0;wt!==null;){var s=wt,h=s.child;if(s.tag===22&&n){var d=s.memoizedState!==null||Wg;if(!d){var c=s.alternate,v=c!==null&&c.memoizedState!==null||gi;c=Wg;var w=gi;if(Wg=d,(gi=v)&&!w)for(wt=s;wt!==null;)d=wt,v=d.child,d.tag===22&&d.memoizedState!==null?qC(s):v!==null?(v.return=d,wt=v):qC(s);for(;h!==null;)wt=h,L5(h),h=h.sibling;wt=s,Wg=c,gi=w}GC(e)}else s.subtreeFlags&8772&&h!==null?(h.return=s,wt=h):GC(e)}}function GC(e){for(;wt!==null;){var t=wt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gi||o0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gi)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qa(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&MC(t,h,n);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}MC(t,d,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var S=w.memoizedState;if(S!==null){var T=S.dehydrated;T!==null&&Rp(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}gi||t.flags&512&&fb(t)}catch(C){an(t,t.return,C)}}if(t===e){wt=null;break}if(r=t.sibling,r!==null){r.return=t.return,wt=r;break}wt=t.return}}function ZC(e){for(;wt!==null;){var t=wt;if(t===e){wt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,wt=r;break}wt=t.return}}function qC(e){for(;wt!==null;){var t=wt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{o0(4,t)}catch(v){an(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(v){an(t,s,v)}}var h=t.return;try{fb(t)}catch(v){an(t,h,v)}break;case 5:var d=t.return;try{fb(t)}catch(v){an(t,d,v)}}}catch(v){an(t,t.return,v)}if(t===e){wt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,wt=c;break}wt=t.return}}var uO=Math.ceil,cv=Cs.ReactCurrentDispatcher,w2=Cs.ReactCurrentOwner,Fa=Cs.ReactCurrentBatchConfig,cr=0,jn=null,_n=null,ei=0,ua=0,Cd=Ol(0),En=0,Hp=null,Gc=0,s0=0,S2=0,vp=null,Ki=null,P2=0,rh=1/0,ns=null,uv=!1,gb=null,Cl=null,Gg=!1,yl=null,dv=0,xp=0,yb=null,ky=-1,Ay=0;function Ri(){return cr&6?hn():ky!==-1?ky:ky=hn()}function El(e){return e.mode&1?cr&2&&ei!==0?ei&-ei:GN.transition!==null?(Ay===0&&(Ay=xM()),Ay):(e=_r,e!==0||(e=window.event,e=e===void 0?16:CM(e.type)),e):1}function oo(e,t,r,n){if(50<xp)throw xp=0,yb=null,Error(tt(185));lm(e,r,n),(!(cr&2)||e!==jn)&&(e===jn&&(!(cr&2)&&(s0|=r),En===4&&ml(e,ei)),qi(e,n),r===1&&cr===0&&!(t.mode&1)&&(rh=hn()+500,n0&&jl()))}function qi(e,t){var r=e.callbackNode;GB(e,t);var n=Zy(e,e===jn?ei:0);if(n===0)r!==null&&iC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&iC(r),t===1)e.tag===0?WN(YC.bind(null,e)):HM(YC.bind(null,e)),VN(function(){!(cr&6)&&jl()}),r=null;else{switch(_M(n)){case 1:r=Yw;break;case 4:r=yM;break;case 16:r=Gy;break;case 536870912:r=vM;break;default:r=Gy}r=U5(r,z5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function z5(e,t){if(ky=-1,Ay=0,cr&6)throw Error(tt(327));var r=e.callbackNode;if(Nd()&&e.callbackNode!==r)return null;var n=Zy(e,e===jn?ei:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hv(e,n);else{t=n;var s=cr;cr|=2;var h=B5();(jn!==e||ei!==t)&&(ns=null,rh=hn()+500,Bc(e,t));do try{fO();break}catch(c){F5(e,c)}while(!0);c2(),cv.current=h,cr=s,_n!==null?t=0:(jn=null,ei=0,t=En)}if(t!==0){if(t===2&&(s=K_(e),s!==0&&(n=s,t=vb(e,s))),t===1)throw r=Hp,Bc(e,0),ml(e,n),qi(e,hn()),r;if(t===6)ml(e,n);else{if(s=e.current.alternate,!(n&30)&&!dO(s)&&(t=hv(e,n),t===2&&(h=K_(e),h!==0&&(n=h,t=vb(e,h))),t===1))throw r=Hp,Bc(e,0),ml(e,n),qi(e,hn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(tt(345));case 2:bc(e,Ki,ns);break;case 3:if(ml(e,n),(n&130023424)===n&&(t=P2+500-hn(),10<t)){if(Zy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ri(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=J_(bc.bind(null,e,Ki,ns),t);break}bc(e,Ki,ns);break;case 4:if(ml(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var d=31-ao(n);h=1<<d,d=t[d],d>s&&(s=d),n&=~h}if(n=s,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*uO(n/1960))-n,10<n){e.timeoutHandle=J_(bc.bind(null,e,Ki,ns),n);break}bc(e,Ki,ns);break;case 5:bc(e,Ki,ns);break;default:throw Error(tt(329))}}}return qi(e,hn()),e.callbackNode===r?z5.bind(null,e):null}function vb(e,t){var r=vp;return e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256),e=hv(e,t),e!==2&&(t=Ki,Ki=r,t!==null&&xb(t)),e}function xb(e){Ki===null?Ki=e:Ki.push.apply(Ki,e)}function dO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],h=s.getSnapshot;s=s.value;try{if(!lo(h(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t){for(t&=~S2,t&=~s0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ao(t),n=1<<r;e[r]=-1,t&=~n}}function YC(e){if(cr&6)throw Error(tt(327));Nd();var t=Zy(e,0);if(!(t&1))return qi(e,hn()),null;var r=hv(e,t);if(e.tag!==0&&r===2){var n=K_(e);n!==0&&(t=n,r=vb(e,n))}if(r===1)throw r=Hp,Bc(e,0),ml(e,t),qi(e,hn()),r;if(r===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ki,ns),qi(e,hn()),null}function T2(e,t){var r=cr;cr|=1;try{return e(t)}finally{cr=r,cr===0&&(rh=hn()+500,n0&&jl())}}function Zc(e){yl!==null&&yl.tag===0&&!(cr&6)&&Nd();var t=cr;cr|=1;var r=Fa.transition,n=_r;try{if(Fa.transition=null,_r=1,e)return e()}finally{_r=n,Fa.transition=r,cr=t,!(cr&6)&&jl()}}function C2(){ua=Cd.current,jr(Cd)}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jN(r)),_n!==null)for(r=_n.return;r!==null;){var n=r;switch(o2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qy();break;case 3:eh(),jr(Gi),jr(bi),m2();break;case 5:p2(n);break;case 4:eh();break;case 13:jr(Yr);break;case 19:jr(Yr);break;case 10:u2(n.type._context);break;case 22:case 23:C2()}r=r.return}if(jn=e,_n=e=kl(e.current,null),ei=ua=t,En=0,Hp=null,S2=s0=Gc=0,Ki=vp=null,Ac!==null){for(t=0;t<Ac.length;t++)if(r=Ac[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,h=r.pending;if(h!==null){var d=h.next;h.next=s,n.next=d}r.pending=n}Ac=null}return e}function F5(e,t){do{var r=_n;try{if(c2(),Ty.current=lv,sv){for(var n=Jr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sv=!1}if(Wc=0,On=Tn=Jr=null,gp=!1,Vp=0,w2.current=null,r===null||r.return===null){En=1,Hp=t,_n=null;break}e:{var h=e,d=r.return,c=r,v=t;if(t=ei,c.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var w=v,S=c,T=S.tag;if(!(S.mode&1)&&(T===0||T===11||T===15)){var C=S.alternate;C?(S.updateQueue=C.updateQueue,S.memoizedState=C.memoizedState,S.lanes=C.lanes):(S.updateQueue=null,S.memoizedState=null)}var D=FC(d);if(D!==null){D.flags&=-257,BC(D,d,c,h,t),D.mode&1&&zC(h,w,t),t=D,v=w;var B=t.updateQueue;if(B===null){var V=new Set;V.add(v),t.updateQueue=V}else B.add(v);break e}else{if(!(t&1)){zC(h,w,t),E2();break e}v=Error(tt(426))}}else if(Gr&&c.mode&1){var Y=FC(d);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),BC(Y,d,c,h,t),s2(th(v,c));break e}}h=v=th(v,c),En!==4&&(En=2),vp===null?vp=[h]:vp.push(h),h=d;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var U=_5(h,v,t);IC(h,U);break e;case 1:c=v;var F=h.type,O=h.stateNode;if(!(h.flags&128)&&(typeof F.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Cl===null||!Cl.has(O)))){h.flags|=65536,t&=-t,h.lanes|=t;var ee=b5(h,c,t);IC(h,ee);break e}}h=h.return}while(h!==null)}O5(r)}catch(ie){t=ie,_n===r&&r!==null&&(_n=r=r.return);continue}break}while(!0)}function B5(){var e=cv.current;return cv.current=lv,e===null?lv:e}function E2(){(En===0||En===3||En===2)&&(En=4),jn===null||!(Gc&268435455)&&!(s0&268435455)||ml(jn,ei)}function hv(e,t){var r=cr;cr|=2;var n=B5();(jn!==e||ei!==t)&&(ns=null,Bc(e,t));do try{hO();break}catch(s){F5(e,s)}while(!0);if(c2(),cr=r,cv.current=n,_n!==null)throw Error(tt(261));return jn=null,ei=0,En}function hO(){for(;_n!==null;)N5(_n)}function fO(){for(;_n!==null&&!BB();)N5(_n)}function N5(e){var t=V5(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?O5(e):_n=t,w2.current=null}function O5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=oO(r,t),r!==null){r.flags&=32767,_n=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{En=6,_n=null;return}}else if(r=aO(r,t,ua),r!==null){_n=r;return}if(t=t.sibling,t!==null){_n=t;return}_n=t=e}while(t!==null);En===0&&(En=5)}function bc(e,t,r){var n=_r,s=Fa.transition;try{Fa.transition=null,_r=1,pO(e,t,r,n)}finally{Fa.transition=s,_r=n}return null}function pO(e,t,r,n){do Nd();while(yl!==null);if(cr&6)throw Error(tt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(ZB(e,h),e===jn&&(_n=jn=null,ei=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gg||(Gg=!0,U5(Gy,function(){return Nd(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=Fa.transition,Fa.transition=null;var d=_r;_r=1;var c=cr;cr|=4,w2.current=null,lO(e,r),R5(r,e),RN(Y_),qy=!!q_,Y_=q_=null,e.current=r,cO(r),NB(),cr=c,_r=d,Fa.transition=h}else e.current=r;if(Gg&&(Gg=!1,yl=e,dv=s),h=e.pendingLanes,h===0&&(Cl=null),VB(r.stateNode),qi(e,hn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(uv)throw uv=!1,e=gb,gb=null,e;return dv&1&&e.tag!==0&&Nd(),h=e.pendingLanes,h&1?e===yb?xp++:(xp=0,yb=e):xp=0,jl(),null}function Nd(){if(yl!==null){var e=_M(dv),t=Fa.transition,r=_r;try{if(Fa.transition=null,_r=16>e?16:e,yl===null)var n=!1;else{if(e=yl,yl=null,dv=0,cr&6)throw Error(tt(331));var s=cr;for(cr|=4,wt=e.current;wt!==null;){var h=wt,d=h.child;if(wt.flags&16){var c=h.deletions;if(c!==null){for(var v=0;v<c.length;v++){var w=c[v];for(wt=w;wt!==null;){var S=wt;switch(S.tag){case 0:case 11:case 15:yp(8,S,h)}var T=S.child;if(T!==null)T.return=S,wt=T;else for(;wt!==null;){S=wt;var C=S.sibling,D=S.return;if(M5(S),S===w){wt=null;break}if(C!==null){C.return=D,wt=C;break}wt=D}}}var B=h.alternate;if(B!==null){var V=B.child;if(V!==null){B.child=null;do{var Y=V.sibling;V.sibling=null,V=Y}while(V!==null)}}wt=h}}if(h.subtreeFlags&2064&&d!==null)d.return=h,wt=d;else e:for(;wt!==null;){if(h=wt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:yp(9,h,h.return)}var U=h.sibling;if(U!==null){U.return=h.return,wt=U;break e}wt=h.return}}var F=e.current;for(wt=F;wt!==null;){d=wt;var O=d.child;if(d.subtreeFlags&2064&&O!==null)O.return=d,wt=O;else e:for(d=F;wt!==null;){if(c=wt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:o0(9,c)}}catch(ie){an(c,c.return,ie)}if(c===d){wt=null;break e}var ee=c.sibling;if(ee!==null){ee.return=c.return,wt=ee;break e}wt=c.return}}if(cr=s,jl(),Mo&&typeof Mo.onPostCommitFiberRoot=="function")try{Mo.onPostCommitFiberRoot(Jv,e)}catch{}n=!0}return n}finally{_r=r,Fa.transition=t}}return!1}function XC(e,t,r){t=th(r,t),t=_5(e,t,1),e=Tl(e,t,1),t=Ri(),e!==null&&(lm(e,1,t),qi(e,t))}function an(e,t,r){if(e.tag===3)XC(e,e,r);else for(;t!==null;){if(t.tag===3){XC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cl===null||!Cl.has(n))){e=th(r,e),e=b5(t,e,1),t=Tl(t,e,1),e=Ri(),t!==null&&(lm(t,1,e),qi(t,e));break}}t=t.return}}function mO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ri(),e.pingedLanes|=e.suspendedLanes&r,jn===e&&(ei&r)===r&&(En===4||En===3&&(ei&130023424)===ei&&500>hn()-P2?Bc(e,0):S2|=r),qi(e,t)}function j5(e,t){t===0&&(e.mode&1?(t=Fg,Fg<<=1,!(Fg&130023424)&&(Fg=4194304)):t=1);var r=Ri();e=_s(e,t),e!==null&&(lm(e,t,r),qi(e,r))}function gO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),j5(e,r)}function yO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(t),j5(e,r)}var V5;V5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gi.current)Wi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wi=!1,iO(e,t,r);Wi=!!(e.flags&131072)}else Wi=!1,Gr&&t.flags&1048576&&WM(t,rv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ey(e,t),e=t.pendingProps;var s=Xd(t,bi.current);Bd(t,r),s=y2(null,t,n,e,s,r);var h=v2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Zi(n)?(h=!0,ev(t)):h=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,h2(t),s.updater=a0,t.stateNode=s,s._reactInternals=t,ab(t,n,e,r),t=lb(null,t,n,!0,h,r)):(t.tag=0,Gr&&h&&a2(t),Di(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ey(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=xO(n),e=Qa(n,e),s){case 0:t=sb(null,t,n,e,r);break e;case 1:t=jC(null,t,n,e,r);break e;case 11:t=NC(null,t,n,e,r);break e;case 14:t=OC(null,t,n,Qa(n.type,e),r);break e}throw Error(tt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),sb(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),jC(e,t,n,s,r);case 3:e:{if(T5(t),e===null)throw Error(tt(387));n=t.pendingProps,h=t.memoizedState,s=h.element,JM(e,t),av(t,n,null,r);var d=t.memoizedState;if(n=d.element,h.isDehydrated)if(h={element:n,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){s=th(Error(tt(423)),t),t=VC(e,t,n,r,s);break e}else if(n!==s){s=th(Error(tt(424)),t),t=VC(e,t,n,r,s);break e}else for(fa=Pl(t.stateNode.containerInfo.firstChild),pa=t,Gr=!0,ro=null,r=YM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jd(),n===s){t=bs(e,t,r);break e}Di(e,t,n,r)}t=t.child}return t;case 5:return QM(t),e===null&&rb(t),n=t.type,s=t.pendingProps,h=e!==null?e.memoizedProps:null,d=s.children,X_(n,s)?d=null:h!==null&&X_(n,h)&&(t.flags|=32),P5(e,t),Di(e,t,d,r),t.child;case 6:return e===null&&rb(t),null;case 13:return C5(e,t,r);case 4:return f2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qd(t,null,n,r):Di(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),NC(e,t,n,s,r);case 7:return Di(e,t,t.pendingProps,r),t.child;case 8:return Di(e,t,t.pendingProps.children,r),t.child;case 12:return Di(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,h=t.memoizedProps,d=s.value,Rr(nv,n._currentValue),n._currentValue=d,h!==null)if(lo(h.value,d)){if(h.children===s.children&&!Gi.current){t=bs(e,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var c=h.dependencies;if(c!==null){d=h.child;for(var v=c.firstContext;v!==null;){if(v.context===n){if(h.tag===1){v=fs(-1,r&-r),v.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var S=w.pending;S===null?v.next=v:(v.next=S.next,S.next=v),w.pending=v}}h.lanes|=r,v=h.alternate,v!==null&&(v.lanes|=r),nb(h.return,r,t),c.lanes|=r;break}v=v.next}}else if(h.tag===10)d=h.type===t.type?null:h.child;else if(h.tag===18){if(d=h.return,d===null)throw Error(tt(341));d.lanes|=r,c=d.alternate,c!==null&&(c.lanes|=r),nb(d,r,t),d=h.sibling}else d=h.child;if(d!==null)d.return=h;else for(d=h;d!==null;){if(d===t){d=null;break}if(h=d.sibling,h!==null){h.return=d.return,d=h;break}d=d.return}h=d}Di(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bd(t,r),s=Ba(s),n=n(s),t.flags|=1,Di(e,t,n,r),t.child;case 14:return n=t.type,s=Qa(n,t.pendingProps),s=Qa(n.type,s),OC(e,t,n,s,r);case 15:return w5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qa(n,s),Ey(e,t),t.tag=1,Zi(n)?(e=!0,ev(t)):e=!1,Bd(t,r),x5(t,n,s),ab(t,n,s,r),lb(null,t,n,!0,e,r);case 19:return E5(e,t,r);case 22:return S5(e,t,r)}throw Error(tt(156,t.tag))};function U5(e,t){return gM(e,t)}function vO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,r,n){return new vO(e,t,r,n)}function k2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xO(e){if(typeof e=="function")return k2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gw)return 11;if(e===Zw)return 14}return 2}function kl(e,t){var r=e.alternate;return r===null?(r=za(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Iy(e,t,r,n,s,h){var d=2;if(n=e,typeof e=="function")k2(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case gd:return Nc(r.children,s,h,t);case Ww:d=8,s|=8;break;case A_:return e=za(12,r,t,s|2),e.elementType=A_,e.lanes=h,e;case I_:return e=za(13,r,t,s),e.elementType=I_,e.lanes=h,e;case M_:return e=za(19,r,t,s),e.elementType=M_,e.lanes=h,e;case QI:return l0(r,s,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XI:d=10;break e;case JI:d=9;break e;case Gw:d=11;break e;case Zw:d=14;break e;case cl:d=16,n=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=za(d,r,t,s),t.elementType=e,t.type=n,t.lanes=h,t}function Nc(e,t,r,n){return e=za(7,e,n,t),e.lanes=r,e}function l0(e,t,r,n){return e=za(22,e,n,t),e.elementType=QI,e.lanes=r,e.stateNode={isHidden:!1},e}function S1(e,t,r){return e=za(6,e,null,t),e.lanes=r,e}function P1(e,t,r){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _O(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=i1(0),this.expirationTimes=i1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=i1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function A2(e,t,r,n,s,h,d,c,v){return e=new _O(e,t,r,c,v),t===1?(t=1,h===!0&&(t|=8)):t=0,h=za(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(h),e}function bO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:md,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function K5(e){if(!e)return Rl;e=e._reactInternals;e:{if(tu(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Zi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var r=e.type;if(Zi(r))return KM(e,r,t)}return t}function H5(e,t,r,n,s,h,d,c,v){return e=A2(r,n,!0,e,s,h,d,c,v),e.context=K5(null),r=e.current,n=Ri(),s=El(r),h=fs(n,s),h.callback=t??null,Tl(r,h,s),e.current.lanes=s,lm(e,s,n),qi(e,n),e}function c0(e,t,r,n){var s=t.current,h=Ri(),d=El(s);return r=K5(r),t.context===null?t.context=r:t.pendingContext=r,t=fs(h,d),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Tl(s,t,d),e!==null&&(oo(e,s,d,h),Py(e,s,d)),d}function fv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function JC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I2(e,t){JC(e,t),(e=e.alternate)&&JC(e,t)}function wO(){return null}var W5=typeof reportError=="function"?reportError:function(e){console.error(e)};function M2(e){this._internalRoot=e}u0.prototype.render=M2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));c0(e,t,null,null)};u0.prototype.unmount=M2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zc(function(){c0(null,e,null,null)}),t[xs]=null}};function u0(e){this._internalRoot=e}u0.prototype.unstable_scheduleHydration=function(e){if(e){var t=SM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<pl.length&&t!==0&&t<pl[r].priority;r++);pl.splice(r,0,e),r===0&&TM(e)}};function D2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QC(){}function SO(e,t,r,n,s){if(s){if(typeof n=="function"){var h=n;n=function(){var w=fv(d);h.call(w)}}var d=H5(t,n,e,0,null,!1,!1,"",QC);return e._reactRootContainer=d,e[xs]=d.current,Fp(e.nodeType===8?e.parentNode:e),Zc(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var w=fv(v);c.call(w)}}var v=A2(e,0,!1,null,null,!1,!1,"",QC);return e._reactRootContainer=v,e[xs]=v.current,Fp(e.nodeType===8?e.parentNode:e),Zc(function(){c0(t,v,r,n)}),v}function h0(e,t,r,n,s){var h=r._reactRootContainer;if(h){var d=h;if(typeof s=="function"){var c=s;s=function(){var v=fv(d);c.call(v)}}c0(t,d,e,s)}else d=SO(r,t,e,s,n);return fv(d)}bM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rp(t.pendingLanes);r!==0&&(Xw(t,r|1),qi(t,hn()),!(cr&6)&&(rh=hn()+500,jl()))}break;case 13:Zc(function(){var n=_s(e,1);if(n!==null){var s=Ri();oo(n,e,1,s)}}),I2(e,1)}};Jw=function(e){if(e.tag===13){var t=_s(e,134217728);if(t!==null){var r=Ri();oo(t,e,134217728,r)}I2(e,134217728)}};wM=function(e){if(e.tag===13){var t=El(e),r=_s(e,t);if(r!==null){var n=Ri();oo(r,e,t,n)}I2(e,t)}};SM=function(){return _r};PM=function(e,t){var r=_r;try{return _r=e,t()}finally{_r=r}};j_=function(e,t,r){switch(t){case"input":if(R_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=r0(n);if(!s)throw Error(tt(90));tM(n),R_(n,s)}}}break;case"textarea":nM(e,r);break;case"select":t=r.value,t!=null&&Rd(e,!!r.multiple,t,!1)}};uM=T2;dM=Zc;var PO={usingClientEntryPoint:!1,Events:[um,_d,r0,lM,cM,T2]},Uf={findFiberByHostInstance:kc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TO={bundleType:Uf.bundleType,version:Uf.version,rendererPackageName:Uf.rendererPackageName,rendererConfig:Uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pM(e),e===null?null:e.stateNode},findFiberByHostInstance:Uf.findFiberByHostInstance||wO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zg.isDisabled&&Zg.supportsFiber)try{Jv=Zg.inject(TO),Mo=Zg}catch{}}xa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PO;xa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D2(t))throw Error(tt(200));return bO(e,t,null,r)};xa.createRoot=function(e,t){if(!D2(e))throw Error(tt(299));var r=!1,n="",s=W5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=A2(e,1,!1,null,null,r,!1,n,s),e[xs]=t.current,Fp(e.nodeType===8?e.parentNode:e),new M2(t)};xa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=pM(t),e=e===null?null:e.stateNode,e};xa.flushSync=function(e){return Zc(e)};xa.hydrate=function(e,t,r){if(!d0(t))throw Error(tt(200));return h0(null,e,t,!0,r)};xa.hydrateRoot=function(e,t,r){if(!D2(e))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,s=!1,h="",d=W5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=H5(t,null,e,1,r??null,s,!1,h,d),e[xs]=t.current,Fp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new u0(t)};xa.render=function(e,t,r){if(!d0(t))throw Error(tt(200));return h0(null,e,t,!1,r)};xa.unmountComponentAtNode=function(e){if(!d0(e))throw Error(tt(40));return e._reactRootContainer?(Zc(function(){h0(null,null,e,!1,function(){e._reactRootContainer=null,e[xs]=null})}),!0):!1};xa.unstable_batchedUpdates=T2;xa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!d0(r))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return h0(e,t,r,!1,n)};xa.version="18.3.1-next-f1338f8080-20240426";function G5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G5)}catch(e){console.error(e)}}G5(),GI.exports=xa;var $2=GI.exports;const CO=om($2);var eE=$2;E_.createRoot=eE.createRoot,E_.hydrateRoot=eE.hydrateRoot;function Vl(e={}){const{strict:t=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:n}=e,s=z.createContext(void 0);s.displayName=n;function h(){var d;const c=z.useContext(s);if(!c&&t){const v=new Error(r);throw v.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,v,h),v}return c}return[s.Provider,h,s]}function bn(e){const t=z.useRef(null);return z.useImperativeHandle(e,()=>t.current),t}function EO(e,t){return e&&t&&e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}var kO=e=>(e==null?void 0:e.length)<=4?e:e==null?void 0:e.slice(0,3);function Z5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Z5(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ur(...e){for(var t=0,r,n,s="";t<e.length;)(r=e[t++])&&(n=Z5(r))&&(s&&(s+=" "),s+=n);return s}function AO(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function IO(e){for(const t in e)t.startsWith("on")&&delete e[t];return e}function Es(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function q5(e,t,r){return Math.min(Math.max(e,t),r)}function MO(e){return typeof e=="function"}var vt=e=>e?"true":void 0;function DO(e,t){if(e!=null){if(MO(e)){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function tE(...e){return t=>{e.forEach(r=>DO(r,t))}}var $O=Object.create,Y5=Object.defineProperty,RO=Object.getOwnPropertyDescriptor,X5=Object.getOwnPropertyNames,LO=Object.getPrototypeOf,zO=Object.prototype.hasOwnProperty,J5=(e,t)=>function(){return t||(0,e[X5(e)[0]])((t={exports:{}}).exports,t),t.exports},FO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of X5(t))!zO.call(e,s)&&s!==r&&Y5(e,s,{get:()=>t[s],enumerable:!(n=RO(t,s))||n.enumerable});return e},BO=(e,t,r)=>(r=e!=null?$O(LO(e)):{},FO(!e||!e.__esModule?Y5(r,"default",{value:e,enumerable:!0}):r,e)),NO=J5({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function D(he){return he===null||typeof he!="object"?null:(he=C&&he[C]||he["@@iterator"],typeof he=="function"?he:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Y={};function U(he,ze,Je){this.props=he,this.context=ze,this.refs=Y,this.updater=Je||B}U.prototype.isReactComponent={},U.prototype.setState=function(he,ze){if(typeof he!="object"&&typeof he!="function"&&he!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,he,ze,"setState")},U.prototype.forceUpdate=function(he){this.updater.enqueueForceUpdate(this,he,"forceUpdate")};function F(){}F.prototype=U.prototype;function O(he,ze,Je){this.props=he,this.context=ze,this.refs=Y,this.updater=Je||B}var ee=O.prototype=new F;ee.constructor=O,V(ee,U.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,fe=Object.prototype.hasOwnProperty,we={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function me(he,ze,Je){var ft,mt={},gt=null,Et=null;if(ze!=null)for(ft in ze.ref!==void 0&&(Et=ze.ref),ze.key!==void 0&&(gt=""+ze.key),ze)fe.call(ze,ft)&&!Z.hasOwnProperty(ft)&&(mt[ft]=ze[ft]);var Pt=arguments.length-2;if(Pt===1)mt.children=Je;else if(1<Pt){for(var At=Array(Pt),zt=0;zt<Pt;zt++)At[zt]=arguments[zt+2];mt.children=At}if(he&&he.defaultProps)for(ft in Pt=he.defaultProps,Pt)mt[ft]===void 0&&(mt[ft]=Pt[ft]);return{$$typeof:t,type:he,key:gt,ref:Et,props:mt,_owner:we.current}}function xe(he,ze){return{$$typeof:t,type:he.type,key:ze,ref:he.ref,props:he.props,_owner:he._owner}}function se(he){return typeof he=="object"&&he!==null&&he.$$typeof===t}function Te(he){var ze={"=":"=0",":":"=2"};return"$"+he.replace(/[=:]/g,function(Je){return ze[Je]})}var ge=/\/+/g;function ve(he,ze){return typeof he=="object"&&he!==null&&he.key!=null?Te(""+he.key):ze.toString(36)}function Be(he,ze,Je,ft,mt){var gt=typeof he;(gt==="undefined"||gt==="boolean")&&(he=null);var Et=!1;if(he===null)Et=!0;else switch(gt){case"string":case"number":Et=!0;break;case"object":switch(he.$$typeof){case t:case r:Et=!0}}if(Et)return Et=he,mt=mt(Et),he=ft===""?"."+ve(Et,0):ft,ie(mt)?(Je="",he!=null&&(Je=he.replace(ge,"$&/")+"/"),Be(mt,ze,Je,"",function(zt){return zt})):mt!=null&&(se(mt)&&(mt=xe(mt,Je+(!mt.key||Et&&Et.key===mt.key?"":(""+mt.key).replace(ge,"$&/")+"/")+he)),ze.push(mt)),1;if(Et=0,ft=ft===""?".":ft+":",ie(he))for(var Pt=0;Pt<he.length;Pt++){gt=he[Pt];var At=ft+ve(gt,Pt);Et+=Be(gt,ze,Je,At,mt)}else if(At=D(he),typeof At=="function")for(he=At.call(he),Pt=0;!(gt=he.next()).done;)gt=gt.value,At=ft+ve(gt,Pt++),Et+=Be(gt,ze,Je,At,mt);else if(gt==="object")throw ze=String(he),Error("Objects are not valid as a React child (found: "+(ze==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":ze)+"). If you meant to render a collection of children, use an array instead.");return Et}function Le(he,ze,Je){if(he==null)return he;var ft=[],mt=0;return Be(he,ft,"","",function(gt){return ze.call(Je,gt,mt++)}),ft}function ae(he){if(he._status===-1){var ze=he._result;ze=ze(),ze.then(function(Je){(he._status===0||he._status===-1)&&(he._status=1,he._result=Je)},function(Je){(he._status===0||he._status===-1)&&(he._status=2,he._result=Je)}),he._status===-1&&(he._status=0,he._result=ze)}if(he._status===1)return he._result.default;throw he._result}var De={current:null},Ve={transition:null},Oe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:Ve,ReactCurrentOwner:we};e.Children={map:Le,forEach:function(he,ze,Je){Le(he,function(){ze.apply(this,arguments)},Je)},count:function(he){var ze=0;return Le(he,function(){ze++}),ze},toArray:function(he){return Le(he,function(ze){return ze})||[]},only:function(he){if(!se(he))throw Error("React.Children.only expected to receive a single React element child.");return he}},e.Component=U,e.Fragment=n,e.Profiler=h,e.PureComponent=O,e.StrictMode=s,e.Suspense=w,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,e.cloneElement=function(he,ze,Je){if(he==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+he+".");var ft=V({},he.props),mt=he.key,gt=he.ref,Et=he._owner;if(ze!=null){if(ze.ref!==void 0&&(gt=ze.ref,Et=we.current),ze.key!==void 0&&(mt=""+ze.key),he.type&&he.type.defaultProps)var Pt=he.type.defaultProps;for(At in ze)fe.call(ze,At)&&!Z.hasOwnProperty(At)&&(ft[At]=ze[At]===void 0&&Pt!==void 0?Pt[At]:ze[At])}var At=arguments.length-2;if(At===1)ft.children=Je;else if(1<At){Pt=Array(At);for(var zt=0;zt<At;zt++)Pt[zt]=arguments[zt+2];ft.children=Pt}return{$$typeof:t,type:he.type,key:mt,ref:gt,props:ft,_owner:Et}},e.createContext=function(he){return he={$$typeof:c,_currentValue:he,_currentValue2:he,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},he.Provider={$$typeof:d,_context:he},he.Consumer=he},e.createElement=me,e.createFactory=function(he){var ze=me.bind(null,he);return ze.type=he,ze},e.createRef=function(){return{current:null}},e.forwardRef=function(he){return{$$typeof:v,render:he}},e.isValidElement=se,e.lazy=function(he){return{$$typeof:T,_payload:{_status:-1,_result:he},_init:ae}},e.memo=function(he,ze){return{$$typeof:S,type:he,compare:ze===void 0?null:ze}},e.startTransition=function(he){var ze=Ve.transition;Ve.transition={};try{he()}finally{Ve.transition=ze}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(he,ze){return De.current.useCallback(he,ze)},e.useContext=function(he){return De.current.useContext(he)},e.useDebugValue=function(){},e.useDeferredValue=function(he){return De.current.useDeferredValue(he)},e.useEffect=function(he,ze){return De.current.useEffect(he,ze)},e.useId=function(){return De.current.useId()},e.useImperativeHandle=function(he,ze,Je){return De.current.useImperativeHandle(he,ze,Je)},e.useInsertionEffect=function(he,ze){return De.current.useInsertionEffect(he,ze)},e.useLayoutEffect=function(he,ze){return De.current.useLayoutEffect(he,ze)},e.useMemo=function(he,ze){return De.current.useMemo(he,ze)},e.useReducer=function(he,ze,Je){return De.current.useReducer(he,ze,Je)},e.useRef=function(he){return De.current.useRef(he)},e.useState=function(he){return De.current.useState(he)},e.useSyncExternalStore=function(he,ze,Je){return De.current.useSyncExternalStore(he,ze,Je)},e.useTransition=function(){return De.current.useTransition()},e.version="18.2.0"}}),OO=J5({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(e,t){t.exports=NO()}});/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE=BO(OO()),Q5=(e,t)=>{var r;let n=[];const s=(r=rE.Children.map(e,d=>(0,rE.isValidElement)(d)&&d.type===t?(n.push(d),null):d))==null?void 0:r.filter(Boolean),h=n.length>=0?n:void 0;return[s,h]},jO=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),VO=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),nE=/^(data-.*)$/,UO=/^(aria-.*)$/,qg=/^(on[A-Z].*)$/;function Ro(e,t={}){let{labelable:r=!0,enabled:n=!0,propNames:s,omitPropNames:h,omitEventNames:d,omitDataProps:c,omitEventProps:v}=t,w={};if(!n)return e;for(const S in e)h!=null&&h.has(S)||d!=null&&d.has(S)&&qg.test(S)||qg.test(S)&&!VO.has(S)||c&&nE.test(S)||v&&qg.test(S)||(Object.prototype.hasOwnProperty.call(e,S)&&(jO.has(S)||r&&UO.test(S)||s!=null&&s.has(S)||nE.test(S))||qg.test(S))&&(w[S]=e[S]);return w}var[KO,HO]=Vl({name:"ProviderContext",strict:!1});const pv={prefix:String(Math.round(Math.random()*1e10)),current:0},e3=Qt.createContext(pv),WO=Qt.createContext(!1);let GO=!!(typeof window<"u"&&window.document&&window.document.createElement),T1=new WeakMap;function ZO(e=!1){let t=z.useContext(e3),r=z.useRef(null);if(r.current===null&&!e){var n,s;let h=(s=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(n=s.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(h){let d=T1.get(h);d==null?T1.set(h,{id:t.current,state:h.memoizedState}):h.memoizedState!==d.state&&(t.current=d.id,T1.delete(h))}r.current=++t.current}return r.current}function qO(e){let t=z.useContext(e3);t===pv&&!GO&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=ZO(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function YO(e){let t=Qt.useId(),[r]=z.useState(f0()),n=r?"react-aria":`react-aria${pv.prefix}`;return e||`${n}-${t}`}const XO=typeof Qt.useId=="function"?YO:qO;function JO(){return!1}function QO(){return!0}function ej(e){return()=>{}}function f0(){return typeof Qt.useSyncExternalStore=="function"?Qt.useSyncExternalStore(ej,JO,QO):z.useContext(WO)}const tj=Symbol.for("react-aria.i18n.locale"),rj=Symbol.for("react-aria.i18n.strings");let id;class p0{getStringForLocale(t,r){let s=this.getStringsForLocale(r)[t];if(!s)throw new Error(`Could not find intl message ${t} in ${r} locale`);return s}getStringsForLocale(t){let r=this.strings[t];return r||(r=nj(t,this.strings,this.defaultLocale),this.strings[t]=r),r}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let r=window[tj];if(id===void 0){let s=window[rj];if(!s)return null;id={};for(let h in s)id[h]=new p0({[r]:s[h]},r)}let n=id==null?void 0:id[t];if(!n)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return n}constructor(t,r="en-US"){this.strings={...t},this.defaultLocale=r}}function nj(e,t,r="en-US"){if(t[e])return t[e];let n=ij(e);if(t[n])return t[n];for(let s in t)if(s.startsWith(n+"-"))return t[s];return t[r]}function ij(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const iE=new Map,aE=new Map;class aj{format(t,r){let n=this.strings.getStringForLocale(t,this.locale);return typeof n=="function"?n(r,this):n}plural(t,r,n="cardinal"){let s=r["="+t];if(s)return typeof s=="function"?s():s;let h=this.locale+":"+n,d=iE.get(h);d||(d=new Intl.PluralRules(this.locale,{type:n}),iE.set(h,d));let c=d.select(t);return s=r[c]||r.other,typeof s=="function"?s():s}number(t){let r=aE.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),aE.set(this.locale,r)),r.format(t)}select(t,r){let n=t[r]||t.other;return typeof n=="function"?n():n}constructor(t,r){this.locale=t,this.strings=r}}function oj(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function m0(e,t,r){oj(e,t),t.set(e,r)}function ps(e,t){return e-t*Math.floor(e/t)}const t3=1721426;function Mc(e,t,r,n){t=hm(e,t);let s=t-1,h=-2;return r<=2?h=0:vl(t)&&(h=-1),t3-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*r-362)/12+h+n)}function vl(e){return e%4===0&&(e%100!==0||e%400===0)}function hm(e,t){return e==="BC"?1-t:t}function g0(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}const sj={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class ga{fromJulianDay(t){let r=t,n=r-t3,s=Math.floor(n/146097),h=ps(n,146097),d=Math.floor(h/36524),c=ps(h,36524),v=Math.floor(c/1461),w=ps(c,1461),S=Math.floor(w/365),T=s*400+d*100+v*4+S+(d!==4&&S!==4?1:0),[C,D]=g0(T),B=r-Mc(C,D,1,1),V=2;r<Mc(C,D,3,1)?V=0:vl(D)&&(V=1);let Y=Math.floor(((B+V)*12+373)/367),U=r-Mc(C,D,Y,1)+1;return new Lr(C,D,Y,U)}toJulianDay(t){return Mc(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return sj[vl(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return vl(t.year)?366:365}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}}const lj={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function xn(e,t){return t=Cn(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function oE(e,t){return t=Cn(t,e.calendar),e=qc(e),t=qc(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function _b(e,t){return e.calendar.identifier===t.calendar.identifier&&e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function r3(e,t){return xn(e,R2(t))}function y0(e,t){let r=e.calendar.toJulianDay(e),n=Math.ceil(r+1-fj(t))%7;return n<0&&(n+=7),n}function cj(e){return ls(Date.now(),e)}function R2(e){return so(cj(e))}function n3(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function uj(e,t){return sE(e)-sE(t)}function sE(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}let C1=null;function i3(){return C1==null&&(C1=new Intl.DateTimeFormat().resolvedOptions().timeZone),C1}function qc(e){return e.subtract({days:e.day-1})}function mv(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function gv(e){return qc(e.subtract({months:e.month-1}))}function Wp(e,t){let r=y0(e,t);return e.subtract({days:r})}function dj(e,t){return Wp(e,t).add({days:6})}const lE=new Map;function hj(e){if(Intl.Locale){let r=lE.get(e);return r||(r=new Intl.Locale(e).maximize().region,r&&lE.set(e,r)),r}let t=e.split("-")[1];return t==="u"?void 0:t}function fj(e){let t=hj(e);return t&&lj[t]||0}function pj(e,t){let r=e.calendar.getDaysInMonth(e);return Math.ceil((y0(qc(e),t)+r)/7)}function L2(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function z2(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function nh(e){e=Cn(e,new ga);let t=hm(e.era,e.year);return a3(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function a3(e,t,r,n,s,h,d){let c=new Date;return c.setUTCHours(n,s,h,d),c.setUTCFullYear(e,t-1,r),c.getTime()}function bb(e,t){if(t==="UTC")return 0;if(e>0&&t===i3())return new Date(e).getTimezoneOffset()*-6e4;let{year:r,month:n,day:s,hour:h,minute:d,second:c}=o3(e,t);return a3(r,n,s,h,d,c,0)-Math.floor(e/1e3)*1e3}const cE=new Map;function o3(e,t){let r=cE.get(t);r||(r=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),cE.set(t,r));let n=r.formatToParts(new Date(e)),s={};for(let h of n)h.type!=="literal"&&(s[h.type]=h.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const uE=864e5;function mj(e,t,r,n){return(r===n?[r]:[r,n]).filter(h=>gj(e,t,h))}function gj(e,t,r){let n=o3(r,t);return e.year===n.year&&e.month===n.month&&e.day===n.day&&e.hour===n.hour&&e.minute===n.minute&&e.second===n.second}function as(e,t,r="compatible"){let n=ih(e);if(t==="UTC")return nh(n);if(t===i3()&&r==="compatible"){n=Cn(n,new ga);let v=new Date,w=hm(n.era,n.year);return v.setFullYear(w,n.month-1,n.day),v.setHours(n.hour,n.minute,n.second,n.millisecond),v.getTime()}let s=nh(n),h=bb(s-uE,t),d=bb(s+uE,t),c=mj(n,t,s-h,s-d);if(c.length===1)return c[0];if(c.length>1)switch(r){case"compatible":case"earlier":return c[0];case"later":return c[c.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(r){case"earlier":return Math.min(s-h,s-d);case"compatible":case"later":return Math.max(s-h,s-d);case"reject":throw new RangeError("No such absolute time found")}}function s3(e,t,r="compatible"){return new Date(as(e,t,r))}function ls(e,t){let r=bb(e,t),n=new Date(e+r),s=n.getUTCFullYear(),h=n.getUTCMonth()+1,d=n.getUTCDate(),c=n.getUTCHours(),v=n.getUTCMinutes(),w=n.getUTCSeconds(),S=n.getUTCMilliseconds();return new Gp(s,h,d,t,r,c,v,w,S)}function so(e){return new Lr(e.calendar,e.era,e.year,e.month,e.day)}function ih(e,t){let r=0,n=0,s=0,h=0;if("timeZone"in e)({hour:r,minute:n,second:s,millisecond:h}=e);else if("hour"in e&&!t)return e;return t&&({hour:r,minute:n,second:s,millisecond:h}=t),new vv(e.calendar,e.era,e.year,e.month,e.day,r,n,s,h)}function Cn(e,t){if(e.calendar.identifier===t.identifier)return e;let r=t.fromJulianDay(e.calendar.toJulianDay(e)),n=e.copy();return n.calendar=t,n.era=r.era,n.year=r.year,n.month=r.month,n.day=r.day,Yc(n),n}function yj(e,t,r){if(e instanceof Gp)return e.timeZone===t?e:xj(e,t);let n=as(e,t,r);return ls(n,t)}function vj(e){let t=nh(e)-e.offset;return new Date(t)}function xj(e,t){let r=nh(e)-e.offset;return Cn(ls(r,t),e.calendar)}const Kf=36e5;function v0(e,t){let r=e.copy(),n="hour"in r?Sj(r,t):0;wb(r,t.years||0),r.calendar.balanceYearMonth&&r.calendar.balanceYearMonth(r,e),r.month+=t.months||0,Sb(r),l3(r),r.day+=(t.weeks||0)*7,r.day+=t.days||0,r.day+=n,_j(r),r.calendar.balanceDate&&r.calendar.balanceDate(r),r.year<1&&(r.year=1,r.month=1,r.day=1);let s=r.calendar.getYearsInEra(r);if(r.year>s){var h,d;let v=(h=(d=r.calendar).isInverseEra)===null||h===void 0?void 0:h.call(d,r);r.year=s,r.month=v?1:r.calendar.getMonthsInYear(r),r.day=v?1:r.calendar.getDaysInMonth(r)}r.month<1&&(r.month=1,r.day=1);let c=r.calendar.getMonthsInYear(r);return r.month>c&&(r.month=c,r.day=r.calendar.getDaysInMonth(r)),r.day=Math.max(1,Math.min(r.calendar.getDaysInMonth(r),r.day)),r}function wb(e,t){var r,n;!((r=(n=e.calendar).isInverseEra)===null||r===void 0)&&r.call(n,e)&&(t=-t),e.year+=t}function Sb(e){for(;e.month<1;)wb(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,wb(e,1)}function _j(e){for(;e.day<1;)e.month--,Sb(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Sb(e)}function l3(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Yc(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),l3(e)}function c3(e){let t={};for(let r in e)typeof e[r]=="number"&&(t[r]=-e[r]);return t}function u3(e,t){return v0(e,c3(t))}function F2(e,t){let r=e.copy();return t.era!=null&&(r.era=t.era),t.year!=null&&(r.year=t.year),t.month!=null&&(r.month=t.month),t.day!=null&&(r.day=t.day),Yc(r),r}function yv(e,t){let r=e.copy();return t.hour!=null&&(r.hour=t.hour),t.minute!=null&&(r.minute=t.minute),t.second!=null&&(r.second=t.second),t.millisecond!=null&&(r.millisecond=t.millisecond),wj(r),r}function bj(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Yg(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Yg(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Yg(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Yg(e.hour,24),t}function wj(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function Yg(e,t){let r=e%t;return r<0&&(r+=t),r}function Sj(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,bj(e)}function B2(e,t,r,n){let s=e.copy();switch(t){case"era":{let c=e.calendar.getEras(),v=c.indexOf(e.era);if(v<0)throw new Error("Invalid era: "+e.era);v=cs(v,r,0,c.length-1,n==null?void 0:n.round),s.era=c[v],Yc(s);break}case"year":var h,d;!((h=(d=s.calendar).isInverseEra)===null||h===void 0)&&h.call(d,s)&&(r=-r),s.year=cs(e.year,r,-1/0,9999,n==null?void 0:n.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,e);break;case"month":s.month=cs(e.month,r,1,e.calendar.getMonthsInYear(e),n==null?void 0:n.round);break;case"day":s.day=cs(e.day,r,1,e.calendar.getDaysInMonth(e),n==null?void 0:n.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(s),Yc(s),s}function d3(e,t,r,n){let s=e.copy();switch(t){case"hour":{let h=e.hour,d=0,c=23;if((n==null?void 0:n.hourCycle)===12){let v=h>=12;d=v?12:0,c=v?23:11}s.hour=cs(h,r,d,c,n==null?void 0:n.round);break}case"minute":s.minute=cs(e.minute,r,0,59,n==null?void 0:n.round);break;case"second":s.second=cs(e.second,r,0,59,n==null?void 0:n.round);break;case"millisecond":s.millisecond=cs(e.millisecond,r,0,999,n==null?void 0:n.round);break;default:throw new Error("Unsupported field "+t)}return s}function cs(e,t,r,n,s=!1){if(s){e+=Math.sign(t),e<r&&(e=n);let h=Math.abs(t);t>0?e=Math.ceil(e/h)*h:e=Math.floor(e/h)*h,e>n&&(e=r)}else e+=t,e<r?e=n-(r-e-1):e>n&&(e=r+(e-n-1));return e}function h3(e,t){let r;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let s=v0(ih(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});r=as(s,e.timeZone)}else r=nh(e)-e.offset;r+=t.milliseconds||0,r+=(t.seconds||0)*1e3,r+=(t.minutes||0)*6e4,r+=(t.hours||0)*36e5;let n=ls(r,e.timeZone);return Cn(n,e.calendar)}function Pj(e,t){return h3(e,c3(t))}function Tj(e,t,r,n){switch(t){case"hour":{let s=0,h=23;if((n==null?void 0:n.hourCycle)===12){let B=e.hour>=12;s=B?12:0,h=B?23:11}let d=ih(e),c=Cn(yv(d,{hour:s}),new ga),v=[as(c,e.timeZone,"earlier"),as(c,e.timeZone,"later")].filter(B=>ls(B,e.timeZone).day===c.day)[0],w=Cn(yv(d,{hour:h}),new ga),S=[as(w,e.timeZone,"earlier"),as(w,e.timeZone,"later")].filter(B=>ls(B,e.timeZone).day===w.day).pop(),T=nh(e)-e.offset,C=Math.floor(T/Kf),D=T%Kf;return T=cs(C,r,Math.floor(v/Kf),Math.floor(S/Kf),n==null?void 0:n.round)*Kf+D,Cn(ls(T,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return d3(e,t,r,n);case"era":case"year":case"month":case"day":{let s=B2(ih(e),t,r,n),h=as(s,e.timeZone);return Cn(ls(h,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function Cj(e,t,r){let n=ih(e),s=yv(F2(n,t),t);if(s.compare(n)===0)return e;let h=as(s,e.timeZone,r);return Cn(ls(h,e.timeZone),e.calendar)}const Ej=/^(\d{4})-(\d{2})-(\d{2})$/;function kj(e){let t=e.match(Ej);if(!t)throw new Error("Invalid ISO 8601 date string: "+e);let r=new Lr(E1(t[1],0,9999),E1(t[2],1,12),1);return r.day=E1(t[3],0,r.calendar.getDaysInMonth(r)),r}function E1(e,t,r){let n=Number(e);if(n<t||n>r)throw new RangeError(`Value out of range: ${t} <= ${n} <= ${r}`);return n}function Aj(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function f3(e){let t=Cn(e,new ga);return`${String(t.year).padStart(4,"0")}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function p3(e){return`${f3(e)}T${Aj(e)}`}function Ij(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let r=Math.floor(e/36e5),n=e%36e5/6e4;return`${t}${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function Mj(e){return`${p3(e)}${Ij(e.offset)}[${e.timeZone}]`}function N2(e){let t=typeof e[0]=="object"?e.shift():new ga,r;if(typeof e[0]=="string")r=e.shift();else{let d=t.getEras();r=d[d.length-1]}let n=e.shift(),s=e.shift(),h=e.shift();return[t,r,n,s,h]}var Dj=new WeakMap;class Lr{copy(){return this.era?new Lr(this.calendar,this.era,this.year,this.month,this.day):new Lr(this.calendar,this.year,this.month,this.day)}add(t){return v0(this,t)}subtract(t){return u3(this,t)}set(t){return F2(this,t)}cycle(t,r,n){return B2(this,t,r,n)}toDate(t){return s3(this,t)}toString(){return f3(this)}compare(t){return n3(this,t)}constructor(...t){m0(this,Dj,{writable:!0,value:void 0});let[r,n,s,h,d]=N2(t);this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,Yc(this)}}var $j=new WeakMap;class vv{copy(){return this.era?new vv(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new vv(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return v0(this,t)}subtract(t){return u3(this,t)}set(t){return F2(yv(this,t),t)}cycle(t,r,n){switch(t){case"era":case"year":case"month":case"day":return B2(this,t,r,n);default:return d3(this,t,r,n)}}toDate(t,r){return s3(this,t,r)}toString(){return p3(this)}compare(t){let r=n3(this,t);return r===0?uj(this,ih(t)):r}constructor(...t){m0(this,$j,{writable:!0,value:void 0});let[r,n,s,h,d]=N2(t);this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Yc(this)}}var Rj=new WeakMap;class Gp{copy(){return this.era?new Gp(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Gp(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return h3(this,t)}subtract(t){return Pj(this,t)}set(t,r){return Cj(this,t,r)}cycle(t,r,n){return Tj(this,t,r,n)}toDate(){return vj(this)}toString(){return Mj(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-yj(t,this.timeZone).toDate().getTime()}constructor(...t){m0(this,Rj,{writable:!0,value:void 0});let[r,n,s,h,d]=N2(t),c=t.shift(),v=t.shift();this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,this.timeZone=c,this.offset=v,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Yc(this)}}const Od=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],Lj=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],My=[1867,1911,1925,1988,2018],dl=["meiji","taisho","showa","heisei","reiwa"];function dE(e){const t=Od.findIndex(([r,n,s])=>e.year<r||e.year===r&&e.month<n||e.year===r&&e.month===n&&e.day<s);return t===-1?Od.length-1:t===0?0:t-1}function k1(e){let t=My[dl.indexOf(e.era)];if(!t)throw new Error("Unknown era: "+e.era);return new Lr(e.year+t,e.month,e.day)}class zj extends ga{fromJulianDay(t){let r=super.fromJulianDay(t),n=dE(r);return new Lr(this,dl[n],r.year-My[n],r.month,r.day)}toJulianDay(t){return super.toJulianDay(k1(t))}balanceDate(t){let r=k1(t),n=dE(r);dl[n]!==t.era&&(t.era=dl[n],t.year=r.year-My[n]),this.constrainDate(t)}constrainDate(t){let r=dl.indexOf(t.era),n=Lj[r];if(n!=null){let[s,h,d]=n,c=s-My[r];t.year=Math.max(1,Math.min(c,t.year)),t.year===c&&(t.month=Math.min(h,t.month),t.month===h&&(t.day=Math.min(d,t.day)))}if(t.year===1&&r>=0){let[,s,h]=Od[r];t.month=Math.max(s,t.month),t.month===s&&(t.day=Math.max(h,t.day))}}getEras(){return dl}getYearsInEra(t){let r=dl.indexOf(t.era),n=Od[r],s=Od[r+1];if(s==null)return 9999-n[0]+1;let h=s[0]-n[0];return(t.month<s[1]||t.month===s[1]&&t.day<s[2])&&h++,h}getDaysInMonth(t){return super.getDaysInMonth(k1(t))}getMinimumMonthInYear(t){let r=hE(t);return r?r[1]:1}getMinimumDayInMonth(t){let r=hE(t);return r&&t.month===r[1]?r[2]:1}constructor(...t){super(...t),this.identifier="japanese"}}function hE(e){if(e.year===1){let t=dl.indexOf(e.era);return Od[t]}}const m3=-543;class Fj extends ga{fromJulianDay(t){let r=super.fromJulianDay(t),n=hm(r.era,r.year);return new Lr(this,n-m3,r.month,r.day)}toJulianDay(t){return super.toJulianDay(fE(t))}getEras(){return["BE"]}getDaysInMonth(t){return super.getDaysInMonth(fE(t))}balanceDate(){}constructor(...t){super(...t),this.identifier="buddhist"}}function fE(e){let[t,r]=g0(e.year+m3);return new Lr(t,r,e.month,e.day)}const xv=1911;function g3(e){return e.era==="minguo"?e.year+xv:1-e.year+xv}function pE(e){let t=e-xv;return t>0?["minguo",t]:["before_minguo",1-t]}class Bj extends ga{fromJulianDay(t){let r=super.fromJulianDay(t),n=hm(r.era,r.year),[s,h]=pE(n);return new Lr(this,s,h,r.month,r.day)}toJulianDay(t){return super.toJulianDay(mE(t))}getEras(){return["before_minguo","minguo"]}balanceDate(t){let[r,n]=pE(g3(t));t.era=r,t.year=n}isInverseEra(t){return t.era==="before_minguo"}getDaysInMonth(t){return super.getDaysInMonth(mE(t))}getYearsInEra(t){return t.era==="before_minguo"?9999:9999-xv}constructor(...t){super(...t),this.identifier="roc"}}function mE(e){let[t,r]=g0(g3(e));return new Lr(t,r,e.month,e.day)}const Nj=1948321;function Oj(e){let t=e>0?e-474:e-473,r=ps(t,2820)+474;return ps((r+38)*31,128)<31}function Xg(e,t,r){let n=e>0?e-474:e-473,s=ps(n,2820)+474,h=t<=7?31*(t-1):30*(t-1)+6;return Nj-1+1029983*Math.floor(n/2820)+365*(s-1)+Math.floor((31*s-5)/128)+h+r}class jj{fromJulianDay(t){let r=t-Xg(475,1,1),n=Math.floor(r/1029983),s=ps(r,1029983),h=s===1029982?2820:Math.floor((128*s+46878)/46751),d=474+2820*n+h;d<=0&&d--;let c=t-Xg(d,1,1)+1,v=c<=186?Math.ceil(c/31):Math.ceil((c-6)/31),w=t-Xg(d,v,1)+1;return new Lr(this,d,v,w)}toJulianDay(t){return Xg(t.year,t.month,t.day)}getMonthsInYear(){return 12}getDaysInMonth(t){return t.month<=6?31:t.month<=11||Oj(t.year)?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const A1=78,gE=80;class Vj extends ga{fromJulianDay(t){let r=super.fromJulianDay(t),n=r.year-A1,s=t-Mc(r.era,r.year,1,1),h;s<gE?(n--,h=vl(r.year-1)?31:30,s+=h+155+90+10):(h=vl(r.year)?31:30,s-=gE);let d,c;if(s<h)d=1,c=s+1;else{let v=s-h;v<155?(d=Math.floor(v/31)+2,c=v%31+1):(v-=155,d=Math.floor(v/30)+7,c=v%30+1)}return new Lr(this,n,d,c)}toJulianDay(t){let r=t.year+A1,[n,s]=g0(r),h,d;return vl(s)?(h=31,d=Mc(n,s,3,21)):(h=30,d=Mc(n,s,3,22)),t.month===1?d+t.day-1:(d+=h+Math.min(t.month-2,5)*31,t.month>=8&&(d+=(t.month-7)*30),d+=t.day-1,d)}getDaysInMonth(t){return t.month===1&&vl(t.year+A1)||t.month>=2&&t.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...t){super(...t),this.identifier="indian"}}const _v=1948440,yE=1948439,Da=1300,ad=1600,Uj=460322;function bv(e,t,r,n){return n+Math.ceil(29.5*(r-1))+(t-1)*354+Math.floor((3+11*t)/30)+e-1}function y3(e,t,r){let n=Math.floor((30*(r-t)+10646)/10631),s=Math.min(12,Math.ceil((r-(29+bv(t,n,1,1)))/29.5)+1),h=r-bv(t,n,s,1)+1;return new Lr(e,n,s,h)}function vE(e){return(14+11*e)%30<11}class O2{fromJulianDay(t){return y3(this,_v,t)}toJulianDay(t){return bv(_v,t.year,t.month,t.day)}getDaysInMonth(t){let r=29+t.month%2;return t.month===12&&vE(t.year)&&r++,r}getMonthsInYear(){return 12}getDaysInYear(t){return vE(t.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class Kj extends O2{fromJulianDay(t){return y3(this,yE,t)}toJulianDay(t){return bv(yE,t.year,t.month,t.day)}constructor(...t){super(...t),this.identifier="islamic-tbla"}}const Hj="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let Pb,jd;function Dy(e){return Uj+jd[e-Da]}function ip(e,t){let r=e-Da,n=1<<11-(t-1);return Pb[r]&n?30:29}function xE(e,t){let r=Dy(e);for(let n=1;n<t;n++)r+=ip(e,n);return r}function _E(e){return jd[e+1-Da]-jd[e-Da]}class Wj extends O2{fromJulianDay(t){let r=t-_v,n=Dy(Da),s=Dy(ad);if(r<n||r>s)return super.fromJulianDay(t);{let h=Da-1,d=1,c=1;for(;c>0;){h++,c=r-Dy(h)+1;let v=_E(h);if(c===v){d=12;break}else if(c<v){let w=ip(h,d);for(d=1;c>w;)c-=w,d++,w=ip(h,d);break}}return new Lr(this,h,d,r-xE(h,d)+1)}}toJulianDay(t){return t.year<Da||t.year>ad?super.toJulianDay(t):_v+xE(t.year,t.month)+(t.day-1)}getDaysInMonth(t){return t.year<Da||t.year>ad?super.getDaysInMonth(t):ip(t.year,t.month)}getDaysInYear(t){return t.year<Da||t.year>ad?super.getDaysInYear(t):_E(t.year)}constructor(){if(super(),this.identifier="islamic-umalqura",Pb||(Pb=new Uint16Array(Uint8Array.from(atob(Hj),t=>t.charCodeAt(0)).buffer)),!jd){jd=new Uint32Array(ad-Da+1);let t=0;for(let r=Da;r<=ad;r++){jd[r-Da]=t;for(let n=1;n<=12;n++)t+=ip(r,n)}}}}const bE=347997,v3=1080,x3=24*v3,Gj=29,Zj=12*v3+793,qj=Gj*x3+Zj;function Ec(e){return ps(e*7+1,19)<7}function $y(e){let t=Math.floor((235*e-234)/19),r=12084+13753*t,n=t*29+Math.floor(r/25920);return ps(3*(n+1),7)<3&&(n+=1),n}function Yj(e){let t=$y(e-1),r=$y(e);return $y(e+1)-r===356?2:r-t===382?1:0}function _p(e){return $y(e)+Yj(e)}function _3(e){return _p(e+1)-_p(e)}function Xj(e){let t=_3(e);switch(t>380&&(t-=30),t){case 353:return 0;case 354:return 1;case 355:return 2}}function Jg(e,t){if(t>=6&&!Ec(e)&&t++,t===4||t===7||t===9||t===11||t===13)return 29;let r=Xj(e);return t===2?r===2?30:29:t===3?r===0?29:30:t===6?Ec(e)?30:0:30}class Jj{fromJulianDay(t){let r=t-bE,n=r*x3/qj,s=Math.floor((19*n+234)/235)+1,h=_p(s),d=Math.floor(r-h);for(;d<1;)s--,h=_p(s),d=Math.floor(r-h);let c=1,v=0;for(;v<d;)v+=Jg(s,c),c++;c--,v-=Jg(s,c);let w=d-v;return new Lr(this,s,c,w)}toJulianDay(t){let r=_p(t.year);for(let n=1;n<t.month;n++)r+=Jg(t.year,n);return r+t.day+bE}getDaysInMonth(t){return Jg(t.year,t.month)}getMonthsInYear(t){return Ec(t.year)?13:12}getDaysInYear(t){return _3(t.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(t,r){r.year!==t.year&&(Ec(r.year)&&!Ec(t.year)&&r.month>6?t.month--:!Ec(r.year)&&Ec(t.year)&&r.month>6&&t.month++)}constructor(){this.identifier="hebrew"}}const Tb=1723856,wE=1824665,Cb=5500;function wv(e,t,r,n){return e+365*t+Math.floor(t/4)+30*(r-1)+n-1}function j2(e,t){let r=Math.floor(4*(t-e)/1461),n=1+Math.floor((t-wv(e,r,1,1))/30),s=t+1-wv(e,r,n,1);return[r,n,s]}function b3(e){return Math.floor(e%4/3)}function w3(e,t){return t%13!==0?30:b3(e)+5}class V2{fromJulianDay(t){let[r,n,s]=j2(Tb,t),h="AM";return r<=0&&(h="AA",r+=Cb),new Lr(this,h,r,n,s)}toJulianDay(t){let r=t.year;return t.era==="AA"&&(r-=Cb),wv(Tb,r,t.month,t.day)}getDaysInMonth(t){return w3(t.year,t.month)}getMonthsInYear(){return 13}getDaysInYear(t){return 365+b3(t.year)}getYearsInEra(t){return t.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class Qj extends V2{fromJulianDay(t){let[r,n,s]=j2(Tb,t);return r+=Cb,new Lr(this,"AA",r,n,s)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...t){super(...t),this.identifier="ethioaa"}}class e7 extends V2{fromJulianDay(t){let[r,n,s]=j2(wE,t),h="CE";return r<=0&&(h="BCE",r=1-r),new Lr(this,h,r,n,s)}toJulianDay(t){let r=t.year;return t.era==="BCE"&&(r=1-r),wv(wE,r,t.month,t.day)}getDaysInMonth(t){let r=t.year;return t.era==="BCE"&&(r=1-r),w3(r,t.month)}isInverseEra(t){return t.era==="BCE"}balanceDate(t){t.year<=0&&(t.era=t.era==="BCE"?"CE":"BCE",t.year=1-t.year)}getEras(){return["BCE","CE"]}getYearsInEra(t){return t.era==="BCE"?9999:9715}constructor(...t){super(...t),this.identifier="coptic"}}function S3(e){switch(e){case"buddhist":return new Fj;case"ethiopic":return new V2;case"ethioaa":return new Qj;case"coptic":return new e7;case"hebrew":return new Jj;case"indian":return new Vj;case"islamic-civil":return new O2;case"islamic-tbla":return new Kj;case"islamic-umalqura":return new Wj;case"japanese":return new zj;case"persian":return new jj;case"roc":return new Bj;case"gregory":default:return new ga}}let I1=new Map;class P3{format(t){return this.formatter.format(t)}formatToParts(t){return this.formatter.formatToParts(t)}formatRange(t,r){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.formatter.format(t)} – ${this.formatter.format(r)}`}formatRangeToParts(t,r){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(t),s=this.formatter.formatToParts(r);return[...n.map(h=>({...h,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(h=>({...h,source:"endRange"}))]}resolvedOptions(){let t=this.formatter.resolvedOptions();return n7()&&(this.resolvedHourCycle||(this.resolvedHourCycle=i7(t.locale,this.options)),t.hourCycle=this.resolvedHourCycle,t.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),t.calendar==="ethiopic-amete-alem"&&(t.calendar="ethioaa"),t}constructor(t,r={}){this.formatter=T3(t,r),this.options=r}}const t7={true:{ja:"h11"},false:{}};function T3(e,t={}){if(typeof t.hour12=="boolean"&&r7()){t={...t};let s=t7[String(t.hour12)][e.split("-")[0]],h=t.hour12?"h12":"h23";t.hourCycle=s??h,delete t.hour12}let r=e+(t?Object.entries(t).sort((s,h)=>s[0]<h[0]?-1:1).join():"");if(I1.has(r))return I1.get(r);let n=new Intl.DateTimeFormat(e,t);return I1.set(r,n),n}let M1=null;function r7(){return M1==null&&(M1=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),M1}let D1=null;function n7(){return D1==null&&(D1=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),D1}function i7(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let r=T3(e,{...t,timeZone:void 0}),n=parseInt(r.formatToParts(new Date(2020,2,3,0)).find(h=>h.type==="hour").value,10),s=parseInt(r.formatToParts(new Date(2020,2,3,23)).find(h=>h.type==="hour").value,10);if(n===0&&s===23)return"h23";if(n===24&&s===23)return"h24";if(n===0&&s===11)return"h11";if(n===12&&s===11)return"h12";throw new Error("Unexpected hour cycle result")}function ws(e,t,r){let[n,s]=z.useState(e||t),h=z.useRef(e!==void 0),d=e!==void 0;z.useEffect(()=>{let w=h.current;w!==d&&console.warn(`WARN: A component changed from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}.`),h.current=d},[d]);let c=d?e:n,v=z.useCallback((w,...S)=>{let T=(C,...D)=>{r&&(Object.is(c,C)||r(C,...D)),d||(c=C)};typeof w=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),s((D,...B)=>{let V=w(d?c:D,...B);return T(V,...S),d?D:V})):(d||s(w),T(w,...S))},[d,c,r]);return[c,v]}function Eb(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function C3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=C3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function a7(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=C3(e))&&(n&&(n+=" "),n+=t);return n}const fn=typeof document<"u"?Qt.useLayoutEffect:()=>{};function no(e){const t=z.useRef(null);return fn(()=>{t.current=e},[e]),z.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function o7(e){let[t,r]=z.useState(e),n=z.useRef(null),s=no(()=>{if(!n.current)return;let d=n.current.next();if(d.done){n.current=null;return}t===d.value?s():r(d.value)});fn(()=>{n.current&&s()});let h=no(d=>{n.current=d(t),s()});return[t,h]}let s7=!!(typeof window<"u"&&window.document&&window.document.createElement),Sv=new Map;function fm(e){let[t,r]=z.useState(e),n=z.useRef(null),s=XO(t),h=z.useCallback(d=>{n.current=d},[]);return s7&&Sv.set(s,h),fn(()=>{let d=s;return()=>{Sv.delete(d)}},[s]),z.useEffect(()=>{let d=n.current;d&&(n.current=null,r(d))}),s}function l7(e,t){if(e===t)return e;let r=Sv.get(e);if(r)return r(t),t;let n=Sv.get(t);return n?(n(e),e):t}function bp(e=[]){let t=fm(),[r,n]=o7(t),s=z.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return fn(s,[t,s,...e]),r}function Ss(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const Zr=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},io=e=>e&&"window"in e&&e.window===e?e:Zr(e).defaultView||window;function Ut(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let s in n){let h=t[s],d=n[s];typeof h=="function"&&typeof d=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=Ss(h,d):(s==="className"||s==="UNSAFE_className")&&typeof h=="string"&&typeof d=="string"?t[s]=a7(h,d):s==="id"&&h&&d?t.id=l7(h,d):t[s]=d!==void 0?d:h}}return t}function c7(...e){return e.length===1?e[0]:t=>{for(let r of e)typeof r=="function"?r(t):r!=null&&(r.current=t)}}const u7=new Set(["id"]),d7=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),h7=new Set(["href","target","rel","download","ping","referrerPolicy"]),f7=/^(data-.*)$/;function mh(e,t={}){let{labelable:r,isLink:n,propNames:s}=t,h={};for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&(u7.has(d)||r&&d7.has(d)||n&&h7.has(d)||s!=null&&s.has(d)||f7.test(d))&&(h[d]=e[d]);return h}function Ao(e){if(p7())e.focus({preventScroll:!0});else{let t=m7(e);e.focus(),g7(t)}}let Qg=null;function p7(){if(Qg==null){Qg=!1;try{document.createElement("div").focus({get preventScroll(){return Qg=!0,!0}})}catch{}}return Qg}function m7(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function g7(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function x0(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function U2(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Xc(){return U2(/^Mac/i)}function y7(){return U2(/^iPhone/i)}function E3(){return U2(/^iPad/i)||Xc()&&navigator.maxTouchPoints>1}function K2(){return y7()||E3()}function v7(){return Xc()||K2()}function k3(){return x0(/AppleWebKit/i)&&!x7()}function x7(){return x0(/Chrome/i)}function A3(){return x0(/Android/i)}function _7(){return x0(/Firefox/i)}const I3=z.createContext({isNative:!0,open:w7});function b7(e){let{children:t,navigate:r}=e,n=z.useMemo(()=>({isNative:!1,open:(s,h)=>{D3(s,d=>{M3(d,h)?r(d.pathname+d.search+d.hash):Ll(d,h)})}}),[r]);return Qt.createElement(I3.Provider,{value:n},t)}function _0(){return z.useContext(I3)}function M3(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function Ll(e,t,r=!0){var n,s;let{metaKey:h,ctrlKey:d,altKey:c,shiftKey:v}=t;_7()&&(!((s=window.event)===null||s===void 0||(n=s.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Xc()?h=!0:d=!0);let w=k3()&&Xc()&&!E3()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:h,ctrlKey:d,altKey:c,shiftKey:v}):new MouseEvent("click",{metaKey:h,ctrlKey:d,altKey:c,shiftKey:v,bubbles:!0,cancelable:!0});Ll.isOpening=r,Ao(e),e.dispatchEvent(w),Ll.isOpening=!1}Ll.isOpening=!1;function D3(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function w7(e,t){D3(e,r=>Ll(r,t))}let hd=new Map,kb=new Set;function SE(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let s=hd.get(n.target);s||(s=new Set,hd.set(n.target,s),n.target.addEventListener("transitioncancel",r,{once:!0})),s.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let s=hd.get(n.target);if(s&&(s.delete(n.propertyName),s.size===0&&(n.target.removeEventListener("transitioncancel",r),hd.delete(n.target)),hd.size===0)){for(let h of kb)h();kb.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?SE():document.addEventListener("DOMContentLoaded",SE));function $3(e){requestAnimationFrame(()=>{hd.size===0?e():kb.add(e)})}function R3(){let e=z.useRef(new Map),t=z.useCallback((s,h,d,c)=>{let v=c!=null&&c.once?(...w)=>{e.current.delete(d),d(...w)}:d;e.current.set(d,{type:h,eventTarget:s,fn:v,options:c}),s.addEventListener(h,d,c)},[]),r=z.useCallback((s,h,d,c)=>{var v;let w=((v=e.current.get(d))===null||v===void 0?void 0:v.fn)||d;s.removeEventListener(h,w,c),e.current.delete(d)},[]),n=z.useCallback(()=>{e.current.forEach((s,h)=>{r(s.eventTarget,s.type,h,s.options)})},[r]);return z.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function H2(e,t){let{id:r,"aria-label":n,"aria-labelledby":s}=e;return r=fm(r),s&&n?s=[...new Set([r,...s.trim().split(/\s+/)])].join(" "):s&&(s=s.trim().split(/\s+/).join(" ")),!n&&!s&&t&&(n=t),{id:r,"aria-label":n,"aria-labelledby":s}}function PE(e,t){const r=z.useRef(!0),n=z.useRef(null);z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),z.useEffect(()=>{r.current?r.current=!1:(!n.current||t.some((s,h)=>!Object.is(s,n[h])))&&e(),n.current=t},t)}function S7(){return typeof window.ResizeObserver<"u"}function L3(e){const{ref:t,onResize:r}=e;z.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(S7()){const s=new window.ResizeObserver(h=>{h.length&&r()});return s.observe(n),()=>{n&&s.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t])}function z3(e,t){fn(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Ab(e,t){let r=e;for(Pv(r,t)&&(r=r.parentElement);r&&!Pv(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function Pv(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}let P7=0;const $1=new Map;function F3(e){let[t,r]=z.useState();return fn(()=>{if(!e)return;let n=$1.get(e);if(n)r(n.element.id);else{let s=`react-aria-description-${P7++}`;r(s);let h=document.createElement("div");h.id=s,h.style.display="none",h.textContent=e,document.body.appendChild(h),n={refCount:0,element:h},$1.set(e,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),$1.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function ap(e,t,r,n){let s=no(r),h=r==null;z.useEffect(()=>{if(h||!e.current)return;let d=e.current;return d.addEventListener(t,s,n),()=>{d.removeEventListener(t,s,n)}},[e,t,n,h,s])}function B3(e,t){let r=TE(e,t,"left"),n=TE(e,t,"top"),s=t.offsetWidth,h=t.offsetHeight,d=e.scrollLeft,c=e.scrollTop,{borderTopWidth:v,borderLeftWidth:w}=getComputedStyle(e),S=e.scrollLeft+parseInt(w,10),T=e.scrollTop+parseInt(v,10),C=S+e.clientWidth,D=T+e.clientHeight;r<=d?d=r-parseInt(w,10):r+s>C&&(d+=r+s-C),n<=T?c=n-parseInt(v,10):n+h>D&&(c+=n+h-D),e.scrollLeft=d,e.scrollTop=c}function TE(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let s=0;for(;t.offsetParent&&(s+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){s-=e[n];break}t=t.offsetParent}return s}function Ib(e,t){if(document.contains(e)){let d=document.scrollingElement||document.documentElement;if(window.getComputedStyle(d).overflow==="hidden"){let v=Ab(e);for(;e&&v&&e!==d&&v!==d;)B3(v,e),e=v,v=Ab(e)}else{var r;let{left:v,top:w}=e.getBoundingClientRect();e==null||(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"});let{left:S,top:T}=e.getBoundingClientRect();if(Math.abs(v-S)>1||Math.abs(w-T)>1){var n,s,h;t==null||(s=t.containingElement)===null||s===void 0||(n=s.scrollIntoView)===null||n===void 0||n.call(s,{block:"center",inline:"center"}),(h=e.scrollIntoView)===null||h===void 0||h.call(e,{block:"nearest"})}}}}function Mb(e){return e.mozInputSource===0&&e.isTrusted?!0:A3()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function T7(e){return!A3()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function N3(e,t){let r=z.useRef(null);return e&&r.current&&t(e,r.current)&&(e=r.current),r.current=e,e}const C7=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),E7=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function O3(e){if(Intl.Locale){let r=new Intl.Locale(e).maximize(),n=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(n)return n.direction==="rtl";if(r.script)return C7.has(r.script)}let t=e.split("-")[0];return E7.has(t)}const k7=Symbol.for("react-aria.i18n.locale");function j3(){let e=typeof window<"u"&&window[k7]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:O3(e)?"rtl":"ltr"}}let Db=j3(),op=new Set;function CE(){Db=j3();for(let e of op)e(Db)}function V3(){let e=f0(),[t,r]=z.useState(Db);return z.useEffect(()=>(op.size===0&&window.addEventListener("languagechange",CE),op.add(r),()=>{op.delete(r),op.size===0&&window.removeEventListener("languagechange",CE)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const U3=Qt.createContext(null);function A7(e){let{locale:t,children:r}=e,n=V3(),s=t?{locale:t,direction:O3(t)?"rtl":"ltr"}:n;return Qt.createElement(U3.Provider,{value:s},r)}function co(){let e=V3();return z.useContext(U3)||e}const EE=new WeakMap;function I7(e){let t=EE.get(e);return t||(t=new p0(e),EE.set(e,t)),t}function M7(e,t){return t&&p0.getGlobalDictionaryForPackage(t)||I7(e)}function gh(e,t){let{locale:r}=co(),n=M7(e,t);return z.useMemo(()=>new aj(r,n),[r,n])}function Ps(e){e=N3(e??{},D7);let{locale:t}=co();return z.useMemo(()=>new P3(t,e),[t,e])}function D7(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s of r)if(t[s]!==e[s])return!1;return!0}let R1=new Map;function $7(e){let{locale:t}=co(),r=t+(e?Object.entries(e).sort((s,h)=>s[0]<h[0]?-1:1).join():"");if(R1.has(r))return R1.get(r);let n=new Intl.Collator(t,e);return R1.set(r,n),n}var ko=function(){return ko=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(t[h]=r[h])}return t},ko.apply(this,arguments)};function K3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function R7(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,h;n<s;n++)(h||!(n in t))&&(h||(h=Array.prototype.slice.call(t,0,n)),h[n]=t[n]);return e.concat(h||Array.prototype.slice.call(t))}var H3={};H3={dismiss:"تجاهل"};var W3={};W3={dismiss:"Отхвърляне"};var G3={};G3={dismiss:"Odstranit"};var Z3={};Z3={dismiss:"Luk"};var q3={};q3={dismiss:"Schließen"};var Y3={};Y3={dismiss:"Απόρριψη"};var X3={};X3={dismiss:"Dismiss"};var J3={};J3={dismiss:"Descartar"};var Q3={};Q3={dismiss:"Lõpeta"};var eD={};eD={dismiss:"Hylkää"};var tD={};tD={dismiss:"Rejeter"};var rD={};rD={dismiss:"התעלם"};var nD={};nD={dismiss:"Odbaci"};var iD={};iD={dismiss:"Elutasítás"};var aD={};aD={dismiss:"Ignora"};var oD={};oD={dismiss:"閉じる"};var sD={};sD={dismiss:"무시"};var lD={};lD={dismiss:"Atmesti"};var cD={};cD={dismiss:"Nerādīt"};var uD={};uD={dismiss:"Lukk"};var dD={};dD={dismiss:"Negeren"};var hD={};hD={dismiss:"Zignoruj"};var fD={};fD={dismiss:"Descartar"};var pD={};pD={dismiss:"Dispensar"};var mD={};mD={dismiss:"Revocare"};var gD={};gD={dismiss:"Пропустить"};var yD={};yD={dismiss:"Zrušiť"};var vD={};vD={dismiss:"Opusti"};var xD={};xD={dismiss:"Odbaci"};var _D={};_D={dismiss:"Avvisa"};var bD={};bD={dismiss:"Kapat"};var wD={};wD={dismiss:"Скасувати"};var SD={};SD={dismiss:"取消"};var PD={};PD={dismiss:"關閉"};function L7(e,t){return t.get?t.get.call(e):t.value}function TD(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function z7(e,t){var r=TD(e,t,"get");return L7(e,r)}function F7(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function kE(e,t,r){var n=TD(e,t,"set");return F7(e,n,r),r}let Ed="default",$b="",Ry=new WeakMap;function AE(e){if(K2()){if(Ed==="default"){const t=Zr(e);$b=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Ed="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(Ry.set(e,e.style.userSelect),e.style.userSelect="none")}function ey(e){if(K2()){if(Ed!=="disabled")return;Ed="restoring",setTimeout(()=>{$3(()=>{if(Ed==="restoring"){const t=Zr(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=$b||""),$b="",Ed="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Ry.has(e)){let t=Ry.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),Ry.delete(e)}}const W2=Qt.createContext({register:()=>{}});W2.displayName="PressResponderContext";function B7(e){let t=z.useContext(W2);if(t){let{register:r,...n}=t;e=Ut(n,e),r()}return z3(t,e.ref),e}var ty=new WeakMap;class ry{continuePropagation(){kE(this,ty,!1)}get shouldStopPropagation(){return z7(this,ty)}constructor(t,r,n){m0(this,ty,{writable:!0,value:void 0}),kE(this,ty,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const IE=Symbol("linkClicked");function yh(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:s,onPressUp:h,isDisabled:d,isPressed:c,preventFocusOnPress:v,shouldCancelOnPointerExit:w,allowTextSelectionOnPress:S,ref:T,...C}=B7(e),[D,B]=z.useState(!1),V=z.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:Y,removeAllGlobalListeners:U}=R3(),F=no((Z,me)=>{let xe=V.current;if(d||xe.didFirePressStart)return!1;let se=!0;if(xe.isTriggeringEvent=!0,n){let Te=new ry("pressstart",me,Z);n(Te),se=Te.shouldStopPropagation}return r&&r(!0),xe.isTriggeringEvent=!1,xe.didFirePressStart=!0,B(!0),se}),O=no((Z,me,xe=!0)=>{let se=V.current;if(!se.didFirePressStart)return!1;se.ignoreClickAfterPress=!0,se.didFirePressStart=!1,se.isTriggeringEvent=!0;let Te=!0;if(s){let ge=new ry("pressend",me,Z);s(ge),Te=ge.shouldStopPropagation}if(r&&r(!1),B(!1),t&&xe&&!d){let ge=new ry("press",me,Z);t(ge),Te&&(Te=ge.shouldStopPropagation)}return se.isTriggeringEvent=!1,Te}),ee=no((Z,me)=>{let xe=V.current;if(d)return!1;if(h){xe.isTriggeringEvent=!0;let se=new ry("pressup",me,Z);return h(se),xe.isTriggeringEvent=!1,se.shouldStopPropagation}return!0}),ie=no(Z=>{let me=V.current;me.isPressed&&me.target&&(me.isOverTarget&&me.pointerType!=null&&O(es(me.target,Z),me.pointerType,!1),me.isPressed=!1,me.isOverTarget=!1,me.activePointerId=null,me.pointerType=null,U(),S||ey(me.target))}),fe=no(Z=>{w&&ie(Z)}),we=z.useMemo(()=>{let Z=V.current,me={onKeyDown(se){if(L1(se.nativeEvent,se.currentTarget)&&se.currentTarget.contains(se.target)){var Te;DE(se.target,se.key)&&se.preventDefault();let ge=!0;if(!Z.isPressed&&!se.repeat){Z.target=se.currentTarget,Z.isPressed=!0,ge=F(se,"keyboard");let ve=se.currentTarget,Be=Le=>{L1(Le,ve)&&!Le.repeat&&ve.contains(Le.target)&&Z.target&&ee(es(Z.target,Le),"keyboard")};Y(Zr(se.currentTarget),"keyup",Ss(Be,xe),!0)}ge&&se.stopPropagation(),se.metaKey&&Xc()&&((Te=Z.metaKeyEvents)===null||Te===void 0||Te.set(se.key,se.nativeEvent))}else se.key==="Meta"&&(Z.metaKeyEvents=new Map)},onClick(se){if(!(se&&!se.currentTarget.contains(se.target))&&se&&se.button===0&&!Z.isTriggeringEvent&&!Ll.isOpening){let Te=!0;if(d&&se.preventDefault(),!Z.ignoreClickAfterPress&&!Z.ignoreEmulatedMouseEvents&&!Z.isPressed&&(Z.pointerType==="virtual"||Mb(se.nativeEvent))){!d&&!v&&Ao(se.currentTarget);let ge=F(se,"virtual"),ve=ee(se,"virtual"),Be=O(se,"virtual");Te=ge&&ve&&Be}Z.ignoreEmulatedMouseEvents=!1,Z.ignoreClickAfterPress=!1,Te&&se.stopPropagation()}}},xe=se=>{var Te;if(Z.isPressed&&Z.target&&L1(se,Z.target)){var ge;DE(se.target,se.key)&&se.preventDefault();let Be=se.target;O(es(Z.target,se),"keyboard",Z.target.contains(Be)),U(),se.key!=="Enter"&&G2(Z.target)&&Z.target.contains(Be)&&!se[IE]&&(se[IE]=!0,Ll(Z.target,se,!1)),Z.isPressed=!1,(ge=Z.metaKeyEvents)===null||ge===void 0||ge.delete(se.key)}else if(se.key==="Meta"&&(!((Te=Z.metaKeyEvents)===null||Te===void 0)&&Te.size)){var ve;let Be=Z.metaKeyEvents;Z.metaKeyEvents=void 0;for(let Le of Be.values())(ve=Z.target)===null||ve===void 0||ve.dispatchEvent(new KeyboardEvent("keyup",Le))}};if(typeof PointerEvent<"u"){me.onPointerDown=ve=>{if(ve.button!==0||!ve.currentTarget.contains(ve.target))return;if(T7(ve.nativeEvent)){Z.pointerType="virtual";return}z1(ve.currentTarget)&&ve.preventDefault(),Z.pointerType=ve.pointerType;let Be=!0;Z.isPressed||(Z.isPressed=!0,Z.isOverTarget=!0,Z.activePointerId=ve.pointerId,Z.target=ve.currentTarget,!d&&!v&&Ao(ve.currentTarget),S||AE(Z.target),Be=F(ve,Z.pointerType),Y(Zr(ve.currentTarget),"pointermove",se,!1),Y(Zr(ve.currentTarget),"pointerup",Te,!1),Y(Zr(ve.currentTarget),"pointercancel",ge,!1)),Be&&ve.stopPropagation()},me.onMouseDown=ve=>{ve.currentTarget.contains(ve.target)&&ve.button===0&&(z1(ve.currentTarget)&&ve.preventDefault(),ve.stopPropagation())},me.onPointerUp=ve=>{!ve.currentTarget.contains(ve.target)||Z.pointerType==="virtual"||ve.button===0&&od(ve,ve.currentTarget)&&ee(ve,Z.pointerType||ve.pointerType)};let se=ve=>{ve.pointerId===Z.activePointerId&&(Z.target&&od(ve,Z.target)?!Z.isOverTarget&&Z.pointerType!=null&&(Z.isOverTarget=!0,F(es(Z.target,ve),Z.pointerType)):Z.target&&Z.isOverTarget&&Z.pointerType!=null&&(Z.isOverTarget=!1,O(es(Z.target,ve),Z.pointerType,!1),fe(ve)))},Te=ve=>{ve.pointerId===Z.activePointerId&&Z.isPressed&&ve.button===0&&Z.target&&(od(ve,Z.target)&&Z.pointerType!=null?O(es(Z.target,ve),Z.pointerType):Z.isOverTarget&&Z.pointerType!=null&&O(es(Z.target,ve),Z.pointerType,!1),Z.isPressed=!1,Z.isOverTarget=!1,Z.activePointerId=null,Z.pointerType=null,U(),S||ey(Z.target))},ge=ve=>{ie(ve)};me.onDragStart=ve=>{ve.currentTarget.contains(ve.target)&&ie(ve)}}else{me.onMouseDown=ge=>{if(ge.button!==0||!ge.currentTarget.contains(ge.target))return;if(z1(ge.currentTarget)&&ge.preventDefault(),Z.ignoreEmulatedMouseEvents){ge.stopPropagation();return}Z.isPressed=!0,Z.isOverTarget=!0,Z.target=ge.currentTarget,Z.pointerType=Mb(ge.nativeEvent)?"virtual":"mouse",!d&&!v&&Ao(ge.currentTarget),F(ge,Z.pointerType)&&ge.stopPropagation(),Y(Zr(ge.currentTarget),"mouseup",se,!1)},me.onMouseEnter=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ve=!0;Z.isPressed&&!Z.ignoreEmulatedMouseEvents&&Z.pointerType!=null&&(Z.isOverTarget=!0,ve=F(ge,Z.pointerType)),ve&&ge.stopPropagation()},me.onMouseLeave=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ve=!0;Z.isPressed&&!Z.ignoreEmulatedMouseEvents&&Z.pointerType!=null&&(Z.isOverTarget=!1,ve=O(ge,Z.pointerType,!1),fe(ge)),ve&&ge.stopPropagation()},me.onMouseUp=ge=>{ge.currentTarget.contains(ge.target)&&!Z.ignoreEmulatedMouseEvents&&ge.button===0&&ee(ge,Z.pointerType||"mouse")};let se=ge=>{if(ge.button===0){if(Z.isPressed=!1,U(),Z.ignoreEmulatedMouseEvents){Z.ignoreEmulatedMouseEvents=!1;return}Z.target&&od(ge,Z.target)&&Z.pointerType!=null?O(es(Z.target,ge),Z.pointerType):Z.target&&Z.isOverTarget&&Z.pointerType!=null&&O(es(Z.target,ge),Z.pointerType,!1),Z.isOverTarget=!1}};me.onTouchStart=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ve=N7(ge.nativeEvent);if(!ve)return;Z.activePointerId=ve.identifier,Z.ignoreEmulatedMouseEvents=!0,Z.isOverTarget=!0,Z.isPressed=!0,Z.target=ge.currentTarget,Z.pointerType="touch",!d&&!v&&Ao(ge.currentTarget),S||AE(Z.target),F(ge,Z.pointerType)&&ge.stopPropagation(),Y(io(ge.currentTarget),"scroll",Te,!0)},me.onTouchMove=ge=>{if(!ge.currentTarget.contains(ge.target))return;if(!Z.isPressed){ge.stopPropagation();return}let ve=ME(ge.nativeEvent,Z.activePointerId),Be=!0;ve&&od(ve,ge.currentTarget)?!Z.isOverTarget&&Z.pointerType!=null&&(Z.isOverTarget=!0,Be=F(ge,Z.pointerType)):Z.isOverTarget&&Z.pointerType!=null&&(Z.isOverTarget=!1,Be=O(ge,Z.pointerType,!1),fe(ge)),Be&&ge.stopPropagation()},me.onTouchEnd=ge=>{if(!ge.currentTarget.contains(ge.target))return;if(!Z.isPressed){ge.stopPropagation();return}let ve=ME(ge.nativeEvent,Z.activePointerId),Be=!0;ve&&od(ve,ge.currentTarget)&&Z.pointerType!=null?(ee(ge,Z.pointerType),Be=O(ge,Z.pointerType)):Z.isOverTarget&&Z.pointerType!=null&&(Be=O(ge,Z.pointerType,!1)),Be&&ge.stopPropagation(),Z.isPressed=!1,Z.activePointerId=null,Z.isOverTarget=!1,Z.ignoreEmulatedMouseEvents=!0,Z.target&&!S&&ey(Z.target),U()},me.onTouchCancel=ge=>{ge.currentTarget.contains(ge.target)&&(ge.stopPropagation(),Z.isPressed&&ie(ge))};let Te=ge=>{Z.isPressed&&ge.target.contains(Z.target)&&ie({currentTarget:Z.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};me.onDragStart=ge=>{ge.currentTarget.contains(ge.target)&&ie(ge)}}return me},[Y,d,v,U,S,ie,fe,O,F,ee]);return z.useEffect(()=>()=>{var Z;S||ey((Z=V.current.target)!==null&&Z!==void 0?Z:void 0)},[S]),{isPressed:c||D,pressProps:Ut(C,we)}}function G2(e){return e.tagName==="A"&&e.hasAttribute("href")}function L1(e,t){const{key:r,code:n}=e,s=t,h=s.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(s instanceof io(s).HTMLInputElement&&!CD(s,r)||s instanceof io(s).HTMLTextAreaElement||s.isContentEditable)&&!((h==="link"||!h&&G2(s))&&r!=="Enter")}function N7(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function ME(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const s=r[n];if(s.identifier===t)return s}return null}function es(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function O7(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function j7(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function od(e,t){let r=t.getBoundingClientRect(),n=O7(e);return j7(r,n)}function z1(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function DE(e,t){return e instanceof HTMLInputElement?!CD(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!G2(e)}const V7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function CD(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":V7.has(e.type)}function U7({children:e}){let t=z.useMemo(()=>({register:()=>{}}),[]);return Qt.createElement(W2.Provider,{value:t},e)}class K7{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function ED(e){let t=z.useRef({isFocused:!1,observer:null});fn(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=no(n=>{e==null||e(n)});return z.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=n.target,h=d=>{t.current.isFocused=!1,s.disabled&&r(new K7("blur",d)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",h,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var d;(d=t.current.observer)===null||d===void 0||d.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Z2(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:s}=e;const h=z.useCallback(v=>{if(v.target===v.currentTarget)return n&&n(v),s&&s(!1),!0},[n,s]),d=ED(h),c=z.useCallback(v=>{v.target===v.currentTarget&&document.activeElement===v.target&&(r&&r(v),s&&s(!0),d(v))},[s,r,d]);return{focusProps:{onFocus:!t&&(r||s||n)?c:void 0,onBlur:!t&&(n||s)?h:void 0}}}let vh=null,Rb=new Set,wp=new Map,Jc=!1,Lb=!1;const H7={Tab:!0,Escape:!0};function q2(e,t){for(let r of Rb)r(e,t)}function W7(e){return!(e.metaKey||!Xc()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Tv(e){Jc=!0,W7(e)&&(vh="keyboard",q2("keyboard",e))}function La(e){vh="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Jc=!0,q2("pointer",e))}function kD(e){Mb(e)&&(Jc=!0,vh="virtual")}function AD(e){e.target===window||e.target===document||(!Jc&&!Lb&&(vh="virtual",q2("virtual",e)),Jc=!1,Lb=!1)}function ID(){Jc=!1,Lb=!0}function zb(e){if(typeof window>"u"||wp.get(io(e)))return;const t=io(e),r=Zr(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Jc=!0,n.apply(this,arguments)},r.addEventListener("keydown",Tv,!0),r.addEventListener("keyup",Tv,!0),r.addEventListener("click",kD,!0),t.addEventListener("focus",AD,!0),t.addEventListener("blur",ID,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",La,!0),r.addEventListener("pointermove",La,!0),r.addEventListener("pointerup",La,!0)):(r.addEventListener("mousedown",La,!0),r.addEventListener("mousemove",La,!0),r.addEventListener("mouseup",La,!0)),t.addEventListener("beforeunload",()=>{MD(e)},{once:!0}),wp.set(t,{focus:n})}const MD=(e,t)=>{const r=io(e),n=Zr(e);t&&n.removeEventListener("DOMContentLoaded",t),wp.has(r)&&(r.HTMLElement.prototype.focus=wp.get(r).focus,n.removeEventListener("keydown",Tv,!0),n.removeEventListener("keyup",Tv,!0),n.removeEventListener("click",kD,!0),r.removeEventListener("focus",AD,!0),r.removeEventListener("blur",ID,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",La,!0),n.removeEventListener("pointermove",La,!0),n.removeEventListener("pointerup",La,!0)):(n.removeEventListener("mousedown",La,!0),n.removeEventListener("mousemove",La,!0),n.removeEventListener("mouseup",La,!0)),wp.delete(r))};function G7(e){const t=Zr(e);let r;return t.readyState!=="loading"?zb(e):(r=()=>{zb(e)},t.addEventListener("DOMContentLoaded",r)),()=>MD(e,r)}typeof document<"u"&&G7();function Y2(){return vh!=="pointer"}function Cv(){return vh}const Z7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function q7(e,t,r){var n;const s=typeof window<"u"?io(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,h=typeof window<"u"?io(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?io(r==null?void 0:r.target).HTMLElement:HTMLElement,c=typeof window<"u"?io(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||(r==null?void 0:r.target)instanceof s&&!Z7.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||(r==null?void 0:r.target)instanceof h||(r==null?void 0:r.target)instanceof d&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof c&&!H7[r.key])}function Y7(e,t,r){zb(),z.useEffect(()=>{let n=(s,h)=>{q7(!!(r!=null&&r.isTextInput),s,h)&&e(Y2())};return Rb.add(n),()=>{Rb.delete(n)}},t)}function X2(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:s}=e,h=z.useRef({isFocusWithin:!1}),d=z.useCallback(w=>{h.current.isFocusWithin&&!w.currentTarget.contains(w.relatedTarget)&&(h.current.isFocusWithin=!1,r&&r(w),s&&s(!1))},[r,s,h]),c=ED(d),v=z.useCallback(w=>{!h.current.isFocusWithin&&document.activeElement===w.target&&(n&&n(w),s&&s(!0),h.current.isFocusWithin=!0,c(w))},[n,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:d}}}let Ev=!1,F1=0;function Fb(){Ev=!0,setTimeout(()=>{Ev=!1},50)}function $E(e){e.pointerType==="touch"&&Fb()}function X7(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$E):document.addEventListener("touchend",Fb),F1++,()=>{F1--,!(F1>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$E):document.removeEventListener("touchend",Fb))}}function ru(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:s}=e,[h,d]=z.useState(!1),c=z.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;z.useEffect(X7,[]);let{hoverProps:v,triggerHoverEnd:w}=z.useMemo(()=>{let S=(D,B)=>{if(c.pointerType=B,s||B==="touch"||c.isHovered||!D.currentTarget.contains(D.target))return;c.isHovered=!0;let V=D.currentTarget;c.target=V,t&&t({type:"hoverstart",target:V,pointerType:B}),r&&r(!0),d(!0)},T=(D,B)=>{if(c.pointerType="",c.target=null,B==="touch"||!c.isHovered)return;c.isHovered=!1;let V=D.currentTarget;n&&n({type:"hoverend",target:V,pointerType:B}),r&&r(!1),d(!1)},C={};return typeof PointerEvent<"u"?(C.onPointerEnter=D=>{Ev&&D.pointerType==="mouse"||S(D,D.pointerType)},C.onPointerLeave=D=>{!s&&D.currentTarget.contains(D.target)&&T(D,D.pointerType)}):(C.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},C.onMouseEnter=D=>{!c.ignoreEmulatedMouseEvents&&!Ev&&S(D,"mouse"),c.ignoreEmulatedMouseEvents=!1},C.onMouseLeave=D=>{!s&&D.currentTarget.contains(D.target)&&T(D,"mouse")}),{hoverProps:C,triggerHoverEnd:T}},[t,r,n,s,c]);return z.useEffect(()=>{s&&w({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:v,isHovered:h}}function J7(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:s}=e,h=z.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),d=no(v=>{r&&ny(v,t)&&(s&&s(v),h.current.isPointerDown=!0)}),c=no(v=>{r&&r(v)});z.useEffect(()=>{let v=h.current;if(n)return;const w=t.current,S=Zr(w);if(typeof PointerEvent<"u"){let T=C=>{v.isPointerDown&&ny(C,t)&&c(C),v.isPointerDown=!1};return S.addEventListener("pointerdown",d,!0),S.addEventListener("pointerup",T,!0),()=>{S.removeEventListener("pointerdown",d,!0),S.removeEventListener("pointerup",T,!0)}}else{let T=D=>{v.ignoreEmulatedMouseEvents?v.ignoreEmulatedMouseEvents=!1:v.isPointerDown&&ny(D,t)&&c(D),v.isPointerDown=!1},C=D=>{v.ignoreEmulatedMouseEvents=!0,v.isPointerDown&&ny(D,t)&&c(D),v.isPointerDown=!1};return S.addEventListener("mousedown",d,!0),S.addEventListener("mouseup",T,!0),S.addEventListener("touchstart",d,!0),S.addEventListener("touchend",C,!0),()=>{S.removeEventListener("mousedown",d,!0),S.removeEventListener("mouseup",T,!0),S.removeEventListener("touchstart",d,!0),S.removeEventListener("touchend",C,!0)}}},[t,n,d,c])}function ny(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function RE(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function DD(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:RE(e.onKeyDown),onKeyUp:RE(e.onKeyUp)}}}const Q7=500;function $D(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:n,onLongPress:s,threshold:h=Q7,accessibilityDescription:d}=e;const c=z.useRef();let{addGlobalListener:v,removeGlobalListener:w}=R3(),{pressProps:S}=yh({isDisabled:t,onPressStart(C){if(C.continuePropagation(),(C.pointerType==="mouse"||C.pointerType==="touch")&&(r&&r({...C,type:"longpressstart"}),c.current=setTimeout(()=>{C.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),s&&s({...C,type:"longpress"}),c.current=void 0},h),C.pointerType==="touch")){let D=B=>{B.preventDefault()};v(C.target,"contextmenu",D,{once:!0}),v(window,"pointerup",()=>{setTimeout(()=>{w(C.target,"contextmenu",D)},30)},{once:!0})}},onPressEnd(C){c.current&&clearTimeout(c.current),n&&(C.pointerType==="mouse"||C.pointerType==="touch")&&n({...C,type:"longpressend"})}}),T=F3(s&&!t?d:void 0);return{longPressProps:Ut(S,T)}}function Qc(e){const t=Zr(e);if(Cv()==="virtual"){let r=t.activeElement;$3(()=>{t.activeElement===r&&e.isConnected&&Ao(e)})}else Ao(e)}function eV(e){const t=io(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,s=r!=="none"&&n!=="hidden"&&n!=="collapse";if(s){const{getComputedStyle:h}=e.ownerDocument.defaultView;let{display:d,visibility:c}=h(e);s=d!=="none"&&c!=="hidden"&&c!=="collapse"}return s}function tV(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function RD(e,t){return e.nodeName!=="#comment"&&eV(e)&&tV(e,t)&&(!e.parentElement||RD(e.parentElement,e))}const LE=Qt.createContext(null);let $r=null;function LD(e){let{children:t,contain:r,restoreFocus:n,autoFocus:s}=e,h=z.useRef(null),d=z.useRef(null),c=z.useRef([]),{parentNode:v}=z.useContext(LE)||{},w=z.useMemo(()=>new Bb({scopeRef:c}),[c]);fn(()=>{let C=v||vn.root;if(vn.getTreeNode(C.scopeRef)&&$r&&!Av($r,C.scopeRef)){let D=vn.getTreeNode($r);D&&(C=D)}C.addChild(w),vn.addNode(w)},[w,v]),fn(()=>{let C=vn.getTreeNode(c);C&&(C.contain=!!r)},[r]),fn(()=>{var C;let D=(C=h.current)===null||C===void 0?void 0:C.nextSibling,B=[];for(;D&&D!==d.current;)B.push(D),D=D.nextSibling;c.current=B},[t]),lV(c,n,r),aV(c,r),uV(c,n,r),sV(c,s),z.useEffect(()=>{const C=Zr(c.current?c.current[0]:void 0).activeElement;let D=null;if(yi(C,c.current)){for(let B of vn.traverse())B.scopeRef&&yi(C,B.scopeRef.current)&&(D=B);D===vn.getTreeNode(c)&&($r=D.scopeRef)}},[c]),fn(()=>()=>{var C,D,B;let V=(B=(D=vn.getTreeNode(c))===null||D===void 0||(C=D.parent)===null||C===void 0?void 0:C.scopeRef)!==null&&B!==void 0?B:null;(c===$r||Av(c,$r))&&(!V||vn.getTreeNode(V))&&($r=V),vn.removeTreeNode(c)},[c]);let S=z.useMemo(()=>rV(c),[]),T=z.useMemo(()=>({focusManager:S,parentNode:w}),[w,S]);return Qt.createElement(LE.Provider,{value:T},Qt.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:h}),t,Qt.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:d}))}function rV(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:s,wrap:h,accept:d}=t,c=n||Zr(r[0]).activeElement,v=r[0].previousElementSibling,w=Dc(r),S=ds(w,{tabbable:s,accept:d},r);S.currentNode=yi(c,r)?c:v;let T=S.nextNode();return!T&&h&&(S.currentNode=v,T=S.nextNode()),T&&us(T,!0),T},focusPrevious(t={}){let r=e.current,{from:n,tabbable:s,wrap:h,accept:d}=t,c=n||Zr(r[0]).activeElement,v=r[r.length-1].nextElementSibling,w=Dc(r),S=ds(w,{tabbable:s,accept:d},r);S.currentNode=yi(c,r)?c:v;let T=S.previousNode();return!T&&h&&(S.currentNode=v,T=S.previousNode()),T&&us(T,!0),T},focusFirst(t={}){let r=e.current,{tabbable:n,accept:s}=t,h=Dc(r),d=ds(h,{tabbable:n,accept:s},r);d.currentNode=r[0].previousElementSibling;let c=d.nextNode();return c&&us(c,!0),c},focusLast(t={}){let r=e.current,{tabbable:n,accept:s}=t,h=Dc(r),d=ds(h,{tabbable:n,accept:s},r);d.currentNode=r[r.length-1].nextElementSibling;let c=d.previousNode();return c&&us(c,!0),c}}}const J2=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],nV=J2.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";J2.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const iV=J2.join(':not([hidden]):not([tabindex="-1"]),');function Dc(e){return e[0].parentElement}function sp(e){let t=vn.getTreeNode($r);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function aV(e,t){let r=z.useRef(),n=z.useRef();fn(()=>{let s=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const h=Zr(s?s[0]:void 0);let d=w=>{if(w.key!=="Tab"||w.altKey||w.ctrlKey||w.metaKey||!sp(e))return;let S=h.activeElement,T=e.current;if(!T||!yi(S,T))return;let C=Dc(T),D=ds(C,{tabbable:!0},T);if(!S)return;D.currentNode=S;let B=w.shiftKey?D.previousNode():D.nextNode();B||(D.currentNode=w.shiftKey?T[T.length-1].nextElementSibling:T[0].previousElementSibling,B=w.shiftKey?D.previousNode():D.nextNode()),w.preventDefault(),B&&us(B,!0)},c=w=>{(!$r||Av($r,e))&&yi(w.target,e.current)?($r=e,r.current=w.target):sp(e)&&!kv(w.target,e)?r.current?r.current.focus():$r&&$r.current&&Iv($r.current):sp(e)&&(r.current=w.target)},v=w=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(h.activeElement&&sp(e)&&!kv(h.activeElement,e))if($r=e,h.body.contains(w.target)){var S;r.current=w.target,(S=r.current)===null||S===void 0||S.focus()}else $r.current&&Iv($r.current)})};return h.addEventListener("keydown",d,!1),h.addEventListener("focusin",c,!1),s==null||s.forEach(w=>w.addEventListener("focusin",c,!1)),s==null||s.forEach(w=>w.addEventListener("focusout",v,!1)),()=>{h.removeEventListener("keydown",d,!1),h.removeEventListener("focusin",c,!1),s==null||s.forEach(w=>w.removeEventListener("focusin",c,!1)),s==null||s.forEach(w=>w.removeEventListener("focusout",v,!1))}},[e,t]),fn(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function zD(e){return kv(e)}function yi(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function kv(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of vn.traverse(vn.getTreeNode(t)))if(r&&yi(e,r.current))return!0;return!1}function oV(e){return kv(e,$r)}function Av(e,t){var r;let n=(r=vn.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function us(e,t=!1){if(e!=null&&!t)try{Qc(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Iv(e,t=!0){let r=e[0].previousElementSibling,n=Dc(e),s=ds(n,{tabbable:t},e);s.currentNode=r;let h=s.nextNode();t&&!h&&(n=Dc(e),s=ds(n,{tabbable:!1},e),s.currentNode=r,h=s.nextNode()),us(h)}function sV(e,t){const r=Qt.useRef(t);z.useEffect(()=>{if(r.current){$r=e;const n=Zr(e.current?e.current[0]:void 0);!yi(n.activeElement,$r.current)&&e.current&&Iv(e.current)}r.current=!1},[e])}function lV(e,t,r){fn(()=>{if(t||r)return;let n=e.current;const s=Zr(n?n[0]:void 0);let h=d=>{let c=d.target;yi(c,e.current)?$r=e:zD(c)||($r=null)};return s.addEventListener("focusin",h,!1),n==null||n.forEach(d=>d.addEventListener("focusin",h,!1)),()=>{s.removeEventListener("focusin",h,!1),n==null||n.forEach(d=>d.removeEventListener("focusin",h,!1))}},[e,t,r])}function cV(e){let t=vn.getTreeNode($r);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function uV(e,t,r){const n=z.useRef(typeof document<"u"?Zr(e.current?e.current[0]:void 0).activeElement:null);fn(()=>{let s=e.current;const h=Zr(s?s[0]:void 0);if(!t||r)return;let d=()=>{(!$r||Av($r,e))&&yi(h.activeElement,e.current)&&($r=e)};return h.addEventListener("focusin",d,!1),s==null||s.forEach(c=>c.addEventListener("focusin",d,!1)),()=>{h.removeEventListener("focusin",d,!1),s==null||s.forEach(c=>c.removeEventListener("focusin",d,!1))}},[e,r]),fn(()=>{const s=Zr(e.current?e.current[0]:void 0);if(!t)return;let h=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!sp(e))return;let c=s.activeElement;if(!yi(c,e.current))return;let v=vn.getTreeNode(e);if(!v)return;let w=v.nodeToRestore,S=ds(s.body,{tabbable:!0});S.currentNode=c;let T=d.shiftKey?S.previousNode():S.nextNode();if((!w||!s.body.contains(w)||w===s.body)&&(w=void 0,v.nodeToRestore=void 0),(!T||!yi(T,e.current))&&w){S.currentNode=w;do T=d.shiftKey?S.previousNode():S.nextNode();while(yi(T,e.current));d.preventDefault(),d.stopPropagation(),T?us(T,!0):zD(w)?us(w,!0):c.blur()}};return r||s.addEventListener("keydown",h,!0),()=>{r||s.removeEventListener("keydown",h,!0)}},[e,t,r]),fn(()=>{const s=Zr(e.current?e.current[0]:void 0);if(!t)return;let h=vn.getTreeNode(e);if(h){var d;return h.nodeToRestore=(d=n.current)!==null&&d!==void 0?d:void 0,()=>{let c=vn.getTreeNode(e);if(!c)return;let v=c.nodeToRestore;if(t&&v&&(yi(s.activeElement,e.current)||s.activeElement===s.body&&cV(e))){let w=vn.clone();requestAnimationFrame(()=>{if(s.activeElement===s.body){let S=w.getTreeNode(e);for(;S;){if(S.nodeToRestore&&S.nodeToRestore.isConnected){us(S.nodeToRestore);return}S=S.parent}for(S=w.getTreeNode(e);S;){if(S.scopeRef&&S.scopeRef.current&&vn.getTreeNode(S.scopeRef)){Iv(S.scopeRef.current,!0);return}S=S.parent}}})}}}},[e,t])}function ds(e,t,r){let n=t!=null&&t.tabbable?iV:nV,s=Zr(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(h){var d;return!(t==null||(d=t.from)===null||d===void 0)&&d.contains(h)?NodeFilter.FILTER_REJECT:h.matches(n)&&RD(h)&&(!r||yi(h,r))&&(!(t!=null&&t.accept)||t.accept(h))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(s.currentNode=t.from),s}class Q2{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let s=this.fastMap.get(r??null);if(!s)return;let h=new Bb({scopeRef:t});s.addChild(h),h.parent=s,this.fastMap.set(t,h),n&&(h.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let h of this.traverse())h!==r&&r.nodeToRestore&&h.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&yi(h.nodeToRestore,r.scopeRef.current)&&(h.nodeToRestore=r.nodeToRestore);let s=r.children;n&&(n.removeChild(r),s.size>0&&s.forEach(h=>n&&n.addChild(h))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new Q2;var n;for(let s of this.traverse())r.addTreeNode(s.scopeRef,(n=(t=s.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,s.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new Bb({scopeRef:null}),this.fastMap.set(null,this.root)}}class Bb{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let vn=new Q2;function ks(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,s=z.useRef({isFocused:!1,isFocusVisible:t||Y2()}),[h,d]=z.useState(!1),[c,v]=z.useState(()=>s.current.isFocused&&s.current.isFocusVisible),w=z.useCallback(()=>v(s.current.isFocused&&s.current.isFocusVisible),[]),S=z.useCallback(D=>{s.current.isFocused=D,d(D),w()},[w]);Y7(D=>{s.current.isFocusVisible=D,w()},[],{isTextInput:r});let{focusProps:T}=Z2({isDisabled:n,onFocusChange:S}),{focusWithinProps:C}=X2({isDisabled:!n,onFocusWithinChange:S});return{isFocused:h,isFocusVisible:c,focusProps:n?C:T}}let dV=Qt.createContext(null);function hV(e){let t=z.useContext(dV)||{};z3(t,e);let{ref:r,...n}=t;return n}function FD(e,t){let{focusProps:r}=Z2(e),{keyboardProps:n}=DD(e),s=Ut(r,n),h=hV(t),d=e.isDisabled?{}:h,c=z.useRef(e.autoFocus);return z.useEffect(()=>{c.current&&t.current&&Qc(t.current),c.current=!1},[t]),{focusableProps:Ut({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},d)}}const zE={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function fV(e={}){let{style:t,isFocusable:r}=e,[n,s]=z.useState(!1),{focusWithinProps:h}=X2({isDisabled:!r,onFocusWithinChange:c=>s(c)}),d=z.useMemo(()=>n?t:t?{...zE,...t}:zE,[n]);return{visuallyHiddenProps:{...h,style:d}}}function Nb(e){let{children:t,elementType:r="div",isFocusable:n,style:s,...h}=e,{visuallyHiddenProps:d}=fV(e);return Qt.createElement(r,Ut(h,d),t)}function pV(e){return e&&e.__esModule?e.default:e}const kd={top:"top",bottom:"top",left:"left",right:"left"},Mv={top:"bottom",bottom:"top",left:"right",right:"left"},mV={top:"left",left:"top"},Ob={top:"height",left:"width"},BD={width:"totalWidth",height:"totalHeight"},iy={};let ji=typeof document<"u"&&window.visualViewport;function FE(e){let t=0,r=0,n=0,s=0,h=0,d=0,c={},v=(ji==null?void 0:ji.scale)>1;if(e.tagName==="BODY"){let T=document.documentElement;n=T.clientWidth,s=T.clientHeight;var w;t=(w=ji==null?void 0:ji.width)!==null&&w!==void 0?w:n;var S;r=(S=ji==null?void 0:ji.height)!==null&&S!==void 0?S:s,c.top=T.scrollTop||e.scrollTop,c.left=T.scrollLeft||e.scrollLeft,ji&&(h=ji.offsetTop,d=ji.offsetLeft)}else({width:t,height:r,top:h,left:d}=Vd(e)),c.top=e.scrollTop,c.left=e.scrollLeft,n=t,s=r;return k3()&&(e.tagName==="BODY"||e.tagName==="HTML")&&v&&(c.top=0,c.left=0,h=ji.pageTop,d=ji.pageLeft),{width:t,height:r,totalWidth:n,totalHeight:s,scroll:c,top:h,left:d}}function gV(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function BE(e,t,r,n,s,h,d){let c=s.scroll[e],v=n[Ob[e]],w=n.scroll[kd[e]]+h,S=v+n.scroll[kd[e]]-h,T=t-c+d[e]-n[kd[e]],C=t-c+r+d[e]-n[kd[e]];return T<w?w-T:C>S?Math.max(S-C,w-T):0}function yV(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function NE(e){if(iy[e])return iy[e];let[t,r]=e.split(" "),n=kd[t]||"right",s=mV[n];kd[r]||(r="center");let h=Ob[n],d=Ob[s];return iy[e]={placement:t,crossPlacement:r,axis:n,crossAxis:s,size:h,crossSize:d},iy[e]}function B1(e,t,r,n,s,h,d,c,v,w){let{placement:S,crossPlacement:T,axis:C,crossAxis:D,size:B,crossSize:V}=n,Y={};Y[D]=e[D],T==="center"?Y[D]+=(e[V]-r[V])/2:T!==D&&(Y[D]+=e[V]-r[V]),Y[D]+=h;const U=e[D]-r[V]+v+w,F=e[D]+e[V]-v-w;if(Y[D]=Eb(Y[D],U,F),S===C){const O=c?d[B]:t[BD[B]];Y[Mv[C]]=Math.floor(O-e[C]+s)}else Y[C]=Math.floor(e[C]+e[B]+s);return Y}function vV(e,t,r,n,s,h,d,c){const v=n?r.height:t[BD.height];let w=e.top!=null?r.top+e.top:r.top+(v-e.bottom-d),S=c!=="top"?Math.max(0,t.height+t.top+t.scroll.top-w-(s.top+s.bottom+h)):Math.max(0,w+d-(t.top+t.scroll.top)-(s.top+s.bottom+h));return Math.min(t.height-h*2,S)}function OE(e,t,r,n,s,h){let{placement:d,axis:c,size:v}=h;return d===c?Math.max(0,r[c]-e[c]-e.scroll[c]+t[c]-n[c]-n[Mv[c]]-s):Math.max(0,e[v]+e[c]+e.scroll[c]-t[c]-r[c]-r[v]-n[c]-n[Mv[c]]-s)}function xV(e,t,r,n,s,h,d,c,v,w,S,T,C,D,B,V){let Y=NE(e),{size:U,crossAxis:F,crossSize:O,placement:ee,crossPlacement:ie}=Y,fe=B1(t,c,r,Y,S,T,w,C,B,V),we=S,Z=OE(c,w,t,s,h+S,Y);if(d&&n[U]>Z){let Ve=NE(`${Mv[ee]} ${ie}`),Oe=B1(t,c,r,Ve,S,T,w,C,B,V);OE(c,w,t,s,h+S,Ve)>Z&&(Y=Ve,fe=Oe,we=S)}let me="bottom";Y.axis==="top"?Y.placement==="top"?me="top":Y.placement==="bottom"&&(me="bottom"):Y.crossAxis==="top"&&(Y.crossPlacement==="top"?me="bottom":Y.crossPlacement==="bottom"&&(me="top"));let xe=BE(F,fe[F],r[O],c,v,h,w);fe[F]+=xe;let se=vV(fe,c,w,C,s,h,r.height,me);D&&D<se&&(se=D),r.height=Math.min(r.height,se),fe=B1(t,c,r,Y,we,T,w,C,B,V),xe=BE(F,fe[F],r[O],c,v,h,w),fe[F]+=xe;let Te={},ge=t[F]+.5*t[O]-r[F];const ve=B/2+V,Be=r[O]-B/2-V,Le=t[F]-r[F]+B/2,ae=t[F]+t[O]-r[F]-B/2,De=Eb(ge,Le,ae);return Te[F]=Eb(De,ve,Be),{position:fe,maxHeight:se,arrowOffsetLeft:Te.left,arrowOffsetTop:Te.top,placement:Y.placement}}function _V(e){let{placement:t,targetNode:r,overlayNode:n,scrollNode:s,padding:h,shouldFlip:d,boundaryElement:c,offset:v,crossOffset:w,maxHeight:S,arrowSize:T=0,arrowBoundaryOffset:C=0}=e,D=n instanceof HTMLElement?bV(n):document.documentElement,B=D===document.documentElement;const V=window.getComputedStyle(D).position;let Y=!!V&&V!=="static",U=B?Vd(r):jE(r,D);if(!B){let{marginTop:Z,marginLeft:me}=window.getComputedStyle(r);U.top+=parseInt(Z,10)||0,U.left+=parseInt(me,10)||0}let F=Vd(n),O=yV(n);F.width+=O.left+O.right,F.height+=O.top+O.bottom;let ee=gV(s),ie=FE(c),fe=FE(D),we=c.tagName==="BODY"?Vd(D):jE(D,c);return D.tagName==="HTML"&&c.tagName==="BODY"&&(fe.scroll.top=0,fe.scroll.left=0),xV(t,U,F,ee,O,h,d,ie,fe,we,v,w,Y,S,T,C)}function Vd(e){let{top:t,left:r,width:n,height:s}=e.getBoundingClientRect(),{scrollTop:h,scrollLeft:d,clientTop:c,clientLeft:v}=document.documentElement;return{top:t+h-c,left:r+d-v,width:n,height:s}}function jE(e,t){let r=window.getComputedStyle(e),n;if(r.position==="fixed"){let{top:s,left:h,width:d,height:c}=e.getBoundingClientRect();n={top:s,left:h,width:d,height:c}}else{n=Vd(e);let s=Vd(t),h=window.getComputedStyle(t);s.top+=(parseInt(h.borderTopWidth,10)||0)-t.scrollTop,s.left+=(parseInt(h.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=s.top,n.left-=s.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function bV(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!VE(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!VE(t);)t=t.parentElement;return t||document.documentElement}function VE(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const ND=new WeakMap;function wV(e){let{triggerRef:t,isOpen:r,onClose:n}=e;z.useEffect(()=>{if(!r||n===null)return;let s=h=>{let d=h.target;if(!t.current||d instanceof Node&&!d.contains(t.current))return;let c=n||ND.get(t.current);c&&c()};return window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("scroll",s,!0)}},[r,n,t])}let un=typeof document<"u"&&window.visualViewport;function SV(e){let{direction:t}=co(),{arrowSize:r=0,targetRef:n,overlayRef:s,scrollRef:h=s,placement:d="bottom",containerPadding:c=12,shouldFlip:v=!0,boundaryElement:w=typeof document<"u"?document.body:null,offset:S=0,crossOffset:T=0,shouldUpdatePosition:C=!0,isOpen:D=!0,onClose:B,maxHeight:V,arrowBoundaryOffset:Y=0}=e,[U,F]=z.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),O=[C,d,s.current,n.current,h.current,c,v,w,S,T,D,t,V,Y,r],ee=z.useRef(un==null?void 0:un.scale);z.useEffect(()=>{D&&(ee.current=un==null?void 0:un.scale)},[D]);let ie=z.useCallback(()=>{if(C===!1||!D||!s.current||!n.current||!h.current||!w||(un==null?void 0:un.scale)!==ee.current)return;!V&&s.current&&(s.current.style.maxHeight="none");let Z=_V({placement:TV(d,t),overlayNode:s.current,targetNode:n.current,scrollNode:h.current,padding:c,shouldFlip:v,boundaryElement:w,offset:S,crossOffset:T,maxHeight:V,arrowSize:r,arrowBoundaryOffset:Y});Object.keys(Z.position).forEach(me=>s.current.style[me]=Z.position[me]+"px"),s.current.style.maxHeight=Z.maxHeight!=null?Z.maxHeight+"px":void 0,F(Z)},O);fn(ie,O),PV(ie),L3({ref:s,onResize:ie});let fe=z.useRef(!1);fn(()=>{let Z,me=()=>{fe.current=!0,clearTimeout(Z),Z=setTimeout(()=>{fe.current=!1},500),ie()},xe=()=>{fe.current&&me()};return un==null||un.addEventListener("resize",me),un==null||un.addEventListener("scroll",xe),()=>{un==null||un.removeEventListener("resize",me),un==null||un.removeEventListener("scroll",xe)}},[ie]);let we=z.useCallback(()=>{fe.current||B()},[B,fe]);return wV({triggerRef:n,isOpen:D,onClose:B&&we}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...U.position,maxHeight:U.maxHeight}},placement:U.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:U.arrowOffsetLeft,top:U.arrowOffsetTop}},updatePosition:ie}}function PV(e){fn(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function TV(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const ts=[];function CV(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:s,isDismissable:h=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:c}=e;z.useEffect(()=>(s&&ts.push(t),()=>{let B=ts.indexOf(t);B>=0&&ts.splice(B,1)}),[s,t]);let v=()=>{ts[ts.length-1]===t&&r&&r()},w=B=>{(!c||c(B.target))&&ts[ts.length-1]===t&&(B.stopPropagation(),B.preventDefault())},S=B=>{(!c||c(B.target))&&(ts[ts.length-1]===t&&(B.stopPropagation(),B.preventDefault()),v())},T=B=>{B.key==="Escape"&&!d&&(B.stopPropagation(),B.preventDefault(),v())};J7({ref:t,onInteractOutside:h&&s?S:null,onInteractOutsideStart:w});let{focusWithinProps:C}=X2({isDisabled:!n,onBlurWithin:B=>{!B.relatedTarget||oV(B.relatedTarget)||(!c||c(B.relatedTarget))&&r()}}),D=B=>{B.target===B.currentTarget&&B.preventDefault()};return{overlayProps:{onKeyDown:T,...C},underlayProps:{onPointerDown:D}}}function OD(e,t,r){let{type:n}=e,{isOpen:s}=t;z.useEffect(()=>{r&&r.current&&ND.set(r.current,t.close)});let h;n==="menu"?h=!0:n==="listbox"&&(h="listbox");let d=fm();return{triggerProps:{"aria-haspopup":h,"aria-expanded":s,"aria-controls":s?d:null,onPress:t.toggle},overlayProps:{id:d}}}const jb=Qt.createContext(null);function EV(e){let{children:t}=e,r=z.useContext(jb),[n,s]=z.useState(0),h=z.useMemo(()=>({parent:r,modalCount:n,addModal(){s(d=>d+1),r&&r.addModal()},removeModal(){s(d=>d-1),r&&r.removeModal()}}),[r,n]);return Qt.createElement(jb.Provider,{value:h},t)}function kV(){let e=z.useContext(jb);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function AV(e){let{modalProviderProps:t}=kV();return Qt.createElement("div",{"data-overlay-container":!0,...e,...t})}function IV(e){return Qt.createElement(EV,null,Qt.createElement(AV,e))}var jD={};jD={"ar-AE":H3,"bg-BG":W3,"cs-CZ":G3,"da-DK":Z3,"de-DE":q3,"el-GR":Y3,"en-US":X3,"es-ES":J3,"et-EE":Q3,"fi-FI":eD,"fr-FR":tD,"he-IL":rD,"hr-HR":nD,"hu-HU":iD,"it-IT":aD,"ja-JP":oD,"ko-KR":sD,"lt-LT":lD,"lv-LV":cD,"nb-NO":uD,"nl-NL":dD,"pl-PL":hD,"pt-BR":fD,"pt-PT":pD,"ro-RO":mD,"ru-RU":gD,"sk-SK":yD,"sl-SI":vD,"sr-SP":xD,"sv-SE":_D,"tr-TR":bD,"uk-UA":wD,"zh-CN":SD,"zh-TW":PD};function UE(e){let{onDismiss:t,...r}=e,n=gh(pV(jD),"@react-aria/overlays"),s=H2(r,n.format("dismiss")),h=()=>{t&&t()};return Qt.createElement(Nb,null,Qt.createElement("button",{...s,tabIndex:-1,onClick:h,style:{width:1,height:1}}))}let Hf=new WeakMap,Ca=[];function MV(e,t=document.body){let r=new Set(e),n=new Set,s=v=>{for(let C of v.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(C);let w=C=>{if(r.has(C)||n.has(C.parentElement)&&C.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let D of r)if(C.contains(D))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,{acceptNode:w}),T=w(v);if(T===NodeFilter.FILTER_ACCEPT&&h(v),T!==NodeFilter.FILTER_REJECT){let C=S.nextNode();for(;C!=null;)h(C),C=S.nextNode()}},h=v=>{var w;let S=(w=Hf.get(v))!==null&&w!==void 0?w:0;v.getAttribute("aria-hidden")==="true"&&S===0||(S===0&&v.setAttribute("aria-hidden","true"),n.add(v),Hf.set(v,S+1))};Ca.length&&Ca[Ca.length-1].disconnect(),s(t);let d=new MutationObserver(v=>{for(let w of v)if(!(w.type!=="childList"||w.addedNodes.length===0)&&![...r,...n].some(S=>S.contains(w.target))){for(let S of w.removedNodes)S instanceof Element&&(r.delete(S),n.delete(S));for(let S of w.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?r.add(S):S instanceof Element&&s(S)}});d.observe(t,{childList:!0,subtree:!0});let c={observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return Ca.push(c),()=>{d.disconnect();for(let v of n){let w=Hf.get(v);w===1?(v.removeAttribute("aria-hidden"),Hf.delete(v)):Hf.set(v,w-1)}c===Ca[Ca.length-1]?(Ca.pop(),Ca.length&&Ca[Ca.length-1].observe()):Ca.splice(Ca.indexOf(c),1)}}const VD=Qt.createContext(null);function UD(e){let t=f0(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[s,h]=z.useState(!1),d=z.useMemo(()=>({contain:s,setContain:h}),[s,h]);if(!r)return null;let c=e.children;return e.disableFocusManagement||(c=Qt.createElement(LD,{restoreFocus:!0,contain:s&&!n},c)),c=Qt.createElement(VD.Provider,{value:d},Qt.createElement(U7,null,c)),CO.createPortal(c,r)}function DV(){let e=z.useContext(VD),t=e==null?void 0:e.setContain;fn(()=>{t==null||t(!0)},[t])}var $V=({children:e,navigate:t,locale:r="en-US",defaultDates:n={minDate:new Lr(1900,1,1),maxDate:new Lr(2099,12,31)},createCalendar:s,...h})=>{let d=e;t&&(d=$.jsx(b7,{navigate:t,children:d}));const c=z.useMemo(()=>({createCalendar:s,defaultDates:n}),[s,n==null?void 0:n.maxDate,n==null?void 0:n.minDate]);return $.jsx(KO,{value:c,children:$.jsx(A7,{locale:r,children:$.jsx(IV,{...h,children:d})})})};function Er(e){return z.forwardRef(e)}var As=(e,t,r=!0)=>{if(!t)return[e,{}];const n=t.reduce((s,h)=>h in e?{...s,[h]:e[h]}:s,{});return r?[Object.keys(e).filter(h=>!t.includes(h)).reduce((h,d)=>({...h,[d]:e[d]}),{}),n]:[e,n]},RV={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},LV={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},zV={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},FV={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},BV={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},NV={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},OV={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},$t={solid:RV,shadow:LV,bordered:zV,flat:FV,faded:BV,light:NV,ghost:OV},KE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sa=e=>!e||typeof e!="object"||Object.keys(e).length===0,jV=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function KD(e,t){e.forEach(function(r){Array.isArray(r)?KD(r,t):t.push(r)})}function HD(e){let t=[];return KD(e,t),t}var WD=(...e)=>HD(e).filter(Boolean),GD=(e,t)=>{let r={},n=Object.keys(e),s=Object.keys(t);for(let h of n)if(s.includes(h)){let d=e[h],c=t[h];typeof d=="object"&&typeof c=="object"?r[h]=GD(d,c):Array.isArray(d)||Array.isArray(c)?r[h]=WD(c,d):r[h]=c+" "+d}else r[h]=e[h];for(let h of s)n.includes(h)||(r[h]=t[h]);return r},HE=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function VV(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=ZD(t))&&(n&&(n+=" "),n+=r);return n}function ZD(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=ZD(e[n]))&&(r&&(r+=" "),r+=t);return r}var eS="-";function UV(e){var t=HV(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function h(c){var v=c.split(eS);return v[0]===""&&v.length!==1&&v.shift(),qD(v,t)||KV(c)}function d(c,v){var w=r[c]||[];return v&&s[c]?[].concat(w,s[c]):w}return{getClassGroupId:h,getConflictingClassGroupIds:d}}function qD(e,t){var d;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?qD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var h=e.join(eS);return(d=t.validators.find(function(c){var v=c.validator;return v(h)}))==null?void 0:d.classGroupId}}var WE=/^\[(.+)\]$/;function KV(e){if(WE.test(e)){var t=WE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function HV(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=GV(Object.entries(e.classGroups),r);return s.forEach(function(h){var d=h[0],c=h[1];Vb(c,n,d,t)}),n}function Vb(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var h=s===""?t:GE(t,s);h.classGroupId=r;return}if(typeof s=="function"){if(WV(s)){Vb(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(d){var c=d[0],v=d[1];Vb(v,GE(t,c),r,n)})})}function GE(e,t){var r=e;return t.split(eS).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function WV(e){return e.isThemeGetter}function GV(e,t){return t?e.map(function(r){var n=r[0],s=r[1],h=s.map(function(d){return typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(function(c){var v=c[0],w=c[1];return[t+v,w]})):d});return[n,h]}):e}function ZV(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(h,d){r.set(h,d),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(d){var c=r.get(d);if(c!==void 0)return c;if((c=n.get(d))!==void 0)return s(d,c),c},set:function(d,c){r.has(d)?r.set(d,c):s(d,c)}}}var YD="!";function qV(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(d){for(var c=[],v=0,w=0,S,T=0;T<d.length;T++){var C=d[T];if(v===0){if(C===n&&(r||d.slice(T,T+s)===t)){c.push(d.slice(w,T)),w=T+s;continue}if(C==="/"){S=T;continue}}C==="["?v++:C==="]"&&v--}var D=c.length===0?d:d.substring(w),B=D.startsWith(YD),V=B?D.substring(1):D,Y=S&&S>w?S-w:void 0;return{modifiers:c,hasImportantModifier:B,baseClassName:V,maybePostfixModifierPosition:Y}}}function YV(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function XV(e){return{cache:ZV(e.cacheSize),splitModifiers:qV(e),...UV(e)}}var JV=/\s+/;function QV(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,h=new Set;return e.trim().split(JV).map(function(d){var c=r(d),v=c.modifiers,w=c.hasImportantModifier,S=c.baseClassName,T=c.maybePostfixModifierPosition,C=n(T?S.substring(0,T):S),D=!!T;if(!C){if(!T)return{isTailwindClass:!1,originalClassName:d};if(C=n(S),!C)return{isTailwindClass:!1,originalClassName:d};D=!1}var B=YV(v).join(":"),V=w?B+YD:B;return{isTailwindClass:!0,modifierId:V,classGroupId:C,originalClassName:d,hasPostfixModifier:D}}).reverse().filter(function(d){if(!d.isTailwindClass)return!0;var c=d.modifierId,v=d.classGroupId,w=d.hasPostfixModifier,S=c+v;return h.has(S)?!1:(h.add(S),s(v,w).forEach(function(T){return h.add(c+T)}),!0)}).reverse().map(function(d){return d.originalClassName}).join(" ")}function Ub(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,h,d=c;function c(w){var S=t[0],T=t.slice(1),C=T.reduce(function(D,B){return B(D)},S());return n=XV(C),s=n.cache.get,h=n.cache.set,d=v,v(w)}function v(w){var S=s(w);if(S)return S;var T=QV(w,n);return h(w,T),T}return function(){return d(VV.apply(null,arguments))}}function Br(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var XD=/^\[(?:([a-z-]+):)?(.+)\]$/i,e9=/^\d+\/\d+$/,t9=new Set(["px","full","screen"]),r9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,i9=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Ja(e){return $c(e)||t9.has(e)||e9.test(e)||Kb(e)}function Kb(e){return nu(e,"length",u9)}function a9(e){return nu(e,"size",JD)}function o9(e){return nu(e,"position",JD)}function s9(e){return nu(e,"url",d9)}function ay(e){return nu(e,"number",$c)}function $c(e){return!Number.isNaN(Number(e))}function l9(e){return e.endsWith("%")&&$c(e.slice(0,-1))}function Wf(e){return ZE(e)||nu(e,"number",ZE)}function nr(e){return XD.test(e)}function Gf(){return!0}function rl(e){return r9.test(e)}function c9(e){return nu(e,"",h9)}function nu(e,t,r){var n=XD.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function u9(e){return n9.test(e)}function JD(){return!1}function d9(e){return e.startsWith("url(")}function ZE(e){return Number.isInteger(Number(e))}function h9(e){return i9.test(e)}function Hb(){var e=Br("colors"),t=Br("spacing"),r=Br("blur"),n=Br("brightness"),s=Br("borderColor"),h=Br("borderRadius"),d=Br("borderSpacing"),c=Br("borderWidth"),v=Br("contrast"),w=Br("grayscale"),S=Br("hueRotate"),T=Br("invert"),C=Br("gap"),D=Br("gradientColorStops"),B=Br("gradientColorStopPositions"),V=Br("inset"),Y=Br("margin"),U=Br("opacity"),F=Br("padding"),O=Br("saturate"),ee=Br("scale"),ie=Br("sepia"),fe=Br("skew"),we=Br("space"),Z=Br("translate"),me=function(){return["auto","contain","none"]},xe=function(){return["auto","hidden","clip","visible","scroll"]},se=function(){return["auto",nr,t]},Te=function(){return[nr,t]},ge=function(){return["",Ja]},ve=function(){return["auto",$c,nr]},Be=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Le=function(){return["solid","dashed","dotted","double","none"]},ae=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},De=function(){return["start","end","center","between","around","evenly","stretch"]},Ve=function(){return["","0",nr]},Oe=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},he=function(){return[$c,ay]},ze=function(){return[$c,nr]};return{cacheSize:500,theme:{colors:[Gf],spacing:[Ja],blur:["none","",rl,nr],brightness:he(),borderColor:[e],borderRadius:["none","","full",rl,nr],borderSpacing:Te(),borderWidth:ge(),contrast:he(),grayscale:Ve(),hueRotate:ze(),invert:Ve(),gap:Te(),gradientColorStops:[e],gradientColorStopPositions:[l9,Kb],inset:se(),margin:se(),opacity:he(),padding:Te(),saturate:he(),scale:he(),sepia:Ve(),skew:ze(),space:Te(),translate:Te()},classGroups:{aspect:[{aspect:["auto","square","video",nr]}],container:["container"],columns:[{columns:[rl]}],"break-after":[{"break-after":Oe()}],"break-before":[{"break-before":Oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Be(),[nr])}],overflow:[{overflow:xe()}],"overflow-x":[{"overflow-x":xe()}],"overflow-y":[{"overflow-y":xe()}],overscroll:[{overscroll:me()}],"overscroll-x":[{"overscroll-x":me()}],"overscroll-y":[{"overscroll-y":me()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[V]}],"inset-x":[{"inset-x":[V]}],"inset-y":[{"inset-y":[V]}],start:[{start:[V]}],end:[{end:[V]}],top:[{top:[V]}],right:[{right:[V]}],bottom:[{bottom:[V]}],left:[{left:[V]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wf]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nr]}],grow:[{grow:Ve()}],shrink:[{shrink:Ve()}],order:[{order:["first","last","none",Wf]}],"grid-cols":[{"grid-cols":[Gf]}],"col-start-end":[{col:["auto",{span:["full",Wf]},nr]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[Gf]}],"row-start-end":[{row:["auto",{span:[Wf]},nr]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nr]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal"].concat(De())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(De(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(De(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[Y]}],mx:[{mx:[Y]}],my:[{my:[Y]}],ms:[{ms:[Y]}],me:[{me:[Y]}],mt:[{mt:[Y]}],mr:[{mr:[Y]}],mb:[{mb:[Y]}],ml:[{ml:[Y]}],"space-x":[{"space-x":[we]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[we]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",nr,t]}],"min-w":[{"min-w":["min","max","fit",nr,Ja]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[rl]},rl,nr]}],h:[{h:[nr,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",nr,Ja]}],"max-h":[{"max-h":[nr,t,"min","max","fit"]}],"font-size":[{text:["base",rl,Kb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ay]}],"font-family":[{font:[Gf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nr]}],"line-clamp":[{"line-clamp":["none",$c,ay]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nr,Ja]}],"list-image":[{"list-image":["none",nr]}],"list-style-type":[{list:["none","disc","decimal",nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[U]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[U]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Le(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Ja]}],"underline-offset":[{"underline-offset":["auto",nr,Ja]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Te()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[U]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Be(),[o9])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},s9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[B]}],"gradient-via-pos":[{via:[B]}],"gradient-to-pos":[{to:[B]}],"gradient-from":[{from:[D]}],"gradient-via":[{via:[D]}],"gradient-to":[{to:[D]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[U]}],"border-style":[{border:[].concat(Le(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[U]}],"divide-style":[{divide:Le()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Le())}],"outline-offset":[{"outline-offset":[nr,Ja]}],"outline-w":[{outline:[Ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[U]}],"ring-offset-w":[{"ring-offset":[Ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rl,c9]}],"shadow-color":[{shadow:[Gf]}],opacity:[{opacity:[U]}],"mix-blend":[{"mix-blend":ae()}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",rl,nr]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[T]}],saturate:[{saturate:[O]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[U]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nr]}],duration:[{duration:ze()}],ease:[{ease:["linear","in","out","in-out",nr]}],delay:[{delay:ze()}],animate:[{animate:["none","spin","ping","pulse","bounce",nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ee]}],"scale-x":[{"scale-x":[ee]}],"scale-y":[{"scale-y":[ee]}],rotate:[{rotate:[Wf,nr]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[fe]}],"skew-y":[{"skew-y":[fe]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nr]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Te()}],"scroll-mx":[{"scroll-mx":Te()}],"scroll-my":[{"scroll-my":Te()}],"scroll-ms":[{"scroll-ms":Te()}],"scroll-me":[{"scroll-me":Te()}],"scroll-mt":[{"scroll-mt":Te()}],"scroll-mr":[{"scroll-mr":Te()}],"scroll-mb":[{"scroll-mb":Te()}],"scroll-ml":[{"scroll-ml":Te()}],"scroll-p":[{"scroll-p":Te()}],"scroll-px":[{"scroll-px":Te()}],"scroll-py":[{"scroll-py":Te()}],"scroll-ps":[{"scroll-ps":Te()}],"scroll-pe":[{"scroll-pe":Te()}],"scroll-pt":[{"scroll-pt":Te()}],"scroll-pr":[{"scroll-pr":Te()}],"scroll-pb":[{"scroll-pb":Te()}],"scroll-pl":[{"scroll-pl":Te()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ja,ay]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function f9(e,t){for(var r in t)QD(e,r,t[r]);return e}var p9=Object.prototype.hasOwnProperty,m9=new Set(["string","number","boolean"]);function QD(e,t,r){if(!p9.call(e,t)||m9.has(typeof r)||r===null){e[t]=r;return}if(Array.isArray(r)&&Array.isArray(e[t])){e[t]=e[t].concat(r);return}if(typeof r=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=r;return}for(var n in r)QD(e[t],n,r[n])}}function g9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?Ub.apply(void 0,[Hb,e].concat(r)):Ub.apply(void 0,[function(){return f9(Hb(),e)}].concat(r))}var y9=Ub(Hb),v9={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},e4=e=>e||void 0,Zp=(...e)=>e4(HD(e).filter(Boolean).join(" ")),N1=null,Dv={},Wb=!1,Zf=(...e)=>t=>t.twMerge?((!N1||Wb)&&(Wb=!1,N1=sa(Dv)?y9:g9(Dv)),e4(N1(Zp(e)))):Zp(e),qE=(e,t)=>{for(let r in t)e.hasOwnProperty(r)?e[r]=Zp(e[r],t[r]):e[r]=t[r];return e},x9=(e,t)=>{let{extend:r=null,slots:n={},variants:s={},compoundVariants:h=[],compoundSlots:d=[],defaultVariants:c={}}=e,v={...v9,...t},w=r!=null&&r.base?Zp(r.base,e==null?void 0:e.base):e==null?void 0:e.base,S=r!=null&&r.variants&&!sa(r.variants)?GD(s,r.variants):s,T=r!=null&&r.defaultVariants&&!sa(r.defaultVariants)?{...r.defaultVariants,...c}:c;!sa(v.twMergeConfig)&&!jV(v.twMergeConfig,Dv)&&(Wb=!0,Dv=v.twMergeConfig);let C=sa(r==null?void 0:r.slots),D=sa(n)?{}:{base:Zp(e==null?void 0:e.base,C&&(r==null?void 0:r.base)),...n},B=C?D:qE({...r==null?void 0:r.slots},sa(D)?{base:e==null?void 0:e.base}:D),V=U=>{if(sa(S)&&sa(n)&&C)return Zf(w,U==null?void 0:U.class,U==null?void 0:U.className)(v);if(h&&!Array.isArray(h))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof h}`);if(d&&!Array.isArray(d))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof d}`);let F=(Te,ge,ve=[],Be)=>{let Le=ve;if(typeof ge=="string")Le=Le.concat(HE(ge).split(" ").map(ae=>`${Te}:${ae}`));else if(Array.isArray(ge))Le=Le.concat(ge.reduce((ae,De)=>ae.concat(`${Te}:${De}`),[]));else if(typeof ge=="object"&&typeof Be=="string"){for(let ae in ge)if(ge.hasOwnProperty(ae)&&ae===Be){let De=ge[ae];if(De&&typeof De=="string"){let Ve=HE(De);Le[Be]?Le[Be]=Le[Be].concat(Ve.split(" ").map(Oe=>`${Te}:${Oe}`)):Le[Be]=Ve.split(" ").map(Oe=>`${Te}:${Oe}`)}else Array.isArray(De)&&De.length>0&&(Le[Be]=De.reduce((Ve,Oe)=>Ve.concat(`${Te}:${Oe}`),[]))}}return Le},O=(Te,ge=S,ve=null,Be=null)=>{var Le;let ae=ge[Te];if(!ae||sa(ae))return null;let De=(Le=Be==null?void 0:Be[Te])!=null?Le:U==null?void 0:U[Te];if(De===null)return null;let Ve=KE(De),Oe=Array.isArray(v.responsiveVariants)&&v.responsiveVariants.length>0||v.responsiveVariants===!0,he=T==null?void 0:T[Te],ze=[];if(typeof Ve=="object"&&Oe)for(let[ft,mt]of Object.entries(Ve)){let gt=ae[mt];if(ft==="initial"){he=mt;continue}Array.isArray(v.responsiveVariants)&&!v.responsiveVariants.includes(ft)||(ze=F(ft,gt,ze,ve))}let Je=ae[Ve]||ae[KE(he)];return typeof ze=="object"&&typeof ve=="string"&&ze[ve]?qE(ze,Je):ze.length>0?(ze.push(Je),ze):Je},ee=()=>S?Object.keys(S).map(Te=>O(Te,S)):null,ie=(Te,ge)=>{if(!S||typeof S!="object")return null;let ve=new Array;for(let Be in S){let Le=O(Be,S,Te,ge),ae=Te==="base"&&typeof Le=="string"?Le:Le&&Le[Te];ae&&(ve[ve.length]=ae)}return ve},fe={};for(let Te in U)U[Te]!==void 0&&(fe[Te]=U[Te]);let we=(Te,ge)=>{var ve;let Be=typeof(U==null?void 0:U[Te])=="object"?{[Te]:(ve=U[Te])==null?void 0:ve.initial}:{};return{...T,...fe,...Be,...ge}},Z=(Te=[],ge)=>{let ve=[];for(let{class:Be,className:Le,...ae}of Te){let De=!0;for(let[Ve,Oe]of Object.entries(ae)){let he=we(Ve,ge);if(Array.isArray(Oe)){if(!Oe.includes(he[Ve])){De=!1;break}}else if(he[Ve]!==Oe){De=!1;break}}De&&(Be&&ve.push(Be),Le&&ve.push(Le))}return ve},me=Te=>{let ge=Z(h,Te),ve=Z(r==null?void 0:r.compoundVariants,Te);return WD(ve,ge)},xe=Te=>{let ge=me(Te);if(!Array.isArray(ge))return ge;let ve={};for(let Be of ge)if(typeof Be=="string"&&(ve.base=Zf(ve.base,Be)(v)),typeof Be=="object")for(let[Le,ae]of Object.entries(Be))ve[Le]=Zf(ve[Le],ae)(v);return ve},se=Te=>{if(d.length<1)return null;let ge={};for(let{slots:ve=[],class:Be,className:Le,...ae}of d){if(!sa(ae)){let De=!0;for(let Ve of Object.keys(ae)){let Oe=we(Ve,Te)[Ve];if(Oe===void 0||(Array.isArray(ae[Ve])?!ae[Ve].includes(Oe):ae[Ve]!==Oe)){De=!1;break}}if(!De)continue}for(let De of ve)ge[De]=ge[De]||[],ge[De].push([Be,Le])}return ge};if(!sa(n)||!C){let Te={};if(typeof B=="object"&&!sa(B))for(let ge of Object.keys(B))Te[ge]=ve=>{var Be,Le;return Zf(B[ge],ie(ge,ve),((Be=xe(ve))!=null?Be:[])[ge],((Le=se(ve))!=null?Le:[])[ge],ve==null?void 0:ve.class,ve==null?void 0:ve.className)(v)};return Te}return Zf(w,ee(),me(),U==null?void 0:U.class,U==null?void 0:U.className)(v)},Y=()=>{if(!(!S||typeof S!="object"))return Object.keys(S)};return V.variantKeys=Y(),V.extend=r,V.base=w,V.slots=B,V.variants=S,V.defaultVariants=T,V.compoundSlots=d,V.compoundVariants=h,V},oy=["small","medium","large"],wn=(e,t)=>{var r,n,s;return x9(e,{...t,twMerge:(r=void 0)!=null?r:!0,twMergeConfig:{theme:{...(n=void 0)==null?void 0:n.theme,opacity:["disabled"],spacing:["divider"],borderWidth:oy,borderRadius:oy},classGroups:{...(s=void 0)==null?void 0:s.classGroups,shadow:[{shadow:oy}],"font-size":[{text:["tiny",...oy]}],"bg-image":["bg-stripe-gradient"]}}})},Lo=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],O1=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],sd={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},YE=wn({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300 before:transition-opacity before:!duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{disableAnimation:!1}}),XE=wn({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),_9=wn({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),JE=wn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...Lo,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1,showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),b9=wn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),QE=wn({slots:{base:["flex","z-40","w-full","h-auto","items-center","justify-center","data-[menu-open=true]:border-none"],wrapper:["z-40","flex","px-6","gap-4","w-full","flex-row","relative","flex-nowrap","items-center","justify-between","h-[var(--navbar-height)]"],toggle:["group","flex","items-center","justify-center","w-6","h-full","outline-none","rounded-small","tap-highlight-transparent",...Lo],srOnly:["sr-only"],toggleIcon:["w-full","h-full","pointer-events-none","flex","flex-col","items-center","justify-center","text-inherit","group-data-[pressed=true]:opacity-70","transition-opacity","before:content-['']","before:block","before:h-px","before:w-6","before:bg-current","before:transition-transform","before:duration-150","before:-translate-y-1","before:rotate-0","group-data-[open=true]:before:translate-y-px","group-data-[open=true]:before:rotate-45","after:content-['']","after:block","after:h-px","after:w-6","after:bg-current","after:transition-transform","after:duration-150","after:translate-y-1","after:rotate-0","group-data-[open=true]:after:translate-y-0","group-data-[open=true]:after:-rotate-45"],brand:["flex","basis-0","flex-row","flex-grow","flex-nowrap","justify-start","bg-transparent","items-center","no-underline","text-medium","whitespace-nowrap","box-border"],content:["flex","gap-4","h-full","flex-row","flex-nowrap","items-center","data-[justify=start]:justify-start","data-[justify=start]:flex-grow","data-[justify=start]:basis-0","data-[justify=center]:justify-center","data-[justify=end]:justify-end","data-[justify=end]:flex-grow","data-[justify=end]:basis-0"],item:["text-medium","whitespace-nowrap","box-border","list-none","data-[active=true]:font-semibold"],menu:["z-30","px-6","pt-2","fixed","flex","max-w-full","top-[var(--navbar-height)]","inset-x-0","bottom-0","w-screen","flex-col","gap-2","overflow-y-auto"],menuItem:["text-large","data-[active=true]:font-semibold"]},variants:{position:{static:{base:"static"},sticky:{base:"sticky top-0 inset-x-0"}},maxWidth:{sm:{wrapper:"max-w-[640px]"},md:{wrapper:"max-w-[768px]"},lg:{wrapper:"max-w-[1024px]"},xl:{wrapper:"max-w-[1280px]"},"2xl":{wrapper:"max-w-[1536px]"},full:{wrapper:"max-w-full"}},hideOnScroll:{true:{base:["sticky","top-0","inset-x-0"]}},isBordered:{true:{base:["border-b","border-divider"]}},isBlurred:{false:{base:"bg-background",menu:"bg-background"},true:{base:["backdrop-blur-lg","data-[menu-open=true]:backdrop-blur-xl","backdrop-saturate-150","bg-background/70"],menu:["backdrop-blur-xl","backdrop-saturate-150","bg-background/70"]}},disableAnimation:{true:{menu:["hidden","h-[calc(100dvh_-_var(--navbar-height)_-_1px)]","data-[open=true]:flex"]}}},defaultVariants:{maxWidth:"lg",position:"sticky",isBlurred:!0}}),ek=wn({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...Lo],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:$t.solid.foreground},primary:{base:"before:bg-primary",content:$t.solid.primary},secondary:{base:"before:bg-secondary",content:$t.solid.secondary},success:{base:"before:bg-success",content:$t.solid.success},warning:{base:"before:bg-warning",content:$t.solid.warning},danger:{base:"before:bg-danger",content:$t.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",disableAnimation:!1,triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),w9=wn({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),S9=wn({base:["w-full","p-1","min-w-[200px]"]});wn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...Lo,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});wn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});wn({base:"w-full flex flex-col gap-0.5 p-1"});var tk=wn({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),rk=wn({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...Lo],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}}),P9="flex mx-1 text-current self-center",nk=wn({slots:{base:["relative w-fit max-w-full shadow-small inline-block overflow-y-hidden","rounded-large overflow-x-auto bg-default-50 dark:bg-background","w-[calc(var(--visible-months)_*_var(--calendar-width))]"],prevButton:[],nextButton:[],headerWrapper:["px-4 py-2 flex items-center justify-between gap-2 bg-content1","[&_.chevron-icon]:flex-none","after:content-['']","after:bg-content1 origin-top","after:w-full after:h-0","after:absolute after:top-0 after:left-0"],header:"flex w-full items-center justify-center gap-2 z-10",title:"text-default-500 text-small font-medium",content:"w-[calc(var(--visible-months)_*_var(--calendar-width))]",gridWrapper:"flex max-w-full overflow-hidden pb-2 h-auto relative",grid:"w-full border-collapse z-0",gridHeader:"bg-content1 shadow-[0px_20px_20px_0px_rgb(0_0_0/0.05)]",gridHeaderRow:"px-4 pb-2 flex justify-center text-default-400",gridHeaderCell:"flex w-8 justify-center items-center font-medium text-small",gridBody:"",gridBodyRow:"flex justify-center items-center first:mt-2",cell:"py-0.5 px-0",cellButton:["w-8 h-8 flex items-center text-foreground justify-center rounded-full","box-border appearance-none select-none whitespace-nowrap font-normal","subpixel-antialiased overflow-hidden tap-highlight-transparent","data-[disabled=true]:text-default-300","data-[disabled=true]:cursor-default","data-[readonly=true]:cursor-default","data-[disabled=true]:transition-none","data-[unavailable=true]:text-default-300","data-[unavailable=true]:cursor-default","data-[unavailable=true]:line-through",...Lo],pickerWrapper:"absolute inset-x-0 top-0 flex w-full h-[var(--picker-height)] justify-center opacity-0 pointer-events-none",pickerMonthList:"items-start",pickerYearList:"items-center",pickerHighlight:"h-8 bg-default-200 absolute w-[calc(100%_-_16px)] rounded-medium z-0 top-1/2 -translate-y-1/2 pointer-events-none",pickerItem:["w-full flex text-foreground items-center h-8 leading-[32px] min-h-[32px] snap-center text-large z-20","data-[pressed=true]:opacity-50",...Lo],helperWrapper:"px-4 pb-2 max-w-[270px] flex justify-start flex-wrap items-center",errorMessage:"text-small text-danger break-words max-w-full"},variants:{color:{foreground:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isRange:{true:{cellButton:["relative","overflow-visible","before:content-[''] before:absolute before:inset-0 before:z-[-1] before:rounded-none","data-[outside-month=true]:before:hidden","data-[selected=true]:data-[range-selection=true]:data-[outside-month=true]:bg-transparent","data-[selected=true]:data-[range-selection=true]:data-[outside-month=true]:text-default-300","data-[range-start=true]:before:rounded-l-full","data-[selection-start=true]:before:rounded-l-full","data-[range-end=true]:before:rounded-r-full","data-[selection-end=true]:before:rounded-r-full","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:rounded-full","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:rounded-full"]},false:{}},hideDisabledDates:{true:{cellButton:"data-[disabled=true]:opacity-0"},false:{}},isHeaderWrapperExpanded:{true:{headerWrapper:["[&_.chevron-icon]:rotate-180","after:h-full","after:z-0"],pickerWrapper:"opacity-100 pointer-events-auto z-10",gridWrapper:"h-[var(--picker-height)] overflow-y-hidden",grid:"opacity-0 pointer-events-none",nextButton:"opacity-0 pointer-events-none",prevButton:"opacity-0 pointer-events-none"},false:{}},showMonthAndYearPickers:{true:{base:"[--picker-height:224px]",header:"h-8 bg-default-100 rounded-full"},false:{}},showShadow:{true:{cellButton:"data-[selected=true]:shadow-md"},false:{cellButton:"shadow-none data-[selected=true]:shadow-none"}},disableAnimation:{true:{cellButton:"transition-none"},false:{headerWrapper:["[&_.chevron-icon]:transition-transform","after:transition-height"],grid:"transition-opacity",cellButton:["origin-center transition-[transform,background-color,color] !duration-150"],pickerWrapper:"transition-opacity !duration-250",pickerItem:"transition-opacity"}}},defaultVariants:{color:"primary",showShadow:!1,hideDisabledDates:!1,showMonthAndYearPickers:!1,disableAnimation:!1},compoundVariants:[{isRange:!1,color:"foreground",class:{cellButton:["data-[hover=true]:bg-default-200","data-[selected=true]:bg-foreground","data-[selected=true]:text-background","data-[hover=true]:bg-foreground-200","data-[hover=true]:text-foreground-600","data-[selected=true]:data-[hover=true]:bg-foreground","data-[selected=true]:data-[hover=true]:text-background"]}},{isRange:!1,color:"primary",class:{cellButton:["data-[selected=true]:bg-primary","data-[selected=true]:text-primary-foreground","data-[hover=true]:bg-primary-50","data-[hover=true]:text-primary-400","data-[selected=true]:data-[hover=true]:bg-primary","data-[selected=true]:data-[hover=true]:text-primary-foreground"]}},{isRange:!1,color:"secondary",class:{cellButton:["data-[selected=true]:bg-secondary","data-[selected=true]:text-secondary-foreground","data-[hover=true]:bg-secondary-50","data-[hover=true]:text-secondary-400","data-[selected=true]:data-[hover=true]:bg-secondary","data-[selected=true]:data-[hover=true]:text-secondary-foreground"]}},{isRange:!1,color:"success",class:{cellButton:["data-[selected=true]:bg-success","data-[selected=true]:text-success-foreground","data-[hover=true]:bg-success-100","data-[hover=true]:text-success-600","dark:data-[hover=true]:bg-success-50","dark:data-[hover=true]:text-success-500","data-[selected=true]:data-[hover=true]:bg-success","dark:data-[selected=true]:data-[hover=true]:bg-success","dark:data-[selected=true]:data-[hover=true]:text-success-foreground","data-[selected=true]:data-[hover=true]:text-success-foreground"]}},{isRange:!1,color:"warning",class:{cellButton:["data-[selected=true]:bg-warning","data-[selected=true]:text-warning-foreground","data-[hover=true]:bg-warning-100","data-[hover=true]:text-warning-600","dark:data-[hover=true]:bg-warning-50","dark:data-[hover=true]:text-warning-500","data-[selected=true]:data-[hover=true]:bg-warning","dark:data-[selected=true]:data-[hover=true]:bg-warning","dark:data-[selected=true]:data-[hover=true]:text-warning-foreground","data-[selected=true]:data-[hover=true]:text-warning-foreground"]}},{isRange:!1,color:"danger",class:{cellButton:["data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground","data-[hover=true]:bg-danger-100","data-[hover=true]:text-danger-500","dark:data-[hover=true]:bg-danger-50","dark:data-[hover=true]:text-danger-500","data-[selected=true]:data-[hover=true]:bg-danger","dark:data-[selected=true]:data-[hover=true]:bg-danger","dark:data-[selected=true]:data-[hover=true]:text-danger-foreground","data-[selected=true]:data-[hover=true]:text-danger-foreground"]}},{isRange:!0,color:"foreground",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-foreground/10","data-[selected=true]:data-[range-selection=true]:text-foreground","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-foreground","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-background","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-background"]}},{isRange:!0,color:"primary",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-primary-50","data-[selected=true]:data-[range-selection=true]:text-primary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-primary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-primary-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-primary","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-primary-foreground"]}},{isRange:!0,color:"secondary",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-secondary-50","data-[selected=true]:data-[range-selection=true]:text-secondary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-secondary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-secondary-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-secondary","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-secondary-foreground"]}},{isRange:!0,color:"success",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-success-100","data-[selected=true]:data-[range-selection=true]:text-success-600","dark:data-[selected=true]:data-[range-selection=true]:before:bg-success-50","dark:data-[selected=true]:data-[range-selection=true]:text-success-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-success","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-success-foreground","dark:data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-success-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-success","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-success-foreground","dark:data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-success-foreground"]}},{isRange:!0,color:"warning",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-warning-100","dark:data-[selected=true]:data-[range-selection=true]:before:bg-warning-50","data-[selected=true]:data-[range-selection=true]:text-warning-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-warning","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-warning-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-warning","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-warning-foreground"]}},{isRange:!0,color:"danger",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-danger-50","data-[selected=true]:data-[range-selection=true]:text-danger-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-danger","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-danger-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-danger","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-danger-foreground"]}},{showShadow:!0,color:"foreground",class:{cellButton:"data-[selected=true]:shadow-foreground/40"}},{showShadow:!0,color:"primary",class:{cellButton:"data-[selected=true]:shadow-primary/40"}},{showShadow:!0,color:"secondary",class:{cellButton:"data-[selected=true]:shadow-secondary/40"}},{showShadow:!0,color:"success",class:{cellButton:"data-[selected=true]:shadow-success/40"}},{showShadow:!0,color:"warning",class:{cellButton:"data-[selected=true]:shadow-warning/40"}},{showShadow:!0,color:"danger",class:{cellButton:"data-[selected=true]:shadow-danger/40"}},{showShadow:!0,isRange:!0,class:{cellButton:["data-[selected=true]:shadow-none","data-[selected=true]:data-[selection-start=true]:shadow-md","data-[selected=true]:data-[selection-end=true]:shadow-md"]}}],compoundSlots:[{slots:["prevButton","nextButton"],class:["text-medium","text-default-400"]},{slots:["pickerMonthList","pickerYearList"],class:["flex flex-col px-4 overflow-y-scroll scrollbar-hide snap-y snap-mandatory","[--scroll-shadow-size:100px]","[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"]}]}),ik=wn({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...Lo],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),T9=wn({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...Lo],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...O1,"flex","items-center","justify-center"],name:[...O1,"font-normal","text-center","text-inherit"],icon:[...O1,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:$t.solid.default},primary:{base:$t.solid.primary},secondary:{base:$t.solid.secondary},success:{base:$t.solid.success},warning:{base:$t.solid.warning},danger:{base:$t.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});wn({slots:{base:"flex items-center justify-center h-auto w-max-content",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var C9=wn({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...Lo],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:$t.solid.default},{variant:"solid",color:"primary",class:$t.solid.primary},{variant:"solid",color:"secondary",class:$t.solid.secondary},{variant:"solid",color:"success",class:$t.solid.success},{variant:"solid",color:"warning",class:$t.solid.warning},{variant:"solid",color:"danger",class:$t.solid.danger},{variant:"shadow",color:"default",class:$t.shadow.default},{variant:"shadow",color:"primary",class:$t.shadow.primary},{variant:"shadow",color:"secondary",class:$t.shadow.secondary},{variant:"shadow",color:"success",class:$t.shadow.success},{variant:"shadow",color:"warning",class:$t.shadow.warning},{variant:"shadow",color:"danger",class:$t.shadow.danger},{variant:"bordered",color:"default",class:$t.bordered.default},{variant:"bordered",color:"primary",class:$t.bordered.primary},{variant:"bordered",color:"secondary",class:$t.bordered.secondary},{variant:"bordered",color:"success",class:$t.bordered.success},{variant:"bordered",color:"warning",class:$t.bordered.warning},{variant:"bordered",color:"danger",class:$t.bordered.danger},{variant:"flat",color:"default",class:$t.flat.default},{variant:"flat",color:"primary",class:$t.flat.primary},{variant:"flat",color:"secondary",class:$t.flat.secondary},{variant:"flat",color:"success",class:$t.flat.success},{variant:"flat",color:"warning",class:$t.flat.warning},{variant:"flat",color:"danger",class:$t.flat.danger},{variant:"faded",color:"default",class:$t.faded.default},{variant:"faded",color:"primary",class:$t.faded.primary},{variant:"faded",color:"secondary",class:$t.faded.secondary},{variant:"faded",color:"success",class:$t.faded.success},{variant:"faded",color:"warning",class:$t.faded.warning},{variant:"faded",color:"danger",class:$t.faded.danger},{variant:"light",color:"default",class:[$t.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[$t.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[$t.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[$t.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[$t.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[$t.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:$t.ghost.default},{variant:"ghost",color:"primary",class:$t.ghost.primary},{variant:"ghost",color:"secondary",class:$t.ghost.secondary},{variant:"ghost",color:"success",class:$t.ghost.success},{variant:"ghost",color:"warning",class:$t.ghost.warning},{variant:"ghost",color:"danger",class:$t.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:sd.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:sd.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:sd.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:sd.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:sd.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:sd.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});wn({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});function Gb(e){return v7()?e.altKey:e.ctrlKey}function fd(e){return Xc()?e.metaKey:e.ctrlKey}const E9=1e3;function k9(e){let{keyboardDelegate:t,selectionManager:r,onTypeSelect:n}=e,s=z.useRef({search:"",timeout:null}).current,h=d=>{let c=A9(d.key);if(!c||d.ctrlKey||d.metaKey||!d.currentTarget.contains(d.target))return;c===" "&&s.search.trim().length>0&&(d.preventDefault(),"continuePropagation"in d||d.stopPropagation()),s.search+=c;let v=t.getKeyForSearch(s.search,r.focusedKey);v==null&&(v=t.getKeyForSearch(s.search)),v!=null&&(r.setFocusedKey(v),n&&n(v)),clearTimeout(s.timeout),s.timeout=setTimeout(()=>{s.search=""},E9)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?h:null}}}function A9(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function I9(e){let{selectionManager:t,keyboardDelegate:r,ref:n,autoFocus:s=!1,shouldFocusWrap:h=!1,disallowEmptySelection:d=!1,disallowSelectAll:c=!1,selectOnFocus:v=t.selectionBehavior==="replace",disallowTypeAhead:w=!1,shouldUseVirtualFocus:S,allowsTabNavigation:T=!1,isVirtualized:C,scrollRef:D=n,linkBehavior:B="action"}=e,{direction:V}=co(),Y=_0(),U=xe=>{if(xe.altKey&&xe.key==="Tab"&&xe.preventDefault(),!n.current.contains(xe.target))return;const se=(Oe,he)=>{if(Oe!=null){if(t.isLink(Oe)&&B==="selection"&&v&&!Gb(xe)){$2.flushSync(()=>{t.setFocusedKey(Oe,he)});let ze=D.current.querySelector(`[data-key="${CSS.escape(Oe.toString())}"]`);Y.open(ze,xe);return}if(t.setFocusedKey(Oe,he),t.isLink(Oe)&&B==="override")return;xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&!Gb(xe)&&t.replaceSelection(Oe)}};switch(xe.key){case"ArrowDown":if(r.getKeyBelow){var Te,ge;xe.preventDefault();let Oe=t.focusedKey!=null?r.getKeyBelow(t.focusedKey):(Te=r.getFirstKey)===null||Te===void 0?void 0:Te.call(r);Oe==null&&h&&(Oe=(ge=r.getFirstKey)===null||ge===void 0?void 0:ge.call(r,t.focusedKey)),se(Oe)}break;case"ArrowUp":if(r.getKeyAbove){var ve,Be;xe.preventDefault();let Oe=t.focusedKey!=null?r.getKeyAbove(t.focusedKey):(ve=r.getLastKey)===null||ve===void 0?void 0:ve.call(r);Oe==null&&h&&(Oe=(Be=r.getLastKey)===null||Be===void 0?void 0:Be.call(r,t.focusedKey)),se(Oe)}break;case"ArrowLeft":if(r.getKeyLeftOf){var Le,ae;xe.preventDefault();let Oe=r.getKeyLeftOf(t.focusedKey);Oe==null&&h&&(Oe=V==="rtl"?(Le=r.getFirstKey)===null||Le===void 0?void 0:Le.call(r,t.focusedKey):(ae=r.getLastKey)===null||ae===void 0?void 0:ae.call(r,t.focusedKey)),se(Oe,V==="rtl"?"first":"last")}break;case"ArrowRight":if(r.getKeyRightOf){var De,Ve;xe.preventDefault();let Oe=r.getKeyRightOf(t.focusedKey);Oe==null&&h&&(Oe=V==="rtl"?(De=r.getLastKey)===null||De===void 0?void 0:De.call(r,t.focusedKey):(Ve=r.getFirstKey)===null||Ve===void 0?void 0:Ve.call(r,t.focusedKey)),se(Oe,V==="rtl"?"last":"first")}break;case"Home":if(r.getFirstKey){xe.preventDefault();let Oe=r.getFirstKey(t.focusedKey,fd(xe));t.setFocusedKey(Oe),fd(xe)&&xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&t.replaceSelection(Oe)}break;case"End":if(r.getLastKey){xe.preventDefault();let Oe=r.getLastKey(t.focusedKey,fd(xe));t.setFocusedKey(Oe),fd(xe)&&xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&t.replaceSelection(Oe)}break;case"PageDown":if(r.getKeyPageBelow){xe.preventDefault();let Oe=r.getKeyPageBelow(t.focusedKey);se(Oe)}break;case"PageUp":if(r.getKeyPageAbove){xe.preventDefault();let Oe=r.getKeyPageAbove(t.focusedKey);se(Oe)}break;case"a":fd(xe)&&t.selectionMode==="multiple"&&c!==!0&&(xe.preventDefault(),t.selectAll());break;case"Escape":xe.preventDefault(),d||t.clearSelection();break;case"Tab":if(!T){if(xe.shiftKey)n.current.focus();else{let Oe=ds(n.current,{tabbable:!0}),he,ze;do ze=Oe.lastChild(),ze&&(he=ze);while(ze);he&&!he.contains(document.activeElement)&&Ao(he)}break}}},F=z.useRef({top:0,left:0});ap(D,"scroll",C?null:()=>{F.current={top:D.current.scrollTop,left:D.current.scrollLeft}});let O=xe=>{if(t.isFocused){xe.currentTarget.contains(xe.target)||t.setFocused(!1);return}if(xe.currentTarget.contains(xe.target)){if(t.setFocused(!0),t.focusedKey==null){let ge=Be=>{Be!=null&&(t.setFocusedKey(Be),v&&t.replaceSelection(Be))},ve=xe.relatedTarget;var se,Te;ve&&xe.currentTarget.compareDocumentPosition(ve)&Node.DOCUMENT_POSITION_FOLLOWING?ge((se=t.lastSelectedKey)!==null&&se!==void 0?se:r.getLastKey()):ge((Te=t.firstSelectedKey)!==null&&Te!==void 0?Te:r.getFirstKey())}else C||(D.current.scrollTop=F.current.top,D.current.scrollLeft=F.current.left);if(!C&&t.focusedKey!=null){let ge=D.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);ge&&(ge.contains(document.activeElement)||Ao(ge),Cv()==="keyboard"&&Ib(ge,{containingElement:n.current}))}}},ee=xe=>{xe.currentTarget.contains(xe.relatedTarget)||t.setFocused(!1)};const ie=z.useRef(s);z.useEffect(()=>{if(ie.current){let xe=null;s==="first"&&(xe=r.getFirstKey()),s==="last"&&(xe=r.getLastKey());let se=t.selectedKeys;if(se.size){for(let Te of se)if(t.canSelectItem(Te)){xe=Te;break}}t.setFocused(!0),t.setFocusedKey(xe),xe==null&&!S&&Qc(n.current)}},[]);let fe=z.useRef(t.focusedKey);z.useEffect(()=>{let xe=Cv();if(t.isFocused&&t.focusedKey!=null&&(D!=null&&D.current)){let se=D.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);se&&(xe==="keyboard"||ie.current)&&(C||B3(D.current,se),xe!=="virtual"&&Ib(se,{containingElement:n.current}))}t.isFocused&&t.focusedKey==null&&fe.current!=null&&Qc(n.current),fe.current=t.focusedKey,ie.current=!1},[C,D,t.focusedKey,t.isFocused,n]);let we={onKeyDown:U,onFocus:O,onBlur:ee,onMouseDown(xe){D.current===xe.target&&xe.preventDefault()}},{typeSelectProps:Z}=k9({keyboardDelegate:r,selectionManager:t});w||(we=Ut(Z,we));let me;return S||(me=t.focusedKey==null?0:-1),{collectionProps:{...we,tabIndex:me}}}function M9(e){let{selectionManager:t,key:r,ref:n,shouldSelectOnPressUp:s,shouldUseVirtualFocus:h,focus:d,isDisabled:c,onAction:v,allowsDifferentPressOrigin:w,linkBehavior:S="action"}=e,T=_0(),C=ae=>{if(ae.pointerType==="keyboard"&&Gb(ae))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(S==="selection"){T.open(n.current,ae),t.setSelectedKeys(t.selectedKeys);return}else if(S==="override"||S==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):ae&&ae.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||ae&&(fd(ae)||ae.pointerType==="touch"||ae.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};z.useEffect(()=>{r===t.focusedKey&&t.isFocused&&!h&&(d?d():document.activeElement!==n.current&&Qc(n.current))},[n,r,t.focusedKey,t.childFocusStrategy,t.isFocused,h]),c=c||t.isDisabled(r);let D={};!h&&!c?D={tabIndex:r===t.focusedKey?0:-1,onFocus(ae){ae.target===n.current&&t.setFocusedKey(r)}}:c&&(D.onMouseDown=ae=>{ae.preventDefault()});let B=t.isLink(r)&&S==="override",V=t.isLink(r)&&S!=="selection"&&S!=="none",Y=!c&&t.canSelectItem(r)&&!B,U=(v||V)&&!c,F=U&&(t.selectionBehavior==="replace"?!Y:!Y||t.isEmpty),O=U&&Y&&t.selectionBehavior==="replace",ee=F||O,ie=z.useRef(null),fe=ee&&Y,we=z.useRef(!1),Z=z.useRef(!1),me=ae=>{v&&v(),V&&T.open(n.current,ae)},xe={};s?(xe.onPressStart=ae=>{ie.current=ae.pointerType,we.current=fe,ae.pointerType==="keyboard"&&(!ee||ok())&&C(ae)},w?(xe.onPressUp=F?null:ae=>{ae.pointerType!=="keyboard"&&Y&&C(ae)},xe.onPress=F?me:null):xe.onPress=ae=>{if(F||O&&ae.pointerType!=="mouse"){if(ae.pointerType==="keyboard"&&!ak())return;me(ae)}else ae.pointerType!=="keyboard"&&Y&&C(ae)}):(xe.onPressStart=ae=>{ie.current=ae.pointerType,we.current=fe,Z.current=F,Y&&(ae.pointerType==="mouse"&&!F||ae.pointerType==="keyboard"&&(!U||ok()))&&C(ae)},xe.onPress=ae=>{(ae.pointerType==="touch"||ae.pointerType==="pen"||ae.pointerType==="virtual"||ae.pointerType==="keyboard"&&ee&&ak()||ae.pointerType==="mouse"&&Z.current)&&(ee?me(ae):Y&&C(ae))}),D["data-key"]=r,xe.preventFocusOnPress=h;let{pressProps:se,isPressed:Te}=yh(xe),ge=O?ae=>{ie.current==="mouse"&&(ae.stopPropagation(),ae.preventDefault(),me(ae))}:void 0,{longPressProps:ve}=$D({isDisabled:!fe,onLongPress(ae){ae.pointerType==="touch"&&(C(ae),t.setSelectionBehavior("toggle"))}}),Be=ae=>{ie.current==="touch"&&we.current&&ae.preventDefault()},Le=t.isLink(r)?ae=>{Ll.isOpening||ae.preventDefault()}:void 0;return{itemProps:Ut(D,Y||F?se:{},fe?ve:{},{onDoubleClick:ge,onDragStartCapture:Be,onClick:Le}),isPressed:Te,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:c,allowsSelection:Y,hasAction:ee}}function ak(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function ok(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class D9{getNextKey(t){for(t=this.collection.getKeyAfter(t);t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyAfter(t)}return null}getPreviousKey(t){for(t=this.collection.getKeyBefore(t);t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyBefore(t)}return null}findKey(t,r,n){let s=this.getItem(t);if(!s)return null;let h=s.getBoundingClientRect();do t=r(t),s=this.getItem(t);while(s&&n(h,s.getBoundingClientRect()));return t}isSameRow(t,r){return t.top===r.top||t.left!==r.left}isSameColumn(t,r){return t.left===r.left||t.top!==r.top}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getNextKey(r),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getPreviousKey(r),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,r){return r?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();for(;t!=null;){let r=this.collection.getItem(t);if((r==null?void 0:r.type)==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyAfter(t)}return null}getLastKey(){let t=this.collection.getLastKey();for(;t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyBefore(t)}return null}getItem(t){return this.ref.current.querySelector(`[data-key="${CSS.escape(t.toString())}"]`)}getKeyPageAbove(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!Pv(r))return this.getFirstKey();let s=r.getBoundingClientRect(),h=n.getBoundingClientRect();if(this.orientation==="horizontal"){let d=s.x-r.scrollLeft,c=Math.max(0,h.x-d+h.width-s.width);for(;n&&h.x-d>c;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}else{let d=s.y-r.scrollTop,c=Math.max(0,h.y-d+h.height-s.height);for(;n&&h.y-d>c;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}return t??this.getFirstKey()}getKeyPageBelow(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!Pv(r))return this.getLastKey();let s=r.getBoundingClientRect(),h=n.getBoundingClientRect();if(this.orientation==="horizontal"){let d=s.x-r.scrollLeft,c=Math.min(r.scrollWidth,h.x-d-h.width+s.width);for(;n&&h.x-d<c;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}else{let d=s.y-r.scrollTop,c=Math.min(r.scrollHeight,h.y-d-h.height+s.height);for(;n&&h.y-d<c;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}return t??this.getLastKey()}getKeyForSearch(t,r){if(!this.collator)return null;let n=this.collection,s=r||this.getFirstKey();for(;s!=null;){let h=n.getItem(s),d=h.textValue.slice(0,t.length);if(h.textValue&&this.collator.compare(d,t)===0)return s;s=this.getKeyBelow(s)}return null}constructor(...t){if(t.length===1){let r=t[0];this.collection=r.collection,this.ref=r.ref,this.collator=r.collator,this.disabledKeys=r.disabledKeys||new Set,this.orientation=r.orientation,this.direction=r.direction,this.layout=r.layout||"stack"}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function $9(e){let{selectionManager:t,collection:r,disabledKeys:n,ref:s,keyboardDelegate:h}=e,d=$7({usage:"search",sensitivity:"base"}),c=t.disabledBehavior,v=z.useMemo(()=>h||new D9(r,c==="selection"?new Set:n,s,d),[h,r,n,s,d,c]),{collectionProps:w}=I9({...e,ref:s,selectionManager:t,keyboardDelegate:v});return{listProps:w}}var R9=e=>$.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[$.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),$.jsx("path",{d:"M15 3h6v6"}),$.jsx("path",{d:"M10 14L21 3"})]});const tS=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),b0=z.createContext({}),w0=z.createContext(null),rS=typeof document<"u",nS=rS?z.useLayoutEffect:z.useEffect,iS=z.createContext({strict:!1}),aS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L9="framerAppearId",t4="data-"+aS(L9),z9={skipAnimations:!1,useManualTiming:!1};let sk=class{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}};function F9(e){let t=new sk,r=new sk,n=0,s=!1,h=!1;const d=new WeakSet,c={schedule:(v,w=!1,S=!1)=>{const T=S&&s,C=T?t:r;return w&&d.add(v),C.add(v)&&T&&s&&(n=t.order.length),v},cancel:v=>{r.remove(v),d.delete(v)},process:v=>{if(s){h=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let w=0;w<n;w++){const S=t.order[w];d.has(S)&&(c.schedule(S),e()),S(v)}s=!1,h&&(h=!1,c.process(v))}};return c}const sy=["read","resolveKeyframes","update","preRender","render","postRender"],B9=40;function r4(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},h=sy.reduce((T,C)=>(T[C]=F9(()=>r=!0),T),{}),d=T=>{h[T].process(s)},c=()=>{const T=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(T-s.timestamp,B9),1),s.timestamp=T,s.isProcessing=!0,sy.forEach(d),s.isProcessing=!1,r&&t&&(n=!1,e(c))},v=()=>{r=!0,n=!0,s.isProcessing||e(c)};return{schedule:sy.reduce((T,C)=>{const D=h[C];return T[C]=(B,V=!1,Y=!1)=>(r||v(),D.schedule(B,V,Y)),T},{}),cancel:T=>sy.forEach(C=>h[C].cancel(T)),state:s,steps:h}}const{schedule:oS,cancel:tre}=r4(queueMicrotask,!1);function N9(e,t,r,n){const{visualElement:s}=z.useContext(b0),h=z.useContext(iS),d=z.useContext(w0),c=z.useContext(tS).reducedMotion,v=z.useRef();n=n||h.renderer,!v.current&&n&&(v.current=n(e,{visualState:t,parent:s,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:c}));const w=v.current;z.useInsertionEffect(()=>{w&&w.update(r,d)});const S=z.useRef(!!(r[t4]&&!window.HandoffComplete));return nS(()=>{w&&(oS.postRender(w.render),S.current&&w.animationState&&w.animationState.animateChanges())}),z.useEffect(()=>{w&&(w.updateFeatures(),!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(S.current=!1,window.HandoffComplete=!0))}),w}function Ad(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O9(e,t,r){return z.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ad(r)&&(r.current=n))},[t])}function qp(e){return typeof e=="string"||Array.isArray(e)}function S0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lS=["initial",...sS];function P0(e){return S0(e.animate)||lS.some(t=>qp(e[t]))}function n4(e){return!!(P0(e)||e.variants)}function j9(e,t){if(P0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||qp(r)?r:void 0,animate:qp(n)?n:void 0}}return e.inherit!==!1?t:{}}function V9(e){const{initial:t,animate:r}=j9(e,z.useContext(b0));return z.useMemo(()=>({initial:t,animate:r}),[lk(t),lk(r)])}function lk(e){return Array.isArray(e)?e.join(" "):e}const ck={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yp={};for(const e in ck)Yp[e]={isEnabled:t=>ck[e].some(r=>!!t[r])};function Zb(e){for(const t in e)Yp[t]={...Yp[t],...e[t]}}const cS=z.createContext({}),i4=z.createContext({}),U9=Symbol.for("motionComponentSymbol");function K9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&Zb(e);function h(c,v){let w;const S={...z.useContext(tS),...c,layoutId:H9(c)},{isStatic:T}=S,C=V9(c),D=n(c,T);if(!T&&rS){C.visualElement=N9(s,D,S,t);const B=z.useContext(i4),V=z.useContext(iS).strict;C.visualElement&&(w=C.visualElement.loadFeatures(S,V,e,B))}return $.jsxs(b0.Provider,{value:C,children:[w&&C.visualElement?$.jsx(w,{visualElement:C.visualElement,...S}):null,r(s,c,O9(D,C.visualElement,v),D,T,C.visualElement)]})}const d=z.forwardRef(h);return d[U9]=s,d}function H9({layoutId:e}){const t=z.useContext(cS).id;return t&&e!==void 0?t+"-"+e:e}function a4(e){function t(n,s={}){return K9(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const W9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uS(e){return typeof e!="string"||e.includes("-")?!1:!!(W9.indexOf(e)>-1||/[A-Z]/u.test(e))}const $v={};function G9(e){Object.assign($v,e)}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iu=new Set(pm);function o4(e,{layout:t,layoutId:r}){return iu.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$v[e]||e==="opacity")}const vi=e=>!!(e&&e.getVelocity),Z9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q9=pm.length;function Y9(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let h="";for(let d=0;d<q9;d++){const c=pm[d];if(e[c]!==void 0){const v=Z9[c]||c;h+=`${v}(${e[c]}) `}}return t&&!e.z&&(h+="translateZ(0)"),h=h.trim(),s?h=s(e,n?"":h):r&&n&&(h="none"),h}const s4=e=>t=>typeof t=="string"&&t.startsWith(e),l4=s4("--"),X9=s4("var(--"),dS=e=>X9(e)?J9.test(e.split("/*")[0].trim()):!1,J9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Q9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,zl=(e,t,r)=>r>t?t:r<e?e:r,xh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sp={...xh,transform:e=>zl(0,1,e)},ly={...xh,default:1},Pp=e=>Math.round(e*1e5)/1e5,hS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,eU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function mm(e){return typeof e=="string"}const gm=e=>({test:t=>mm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ol=gm("deg"),$o=gm("%"),Bt=gm("px"),rU=gm("vh"),nU=gm("vw"),uk={...$o,parse:e=>$o.parse(e)/100,transform:e=>$o.transform(e*100)},dk={...xh,transform:Math.round},c4={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:ol,rotateX:ol,rotateY:ol,rotateZ:ol,scale:ly,scaleX:ly,scaleY:ly,scaleZ:ly,skew:ol,skewX:ol,skewY:ol,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Sp,originX:uk,originY:uk,originZ:Bt,zIndex:dk,backgroundPositionX:Bt,backgroundPositionY:Bt,fillOpacity:Sp,strokeOpacity:Sp,numOctaves:dk};function fS(e,t,r,n){const{style:s,vars:h,transform:d,transformOrigin:c}=e;let v=!1,w=!1,S=!0;for(const T in t){const C=t[T];if(l4(T)){h[T]=C;continue}const D=c4[T],B=Q9(C,D);if(iu.has(T)){if(v=!0,d[T]=B,!S)continue;C!==(D.default||0)&&(S=!1)}else T.startsWith("origin")?(w=!0,c[T]=B):s[T]=B}if(t.transform||(v||n?s.transform=Y9(e.transform,r,S,n):s.transform&&(s.transform="none")),w){const{originX:T="50%",originY:C="50%",originZ:D=0}=c;s.transformOrigin=`${T} ${C} ${D}`}}const pS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u4(e,t,r){for(const n in t)!vi(t[n])&&!o4(n,r)&&(e[n]=t[n])}function iU({transformTemplate:e},t,r){return z.useMemo(()=>{const n=pS();return fS(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function aU(e,t,r){const n=e.style||{},s={};return u4(s,n,e),Object.assign(s,iU(e,t,r)),s}function oU(e,t,r){const n={},s=aU(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const sU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||sU.has(e)}let d4=e=>!Rv(e);function lU(e){e&&(d4=t=>t.startsWith("on")?!Rv(t):e(t))}try{lU(require("@emotion/is-prop-valid").default)}catch{}function cU(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(d4(s)||r===!0&&Rv(s)||!t&&!Rv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function hk(e,t,r){return typeof e=="string"?e:Bt.transform(t+r*e)}function uU(e,t,r){const n=hk(t,e.x,e.width),s=hk(r,e.y,e.height);return`${n} ${s}`}const dU={offset:"stroke-dashoffset",array:"stroke-dasharray"},hU={offset:"strokeDashoffset",array:"strokeDasharray"};function fU(e,t,r=1,n=0,s=!0){e.pathLength=1;const h=s?dU:hU;e[h.offset]=Bt.transform(-n);const d=Bt.transform(t),c=Bt.transform(r);e[h.array]=`${d} ${c}`}function mS(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:h,pathLength:d,pathSpacing:c=1,pathOffset:v=0,...w},S,T,C){if(fS(e,w,S,C),T){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:D,style:B,dimensions:V}=e;D.transform&&(V&&(B.transform=D.transform),delete D.transform),V&&(s!==void 0||h!==void 0||B.transform)&&(B.transformOrigin=uU(V,s!==void 0?s:.5,h!==void 0?h:.5)),t!==void 0&&(D.x=t),r!==void 0&&(D.y=r),n!==void 0&&(D.scale=n),d!==void 0&&fU(D,d,c,v,!1)}const h4=()=>({...pS(),attrs:{}}),gS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pU(e,t,r,n){const s=z.useMemo(()=>{const h=h4();return mS(h,t,{enableHardwareAcceleration:!1},gS(n),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};u4(h,e.style,e),s.style={...h,...s.style}}return s}function mU(e=!1){return(r,n,s,{latestValues:h},d)=>{const v=(uS(r)?pU:oU)(n,h,d,r),w=cU(n,typeof r=="string",e),S=r!==z.Fragment?{...w,...v,ref:s}:{},{children:T}=n,C=z.useMemo(()=>vi(T)?T.get():T,[T]);return z.createElement(r,{...S,children:C})}}function f4(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const h in r)e.style.setProperty(h,r[h])}const p4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m4(e,t,r,n){f4(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(p4.has(s)?s:aS(s),t.attrs[s])}function yS(e,t,r){var n;const{style:s}=e,h={};for(const d in s)(vi(s[d])||t.style&&vi(t.style[d])||o4(d,e)||((n=r==null?void 0:r.getValue(d))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(h[d]=s[d]);return h}function g4(e,t,r){const n=yS(e,t,r);for(const s in e)if(vi(e[s])||vi(t[s])){const h=pm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[h]=e[s]}return n}function vS(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function y4(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const qb=e=>Array.isArray(e),gU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yU=e=>qb(e)?e[e.length-1]||0:e;function Ly(e){const t=vi(e)?e.get():e;return gU(t)?t.toValue():t}function vU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,h){const d={latestValues:xU(n,s,h,e),renderState:t()};return r&&(d.mount=c=>r(n,c,d)),d}const v4=e=>(t,r)=>{const n=z.useContext(b0),s=z.useContext(w0),h=()=>vU(e,t,n,s);return r?h():y4(h)};function xU(e,t,r,n){const s={},h=n(e,{});for(const C in h)s[C]=Ly(h[C]);let{initial:d,animate:c}=e;const v=P0(e),w=n4(e);t&&w&&!v&&e.inherit!==!1&&(d===void 0&&(d=t.initial),c===void 0&&(c=t.animate));let S=r?r.initial===!1:!1;S=S||d===!1;const T=S?c:d;return T&&typeof T!="boolean"&&!S0(T)&&(Array.isArray(T)?T:[T]).forEach(D=>{const B=vS(e,D);if(!B)return;const{transitionEnd:V,transition:Y,...U}=B;for(const F in U){let O=U[F];if(Array.isArray(O)){const ee=S?O.length-1:0;O=O[ee]}O!==null&&(s[F]=O)}for(const F in V)s[F]=V[F]}),s}const _i=e=>e,{schedule:Vn,cancel:Fl,state:Jn,steps:j1}=r4(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0),_U={useVisualState:v4({scrapeMotionValuesFromProps:g4,createRenderState:h4,onMount:(e,t,{renderState:r,latestValues:n})=>{Vn.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Vn.render(()=>{mS(r,n,{enableHardwareAcceleration:!1},gS(t.tagName),e.transformTemplate),m4(t,r)})}})},bU={useVisualState:v4({scrapeMotionValuesFromProps:yS,createRenderState:pS})};function x4(e,{forwardMotionProps:t=!1},r,n){return{...uS(e)?_U:bU,preloadedFeatures:r,useRender:mU(t),createVisualElement:n,Component:e}}function hs(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const _4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function T0(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const wU=e=>t=>_4(t)&&e(t,T0(t));function ms(e,t,r,n){return hs(e,t,wU(r),n)}const SU=(e,t)=>r=>t(e(r)),gs=(...e)=>e.reduce(SU);function b4(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const fk=b4("dragHorizontal"),pk=b4("dragVertical");function w4(e){let t=!1;if(e==="y")t=pk();else if(e==="x")t=fk();else{const r=fk(),n=pk();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function S4(){const e=w4(!0);return e?(e(),!1):!0}let Ul=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function mk(e,t){const r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",s=(h,d)=>{if(h.pointerType==="touch"||S4())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t);const v=c[n];v&&v(h,d)};return ms(e.current,r,s,{passive:!e.getProps()[n]})}let PU=class extends Ul{mount(){this.unmount=gs(mk(this.node,!0),mk(this.node,!1))}unmount(){}},TU=class extends Ul{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gs(hs(this.node.current,"focus",()=>this.onFocus()),hs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const P4=(e,t)=>t?e===t?!0:P4(e,t.parentElement):!1;function V1(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,T0(r))}let CU=class extends Ul{constructor(){super(...arguments),this.removeStartListeners=_i,this.removeEndListeners=_i,this.removeAccessibleListeners=_i,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),h=ms(window,"pointerup",(c,v)=>{if(!this.checkPressEnd())return;const{onTap:w,onTapCancel:S,globalTapTarget:T}=this.node.getProps();!T&&!P4(this.node.current,c.target)?S&&S(c,v):w&&w(c,v)},{passive:!(n.onTap||n.onPointerUp)}),d=ms(window,"pointercancel",(c,v)=>this.cancelPress(c,v),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=gs(h,d),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=h=>{if(h.key!=="Enter"||this.isPressing)return;const d=c=>{c.key!=="Enter"||!this.checkPressEnd()||V1("up",(v,w)=>{const{onTap:S}=this.node.getProps();S&&S(v,w)})};this.removeEndListeners(),this.removeEndListeners=hs(this.node.current,"keyup",d),V1("down",(c,v)=>{this.startPress(c,v)})},r=hs(this.node.current,"keydown",t),n=()=>{this.isPressing&&V1("cancel",(h,d)=>this.cancelPress(h,d))},s=hs(this.node.current,"blur",n);this.removeAccessibleListeners=gs(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(t,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!S4()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(t,r)}mount(){const t=this.node.getProps(),r=ms(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=hs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gs(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const Yb=new WeakMap,U1=new WeakMap,EU=e=>{const t=Yb.get(e.target);t&&t(e)},kU=e=>{e.forEach(EU)};function AU({root:e,...t}){const r=e||document;U1.has(r)||U1.set(r,{});const n=U1.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(kU,{root:e,...t})),n[s]}function IU(e,t,r){const n=AU(t);return Yb.set(e,r),n.observe(e),()=>{Yb.delete(e),n.unobserve(e)}}const MU={some:0,all:1};let DU=class extends Ul{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:h}=t,d={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:MU[s]},c=v=>{const{isIntersecting:w}=v;if(this.isInView===w||(this.isInView=w,h&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:S,onViewportLeave:T}=this.node.getProps(),C=w?S:T;C&&C(v)};return IU(this.node.current,d,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($U(t,r))&&this.startObserver()}unmount(){}};function $U({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const T4={inView:{Feature:DU},tap:{Feature:CU},focus:{Feature:TU},hover:{Feature:PU}};function C4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function RU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function LU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function C0(e,t,r){const n=e.getProps();return vS(n,t,r!==void 0?r:n.custom,RU(e),LU(e))}const Al=e=>e*1e3,ys=e=>e/1e3,zU={type:"spring",stiffness:500,damping:25,restSpeed:10},FU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),BU={type:"keyframes",duration:.8},NU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OU=(e,{keyframes:t})=>t.length>2?BU:iu.has(e)?e.startsWith("scale")?FU(t[1]):zU:NU;function jU({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:h,repeatType:d,repeatDelay:c,from:v,elapsed:w,...S}){return!!Object.keys(S).length}function xS(e,t){return e[t]||e.default||e}const VU=e=>e!==null;function E0(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(VU),h=t&&r!=="loop"&&t%2===1?0:s.length-1;return!h||n===void 0?s[h]:n}let zy;function UU(){zy=void 0}const Il={now:()=>(zy===void 0&&Il.set(Jn.isProcessing||z9.useManualTiming?Jn.timestamp:performance.now()),zy),set:e=>{zy=e,queueMicrotask(UU)}},E4=e=>/^0[^.\s]+$/u.test(e);function KU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E4(e):!0}let Xb=_i;const k4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),HU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WU(e){const t=HU.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function A4(e,t,r=1){const[n,s]=WU(e);if(!n)return;const h=window.getComputedStyle(t).getPropertyValue(n);if(h){const d=h.trim();return k4(d)?parseFloat(d):d}return dS(s)?A4(s,t,r+1):s}const GU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gk=e=>e===xh||e===Bt,yk=(e,t)=>parseFloat(e.split(", ")[t]),vk=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return yk(s[1],t);{const h=n.match(/^matrix\((.+)\)$/u);return h?yk(h[1],e):0}},ZU=new Set(["x","y","z"]),qU=pm.filter(e=>!ZU.has(e));function YU(e){const t=[];return qU.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ah={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vk(4,13),y:vk(5,14)};ah.translateX=ah.x;ah.translateY=ah.y;const I4=e=>t=>t.test(e),XU={test:e=>e==="auto",parse:e=>e},M4=[xh,Bt,$o,ol,nU,rU,XU],xk=e=>M4.find(I4(e)),Oc=new Set;let Jb=!1,Qb=!1;function D4(){if(Qb){const e=Array.from(Oc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=YU(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([h,d])=>{var c;(c=n.getValue(h))===null||c===void 0||c.set(d)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Qb=!1,Jb=!1,Oc.forEach(e=>e.complete()),Oc.clear()}function $4(){Oc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qb=!0)})}function JU(){$4(),D4()}class _S{constructor(t,r,n,s,h,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=h,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oc.add(this),Jb||(Jb=!0,Vn.read($4),Vn.resolveKeyframes(D4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let h=0;h<t.length;h++)if(t[h]===null)if(h===0){const d=s==null?void 0:s.get(),c=t[t.length-1];if(d!==void 0)t[0]=d;else if(n&&r){const v=n.readValue(r,c);v!=null&&(t[0]=v)}t[0]===void 0&&(t[0]=c),s&&d===void 0&&s.set(t[0])}else t[h]=t[h-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bS=(e,t)=>r=>!!(mm(r)&&tU.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),R4=(e,t,r)=>n=>{if(!mm(n))return n;const[s,h,d,c]=n.match(hS);return{[e]:parseFloat(s),[t]:parseFloat(h),[r]:parseFloat(d),alpha:c!==void 0?parseFloat(c):1}},QU=e=>zl(0,255,e),K1={...xh,transform:e=>Math.round(QU(e))},Rc={test:bS("rgb","red"),parse:R4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+K1.transform(e)+", "+K1.transform(t)+", "+K1.transform(r)+", "+Pp(Sp.transform(n))+")"};function eK(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const ew={test:bS("#"),parse:eK,transform:Rc.transform},Id={test:bS("hsl","hue"),parse:R4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+$o.transform(Pp(t))+", "+$o.transform(Pp(r))+", "+Pp(Sp.transform(n))+")"},mi={test:e=>Rc.test(e)||ew.test(e)||Id.test(e),parse:e=>Rc.test(e)?Rc.parse(e):Id.test(e)?Id.parse(e):ew.parse(e),transform:e=>mm(e)?e:e.hasOwnProperty("red")?Rc.transform(e):Id.transform(e)};function tK(e){var t,r;return isNaN(e)&&mm(e)&&(((t=e.match(hS))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(eU))===null||r===void 0?void 0:r.length)||0)>0}const L4="number",z4="color",rK="var",nK="var(",_k="${}",iK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let h=0;const c=t.replace(iK,v=>(mi.test(v)?(n.color.push(h),s.push(z4),r.push(mi.parse(v))):v.startsWith(nK)?(n.var.push(h),s.push(rK),r.push(v)):(n.number.push(h),s.push(L4),r.push(parseFloat(v))),++h,_k)).split(_k);return{values:r,split:c,indexes:n,types:s}}function F4(e){return Lv(e).values}function B4(e){const{split:t,types:r}=Lv(e),n=t.length;return s=>{let h="";for(let d=0;d<n;d++)if(h+=t[d],s[d]!==void 0){const c=r[d];c===L4?h+=Pp(s[d]):c===z4?h+=mi.transform(s[d]):h+=s[d]}return h}}const aK=e=>typeof e=="number"?0:e;function oK(e){const t=F4(e);return B4(e)(t.map(aK))}const Bl={test:tK,parse:F4,createTransformer:B4,getAnimatableNone:oK},sK=new Set(["brightness","contrast","saturate","opacity"]);function lK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(hS)||[];if(!n)return e;const s=r.replace(n,"");let h=sK.has(t)?1:0;return n!==r&&(h*=100),t+"("+h+s+")"}const cK=/\b([a-z-]*)\(.*?\)/gu,tw={...Bl,getAnimatableNone:e=>{const t=e.match(cK);return t?t.map(lK).join(" "):e}},uK={...c4,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:tw,WebkitFilter:tw},wS=e=>uK[e];function N4(e,t){let r=wS(e);return r!==tw&&(r=Bl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}function dK(e,t,r){let n=0,s;for(;n<e.length&&!s;)typeof e[n]=="string"&&e[n]!=="none"&&e[n]!=="0"&&(s=e[n]),n++;if(s&&r)for(const h of t)e[h]=N4(r,s)}class O4 extends _S{constructor(t,r,n,s){super(t,r,n,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){const w=t[v];if(typeof w=="string"&&dS(w)){const S=A4(w,r.current);S!==void 0&&(t[v]=S),v===t.length-1&&(this.finalKeyframe=w)}}if(!GU.has(n)||t.length!==2)return this.resolveNoneKeyframes();const[s,h]=t,d=xk(s),c=xk(h);if(d!==c)if(gk(d)&&gk(c))for(let v=0;v<t.length;v++){const w=t[v];typeof w=="string"&&(t[v]=parseFloat(w))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)KU(t[s])&&n.push(s);n.length&&dK(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ah[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r.current)return;const h=r.getValue(n);h&&h.jump(this.measuredOrigin,!1);const d=s.length-1,c=s[d];s[d]=ah[n](r.measureViewportBox(),window.getComputedStyle(r.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([v,w])=>{r.getValue(v).set(w)}),this.resolveNoneKeyframes()}}function hK(e){let t;return()=>(t===void 0&&(t=e()),t)}const bk=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bl.test(e)||e==="0")&&!e.startsWith("url("));function fK(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function pK(e,t,r,n){const s=e[0];if(s===null)return!1;const h=e[e.length-1],d=bk(s,t),c=bk(h,t);return!d||!c?!1:fK(e)||r==="spring"&&n}class j4{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:h=0,repeatType:d="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:h,repeatType:d,...c},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JU(),this._resolved}onKeyframesResolved(t,r){this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:h,delay:d,onComplete:c,onUpdate:v,isGenerator:w}=this.options;if(!w&&!pK(t,n,s,h))if(d)this.options.duration=0;else{v==null||v(E0(t,this.options,r)),c==null||c(),this.resolveFinishedPromise();return}const S=this.initPlayback(t,r);S!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...S},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function V4(e,t){return t?e*(1e3/t):0}const mK=5;function U4(e,t,r){const n=Math.max(t-mK,0);return V4(r-e(n),t-n)}const H1=.001,gK=.01,yK=10,vK=.05,xK=1;function _K({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,h,d=1-t;d=zl(vK,xK,d),e=zl(gK,yK,ys(e)),d<1?(s=w=>{const S=w*d,T=S*e,C=S-r,D=rw(w,d),B=Math.exp(-T);return H1-C/D*B},h=w=>{const T=w*d*e,C=T*r+r,D=Math.pow(d,2)*Math.pow(w,2)*e,B=Math.exp(-T),V=rw(Math.pow(w,2),d);return(-s(w)+H1>0?-1:1)*((C-D)*B)/V}):(s=w=>{const S=Math.exp(-w*e),T=(w-r)*e+1;return-H1+S*T},h=w=>{const S=Math.exp(-w*e),T=(r-w)*(e*e);return S*T});const c=5/e,v=wK(s,h,c);if(e=Al(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const w=Math.pow(v,2)*n;return{stiffness:w,damping:d*2*Math.sqrt(n*w),duration:e}}}const bK=12;function wK(e,t,r){let n=r;for(let s=1;s<bK;s++)n=n-e(n)/t(n);return n}function rw(e,t){return e*Math.sqrt(1-t*t)}const SK=["duration","bounce"],PK=["stiffness","damping","mass"];function wk(e,t){return t.some(r=>e[r]!==void 0)}function TK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!wk(e,PK)&&wk(e,SK)){const r=_K(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function K4({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],h=e[e.length-1],d={done:!1,value:s},{stiffness:c,damping:v,mass:w,duration:S,velocity:T,isResolvedFromDuration:C}=TK({...n,velocity:-ys(n.velocity||0)}),D=T||0,B=v/(2*Math.sqrt(c*w)),V=h-s,Y=ys(Math.sqrt(c/w)),U=Math.abs(V)<5;r||(r=U?.01:2),t||(t=U?.005:.5);let F;if(B<1){const O=rw(Y,B);F=ee=>{const ie=Math.exp(-B*Y*ee);return h-ie*((D+B*Y*V)/O*Math.sin(O*ee)+V*Math.cos(O*ee))}}else if(B===1)F=O=>h-Math.exp(-Y*O)*(V+(D+Y*V)*O);else{const O=Y*Math.sqrt(B*B-1);F=ee=>{const ie=Math.exp(-B*Y*ee),fe=Math.min(O*ee,300);return h-ie*((D+B*Y*V)*Math.sinh(fe)+O*V*Math.cosh(fe))/O}}return{calculatedDuration:C&&S||null,next:O=>{const ee=F(O);if(C)d.done=O>=S;else{let ie=D;O!==0&&(B<1?ie=U4(F,O,ee):ie=0);const fe=Math.abs(ie)<=r,we=Math.abs(h-ee)<=t;d.done=fe&&we}return d.value=d.done?h:ee,d}}}function Sk({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:h=500,modifyTarget:d,min:c,max:v,restDelta:w=.5,restSpeed:S}){const T=e[0],C={done:!1,value:T},D=Z=>c!==void 0&&Z<c||v!==void 0&&Z>v,B=Z=>c===void 0?v:v===void 0||Math.abs(c-Z)<Math.abs(v-Z)?c:v;let V=r*t;const Y=T+V,U=d===void 0?Y:d(Y);U!==Y&&(V=U-T);const F=Z=>-V*Math.exp(-Z/n),O=Z=>U+F(Z),ee=Z=>{const me=F(Z),xe=O(Z);C.done=Math.abs(me)<=w,C.value=C.done?U:xe};let ie,fe;const we=Z=>{D(C.value)&&(ie=Z,fe=K4({keyframes:[C.value,B(C.value)],velocity:U4(O,Z,C.value),damping:s,stiffness:h,restDelta:w,restSpeed:S}))};return we(0),{calculatedDuration:null,next:Z=>{let me=!1;return!fe&&ie===void 0&&(me=!0,ee(Z),we(Z)),ie!==void 0&&Z>=ie?fe.next(Z-ie):(!me&&ee(Z),C)}}}const H4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,CK=1e-7,EK=12;function kK(e,t,r,n,s){let h,d,c=0;do d=t+(r-t)/2,h=H4(d,n,s)-e,h>0?r=d:t=d;while(Math.abs(h)>CK&&++c<EK);return d}function ym(e,t,r,n){if(e===t&&r===n)return _i;const s=h=>kK(h,0,1,e,r);return h=>h===0||h===1?h:H4(s(h),t,n)}const AK=ym(.42,0,1,1),IK=ym(0,0,.58,1),W4=ym(.42,0,.58,1),MK=e=>Array.isArray(e)&&typeof e[0]!="number",G4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Z4=e=>t=>1-e(1-t),SS=e=>1-Math.sin(Math.acos(e)),q4=Z4(SS),DK=G4(SS),Y4=ym(.33,1.53,.69,.99),PS=Z4(Y4),$K=G4(PS),RK=e=>(e*=2)<1?.5*PS(e):.5*(2-Math.pow(2,-10*(e-1))),Pk={linear:_i,easeIn:AK,easeInOut:W4,easeOut:IK,circIn:SS,circInOut:DK,circOut:q4,backIn:PS,backInOut:$K,backOut:Y4,anticipate:RK},Tk=e=>{if(Array.isArray(e)){Xb(e.length===4);const[t,r,n,s]=e;return ym(t,r,n,s)}else if(typeof e=="string")return Xb(Pk[e]!==void 0),Pk[e];return e},Xp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Xr=(e,t,r)=>e+(t-e)*r;function W1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function LK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,h=0,d=0;if(!t)s=h=d=r;else{const c=r<.5?r*(1+t):r+t-r*t,v=2*r-c;s=W1(v,c,e+1/3),h=W1(v,c,e),d=W1(v,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:n}}const G1=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},zK=[ew,Rc,Id],FK=e=>zK.find(t=>t.test(e));function Ck(e){const t=FK(e);let r=t.parse(e);return t===Id&&(r=LK(r)),r}const Ek=(e,t)=>{const r=Ck(e),n=Ck(t),s={...r};return h=>(s.red=G1(r.red,n.red,h),s.green=G1(r.green,n.green,h),s.blue=G1(r.blue,n.blue,h),s.alpha=Xr(r.alpha,n.alpha,h),Rc.transform(s))};function nw(e,t){return r=>r>0?t:e}function BK(e,t){return r=>Xr(e,t,r)}function TS(e){return typeof e=="number"?BK:typeof e=="string"?dS(e)?nw:mi.test(e)?Ek:jK:Array.isArray(e)?X4:typeof e=="object"?mi.test(e)?Ek:NK:nw}function X4(e,t){const r=[...e],n=r.length,s=e.map((h,d)=>TS(h)(h,t[d]));return h=>{for(let d=0;d<n;d++)r[d]=s[d](h);return r}}function NK(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=TS(e[s])(e[s],t[s]));return s=>{for(const h in n)r[h]=n[h](s);return r}}function OK(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let h=0;h<t.values.length;h++){const d=t.types[h],c=e.indexes[d][s[d]],v=(r=e.values[c])!==null&&r!==void 0?r:0;n[h]=v,s[d]++}return n}const jK=(e,t)=>{const r=Bl.createTransformer(t),n=Lv(e),s=Lv(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?gs(X4(OK(n,s),s.values),r):nw(e,t)};function J4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Xr(e,t,r):TS(e)(e,t)}function VK(e,t,r){const n=[],s=r||J4,h=e.length-1;for(let d=0;d<h;d++){let c=s(e[d],e[d+1]);if(t){const v=Array.isArray(t)?t[d]||_i:t;c=gs(v,c)}n.push(c)}return n}function UK(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const h=e.length;if(Xb(h===t.length),h===1)return()=>t[0];if(h===2&&e[0]===e[1])return()=>t[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=VK(t,n,s),c=d.length,v=w=>{let S=0;if(c>1)for(;S<e.length-2&&!(w<e[S+1]);S++);const T=Xp(e[S],e[S+1],w);return d[S](T)};return r?w=>v(zl(e[0],e[h-1],w)):v}function KK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Xp(0,t,n);e.push(Xr(r,1,s))}}function HK(e){const t=[0];return KK(t,e.length-1),t}function WK(e,t){return e.map(r=>r*t)}function GK(e,t){return e.map(()=>t||W4).splice(0,e.length-1)}function zv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=MK(n)?n.map(Tk):Tk(n),h={done:!1,value:t[0]},d=WK(r&&r.length===t.length?r:HK(t),e),c=UK(d,t,{ease:Array.isArray(s)?s:GK(t,s)});return{calculatedDuration:e,next:v=>(h.value=c(v),h.done=v>=e,h)}}const kk=2e4;function ZK(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kk;)t+=r,n=e.next(t);return t>=kk?1/0:t}const qK=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Vn.update(t,!0),stop:()=>Fl(t),now:()=>Jn.isProcessing?Jn.timestamp:Il.now()}},YK={decay:Sk,inertia:Sk,tween:zv,keyframes:zv,spring:K4},XK=e=>e/100;class CS extends j4{constructor({KeyframeResolver:t=_S,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,keyframes:h}=this.options,d=(c,v)=>this.onKeyframesResolved(c,v);n&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(h,d,n,s):this.resolver=new t(h,d,n,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:h,velocity:d=0}=this.options,c=YK[r]||zv;let v,w;c!==zv&&typeof t[0]!="number"&&(v=gs(XK,J4(t[0],t[1])),t=[0,100]);const S=c({...this.options,keyframes:t});h==="mirror"&&(w=c({...this.options,keyframes:[...t].reverse(),velocity:-d})),S.calculatedDuration===null&&(S.calculatedDuration=ZK(S));const{calculatedDuration:T}=S,C=T+s,D=C*(n+1)-s;return{generator:S,mirroredGenerator:w,mapPercentToKeyframes:v,calculatedDuration:T,resolvedDuration:C,totalDuration:D}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:Z}=this.options;return{done:!0,value:Z[Z.length-1]}}const{finalKeyframe:s,generator:h,mirroredGenerator:d,mapPercentToKeyframes:c,keyframes:v,calculatedDuration:w,totalDuration:S,resolvedDuration:T}=n;if(this.startTime===null)return h.next(0);const{delay:C,repeat:D,repeatType:B,repeatDelay:V,onUpdate:Y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-S/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const U=this.currentTime-C*(this.speed>=0?1:-1),F=this.speed>=0?U<0:U>S;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let O=this.currentTime,ee=h;if(D){const Z=Math.min(this.currentTime,S)/T;let me=Math.floor(Z),xe=Z%1;!xe&&Z>=1&&(xe=1),xe===1&&me--,me=Math.min(me,D+1),!!(me%2)&&(B==="reverse"?(xe=1-xe,V&&(xe-=V/T)):B==="mirror"&&(ee=d)),O=zl(0,1,xe)*T}const ie=F?{done:!1,value:v[0]}:ee.next(O);c&&(ie.value=c(ie.value));let{done:fe}=ie;!F&&w!==null&&(fe=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const we=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&fe);return we&&s!==void 0&&(ie.value=E0(v,this.options,s)),Y&&Y(ie.value),we&&this.finish(),ie}get duration(){const{resolved:t}=this;return t?ys(t.calculatedDuration):0}get time(){return ys(this.currentTime)}set time(t){t=Al(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ys(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=qK,onPlay:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=n),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Q4=e=>Array.isArray(e)&&typeof e[0]=="number";function e$(e){return!!(!e||typeof e=="string"&&e in ES||Q4(e)||Array.isArray(e)&&e.every(e$))}const lp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,ES={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lp([0,.65,.55,1]),circOut:lp([.55,0,1,.45]),backIn:lp([.31,.01,.66,-.59]),backOut:lp([.33,1.53,.69,.99])};function JK(e){return t$(e)||ES.easeOut}function t$(e){if(e)return Q4(e)?lp(e):Array.isArray(e)?e.map(JK):ES[e]}function QK(e,t,r,{delay:n=0,duration:s=300,repeat:h=0,repeatType:d="loop",ease:c,times:v}={}){const w={[t]:r};v&&(w.offset=v);const S=t$(c);return Array.isArray(S)&&(w.easing=S),e.animate(w,{delay:n,duration:s,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"})}const eH=hK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tH=new Set(["opacity","clipPath","filter","transform"]),Fv=10,rH=2e4;function nH(e){return e.type==="spring"||e.name==="backgroundColor"||!e$(e.ease)}function iH(e,t){const r=new CS({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let h=0;for(;!n.done&&h<rH;)n=r.sample(h),s.push(n.value),h+=Fv;return{times:void 0,keyframes:s,duration:h-Fv,ease:"linear"}}class Ak extends j4{constructor(t){super(t);const{name:r,motionValue:n,keyframes:s}=this.options;this.resolver=new O4(s,(h,d)=>this.onKeyframesResolved(h,d),r,n),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:h,ease:d,type:c,motionValue:v,name:w}=this.options;if(!(!((n=v.owner)===null||n===void 0)&&n.current))return!1;if(nH(this.options)){const{onComplete:T,onUpdate:C,motionValue:D,...B}=this.options,V=iH(t,B);t=V.keyframes,t.length===1&&(t[1]=t[0]),s=V.duration,h=V.times,d=V.ease,c="keyframes"}const S=QK(v.owner.current,w,t,{...this.options,duration:s,times:h,ease:d});return S.startTime=Il.now(),this.pendingTimeline?(S.timeline=this.pendingTimeline,this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:T}=this.options;v.set(E0(t,this.options,r)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:s,times:h,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return ys(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return ys(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Al(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return _i;const{animation:n}=r;n.timeline=t,n.onfinish=null}return _i}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:h,ease:d,times:c}=t;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:v,onUpdate:w,onComplete:S,...T}=this.options,C=new CS({...T,keyframes:n,duration:s,type:h,ease:d,times:c,isGenerator:!0}),D=Al(this.time);v.setWithVelocity(C.sample(D-Fv).value,C.sample(D).value,Fv)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:h,damping:d,type:c}=t;return eH()&&n&&tH.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&h!=="mirror"&&d!==0&&c!=="inertia"}}const kS=(e,t,r,n={},s,h)=>d=>{const c=xS(n,e)||{},v=c.delay||n.delay||0;let{elapsed:w=0}=n;w=w-Al(v);let S={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-w,onUpdate:C=>{t.set(C),c.onUpdate&&c.onUpdate(C)},onComplete:()=>{d(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:h?void 0:s};jU(c)||(S={...S,...OU(e,S)}),S.duration&&(S.duration=Al(S.duration)),S.repeatDelay&&(S.repeatDelay=Al(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let T=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(T=!0)),T&&!h&&t.get()!==void 0){const C=E0(S.keyframes,c);if(C!==void 0){Vn.update(()=>{S.onUpdate(C),S.onComplete()});return}}return!h&&Ak.supports(S)?new Ak(S):new CS(S)};function Bv(e){return!!(vi(e)&&e.add)}function AS(e,t){e.indexOf(t)===-1&&e.push(t)}function IS(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let MS=class{constructor(){this.subscriptions=[]}add(t){return AS(this.subscriptions,t),()=>IS(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let h=0;h<s;h++){const d=this.subscriptions[h];d&&d(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const Ik=30,aH=e=>!isNaN(parseFloat(e));let oH=class{constructor(t,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{const h=Il.now();this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=aH(this.current),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Il.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new MS);const n=this.events[t].add(r);return t==="change"?()=>{n(),Vn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Il.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ik)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Ik);return V4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Jp(e,t){return new oH(e,t)}function sH(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Jp(r))}function lH(e,t){const r=C0(e,t);let{transitionEnd:n={},transition:s={},...h}=r||{};h={...h,...n};for(const d in h){const c=yU(h[d]);sH(e,d,c)}}function cH({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function r$(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var h;let{transition:d=e.getDefaultTransition(),transitionEnd:c,...v}=t;const w=e.getValue("willChange");n&&(d=n);const S=[],T=s&&e.animationState&&e.animationState.getState()[s];for(const C in v){const D=e.getValue(C,(h=e.latestValues[C])!==null&&h!==void 0?h:null),B=v[C];if(B===void 0||T&&cH(T,C))continue;const V={delay:r,elapsed:0,...xS(d||{},C)};let Y=!1;if(window.HandoffAppearAnimations){const O=e.getProps()[t4];if(O){const ee=window.HandoffAppearAnimations(O,C);ee!==null&&(V.elapsed=ee,Y=!0)}}D.start(kS(C,D,B,e.shouldReduceMotion&&iu.has(C)?{type:!1}:V,e,Y));const U=D.animation;U&&(Bv(w)&&(w.add(C),U.then(()=>w.remove(C))),S.push(U))}return c&&Promise.all(S).then(()=>{Vn.update(()=>{c&&lH(e,c)})}),S}function iw(e,t,r={}){var n;const s=C0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:h=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(h=r.transitionOverride);const d=s?()=>Promise.all(r$(e,s,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:S=0,staggerChildren:T,staggerDirection:C}=h;return uH(e,t,S+w,T,C,r)}:()=>Promise.resolve(),{when:v}=h;if(v){const[w,S]=v==="beforeChildren"?[d,c]:[c,d];return w().then(()=>S())}else return Promise.all([d(),c(r.delay)])}function uH(e,t,r=0,n=0,s=1,h){const d=[],c=(e.variantChildren.size-1)*n,v=s===1?(w=0)=>w*n:(w=0)=>c-w*n;return Array.from(e.variantChildren).sort(dH).forEach((w,S)=>{w.notify("AnimationStart",t),d.push(iw(w,t,{...h,delay:r+v(S)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(d)}function dH(e,t){return e.sortNodePosition(t)}function hH(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(h=>iw(e,h,r));n=Promise.all(s)}else if(typeof t=="string")n=iw(e,t,r);else{const s=typeof t=="function"?C0(e,t,r.custom):t;n=Promise.all(r$(e,s,r))}return n.then(()=>{Vn.postRender(()=>{e.notify("AnimationComplete",t)})})}const fH=[...sS].reverse(),pH=sS.length;function mH(e){return t=>Promise.all(t.map(({animation:r,options:n})=>hH(e,r,n)))}function gH(e){let t=mH(e);const r=vH();let n=!0;const s=v=>(w,S)=>{var T;const C=C0(e,S,v==="exit"?(T=e.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(C){const{transition:D,transitionEnd:B,...V}=C;w={...w,...V,...B}}return w};function h(v){t=v(e)}function d(v){const w=e.getProps(),S=e.getVariantContext(!0)||{},T=[],C=new Set;let D={},B=1/0;for(let Y=0;Y<pH;Y++){const U=fH[Y],F=r[U],O=w[U]!==void 0?w[U]:S[U],ee=qp(O),ie=U===v?F.isActive:null;ie===!1&&(B=Y);let fe=O===S[U]&&O!==w[U]&&ee;if(fe&&n&&e.manuallyAnimateOnMount&&(fe=!1),F.protectedKeys={...D},!F.isActive&&ie===null||!O&&!F.prevProp||S0(O)||typeof O=="boolean")continue;let Z=yH(F.prevProp,O)||U===v&&F.isActive&&!fe&&ee||Y>B&&ee,me=!1;const xe=Array.isArray(O)?O:[O];let se=xe.reduce(s(U),{});ie===!1&&(se={});const{prevResolvedValues:Te={}}=F,ge={...Te,...se},ve=Be=>{Z=!0,C.has(Be)&&(me=!0,C.delete(Be)),F.needsAnimating[Be]=!0;const Le=e.getValue(Be);Le&&(Le.liveStyle=!1)};for(const Be in ge){const Le=se[Be],ae=Te[Be];if(D.hasOwnProperty(Be))continue;let De=!1;qb(Le)&&qb(ae)?De=!C4(Le,ae):De=Le!==ae,De?Le!=null?ve(Be):C.add(Be):Le!==void 0&&C.has(Be)?ve(Be):F.protectedKeys[Be]=!0}F.prevProp=O,F.prevResolvedValues=se,F.isActive&&(D={...D,...se}),n&&e.blockInitialAnimation&&(Z=!1),Z&&(!fe||me)&&T.push(...xe.map(Be=>({animation:Be,options:{type:U}})))}if(C.size){const Y={};C.forEach(U=>{const F=e.getBaseTarget(U),O=e.getValue(U);O&&(O.liveStyle=!0),Y[U]=F??null}),T.push({animation:Y})}let V=!!T.length;return n&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(V=!1),n=!1,V?t(T):Promise.resolve()}function c(v,w){var S;if(r[v].isActive===w)return Promise.resolve();(S=e.variantChildren)===null||S===void 0||S.forEach(C=>{var D;return(D=C.animationState)===null||D===void 0?void 0:D.setActive(v,w)}),r[v].isActive=w;const T=d(v);for(const C in r)r[C].protectedKeys={};return T}return{animateChanges:d,setActive:c,setAnimateFunction:h,getState:()=>r}}function yH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!C4(t,e):!1}function yc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vH(){return{animate:yc(!0),whileInView:yc(),whileHover:yc(),whileTap:yc(),whileDrag:yc(),whileFocus:yc(),exit:yc()}}let xH=class extends Ul{constructor(t){super(t),t.animationState||(t.animationState=gH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),S0(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}},_H=0,bH=class extends Ul{constructor(){super(...arguments),this.id=_H++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const n$={animation:{Feature:xH},exit:{Feature:bH}},Mk=(e,t)=>Math.abs(e-t);function wH(e,t){const r=Mk(e.x,t.x),n=Mk(e.y,t.y);return Math.sqrt(r**2+n**2)}class i${constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=q1(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,D=wH(T.offset,{x:0,y:0})>=3;if(!C&&!D)return;const{point:B}=T,{timestamp:V}=Jn;this.history.push({...B,timestamp:V});const{onStart:Y,onMove:U}=this.handlers;C||(Y&&Y(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Z1(C,this.transformPagePoint),Vn.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:D,onSessionEnd:B,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=q1(T.type==="pointercancel"?this.lastMoveEventInfo:Z1(C,this.transformPagePoint),this.history);this.startEvent&&D&&D(T,Y),B&&B(T,Y)},!_4(t))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const d=T0(t),c=Z1(d,this.transformPagePoint),{point:v}=c,{timestamp:w}=Jn;this.history=[{...v,timestamp:w}];const{onSessionStart:S}=r;S&&S(t,q1(c,this.history)),this.removeListeners=gs(ms(this.contextWindow,"pointermove",this.handlePointerMove),ms(this.contextWindow,"pointerup",this.handlePointerUp),ms(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fl(this.updatePoint)}}function Z1(e,t){return t?{point:t(e.point)}:e}function Dk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function q1({point:e},t){return{point:e,delta:Dk(e,a$(t)),offset:Dk(e,SH(t)),velocity:PH(t,.1)}}function SH(e){return e[0]}function a$(e){return e[e.length-1]}function PH(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=a$(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Al(t)));)r--;if(!n)return{x:0,y:0};const h=ys(s.timestamp-n.timestamp);if(h===0)return{x:0,y:0};const d={x:(s.x-n.x)/h,y:(s.y-n.y)/h};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function ya(e){return e.max-e.min}function aw(e,t=0,r=.01){return Math.abs(e-t)<=r}function $k(e,t,r,n=.5){e.origin=n,e.originPoint=Xr(t.min,t.max,e.origin),e.scale=ya(r)/ya(t),(aw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Xr(r.min,r.max,e.origin)-e.originPoint,(aw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Tp(e,t,r,n){$k(e.x,t.x,r.x,n?n.originX:void 0),$k(e.y,t.y,r.y,n?n.originY:void 0)}function Rk(e,t,r){e.min=r.min+t.min,e.max=e.min+ya(t)}function TH(e,t,r){Rk(e.x,t.x,r.x),Rk(e.y,t.y,r.y)}function Lk(e,t,r){e.min=t.min-r.min,e.max=e.min+ya(t)}function Cp(e,t,r){Lk(e.x,t.x,r.x),Lk(e.y,t.y,r.y)}function CH(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Xr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Xr(r,e,n.max):Math.min(e,r)),e}function zk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function EH(e,{top:t,left:r,bottom:n,right:s}){return{x:zk(e.x,r,s),y:zk(e.y,t,n)}}function Fk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function kH(e,t){return{x:Fk(e.x,t.x),y:Fk(e.y,t.y)}}function AH(e,t){let r=.5;const n=ya(e),s=ya(t);return s>n?r=Xp(t.min,t.max-n,e.min):n>s&&(r=Xp(e.min,e.max-s,t.min)),zl(0,1,r)}function IH(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ow=.35;function MH(e=ow){return e===!1?e=0:e===!0&&(e=ow),{x:Bk(e,"left","right"),y:Bk(e,"top","bottom")}}function Bk(e,t,r){return{min:Nk(e,t),max:Nk(e,r)}}function Nk(e,t){return typeof e=="number"?e:e[t]||0}const Ok=()=>({translate:0,scale:1,origin:0,originPoint:0}),Md=()=>({x:Ok(),y:Ok()}),jk=()=>({min:0,max:0}),dn=()=>({x:jk(),y:jk()});function Ia(e){return[e("x"),e("y")]}function o$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function DH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $H(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Y1(e){return e===void 0||e===1}function sw({scale:e,scaleX:t,scaleY:r}){return!Y1(e)||!Y1(t)||!Y1(r)}function wc(e){return sw(e)||s$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function s$(e){return Vk(e.x)||Vk(e.y)}function Vk(e){return e&&e!=="0%"}function Nv(e,t,r){const n=e-r,s=t*n;return r+s}function Uk(e,t,r,n,s){return s!==void 0&&(e=Nv(e,s,n)),Nv(e,r,n)+t}function lw(e,t=0,r=1,n,s){e.min=Uk(e.min,t,r,n,s),e.max=Uk(e.max,t,r,n,s)}function l$(e,{x:t,y:r}){lw(e.x,t.translate,t.scale,t.originPoint),lw(e.y,r.translate,r.scale,r.originPoint)}function RH(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let h,d;for(let c=0;c<s;c++){h=r[c],d=h.projectionDelta;const v=h.instance;v&&v.style&&v.style.display==="contents"||(n&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Dd(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,l$(e,d)),n&&wc(h.latestValues)&&Dd(e,h.latestValues))}t.x=Kk(t.x),t.y=Kk(t.y)}function Kk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function hl(e,t){e.min=e.min+t,e.max=e.max+t}function Hk(e,t,[r,n,s]){const h=t[s]!==void 0?t[s]:.5,d=Xr(e.min,e.max,h);lw(e,t[r],t[n],d,t.scale)}const LH=["x","scaleX","originX"],zH=["y","scaleY","originY"];function Dd(e,t){Hk(e.x,t,LH),Hk(e.y,t,zH)}function c$(e,t){return o$($H(e.getBoundingClientRect(),t))}function FH(e,t,r){const n=c$(e,r),{scroll:s}=t;return s&&(hl(n.x,s.offset.x),hl(n.y,s.offset.y)),n}const u$=({current:e})=>e?e.ownerDocument.defaultView:null,BH=new WeakMap;class NH{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(T0(S,"page").point)},h=(S,T)=>{const{drag:C,dragPropagation:D,onDragStart:B}=this.getProps();if(C&&!D&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=w4(C),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(Y=>{let U=this.getAxisMotionValue(Y).get()||0;if($o.test(U)){const{projection:F}=this.visualElement;if(F&&F.layout){const O=F.layout.layoutBox[Y];O&&(U=ya(O)*(parseFloat(U)/100))}}this.originPoint[Y]=U}),B&&B(S,T);const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},d=(S,T)=>{const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:B,onDrag:V}=this.getProps();if(!C&&!this.openGlobalLock)return;const{offset:Y}=T;if(D&&this.currentDirection===null){this.currentDirection=OH(Y),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",T.point,Y),this.updateAxis("y",T.point,Y),this.visualElement.render(),V&&V(S,T)},c=(S,T)=>this.stop(S,T),v=()=>Ia(S=>{var T;return this.getAnimationState(S)==="paused"&&((T=this.getAxisMotionValue(S).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new i$(t,{onSessionStart:s,onStart:h,onMove:d,onSessionEnd:c,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:u$(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:h}=this.getProps();h&&h(t,r)}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!cy(t,s,this.currentDirection))return;const h=this.getAxisMotionValue(t);let d=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(d=CH(d,this.constraints[t],this.elastic[t])),h.set(d)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,h=this.constraints;r&&Ad(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=EH(s.layoutBox,r):this.constraints=!1,this.elastic=MH(n),h!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ia(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=IH(s.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ad(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const h=FH(n,s.root,this.visualElement.getTransformPagePoint());let d=kH(s.layout.layoutBox,h);if(r){const c=r(DH(d));this.hasMutatedConstraints=!!c,c&&(d=o$(c))}return d}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:h,dragSnapToOrigin:d,onDragTransitionEnd:c}=this.getProps(),v=this.constraints||{},w=Ia(S=>{if(!cy(S,r,this.currentDirection))return;let T=v&&v[S]||{};d&&(T={min:0,max:0});const C=s?200:1e6,D=s?40:1e7,B={type:"inertia",velocity:n?t[S]:0,bounceStiffness:C,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,...T};return this.startAxisValueAnimation(S,B)});return Promise.all(w).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(kS(t,n,0,r,this.visualElement))}stopAnimation(){Ia(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ia(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ia(r=>{const{drag:n}=this.getProps();if(!cy(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,h=this.getAxisMotionValue(r);if(s&&s.layout){const{min:d,max:c}=s.layout.layoutBox[r];h.set(t[r]-Xr(d,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ad(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ia(d=>{const c=this.getAxisMotionValue(d);if(c&&this.constraints!==!1){const v=c.get();s[d]=AH({min:v,max:v},this.constraints[d])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ia(d=>{if(!cy(d,t,null))return;const c=this.getAxisMotionValue(d),{min:v,max:w}=this.constraints[d];c.set(Xr(v,w,s[d]))})}addListeners(){if(!this.visualElement.current)return;BH.set(this.visualElement,this);const t=this.visualElement.current,r=ms(t,"pointerdown",v=>{const{drag:w,dragListener:S=!0}=this.getProps();w&&S&&this.start(v)}),n=()=>{const{dragConstraints:v}=this.getProps();Ad(v)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,h=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const d=hs(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w})=>{this.isDragging&&w&&(Ia(S=>{const T=this.getAxisMotionValue(S);T&&(this.originPoint[S]+=v[S].translate,T.set(T.get()+v[S].translate))}),this.visualElement.render())});return()=>{d(),r(),h(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:h=!1,dragElastic:d=ow,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:h,dragElastic:d,dragMomentum:c}}}function cy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function OH(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class jH extends Ul{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new NH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wk=e=>(t,r)=>{e&&e(t,r)};class VH extends Ul{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new i$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Wk(t),onStart:Wk(r),onMove:n,onEnd:(h,d)=>{delete this.session,s&&s(h,d)}}}mount(){this.removePointerDownListener=ms(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UH(){const e=z.useContext(w0);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=z.useId();return z.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Fy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Bt.test(e))e=parseFloat(e);else return e;const r=Gk(e,t.target.x),n=Gk(e,t.target.y);return`${r}% ${n}%`}},KH={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Bl.parse(e);if(s.length>5)return n;const h=Bl.createTransformer(e),d=typeof s[0]!="number"?1:0,c=r.x.scale*t.x,v=r.y.scale*t.y;s[0+d]/=c,s[1+d]/=v;const w=Xr(c,v,.5);return typeof s[2+d]=="number"&&(s[2+d]/=w),typeof s[3+d]=="number"&&(s[3+d]/=w),h(s)}};class HH extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:h}=t;G9(WH),h&&(r.group&&r.group.add(h),n&&n.register&&s&&n.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Fy.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:h}=this.props,d=n.projection;return d&&(d.isPresent=h,s||t.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?d.promote():d.relegate()||Vn.postRender(()=>{const c=d.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),oS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function d$(e){const[t,r]=UH(),n=z.useContext(cS);return $.jsx(HH,{...e,layoutGroup:n,switchLayoutGroup:z.useContext(i4),isPresent:t,safeToRemove:r})}const WH={borderRadius:{...qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qf,borderTopRightRadius:qf,borderBottomLeftRadius:qf,borderBottomRightRadius:qf,boxShadow:KH},h$=["TopLeft","TopRight","BottomLeft","BottomRight"],GH=h$.length,Zk=e=>typeof e=="string"?parseFloat(e):e,qk=e=>typeof e=="number"||Bt.test(e);function ZH(e,t,r,n,s,h){s?(e.opacity=Xr(0,r.opacity!==void 0?r.opacity:1,qH(n)),e.opacityExit=Xr(t.opacity!==void 0?t.opacity:1,0,YH(n))):h&&(e.opacity=Xr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let d=0;d<GH;d++){const c=`border${h$[d]}Radius`;let v=Yk(t,c),w=Yk(r,c);if(v===void 0&&w===void 0)continue;v||(v=0),w||(w=0),v===0||w===0||qk(v)===qk(w)?(e[c]=Math.max(Xr(Zk(v),Zk(w),n),0),($o.test(w)||$o.test(v))&&(e[c]+="%")):e[c]=w}(t.rotate||r.rotate)&&(e.rotate=Xr(t.rotate||0,r.rotate||0,n))}function Yk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qH=f$(0,.5,q4),YH=f$(.5,.95,_i);function f$(e,t,r){return n=>n<e?0:n>t?1:r(Xp(e,t,n))}function Xk(e,t){e.min=t.min,e.max=t.max}function Ea(e,t){Xk(e.x,t.x),Xk(e.y,t.y)}function Jk(e,t,r,n,s){return e-=t,e=Nv(e,1/r,n),s!==void 0&&(e=Nv(e,1/s,n)),e}function XH(e,t=0,r=1,n=.5,s,h=e,d=e){if($o.test(t)&&(t=parseFloat(t),t=Xr(d.min,d.max,t/100)-d.min),typeof t!="number")return;let c=Xr(h.min,h.max,n);e===h&&(c-=t),e.min=Jk(e.min,t,r,c,s),e.max=Jk(e.max,t,r,c,s)}function Qk(e,t,[r,n,s],h,d){XH(e,t[r],t[n],t[s],t.scale,h,d)}const JH=["x","scaleX","originX"],QH=["y","scaleY","originY"];function eA(e,t,r,n){Qk(e.x,t,JH,r?r.x:void 0,n?n.x:void 0),Qk(e.y,t,QH,r?r.y:void 0,n?n.y:void 0)}function tA(e){return e.translate===0&&e.scale===1}function p$(e){return tA(e.x)&&tA(e.y)}function eW(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function m$(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function rA(e){return ya(e.x)/ya(e.y)}class tW{constructor(){this.members=[]}add(t){AS(this.members,t),t.scheduleRender()}remove(t){if(IS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const h=this.members[s];if(h.isPresent!==!1){n=h;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nA(e,t,r){let n="";const s=e.x.translate/t.x,h=e.y.translate/t.y,d=(r==null?void 0:r.z)||0;if((s||h||d)&&(n=`translate3d(${s}px, ${h}px, ${d}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:w,rotate:S,rotateX:T,rotateY:C,skewX:D,skewY:B}=r;w&&(n=`perspective(${w}px) ${n}`),S&&(n+=`rotate(${S}deg) `),T&&(n+=`rotateX(${T}deg) `),C&&(n+=`rotateY(${C}deg) `),D&&(n+=`skewX(${D}deg) `),B&&(n+=`skewY(${B}deg) `)}const c=e.x.scale*t.x,v=e.y.scale*t.y;return(c!==1||v!==1)&&(n+=`scale(${c}, ${v})`),n||"none"}const rW=(e,t)=>e.depth-t.depth;class nW{constructor(){this.children=[],this.isDirty=!1}add(t){AS(this.children,t),this.isDirty=!0}remove(t){IS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rW),this.isDirty=!1,this.children.forEach(t)}}function iW(e,t){const r=Il.now(),n=({timestamp:s})=>{const h=s-r;h>=t&&(Fl(n),e(h-t))};return Vn.read(n,!0),()=>Fl(n)}function aW(e){window.MotionDebug&&window.MotionDebug.record(e)}function oW(e){return e instanceof SVGElement&&e.tagName!=="svg"}function sW(e,t,r){const n=vi(e)?e:Jp(e);return n.start(kS("",n,t,r)),n.animation}const X1=["","X","Y","Z"],lW={visibility:"hidden"},iA=1e3;let cW=0;const Sc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function J1(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function g$({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(d={},c=t==null?void 0:t()){this.id=cW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sc.totalNodes=Sc.resolvedTargetDeltas=Sc.recalculatedProjection=0,this.nodes.forEach(hW),this.nodes.forEach(yW),this.nodes.forEach(vW),this.nodes.forEach(fW),aW(Sc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new nW)}addEventListener(d,c){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new MS),this.eventHandlers.get(d).add(c)}notifyListeners(d,...c){const v=this.eventHandlers.get(d);v&&v.notify(...c)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=oW(d),this.instance=d;const{layoutId:v,layout:w,visualElement:S}=this.options;if(S&&!S.current&&S.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(w||v)&&(this.isLayoutDirty=!0),e){let T;const C=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=iW(C,250),Fy.hasAnimatedSinceResize&&(Fy.hasAnimatedSinceResize=!1,this.nodes.forEach(oA))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&S&&(v||w)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:C,hasRelativeTargetChanged:D,layout:B})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||S.getDefaultTransition()||SW,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:U}=S.getProps(),F=!this.targetLayout||!m$(this.targetLayout,B)||D,O=!C&&D;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||O||C&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,O);const ee={...xS(V,"layout"),onPlay:Y,onComplete:U};(S.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else C||oA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=B})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xW),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const T=this.path[S];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:c,layout:v}=this.options;if(c===void 0&&!v)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aA);return}this.isUpdating||this.nodes.forEach(mW),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(gW),this.nodes.forEach(uW),this.nodes.forEach(dW),this.clearAllSnapshots();const c=Il.now();Jn.delta=zl(0,1e3/60,c-Jn.timestamp),Jn.timestamp=c,Jn.isProcessing=!0,j1.update.process(Jn),j1.preRender.process(Jn),j1.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oS.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(pW),this.sharedNodes.forEach(_W)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const d=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!p$(this.projectionDelta),v=this.getTransformTemplate(),w=v?v(this.latestValues,""):void 0,S=w!==this.prevTransformTemplateValue;d&&(c||wc(this.latestValues)||S)&&(s(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const c=this.measurePageBox();let v=this.removeElementScroll(c);return d&&(v=this.removeTransform(v)),PW(v),{animationId:this.root.animationId,measuredBox:c,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return dn();const c=d.measureViewportBox(),{scroll:v}=this.root;return v&&(hl(c.x,v.offset.x),hl(c.y,v.offset.y)),c}removeElementScroll(d){const c=dn();Ea(c,d);for(let v=0;v<this.path.length;v++){const w=this.path[v],{scroll:S,options:T}=w;if(w!==this.root&&S&&T.layoutScroll){if(S.isRoot){Ea(c,d);const{scroll:C}=this.root;C&&(hl(c.x,-C.offset.x),hl(c.y,-C.offset.y))}hl(c.x,S.offset.x),hl(c.y,S.offset.y)}}return c}applyTransform(d,c=!1){const v=dn();Ea(v,d);for(let w=0;w<this.path.length;w++){const S=this.path[w];!c&&S.options.layoutScroll&&S.scroll&&S!==S.root&&Dd(v,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),wc(S.latestValues)&&Dd(v,S.latestValues)}return wc(this.latestValues)&&Dd(v,this.latestValues),v}removeTransform(d){const c=dn();Ea(c,d);for(let v=0;v<this.path.length;v++){const w=this.path[v];if(!w.instance||!wc(w.latestValues))continue;sw(w.latestValues)&&w.updateSnapshot();const S=dn(),T=w.measurePageBox();Ea(S,T),eA(c,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,S)}return wc(this.latestValues)&&eA(c,this.latestValues),c}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var c;const v=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=v.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=v.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=v.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==v;if(!(d||w&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:T,layoutId:C}=this.options;if(!(!this.layout||!(T||C))){if(this.resolvedRelativeTargetAt=Jn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Cp(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dn(),this.targetWithTransforms=dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ea(this.target,this.layout.layoutBox),l$(this.target,this.targetDelta)):Ea(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dn(),this.relativeTargetOrigin=dn(),Cp(this.relativeTargetOrigin,this.target,D.target),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sw(this.parent.latestValues)||s$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const c=this.getLead(),v=!!this.resumingFrom||this!==c;let w=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(w=!1),v&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(w=!1),w)return;const{layout:S,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(S||T))return;Ea(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,D=this.treeScale.y;RH(this.layoutCorrected,this.treeScale,this.path,v),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=dn());const{target:B}=c;if(!B){this.projectionTransform&&(this.projectionDelta=Md(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Md(),this.projectionDeltaWithTransform=Md());const V=this.projectionTransform;Tp(this.projectionDelta,this.layoutCorrected,B,this.latestValues),this.projectionTransform=nA(this.projectionDelta,this.treeScale),(this.projectionTransform!==V||this.treeScale.x!==C||this.treeScale.y!==D)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",B)),Sc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,c=!1){const v=this.snapshot,w=v?v.latestValues:{},S={...this.latestValues},T=Md();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const C=dn(),D=v?v.source:void 0,B=this.layout?this.layout.source:void 0,V=D!==B,Y=this.getStack(),U=!Y||Y.members.length<=1,F=!!(V&&!U&&this.options.crossfade===!0&&!this.path.some(wW));this.animationProgress=0;let O;this.mixTargetDelta=ee=>{const ie=ee/1e3;sA(T.x,d.x,ie),sA(T.y,d.y,ie),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cp(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bW(this.relativeTarget,this.relativeTargetOrigin,C,ie),O&&eW(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=dn()),Ea(O,this.relativeTarget)),V&&(this.animationValues=S,ZH(S,w,this.latestValues,ie,F,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vn.update(()=>{Fy.hasAnimatedSinceResize=!0,this.currentAnimation=sW(0,iA,{...d,onUpdate:c=>{this.mixTargetDelta(c),d.onUpdate&&d.onUpdate(c)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:c,target:v,layout:w,latestValues:S}=d;if(!(!c||!v||!w)){if(this!==d&&this.layout&&w&&y$(this.options.animationType,this.layout.layoutBox,w.layoutBox)){v=this.target||dn();const T=ya(this.layout.layoutBox.x);v.x.min=d.target.x.min,v.x.max=v.x.min+T;const C=ya(this.layout.layoutBox.y);v.y.min=d.target.y.min,v.y.max=v.y.min+C}Ea(c,v),Dd(c,S),Tp(this.projectionDeltaWithTransform,this.layoutCorrected,c,S)}}registerSharedNode(d,c){this.sharedNodes.has(d)||this.sharedNodes.set(d,new tW),this.sharedNodes.get(d).add(c);const w=c.options.initialPromotionConfig;c.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(c):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:c,preserveFollowOpacity:v}={}){const w=this.getStack();w&&w.promote(this,v),d&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let c=!1;const{latestValues:v}=d;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(c=!0),!c)return;const w={};v.z&&J1("z",d,w,this.animationValues);for(let S=0;S<X1.length;S++)J1(`rotate${X1[S]}`,d,w,this.animationValues),J1(`skew${X1[S]}`,d,w,this.animationValues);d.render();for(const S in w)d.setStaticValue(S,w[S]),this.animationValues&&(this.animationValues[S]=w[S]);d.scheduleRender()}getProjectionStyles(d){var c,v;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lW;const w={visibility:""},S=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,w.opacity="",w.pointerEvents=Ly(d==null?void 0:d.pointerEvents)||"",w.transform=S?S(this.latestValues,""):"none",w;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=Ly(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!wc(this.latestValues)&&(V.transform=S?S({},""):"none",this.hasProjected=!1),V}const C=T.animationValues||T.latestValues;this.applyTransformsToTarget(),w.transform=nA(this.projectionDeltaWithTransform,this.treeScale,C),S&&(w.transform=S(C,w.transform));const{x:D,y:B}=this.projectionDelta;w.transformOrigin=`${D.origin*100}% ${B.origin*100}% 0`,T.animationValues?w.opacity=T===this?(v=(c=C.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&v!==void 0?v:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:w.opacity=T===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const V in $v){if(C[V]===void 0)continue;const{correct:Y,applyTo:U}=$v[V],F=w.transform==="none"?C[V]:Y(C[V],T);if(U){const O=U.length;for(let ee=0;ee<O;ee++)w[U[ee]]=F}else w[V]=F}return this.options.layoutId&&(w.pointerEvents=T===this?Ly(d==null?void 0:d.pointerEvents)||"":"none"),w}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var c;return(c=d.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(aA),this.root.sharedNodes.clear()}}}function uW(e){e.updateLayout()}function dW(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:h}=e.options,d=r.source!==e.layout.source;h==="size"?Ia(T=>{const C=d?r.measuredBox[T]:r.layoutBox[T],D=ya(C);C.min=n[T].min,C.max=C.min+D}):y$(h,r.layoutBox,n)&&Ia(T=>{const C=d?r.measuredBox[T]:r.layoutBox[T],D=ya(n[T]);C.max=C.min+D,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[T].max=e.relativeTarget[T].min+D)});const c=Md();Tp(c,n,r.layoutBox);const v=Md();d?Tp(v,e.applyTransform(s,!0),r.measuredBox):Tp(v,n,r.layoutBox);const w=!p$(c);let S=!1;if(!e.resumeFrom){const T=e.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:C,layout:D}=T;if(C&&D){const B=dn();Cp(B,r.layoutBox,C.layoutBox);const V=dn();Cp(V,n,D.layoutBox),m$(B,V)||(S=!0),T.options.layoutRoot&&(e.relativeTarget=V,e.relativeTargetOrigin=B,e.relativeParent=T)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:v,layoutDelta:c,hasLayoutChanged:w,hasRelativeTargetChanged:S})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function hW(e){Sc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pW(e){e.clearSnapshot()}function aA(e){e.clearMeasurements()}function mW(e){e.isLayoutDirty=!1}function gW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yW(e){e.resolveTargetDelta()}function vW(e){e.calcProjection()}function xW(e){e.resetSkewAndRotation()}function _W(e){e.removeLeadSnapshot()}function sA(e,t,r){e.translate=Xr(t.translate,0,r),e.scale=Xr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function lA(e,t,r,n){e.min=Xr(t.min,r.min,n),e.max=Xr(t.max,r.max,n)}function bW(e,t,r,n){lA(e.x,t.x,r.x,n),lA(e.y,t.y,r.y,n)}function wW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SW={duration:.45,ease:[.4,0,.1,1]},cA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),uA=cA("applewebkit/")&&!cA("chrome/")?Math.round:_i;function dA(e){e.min=uA(e.min),e.max=uA(e.max)}function PW(e){dA(e.x),dA(e.y)}function y$(e,t,r){return e==="position"||e==="preserve-aspect"&&!aw(rA(t),rA(r),.2)}const TW=g$({attachResizeListener:(e,t)=>hs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q1={current:void 0},v$=g$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Q1.current){const e=new TW({});e.mount(window),e.setOptions({layoutScroll:!0}),Q1.current=e}return Q1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CW={pan:{Feature:VH},drag:{Feature:jH,ProjectionNode:v$,MeasureLayout:d$}},cw={current:null},x$={current:!1};function EW(){if(x$.current=!0,!!rS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cw.current=e.matches;e.addListener(t),t()}else cw.current=!1}function kW(e,t,r){const{willChange:n}=t;for(const s in t){const h=t[s],d=r[s];if(vi(h))e.addValue(s,h),Bv(n)&&n.add(s);else if(vi(d))e.addValue(s,Jp(h,{owner:e})),Bv(n)&&n.remove(s);else if(d!==h)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(h):c.hasAnimated||c.set(h)}else{const c=e.getStaticValue(s);e.addValue(s,Jp(c!==void 0?c:h,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const hA=new WeakMap,AW=[...M4,mi,Bl],IW=e=>AW.find(I4(e)),_$=Object.keys(Yp),MW=_$.length,fA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DW=lS.length;function b$(e){if(e)return e.options.allowProjection!==!1?e.projection:b$(e.parent)}let $W=class{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:h,visualState:d},c={}){this.resolveKeyframes=(C,D,B,V)=>new this.KeyframeResolver(C,D,B,V,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_S,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vn.render(this.render,!1,!0);const{latestValues:v,renderState:w}=d;this.latestValues=v,this.baseTarget={...v},this.initialValues=r.initial?{...v}:{},this.renderState=w,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!h,this.isControllingVariants=P0(r),this.isVariantNode=n4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:S,...T}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in T){const D=T[C];v[C]!==void 0&&vi(D)&&(D.set(v[C],!1),Bv(S)&&S.add(C))}}mount(t){this.current=t,hA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),x$.current||EW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;hA.delete(this.current),this.projection&&this.projection.unmount(),Fl(this.notifyUpdate),Fl(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(t=this.features[r])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,r){const n=iu.has(t),s=r.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Vn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),h=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),h(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,h){let d,c;for(let v=0;v<MW;v++){const w=_$[v],{isEnabled:S,Feature:T,ProjectionNode:C,MeasureLayout:D}=Yp[w];C&&(d=C),S(r)&&(!this.features[w]&&T&&(this.features[w]=new T(this)),D&&(c=D))}if((this.type==="html"||this.type==="svg")&&!this.projection&&d){this.projection=new d(this.latestValues,b$(this.parent));const{layoutId:v,layout:w,drag:S,dragConstraints:T,layoutScroll:C,layoutRoot:D}=r;this.projection.setOptions({layoutId:v,layout:w,alwaysMeasureLayout:!!S||T&&Ad(T),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof w=="string"?w:"both",initialPromotionConfig:h,layoutScroll:C,layoutRoot:D})}return c}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fA.length;n++){const s=fA[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const h="on"+s,d=t[h];d&&(this.propEventSubscriptions[s]=this.on(s,d))}this.prevMotionValues=kW(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<DW;n++){const s=lS[n],h=this.props[s];(qp(h)||h===!1)&&(r[s]=h)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Jp(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(k4(s)||E4(s))?s=parseFloat(s):!IW(s)&&Bl.test(r)&&(s=N4(t,r)),this.setBaseTarget(t,vi(s)?s.get():s)),vi(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const d=vS(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(s=d[t])}if(n&&s!==void 0)return s;const h=this.getBaseTargetFromProps(this.props,t);return h!==void 0&&!vi(h)?h:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new MS),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}},w$=class extends $W{constructor(){super(...arguments),this.KeyframeResolver=O4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}};function RW(e){return window.getComputedStyle(e)}let LW=class extends w${constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(iu.has(r)){const n=wS(r);return n&&n.default||0}else{const n=RW(t),s=(l4(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return c$(t,r)}build(t,r,n,s){fS(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return yS(t,r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){f4(t,r,n,s)}},zW=class extends w${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(iu.has(r)){const n=wS(r);return n&&n.default||0}return r=p4.has(r)?r:aS(r),t.getAttribute(r)}measureInstanceViewportBox(){return dn()}scrapeMotionValuesFromProps(t,r,n){return g4(t,r,n)}build(t,r,n,s){mS(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){m4(t,r,n,s)}mount(t){this.isSVGTag=gS(t.tagName),super.mount(t)}};const S$=(e,t)=>uS(e)?new zW(t,{enableHardwareAcceleration:!1}):new LW(t,{allowProjection:e!==z.Fragment,enableHardwareAcceleration:!0}),FW={layout:{ProjectionNode:v$,MeasureLayout:d$}},BW={...n$,...T4,...CW,...FW},e_=a4((e,t)=>x4(e,t,BW,S$)),oh=a4(x4);function P$(){const e=z.useRef(!1);return nS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function NW(){const e=P$(),[t,r]=z.useState(0),n=z.useCallback(()=>{e.current&&r(t+1)},[t]);return[z.useCallback(()=>Vn.postRender(n),[n]),t]}let OW=class extends z.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function jW({children:e,isPresent:t}){const r=z.useId(),n=z.useRef(null),s=z.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=z.useContext(tS);return z.useInsertionEffect(()=>{const{width:d,height:c,top:v,left:w}=s.current;if(t||!n.current||!d||!c)return;n.current.dataset.motionPopId=r;const S=document.createElement("style");return h&&(S.nonce=h),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${c}px !important;
            top: ${v}px !important;
            left: ${w}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[t]),$.jsx(OW,{isPresent:t,childRef:n,sizeRef:s,children:z.cloneElement(e,{ref:n})})}const t_=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:h,mode:d})=>{const c=y4(VW),v=z.useId(),w=z.useMemo(()=>({id:v,initial:t,isPresent:r,custom:s,onExitComplete:S=>{c.set(S,!0);for(const T of c.values())if(!T)return;n&&n()},register:S=>(c.set(S,!1),()=>c.delete(S))}),h?[Math.random()]:[r]);return z.useMemo(()=>{c.forEach((S,T)=>c.set(T,!1))},[r]),z.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),d==="popLayout"&&(e=$.jsx(jW,{isPresent:r,children:e})),$.jsx(w0.Provider,{value:w,children:e})};function VW(){return new Map}function UW(e){return z.useEffect(()=>()=>e(),[])}const Pc=e=>e.key||"";function KW(e,t){e.forEach(r=>{const n=Pc(r);t.set(n,r)})}function HW(e){const t=[];return z.Children.forEach(e,r=>{z.isValidElement(r)&&t.push(r)}),t}const DS=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:h=!0,mode:d="sync"})=>{const c=z.useContext(cS).forceRender||NW()[0],v=P$(),w=HW(e);let S=w;const T=z.useRef(new Map).current,C=z.useRef(S),D=z.useRef(new Map).current,B=z.useRef(!0);if(nS(()=>{B.current=!1,KW(w,D),C.current=S}),UW(()=>{B.current=!0,D.clear(),T.clear()}),B.current)return $.jsx($.Fragment,{children:S.map(F=>$.jsx(t_,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:h,mode:d,children:F},Pc(F)))});S=[...S];const V=C.current.map(Pc),Y=w.map(Pc),U=V.length;for(let F=0;F<U;F++){const O=V[F];Y.indexOf(O)===-1&&!T.has(O)&&T.set(O,void 0)}return d==="wait"&&T.size&&(S=[]),T.forEach((F,O)=>{if(Y.indexOf(O)!==-1)return;const ee=D.get(O);if(!ee)return;const ie=V.indexOf(O);let fe=F;if(!fe){const we=()=>{T.delete(O);const Z=Array.from(D.keys()).filter(me=>!Y.includes(me));if(Z.forEach(me=>D.delete(me)),C.current=w.filter(me=>{const xe=Pc(me);return xe===O||Z.includes(xe)}),!T.size){if(v.current===!1)return;c(),n&&n()}};fe=$.jsx(t_,{isPresent:!1,onExitComplete:we,custom:t,presenceAffectsLayout:h,mode:d,children:ee},Pc(ee)),T.set(O,fe)}S.splice(ie,0,fe)}),S=S.map(F=>{const O=F.key;return T.has(O)?F:$.jsx(t_,{isPresent:!0,presenceAffectsLayout:h,mode:d,children:F},Pc(F))}),$.jsx($.Fragment,{children:T.size?S:S.map(F=>z.cloneElement(F))})};function sh({children:e,features:t,strict:r=!1}){const[,n]=z.useState(!r_(t)),s=z.useRef(void 0);if(!r_(t)){const{renderer:h,...d}=t;s.current=h,Zb(d)}return z.useEffect(()=>{r_(t)&&t().then(({renderer:h,...d})=>{Zb(d),s.current=h,n(!0)})},[]),$.jsx(iS.Provider,{value:{renderer:s.current,strict:r},children:e})}function r_(e){return typeof e=="function"}const lh={renderer:S$,...n$,...T4};function WW(){const[e,t]=z.useState({width:null,height:null}),r=z.useRef(null);return[z.useCallback(s=>{if(r.current&&(r.current.disconnect(),r.current=null),(s==null?void 0:s.nodeType)===Node.ELEMENT_NODE){const h=new ResizeObserver(([d])=>{if(d&&d.borderBoxSize){const{inlineSize:c,blockSize:v}=d.borderBoxSize[0];t({width:c,height:v})}});h.observe(s),r.current=h}},[]),e]}var T$=z.forwardRef((e,t)=>{const{children:r,...n}=e;let[s,h]=WW();return $.jsx(sh,{features:lh,children:$.jsx(oh.div,{ref:t,animate:{width:h.width&&(h==null?void 0:h.width)>0?h.width:"auto",height:h.height&&h.height>0?h.height:"auto"},children:$.jsx("div",{ref:s,...n,children:r})})})});T$.displayName="NextUI - ResizablePanel";var fl={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},pA={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.3}},exit:{transform:"scale(0.6)",opacity:0,transition:{type:"easeOut",duration:.2}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:fl.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:fl.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:fl.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:fl.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:fl.ease}},exit:{opacity:0,transition:{duration:.3,ease:fl.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};function C$(e){return null}C$.getCollectionNode=function*(t,r){let{childItems:n,title:s,children:h}=t,d=t.title||t.children,c=t.textValue||(typeof d=="string"?d:"")||t["aria-label"]||"";!c&&!(r!=null&&r.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:t,rendered:d,textValue:c,"aria-label":t["aria-label"],hasChildNodes:GW(t),*childNodes(){if(n)for(let v of n)yield{type:"item",value:v};else if(s){let v=[];Qt.Children.forEach(h,w=>{v.push({type:"item",element:w})}),yield*v}}}};function GW(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&Qt.Children.count(e.children)>0)}let ZW=C$;class qW{build(t,r){return this.context=r,mA(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:r,items:n}=t;if(typeof r=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let s of t.items)yield*this.getFullNode({value:s},{renderer:r})}else{let s=[];Qt.Children.forEach(r,d=>{s.push(d)});let h=0;for(let d of s){let c=this.getFullNode({element:d,index:h},{});for(let v of c)h++,yield v}}}getKey(t,r,n,s){if(t.key!=null)return t.key;if(r.type==="cell"&&r.key!=null)return`${s}${r.key}`;let h=r.value;if(h!=null){var d;let c=(d=h.key)!==null&&d!==void 0?d:h.id;if(c==null)throw new Error("No key found for item");return c}return s?`${s}.${r.index}`:`$.${r.index}`}getChildState(t,r){return{renderer:r.renderer||t.renderer}}*getFullNode(t,r,n,s){let h=t.element;if(!h&&t.value&&r&&r.renderer){let v=this.cache.get(t.value);if(v&&(!v.shouldInvalidate||!v.shouldInvalidate(this.context))){v.index=t.index,v.parentKey=s?s.key:null,yield v;return}h=r.renderer(t.value)}if(Qt.isValidElement(h)){let v=h.type;if(typeof v!="function"&&typeof v.getCollectionNode!="function"){let C=typeof h.type=="function"?h.type.name:h.type;throw new Error(`Unknown element <${C}> in collection.`)}let w=v.getCollectionNode(h.props,this.context),S=t.index,T=w.next();for(;!T.done&&T.value;){let C=T.value;t.index=S;let D=C.key;D||(D=C.element?null:this.getKey(h,t,r,n));let V=[...this.getFullNode({...C,key:D,index:S,wrapper:YW(t.wrapper,C.wrapper)},this.getChildState(r,C),n?`${n}${h.key}`:h.key,s)];for(let Y of V){if(Y.value=C.value||t.value,Y.value&&this.cache.set(Y.value,Y),t.type&&Y.type!==t.type)throw new Error(`Unsupported type <${n_(Y.type)}> in <${n_(s.type)}>. Only <${n_(t.type)}> is supported.`);S++,yield Y}T=w.next(V)}return}if(t.key==null)return;let d=this,c={type:t.type,props:t.props,key:t.key,parentKey:s?s.key:null,value:t.value,level:s?s.level+1:0,index:t.index,rendered:t.rendered,textValue:t.textValue,"aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes,childNodes:mA(function*(){if(!t.hasChildNodes)return;let v=0;for(let w of t.childNodes()){w.key!=null&&(w.key=`${c.key}${w.key}`),w.index=v;let S=d.getFullNode(w,d.getChildState(r,w),c.key,c);for(let T of S)v++,yield T}})};yield c}constructor(){this.cache=new WeakMap}}function mA(e){let t=[],r=null;return{*[Symbol.iterator](){for(let n of t)yield n;r||(r=e());for(let n of r)t.push(n),yield n}}}function YW(e,t){if(e&&t)return r=>e(t(r));if(e)return e;if(t)return t}function n_(e){return e[0].toUpperCase()+e.slice(1)}function XW(e,t,r){let n=z.useMemo(()=>new qW,[]),{children:s,items:h,collection:d}=e;return z.useMemo(()=>{if(d)return d;let v=n.build({children:s,items:h},r);return t(v)},[n,s,h,d,r,t])}function E$(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function JW(e){return QW(e)}function QW(e,t){for(let r of e)return r}function i_(e,t,r){if(t.parentKey===r.parentKey)return t.index-r.index;let n=[...gA(e,t),t],s=[...gA(e,r),r],h=n.slice(0,s.length).findIndex((d,c)=>d!==s[c]);return h!==-1?(t=n[h],r=s[h],t.index-r.index):n.findIndex(d=>d===r)>=0?1:(s.findIndex(d=>d===t)>=0,-1)}function gA(e,t){let r=[];for(;(t==null?void 0:t.parentKey)!=null;)t=e.getItem(t.parentKey),r.unshift(t);return r}const yA=new WeakMap;function eG(e){let t=yA.get(e);if(t!=null)return t;t=0;let r=n=>{for(let s of n)s.type==="section"?r(E$(s,e)):t++};return r(e),yA.set(e,t),t}class to extends Set{constructor(t,r,n){super(t),t instanceof to?(this.anchorKey=r||t.anchorKey,this.currentKey=n||t.currentKey):(this.anchorKey=r,this.currentKey=n)}}function tG(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}function rG(e){let{selectionMode:t="none",disallowEmptySelection:r,allowDuplicateSelectionEvents:n,selectionBehavior:s="toggle",disabledBehavior:h="all"}=e,d=z.useRef(!1),[,c]=z.useState(!1),v=z.useRef(null),w=z.useRef(null),[,S]=z.useState(null),T=z.useMemo(()=>vA(e.selectedKeys),[e.selectedKeys]),C=z.useMemo(()=>vA(e.defaultSelectedKeys,new to),[e.defaultSelectedKeys]),[D,B]=ws(T,C,e.onSelectionChange),V=z.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[Y,U]=z.useState(s);s==="replace"&&Y==="toggle"&&typeof D=="object"&&D.size===0&&U("replace");let F=z.useRef(s);return z.useEffect(()=>{s!==F.current&&(U(s),F.current=s)},[s]),{selectionMode:t,disallowEmptySelection:r,selectionBehavior:Y,setSelectionBehavior:U,get isFocused(){return d.current},setFocused(O){d.current=O,c(O)},get focusedKey(){return v.current},get childFocusStrategy(){return w.current},setFocusedKey(O,ee="first"){v.current=O,w.current=ee,S(O)},selectedKeys:D,setSelectedKeys(O){(n||!tG(O,D))&&B(O)},disabledKeys:V,disabledBehavior:h}}function vA(e,t){return e?e==="all"?"all":new to(e):t}class nG{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,r){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,r)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){return this.state.selectionMode==="none"?!1:(t=this.getKey(t),this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),r=this.state.selectedKeys;return this._isSelectAll=t.every(n=>r.has(n)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&i_(this.collection,n,t)<0)&&(t=n)}return t==null?void 0:t.key}get lastSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&i_(this.collection,n,t)>0)&&(t=n)}return t==null?void 0:t.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}t=this.getKey(t);let r;if(this.state.selectedKeys==="all")r=new to([t],t,t);else{let n=this.state.selectedKeys,s=n.anchorKey||t;r=new to(n,s,t);for(let h of this.getKeyRange(s,n.currentKey||t))r.delete(h);for(let h of this.getKeyRange(t,s))this.canSelectItem(h)&&r.add(h)}this.state.setSelectedKeys(r)}getKeyRange(t,r){let n=this.collection.getItem(t),s=this.collection.getItem(r);return n&&s?i_(this.collection,n,s)<=0?this.getKeyRangeInternal(t,r):this.getKeyRangeInternal(r,t):[]}getKeyRangeInternal(t,r){let n=[],s=t;for(;s;){let h=this.collection.getItem(s);if((h&&h.type==="item"||h.type==="cell"&&this.allowsCellSelection)&&n.push(s),s===r)return n;s=this.collection.getKeyAfter(s)}return[]}getKey(t){let r=this.collection.getItem(t);if(!r||r.type==="cell"&&this.allowsCellSelection)return t;for(;r.type!=="item"&&r.parentKey!=null;)r=this.collection.getItem(r.parentKey);return!r||r.type!=="item"?null:r.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}if(t=this.getKey(t),t==null)return;let r=new to(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode==="none"||(t=this.getKey(t),t==null))return;let r=this.canSelectItem(t)?new to([t],t,t):new to;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode==="none")return;let r=new to;for(let n of t)if(n=this.getKey(n),n!=null&&(r.add(n),this.selectionMode==="single"))break;this.state.setSelectedKeys(r)}getSelectAllKeys(){let t=[],r=n=>{for(;n;){if(this.canSelectItem(n)){let s=this.collection.getItem(n);s.type==="item"&&t.push(n),s.hasChildNodes&&(this.allowsCellSelection||s.type!=="item")&&r(JW(E$(s,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return r(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new to)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,r){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||r&&(r.pointerType==="touch"||r.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let r=this.selectedKeys;if(t.size!==r.size)return!1;for(let n of t)if(!r.has(n))return!1;for(let n of r)if(!t.has(n))return!1;return!0}canSelectItem(t){if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let r=this.collection.getItem(t);return!(!r||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){return this.state.disabledKeys.has(t)&&this.state.disabledBehavior==="all"}isLink(t){var r,n;return!!(!((n=this.collection.getItem(t))===null||n===void 0||(r=n.props)===null||r===void 0)&&r.href)}constructor(t,r,n){this.collection=t,this.state=r;var s;this.allowsCellSelection=(s=n==null?void 0:n.allowsCellSelection)!==null&&s!==void 0?s:!1,this._isSelectAll=null}}class iG{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);return r?r.prevKey:null}getKeyAfter(t){let r=this.keyMap.get(t);return r?r.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}constructor(t,{expandedKeys:r}={}){this.keyMap=new Map,this.iterable=t,r=r||new Set;let n=d=>{if(this.keyMap.set(d.key,d),d.childNodes&&(d.type==="section"||r.has(d.key)))for(let c of d.childNodes)n(c)};for(let d of t)n(d);let s,h=0;for(let[d,c]of this.keyMap)s?(s.nextKey=d,c.prevKey=s.key):(this.firstKey=d,c.prevKey=void 0),c.type==="item"&&(c.index=h++),s=c,s.nextKey=void 0;this.lastKey=s==null?void 0:s.key}}function aG(e){let[t,r]=ws(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),n=rG(e),s=z.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),h=XW(e,z.useCallback(c=>new iG(c,{expandedKeys:t}),[t]),null);return z.useEffect(()=>{n.focusedKey!=null&&!h.getItem(n.focusedKey)&&n.setFocusedKey(null)},[h,n.focusedKey]),{collection:h,expandedKeys:t,disabledKeys:s,toggleKey:c=>{r(oG(t,c))},setExpandedKeys:r,selectionManager:new nG(h,n)}}function oG(e,t){let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}function sG(e){let t=Ro(e,{enabled:typeof e.elementType=="string"}),r;return e.orientation==="vertical"&&(r="vertical"),e.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":r}}:{separatorProps:t}}function lG(e){const{as:t,className:r,orientation:n,...s}=e;let h=t||"hr";h==="hr"&&n==="vertical"&&(h="div");const{separatorProps:d}=sG({elementType:typeof h=="string"?h:"hr",orientation:n}),c=z.useMemo(()=>w9({orientation:n,className:r}),[n,r]),v=z.useCallback((w={})=>({className:c,role:"separator","data-orientation":n,...d,...s,...w}),[c,n,d,s]);return{Component:h,getDividerProps:v}}var k$=Er((e,t)=>{const{Component:r,getDividerProps:n}=lG({...e});return $.jsx(r,{ref:t,...n()})});k$.displayName="NextUI.Divider";var Ml=k$,cG=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[e])||{}},uG=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],dG=(e,t)=>{if(t.includes("-")){const[r]=t.split("-");if(r.includes(e))return!1}return!0},xA=(e,t)=>{if(t.includes("-")){const[,r]=t.split("-");return`${e}-${r}`}return e},Yf=new WeakMap,ka=[];function hG(e,t=document.body){let r=new Set(e),n=new Set,s=v=>{for(let C of v.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(C);let w=C=>{const D=C.parentElement;if(r.has(C)||n.has(D)&&D.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let B of r)if(C.contains(B))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,{acceptNode:w}),T=w(v);if(T===NodeFilter.FILTER_ACCEPT&&h(v),T!==NodeFilter.FILTER_REJECT){let C=S.nextNode();for(;C!=null;)h(C),C=S.nextNode()}},h=v=>{var w;let S=(w=Yf.get(v))!=null?w:0;v.getAttribute("aria-hidden")==="true"&&S===0||(S===0&&v.setAttribute("aria-hidden","true"),n.add(v),Yf.set(v,S+1))};ka.length&&ka[ka.length-1].disconnect(),s(t);let d=new MutationObserver(v=>{for(let w of v)if(!(w.type!=="childList"||w.addedNodes.length===0)&&![...r,...n].some(S=>S.contains(w.target))){for(let S of w.removedNodes)S instanceof Element&&(r.delete(S),n.delete(S));for(let S of w.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?r.add(S):S instanceof Element&&s(S)}});d.observe(t,{childList:!0,subtree:!0});let c={observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return ka.push(c),()=>{d.disconnect();for(let v of n){let w=Yf.get(v);w!=null&&(w===1?(v.removeAttribute("aria-hidden"),Yf.delete(v)):Yf.set(v,w-1))}c===ka[ka.length-1]?(ka.pop(),ka.length&&ka[ka.length-1].observe()):ka.splice(ka.indexOf(c),1)}}var fG=()=>$.jsxs("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[$.jsx("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),$.jsx("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[yre,pG]=Vl({name:"AvatarGroupContext",strict:!1}),A$=globalThis!=null&&globalThis.document?z.useLayoutEffect:z.useEffect;function I$(e={}){const{loading:t,src:r,srcSet:n,onLoad:s,onError:h,crossOrigin:d,sizes:c,ignoreFallback:v}=e,[w,S]=z.useState("pending");z.useEffect(()=>{S(r?"loading":"pending")},[r]);const T=z.useRef(),C=z.useCallback(()=>{if(!r)return;D();const B=new Image;B.src=r,d&&(B.crossOrigin=d),n&&(B.srcset=n),c&&(B.sizes=c),t&&(B.loading=t),B.onload=V=>{D(),S("loaded"),s==null||s(V)},B.onerror=V=>{D(),S("failed"),h==null||h(V)},T.current=B},[r,d,n,c,s,h,t]),D=()=>{T.current&&(T.current.onload=null,T.current.onerror=null,T.current=null)};return A$(()=>{if(!v)return w==="loading"&&C(),()=>{D()}},[w,C,v]),v?"loaded":w}function mG(e={}){var t,r,n,s,h;const d=pG(),c=!!d,{as:v,ref:w,src:S,name:T,icon:C,classNames:D,fallback:B,alt:V=T||"avatar",imgRef:Y,color:U=(t=d==null?void 0:d.color)!=null?t:"default",radius:F=(r=d==null?void 0:d.radius)!=null?r:"full",size:O=(n=d==null?void 0:d.size)!=null?n:"md",isBordered:ee=(s=d==null?void 0:d.isBordered)!=null?s:!1,isDisabled:ie=(h=d==null?void 0:d.isDisabled)!=null?h:!1,isFocusable:fe=!1,getInitials:we=kO,ignoreFallback:Z=!1,showFallback:me=!1,ImgComponent:xe="img",imgProps:se,className:Te,onError:ge,...ve}=e,Be=v||"span",Le=bn(w),ae=bn(Y),{isFocusVisible:De,isFocused:Ve,focusProps:Oe}=ks(),{isHovered:he,hoverProps:ze}=ru({isDisabled:ie}),ft=I$({src:S,onError:ge,ignoreFallback:Z})==="loaded",mt=(!S||!ft)&&me,gt=z.useMemo(()=>{var Nt;return T9({color:U,radius:F,size:O,isBordered:ee,isDisabled:ie,isInGroup:c,isInGridGroup:(Nt=d==null?void 0:d.isGrid)!=null?Nt:!1})},[U,F,O,ee,ie,c,d==null?void 0:d.isGrid]),Et=ur(D==null?void 0:D.base,Te),Pt=z.useMemo(()=>fe||v==="button",[fe,v]),At=z.useCallback((Nt={})=>({ref:Le,tabIndex:Pt?0:-1,"data-hover":vt(he),"data-focus":vt(Ve),"data-focus-visible":vt(De),className:gt.base({class:ur(Et,Nt==null?void 0:Nt.className)}),...Ut(ve,ze,Pt?Oe:{})}),[Pt,gt,Et,Oe,ve]),zt=z.useCallback((Nt={})=>({ref:ae,src:S,"data-loaded":vt(ft),className:gt.img({class:D==null?void 0:D.img}),...Ut(se,Nt)}),[gt,ft,se,S,ae]);return{Component:Be,ImgComponent:xe,src:S,alt:V,icon:C,name:T,imgRef:ae,slots:gt,classNames:D,fallback:B,isImgLoaded:ft,showFallback:mt,ignoreFallback:Z,getInitials:we,getAvatarProps:At,getImageProps:zt}}var M$=Er((e,t)=>{const{Component:r,ImgComponent:n,src:s,icon:h=$.jsx(fG,{}),alt:d,classNames:c,slots:v,name:w,showFallback:S,fallback:T,getInitials:C,getAvatarProps:D,getImageProps:B}=mG({...e,ref:t}),V=z.useMemo(()=>!S&&s?null:T?$.jsx("div",{"aria-label":d,className:v.fallback({class:c==null?void 0:c.fallback}),role:"img",children:T}):w?$.jsx("span",{"aria-label":d,className:v.name({class:c==null?void 0:c.name}),role:"img",children:C(w)}):$.jsx("span",{"aria-label":d,className:v.icon({class:c==null?void 0:c.icon}),role:"img",children:h}),[S,s,T,w,c]);return $.jsxs(r,{...D(),children:[s&&$.jsx(n,{...B(),alt:d}),V]})});M$.displayName="NextUI.Avatar";var ld=M$,[vre,gG]=Vl({name:"ButtonGroupContext",strict:!1});function vm(e,t){let{elementType:r="button",isDisabled:n,onPress:s,onPressStart:h,onPressEnd:d,onPressChange:c,preventFocusOnPress:v,allowFocusWhenDisabled:w,onClick:S,href:T,target:C,rel:D,type:B="button",allowTextSelectionOnPress:V}=e,Y;r==="button"?Y={type:B,disabled:n}:Y={role:"button",tabIndex:n?void 0:0,href:r==="a"&&n?void 0:T,target:r==="a"?C:void 0,type:r==="input"?B:void 0,disabled:r==="input"?n:void 0,"aria-disabled":!n||r==="input"?void 0:n,rel:r==="a"?D:void 0};let{pressProps:U,isPressed:F}=yh({onPressStart:h,onPressEnd:d,onPressChange:c,onPress:s,isDisabled:n,preventFocusOnPress:v,allowTextSelectionOnPress:V,ref:t}),{focusableProps:O}=FD(e,t);w&&(O.tabIndex=n?-1:O.tabIndex);let ee=Ut(O,U,mh(e,{labelable:!0}));return{isPressed:F,buttonProps:Ut(Y,ee,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:ie=>{S==null||S(ie)}})}}var D$=e=>{const{ripples:t=[],motionProps:r,color:n="currentColor",style:s,onClear:h}=e;return $.jsx($.Fragment,{children:t.map(d=>{const c=q5(.01*d.size,.2,d.size>100?.75:.5);return $.jsx(DS,{mode:"popLayout",children:$.jsx($.Fragment,{children:$.jsx(sh,{features:lh,children:$.jsx(oh.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:n,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:d.y,left:d.x,width:`${d.size}px`,height:`${d.size}px`,...s},transition:{duration:c},onAnimationComplete:()=>{h(d.key)},...r})})})},d.key)})})};D$.displayName="NextUI.Ripple";var $$=D$;function R$(e={}){const[t,r]=z.useState([]),n=z.useCallback(h=>{const d=h.currentTarget,c=Math.max(d.clientWidth,d.clientHeight),v=d.getBoundingClientRect();r(w=>[...w,{key:AO(w.length.toString()),size:c,x:h.clientX-v.left-c/2,y:h.clientY-v.top-c/2}])},[]),s=z.useCallback(h=>{r(d=>d.filter(c=>c.key!==h))},[]);return{ripples:t,onClick:n,onClear:s,...e}}function yG(e){var t,r,n,s,h,d,c,v;const w=gG(),S=!!w,{ref:T,as:C,children:D,startContent:B,endContent:V,autoFocus:Y,className:U,spinner:F,fullWidth:O=(t=w==null?void 0:w.fullWidth)!=null?t:!1,size:ee=(r=w==null?void 0:w.size)!=null?r:"md",color:ie=(n=w==null?void 0:w.color)!=null?n:"default",variant:fe=(s=w==null?void 0:w.variant)!=null?s:"solid",disableAnimation:we=(h=w==null?void 0:w.disableAnimation)!=null?h:!1,radius:Z=w==null?void 0:w.radius,disableRipple:me=(d=w==null?void 0:w.disableRipple)!=null?d:!1,isDisabled:xe=(c=w==null?void 0:w.isDisabled)!=null?c:!1,isIconOnly:se=(v=w==null?void 0:w.isIconOnly)!=null?v:!1,isLoading:Te=!1,spinnerPlacement:ge="start",onPress:ve,onClick:Be,...Le}=e,ae=C||"button",De=typeof ae=="string",Ve=bn(T),{isFocusVisible:Oe,isFocused:he,focusProps:ze}=ks({autoFocus:Y}),Je=xe||Te,ft=z.useMemo(()=>C9({size:ee,color:ie,variant:fe,radius:Z,fullWidth:O,isDisabled:Je,isInGroup:S,disableAnimation:we,isIconOnly:se,className:U}),[ee,ie,fe,Z,O,Je,S,se,we,U]),{onClick:mt,onClear:gt,ripples:Et}=R$(),Pt=z.useCallback(Gt=>{me||Je||we||Ve.current&&mt(Gt)},[me,Je,we,Ve,mt]),{buttonProps:At,isPressed:zt}=vm({elementType:C,isDisabled:Je,onPress:ve,onClick:Ss(Be,Pt),...Le},Ve),{isHovered:Nt,hoverProps:ar}=ru({isDisabled:Je}),qt=z.useCallback((Gt={})=>({"data-disabled":vt(Je),"data-focus":vt(he),"data-pressed":vt(zt),"data-focus-visible":vt(Oe),"data-hover":vt(Nt),"data-loading":vt(Te),...Ut(At,ze,ar,Ro(Le,{enabled:De}),Ro(Gt))}),[Te,Je,he,zt,De,Oe,Nt,At,ze,ar,Le]),Yt=Gt=>z.isValidElement(Gt)?z.cloneElement(Gt,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,Un=Yt(B),je=Yt(V),ri=z.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[ee],[ee]),kr=z.useCallback(()=>({ripples:Et,onClear:gt}),[Et,gt]);return{Component:ae,children:D,domRef:Ve,spinner:F,styles:ft,startContent:Un,endContent:je,isLoading:Te,spinnerPlacement:ge,spinnerSize:ri,disableRipple:me,getButtonProps:qt,getRippleProps:kr,isIconOnly:se}}function vG(e){const[t,r]=As(e,XE.variantKeys),{children:n,className:s,classNames:h,label:d,...c}=t,v=z.useMemo(()=>XE({...r}),[Es(r)]),w=ur(h==null?void 0:h.base,s),S=d||n,T=z.useMemo(()=>S&&typeof S=="string"?S:c["aria-label"]?"":"Loading",[n,S,c["aria-label"]]),C=z.useCallback(()=>({"aria-label":T,className:v.base({class:w}),...c}),[T,v,w,c]);return{label:S,slots:v,classNames:h,getSpinnerProps:C}}var L$=Er((e,t)=>{const{slots:r,classNames:n,label:s,getSpinnerProps:h}=vG({...e});return $.jsxs("div",{ref:t,...h(),children:[$.jsxs("div",{className:r.wrapper({class:n==null?void 0:n.wrapper}),children:[$.jsx("i",{className:r.circle1({class:n==null?void 0:n.circle1})}),$.jsx("i",{className:r.circle2({class:n==null?void 0:n.circle2})})]}),s&&$.jsx("span",{className:r.label({class:n==null?void 0:n.label}),children:s})]})});L$.displayName="NextUI.Spinner";var xG=L$,z$=Er((e,t)=>{const{Component:r,domRef:n,children:s,styles:h,spinnerSize:d,spinner:c=$.jsx(xG,{color:"current",size:d}),spinnerPlacement:v,startContent:w,endContent:S,isLoading:T,disableRipple:C,getButtonProps:D,getRippleProps:B,isIconOnly:V}=yG({...e,ref:t});return $.jsxs(r,{ref:n,className:h,...D(),children:[w,T&&v==="start"&&c,T&&V?null:s,T&&v==="end"&&c,S,!C&&$.jsx($$,{...B()})]})});z$.displayName="NextUI.Button";var Ts=z$,[_G,$S]=Vl({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),F$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=bn(t),{slots:w,classNames:S}=$S(),T=ur(S==null?void 0:S.body,s);return $.jsx(c,{ref:v,className:(r=w.body)==null?void 0:r.call(w,{class:T}),...d,children:h})});F$.displayName="NextUI.CardBody";var da=F$,B$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=bn(t),{slots:w,classNames:S}=$S(),T=ur(S==null?void 0:S.footer,s);return $.jsx(c,{ref:v,className:(r=w.footer)==null?void 0:r.call(w,{class:T}),...d,children:h})});B$.displayName="NextUI.CardFooter";var cd=B$,N$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=bn(t),{slots:w,classNames:S}=$S(),T=ur(S==null?void 0:S.header,s);return $.jsx(c,{ref:v,className:(r=w.header)==null?void 0:r.call(w,{class:T}),...d,children:h})});N$.displayName="NextUI.CardHeader";var ha=N$;function bG(e){const[t,r]=As(e,ik.variantKeys),{ref:n,as:s,children:h,disableRipple:d=!1,onClick:c,onPress:v,autoFocus:w,className:S,classNames:T,allowTextSelectionOnPress:C=!0,...D}=t,B=bn(n),V=s||(e.isPressable?"button":"div"),Y=typeof V=="string",U=ur(T==null?void 0:T.base,S),{onClick:F,onClear:O,ripples:ee}=R$(),ie=ae=>{!e.disableAnimation&&!d&&B.current&&F(ae)},{buttonProps:fe,isPressed:we}=vm({onPress:v,elementType:s,isDisabled:!e.isPressable,onClick:Ss(c,ie),allowTextSelectionOnPress:C,...D},B),{hoverProps:Z,isHovered:me}=ru({isDisabled:!e.isHoverable,...D}),{isFocusVisible:xe,isFocused:se,focusProps:Te}=ks({autoFocus:w}),ge=z.useMemo(()=>ik({...r}),[Es(r)]),ve=z.useMemo(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:ge,classNames:T}),[ge,T,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),Be=z.useCallback((ae={})=>({ref:B,className:ge.base({class:U}),tabIndex:e.isPressable?0:-1,"data-hover":vt(me),"data-pressed":vt(we),"data-focus":vt(se),"data-focus-visible":vt(xe),"data-disabled":vt(e.isDisabled),...Ut(e.isPressable?{...fe,...Te,role:"button"}:{},e.isHoverable?Z:{},Ro(D,{enabled:Y}),Ro(ae))}),[B,ge,U,Y,e.isPressable,e.isHoverable,e.isDisabled,me,we,xe,fe,Te,Z,D]),Le=z.useCallback(()=>({ripples:ee,onClear:O}),[ee,O]);return{context:ve,domRef:B,Component:V,classNames:T,children:h,isHovered:me,isPressed:we,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:d,handleClick:ie,isFocusVisible:xe,getCardProps:Be,getRippleProps:Le}}var O$=Er((e,t)=>{const{children:r,context:n,Component:s,isPressable:h,disableAnimation:d,disableRipple:c,getCardProps:v,getRippleProps:w}=bG({...e,ref:t});return $.jsxs(s,{...v(),children:[$.jsx(_G,{value:n,children:r}),h&&!d&&!c&&$.jsx($$,{...w()})]})});O$.displayName="NextUI.Card";var Hi=O$;function wG(e={}){let{isReadOnly:t}=e,[r,n]=ws(e.isSelected,e.defaultSelected||!1,e.onChange);function s(d){t||n(d)}function h(){t||n(!r)}return{isSelected:r,setSelected:s,toggle:h}}function SG(e,t){let{elementType:r="a",onPress:n,onPressStart:s,onPressEnd:h,onClick:d,isDisabled:c,...v}=e,w={};r!=="a"&&(w={role:"link",tabIndex:c?void 0:0});let{focusableProps:S}=FD(e,t),{pressProps:T,isPressed:C}=yh({onPress:n,onPressStart:s,onPressEnd:h,isDisabled:c,ref:t}),D=mh(v,{labelable:!0,isLink:r==="a"}),B=Ut(S,T),V=_0();return{isPressed:C,linkProps:Ut(D,{...B,...w,"aria-disabled":c||void 0,"aria-current":e["aria-current"],onClick:Y=>{var U;(U=T.onClick)==null||U.call(T,Y),d&&d(Y),!V.isNative&&Y.currentTarget instanceof HTMLAnchorElement&&Y.currentTarget.href&&!Y.isDefaultPrevented()&&M3(Y.currentTarget,Y)&&(Y.preventDefault(),V.open(Y.currentTarget,Y))}})}}function PG(e){var t,r;const[n,s]=As(e,rk.variantKeys),{ref:h,as:d,children:c,anchorIcon:v,isExternal:w=!1,showAnchorIcon:S=!1,autoFocus:T=!1,className:C,onPress:D,onPressStart:B,onPressEnd:V,onClick:Y,...U}=n,F=d||"a",O=bn(h),{linkProps:ee}=SG({...U,onPress:D,onPressStart:B,onPressEnd:V,onClick:Y,isDisabled:e.isDisabled,elementType:`${d}`},O),{isFocused:ie,isFocusVisible:fe,focusProps:we}=ks({autoFocus:T});w&&(U.rel=(t=U.rel)!=null?t:"noopener noreferrer",U.target=(r=U.target)!=null?r:"_blank");const Z=z.useMemo(()=>rk({...s,className:C}),[Es(s),C]),me=z.useCallback(()=>({ref:O,className:Z,"data-focus":vt(ie),"data-disabled":vt(e.isDisabled),"data-focus-visible":vt(fe),...Ut(we,ee,U)}),[Z,ie,fe,we,ee,U]);return{Component:F,children:c,anchorIcon:v,showAnchorIcon:S,getLinkProps:me}}var j$=Er((e,t)=>{const{Component:r,children:n,showAnchorIcon:s,anchorIcon:h=$.jsx(R9,{className:P9}),getLinkProps:d}=PG({ref:t,...e});return $.jsx(r,{...d(),children:$.jsxs($.Fragment,{children:[n,s&&h]})})});j$.displayName="NextUI.Link";var TG=j$;const _A=e=>typeof e=="object"&&e!=null&&e.nodeType===1,bA=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",a_=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return bA(r.overflowY,t)||bA(r.overflowX,t)||(n=>{const s=(h=>{if(!h.ownerDocument||!h.ownerDocument.defaultView)return null;try{return h.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(e)}return!1},uy=(e,t,r,n,s,h,d,c)=>h<e&&d>t||h>e&&d<t?0:h<=e&&c<=r||d>=t&&c>=r?h-e-n:d>t&&c<r||h<e&&c>r?d-t+s:0,CG=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},wA=(e,t)=>{var r,n,s,h;if(typeof document>"u")return[];const{scrollMode:d,block:c,inline:v,boundary:w,skipOverflowHiddenElements:S}=t,T=typeof w=="function"?w:Le=>Le!==w;if(!_A(e))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,D=[];let B=e;for(;_A(B)&&T(B);){if(B=CG(B),B===C){D.push(B);break}B!=null&&B===document.body&&a_(B)&&!a_(document.documentElement)||B!=null&&a_(B,S)&&D.push(B)}const V=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,Y=(h=(s=window.visualViewport)==null?void 0:s.height)!=null?h:innerHeight,{scrollX:U,scrollY:F}=window,{height:O,width:ee,top:ie,right:fe,bottom:we,left:Z}=e.getBoundingClientRect(),{top:me,right:xe,bottom:se,left:Te}=(Le=>{const ae=window.getComputedStyle(Le);return{top:parseFloat(ae.scrollMarginTop)||0,right:parseFloat(ae.scrollMarginRight)||0,bottom:parseFloat(ae.scrollMarginBottom)||0,left:parseFloat(ae.scrollMarginLeft)||0}})(e);let ge=c==="start"||c==="nearest"?ie-me:c==="end"?we+se:ie+O/2-me+se,ve=v==="center"?Z+ee/2-Te+xe:v==="end"?fe+xe:Z-Te;const Be=[];for(let Le=0;Le<D.length;Le++){const ae=D[Le],{height:De,width:Ve,top:Oe,right:he,bottom:ze,left:Je}=ae.getBoundingClientRect();if(d==="if-needed"&&ie>=0&&Z>=0&&we<=Y&&fe<=V&&ie>=Oe&&we<=ze&&Z>=Je&&fe<=he)return Be;const ft=getComputedStyle(ae),mt=parseInt(ft.borderLeftWidth,10),gt=parseInt(ft.borderTopWidth,10),Et=parseInt(ft.borderRightWidth,10),Pt=parseInt(ft.borderBottomWidth,10);let At=0,zt=0;const Nt="offsetWidth"in ae?ae.offsetWidth-ae.clientWidth-mt-Et:0,ar="offsetHeight"in ae?ae.offsetHeight-ae.clientHeight-gt-Pt:0,qt="offsetWidth"in ae?ae.offsetWidth===0?0:Ve/ae.offsetWidth:0,Yt="offsetHeight"in ae?ae.offsetHeight===0?0:De/ae.offsetHeight:0;if(C===ae)At=c==="start"?ge:c==="end"?ge-Y:c==="nearest"?uy(F,F+Y,Y,gt,Pt,F+ge,F+ge+O,O):ge-Y/2,zt=v==="start"?ve:v==="center"?ve-V/2:v==="end"?ve-V:uy(U,U+V,V,mt,Et,U+ve,U+ve+ee,ee),At=Math.max(0,At+F),zt=Math.max(0,zt+U);else{At=c==="start"?ge-Oe-gt:c==="end"?ge-ze+Pt+ar:c==="nearest"?uy(Oe,ze,De,gt,Pt+ar,ge,ge+O,O):ge-(Oe+De/2)+ar/2,zt=v==="start"?ve-Je-mt:v==="center"?ve-(Je+Ve/2)+Nt/2:v==="end"?ve-he+Et+Nt:uy(Je,he,Ve,mt,Et+Nt,ve,ve+ee,ee);const{scrollLeft:Un,scrollTop:je}=ae;At=Yt===0?0:Math.max(0,Math.min(je+At/Yt,ae.scrollHeight-De/Yt+ar)),zt=qt===0?0:Math.max(0,Math.min(Un+zt/qt,ae.scrollWidth-Ve/qt+Nt)),ge+=je-At,ve+=Un-zt}Be.push({el:ae,top:At,left:zt})}return Be},EG=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function kG(e,t){if(!e.isConnected||!(n=>{let s=n;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(wA(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:s,left:h}of wA(e,EG(t)))n.scroll({top:s,left:h,behavior:r})}function V$(e){let[t,r]=ws(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const n=z.useCallback(()=>{r(!0)},[r]),s=z.useCallback(()=>{r(!1)},[r]),h=z.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:n,close:s,toggle:h}}function AG(e,t){const{triggerRef:r,popoverRef:n,showArrow:s,offset:h=7,crossOffset:d=0,scrollRef:c,shouldFlip:v,boundaryElement:w,isDismissable:S=!0,shouldCloseOnBlur:T=!0,placement:C="top",containerPadding:D,shouldCloseOnInteractOutside:B,isNonModal:V,isKeyboardDismissDisabled:Y,updatePositionDeps:U=[],...F}=e,O=V||!0,{overlayProps:ee,underlayProps:ie}=CV({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:T,isDismissable:S,isKeyboardDismissDisabled:Y,shouldCloseOnInteractOutside:B||(xe=>{let se=r==null?void 0:r.current;return!se||!se.contains(xe)})},n),{overlayProps:fe,arrowProps:we,placement:Z,updatePosition:me}=SV({...F,shouldFlip:v,crossOffset:d,targetRef:r,overlayRef:n,isOpen:t.isOpen,scrollRef:c,boundaryElement:w,containerPadding:D,placement:uG(C),offset:s?h+3:h,onClose:()=>{}});return A$(()=>{U.length&&me()},U),z.useEffect(()=>{if(t.isOpen&&!O&&n.current)return hG([n.current])},[O,t.isOpen,n]),{popoverProps:Ut(ee,fe),arrowProps:we,underlayProps:ie,placement:Z}}function IG(e,t){let{role:r="dialog"}=e,n=bp();n=e["aria-label"]?void 0:n;let s=z.useRef(!1);return z.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){Qc(t.current);let h=setTimeout(()=>{document.activeElement===t.current&&(s.current=!0,t.current&&(t.current.blur(),Qc(t.current)),s.current=!1)},500);return()=>{clearTimeout(h)}}},[t]),DV(),{dialogProps:{...mh(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:h=>{s.current&&h.stopPropagation()}},titleProps:{id:n}}}function MG(e){var t,r;const[n,s]=As(e,ek.variantKeys),{as:h,ref:d,children:c,state:v,triggerRef:w,scrollRef:S,defaultOpen:T,onOpenChange:C,isOpen:D,isNonModal:B=!0,shouldFlip:V=!0,containerPadding:Y=12,shouldBlockScroll:U=!1,isDismissable:F=!0,shouldCloseOnBlur:O,portalContainer:ee,updatePositionDeps:ie,dialogProps:fe,placement:we="top",triggerType:Z="dialog",showArrow:me=!1,offset:xe=7,crossOffset:se=0,boundaryElement:Te,isKeyboardDismissDisabled:ge,shouldCloseOnInteractOutside:ve,motionProps:Be,className:Le,classNames:ae,onClose:De,...Ve}=n,Oe=h||"div",he=bn(d),ze=z.useRef(null),Je=z.useRef(!1),ft=z.useRef(null),mt=w||ze,gt=(t=e.disableAnimation)!=null?t:!1,Et=V$({isOpen:D,defaultOpen:T,onOpenChange:Vr=>{C==null||C(Vr),Vr||De==null||De()}}),Pt=v||Et,{popoverProps:At,underlayProps:zt,placement:Nt}=AG({triggerRef:mt,isNonModal:B,popoverRef:he,placement:we,offset:xe,scrollRef:S,isDismissable:F,shouldCloseOnBlur:O,boundaryElement:Te,crossOffset:se,shouldFlip:V,containerPadding:Y,updatePositionDeps:ie,isKeyboardDismissDisabled:ge,shouldCloseOnInteractOutside:ve},Pt),{triggerProps:ar}=OD({type:Z},Pt,mt),{isFocusVisible:qt,isFocused:Yt,focusProps:Un}=ks(),{dialogProps:je,titleProps:ri}=IG({},ft),kr=z.useMemo(()=>ek({...s}),[Es(s)]),Gt=ur(ae==null?void 0:ae.base,Le),yr=(Vr={})=>({ref:he,...Ut(At,Ve,Vr),style:Ut(At.style,Ve.style,Vr.style)}),Yi=(Vr={})=>({ref:ft,"data-slot":"base","data-open":vt(Pt.isOpen),"data-focus":vt(Yt),"data-arrow":vt(me),"data-focus-visible":vt(qt),"data-placement":xA(Nt,we),...Ut(Un,je,fe,Vr),className:kr.base({class:ur(Gt)}),style:{outline:"none"}}),uo=z.useCallback((Vr={})=>({"data-slot":"content","data-open":vt(Pt.isOpen),"data-arrow":vt(me),"data-placement":xA(Nt,we),className:kr.content({class:ur(ae==null?void 0:ae.content,Vr.className)})}),[kr,Pt.isOpen,me,Nt,we,ae]),zo=z.useMemo(()=>dG(Nt,we)&&Nt||we,[Nt,we]),Oa=z.useCallback(Vr=>{var Xe;let en;return Vr.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?en=setTimeout(()=>{Je.current=!0},100):Je.current=!0,(Xe=ar.onPress)==null||Xe.call(ar,Vr),()=>{clearTimeout(en)}},[ar==null?void 0:ar.onPress]),Xi=z.useCallback((Vr={},Xe=null)=>{const{isDisabled:en,...An}=Vr;return{"data-slot":"trigger","aria-haspopup":"dialog",...Ut(ar,An),onPress:Oa,isDisabled:en,className:kr.trigger({class:ur(ae==null?void 0:ae.trigger,Vr.className),isTriggerDisabled:en}),ref:c7(Xe,mt)}},[Pt,ar,Oa,mt]),ho=z.useCallback((Vr={})=>({"data-slot":"backdrop",className:kr.backdrop({class:ae==null?void 0:ae.backdrop}),onClick:Xe=>{if(!Je.current){Xe.preventDefault();return}Pt.close(),Je.current=!1},...zt,...Vr}),[kr,Pt.isOpen,ae,zt]);return z.useEffect(()=>{if(Pt.isOpen&&(he!=null&&he.current))return MV([he==null?void 0:he.current])},[Pt.isOpen,he]),{state:Pt,Component:Oe,children:c,classNames:ae,showArrow:me,triggerRef:mt,placement:zo,isNonModal:B,titleProps:ri,popoverRef:he,portalContainer:ee,isOpen:Pt.isOpen,onClose:Pt.close,disableAnimation:gt,shouldBlockScroll:U,backdrop:(r=e.backdrop)!=null?r:"transparent",motionProps:Be,getBackdropProps:ho,getPopoverProps:yr,getTriggerProps:Xi,getDialogProps:Yi,getContentProps:uo}}var[DG,U$]=Vl({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),By="right-scroll-bar-position",Ny="width-before-scroll-bar",$G="with-scroll-bars-hidden",RG="--removed-body-scroll-bar-size";function o_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LG(e,t){var r=z.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var zG=typeof window<"u"?z.useLayoutEffect:z.useEffect,SA=new WeakMap;function FG(e,t){var r=LG(null,function(n){return e.forEach(function(s){return o_(s,n)})});return zG(function(){var n=SA.get(r);if(n){var s=new Set(n),h=new Set(e),d=r.current;s.forEach(function(c){h.has(c)||o_(c,null)}),h.forEach(function(c){s.has(c)||o_(c,d)})}SA.set(r,e)},[e]),r}function BG(e){return e}function NG(e,t){t===void 0&&(t=BG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(h){var d=t(h,n);return r.push(d),function(){r=r.filter(function(c){return c!==d})}},assignSyncMedium:function(h){for(n=!0;r.length;){var d=r;r=[],d.forEach(h)}r={push:function(c){return h(c)},filter:function(){return r}}},assignMedium:function(h){n=!0;var d=[];if(r.length){var c=r;r=[],c.forEach(h),d=r}var v=function(){var S=d;d=[],S.forEach(h)},w=function(){return Promise.resolve().then(v)};w(),r={push:function(S){d.push(S),w()},filter:function(S){return d=d.filter(S),r}}}};return s}function OG(e){e===void 0&&(e={});var t=NG(null);return t.options=ko({async:!0,ssr:!1},e),t}var K$=function(e){var t=e.sideCar,r=K3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return z.createElement(n,ko({},r))};K$.isSideCarExport=!0;function jG(e,t){return e.useMedium(t),K$}var H$=OG(),s_=function(){},k0=z.forwardRef(function(e,t){var r=z.useRef(null),n=z.useState({onScrollCapture:s_,onWheelCapture:s_,onTouchMoveCapture:s_}),s=n[0],h=n[1],d=e.forwardProps,c=e.children,v=e.className,w=e.removeScrollBar,S=e.enabled,T=e.shards,C=e.sideCar,D=e.noIsolation,B=e.inert,V=e.allowPinchZoom,Y=e.as,U=Y===void 0?"div":Y,F=e.gapMode,O=K3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=C,ie=FG([r,t]),fe=ko(ko({},O),s);return z.createElement(z.Fragment,null,S&&z.createElement(ee,{sideCar:H$,removeScrollBar:w,shards:T,noIsolation:D,inert:B,setCallbacks:h,allowPinchZoom:!!V,lockRef:r,gapMode:F}),d?z.cloneElement(z.Children.only(c),ko(ko({},fe),{ref:ie})):z.createElement(U,ko({},fe,{className:v,ref:ie}),c))});k0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};k0.classNames={fullWidth:Ny,zeroRight:By};var VG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VG();return t&&e.setAttribute("nonce",t),e}function KG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=UG())&&(KG(t,r),HG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},GG=function(){var e=WG();return function(t,r){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},W$=function(){var e=GG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ZG={left:0,top:0,right:0,gap:0},l_=function(e){return parseInt(e||"",10)||0},qG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[l_(r),l_(n),l_(s)]},YG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZG;var t=qG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XG=W$(),Ud="data-scroll-locked",JG=function(e,t,r,n){var s=e.left,h=e.top,d=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat($G,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(By,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Ny,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(By," .").concat(By,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ny," .").concat(Ny,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ud,`] {
    `).concat(RG,": ").concat(c,`px;
  }
`)},PA=function(){var e=parseInt(document.body.getAttribute(Ud)||"0",10);return isFinite(e)?e:0},QG=function(){z.useEffect(function(){return document.body.setAttribute(Ud,(PA()+1).toString()),function(){var e=PA()-1;e<=0?document.body.removeAttribute(Ud):document.body.setAttribute(Ud,e.toString())}},[])},eZ=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;QG();var h=z.useMemo(function(){return YG(s)},[s]);return z.createElement(XG,{styles:JG(h,!t,s,r?"":"!important")})},uw=!1;if(typeof window<"u")try{var dy=Object.defineProperty({},"passive",{get:function(){return uw=!0,!0}});window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,dy)}catch{uw=!1}var ud=uw?{passive:!1}:!1,tZ=function(e){return e.tagName==="TEXTAREA"},G$=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tZ(e)&&r[t]==="visible")},rZ=function(e){return G$(e,"overflowY")},nZ=function(e){return G$(e,"overflowX")},TA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Z$(e,n);if(s){var h=q$(e,n),d=h[1],c=h[2];if(d>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},iZ=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aZ=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Z$=function(e,t){return e==="v"?rZ(t):nZ(t)},q$=function(e,t){return e==="v"?iZ(t):aZ(t)},oZ=function(e,t){return e==="h"&&t==="rtl"?-1:1},sZ=function(e,t,r,n,s){var h=oZ(e,window.getComputedStyle(t).direction),d=h*n,c=r.target,v=t.contains(c),w=!1,S=d>0,T=0,C=0;do{var D=q$(e,c),B=D[0],V=D[1],Y=D[2],U=V-Y-h*B;(B||U)&&Z$(e,c)&&(T+=U,C+=B),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!v&&c!==document.body||v&&(t.contains(c)||t===c));return(S&&(Math.abs(T)<1||!s)||!S&&(Math.abs(C)<1||!s))&&(w=!0),w},hy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},CA=function(e){return[e.deltaX,e.deltaY]},EA=function(e){return e&&"current"in e?e.current:e},lZ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cZ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uZ=0,dd=[];function dZ(e){var t=z.useRef([]),r=z.useRef([0,0]),n=z.useRef(),s=z.useState(uZ++)[0],h=z.useState(W$)[0],d=z.useRef(e);z.useEffect(function(){d.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var V=R7([e.lockRef.current],(e.shards||[]).map(EA),!0).filter(Boolean);return V.forEach(function(Y){return Y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),V.forEach(function(Y){return Y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=z.useCallback(function(V,Y){if("touches"in V&&V.touches.length===2)return!d.current.allowPinchZoom;var U=hy(V),F=r.current,O="deltaX"in V?V.deltaX:F[0]-U[0],ee="deltaY"in V?V.deltaY:F[1]-U[1],ie,fe=V.target,we=Math.abs(O)>Math.abs(ee)?"h":"v";if("touches"in V&&we==="h"&&fe.type==="range")return!1;var Z=TA(we,fe);if(!Z)return!0;if(Z?ie=we:(ie=we==="v"?"h":"v",Z=TA(we,fe)),!Z)return!1;if(!n.current&&"changedTouches"in V&&(O||ee)&&(n.current=ie),!ie)return!0;var me=n.current||ie;return sZ(me,Y,V,me==="h"?O:ee,!0)},[]),v=z.useCallback(function(V){var Y=V;if(!(!dd.length||dd[dd.length-1]!==h)){var U="deltaY"in Y?CA(Y):hy(Y),F=t.current.filter(function(ie){return ie.name===Y.type&&(ie.target===Y.target||Y.target===ie.shadowParent)&&lZ(ie.delta,U)})[0];if(F&&F.should){Y.cancelable&&Y.preventDefault();return}if(!F){var O=(d.current.shards||[]).map(EA).filter(Boolean).filter(function(ie){return ie.contains(Y.target)}),ee=O.length>0?c(Y,O[0]):!d.current.noIsolation;ee&&Y.cancelable&&Y.preventDefault()}}},[]),w=z.useCallback(function(V,Y,U,F){var O={name:V,delta:Y,target:U,should:F,shadowParent:hZ(U)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(ee){return ee!==O})},1)},[]),S=z.useCallback(function(V){r.current=hy(V),n.current=void 0},[]),T=z.useCallback(function(V){w(V.type,CA(V),V.target,c(V,e.lockRef.current))},[]),C=z.useCallback(function(V){w(V.type,hy(V),V.target,c(V,e.lockRef.current))},[]);z.useEffect(function(){return dd.push(h),e.setCallbacks({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:C}),document.addEventListener("wheel",v,ud),document.addEventListener("touchmove",v,ud),document.addEventListener("touchstart",S,ud),function(){dd=dd.filter(function(V){return V!==h}),document.removeEventListener("wheel",v,ud),document.removeEventListener("touchmove",v,ud),document.removeEventListener("touchstart",S,ud)}},[]);var D=e.removeScrollBar,B=e.inert;return z.createElement(z.Fragment,null,B?z.createElement(h,{styles:cZ(s)}):null,D?z.createElement(eZ,{gapMode:e.gapMode}):null)}function hZ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fZ=jG(H$,dZ);var RS=z.forwardRef(function(e,t){return z.createElement(k0,ko({},e,{ref:t,sideCar:fZ}))});RS.classNames=k0.classNames;var Y$=Er((e,t)=>{const{as:r,children:n,className:s,...h}=e,{Component:d,isOpen:c,placement:v,backdrop:w,motionProps:S,titleProps:T,disableAnimation:C,shouldBlockScroll:D,getPopoverProps:B,getDialogProps:V,getBackdropProps:Y,getContentProps:U,isNonModal:F,onClose:O}=U$(),ee=V(h);delete ee.role;const ie=r||d||"div",fe=$.jsxs($.Fragment,{children:[!F&&$.jsx(UE,{onDismiss:O}),$.jsx(ie,{...ee,children:$.jsx("div",{...U({className:s}),children:typeof n=="function"?n(T):n})}),$.jsx(UE,{onDismiss:O})]}),we=z.useMemo(()=>w==="transparent"?null:C?$.jsx("div",{...Y()}):$.jsx(sh,{features:lh,children:$.jsx(oh.div,{animate:"enter",exit:"exit",initial:"exit",variants:pA.fade,...Y()})}),[w,C,Y]),Z=z.useCallback(({children:xe})=>$.jsx(RS,{enabled:D&&c,removeScrollBar:!1,children:xe}),[D,c]),me=C?$.jsx(Z,{children:fe}):$.jsx(sh,{features:lh,children:$.jsx(oh.div,{animate:"enter",exit:"exit",initial:"initial",style:{...cG(v==="center"?"top":v)},variants:pA.scaleSpringOpacity,...S,children:$.jsx(Z,{children:fe})})});return $.jsxs("div",{...B(),children:[we,me]})});Y$.displayName="NextUI.PopoverContent";var pZ=Y$,X$=Er((e,t)=>{const{triggerRef:r,getTriggerProps:n}=U$(),{children:s,...h}=e,d=z.useMemo(()=>typeof s=="string"?$.jsx("p",{children:s}):z.Children.only(s),[s]),{onPress:c,isDisabled:v,...w}=z.useMemo(()=>n(Ut(h,d.props),d.ref),[n,d.props,h,d.ref]),[,S]=Q5(s,Ts),{buttonProps:T}=vm({onPress:c,isDisabled:v},r),C=z.useMemo(()=>(S==null?void 0:S[0])!==void 0,[S]);return z.cloneElement(d,Ut(w,C?{onPress:c,isDisabled:v}:T))});X$.displayName="NextUI.PopoverTrigger";var mZ=X$,J$=Er((e,t)=>{const{children:r,...n}=e,s=MG({...n,ref:t}),[h,d]=z.Children.toArray(r),c=$.jsx(UD,{portalContainer:s.portalContainer,children:d});return $.jsxs(DG,{value:s,children:[h,s.disableAnimation&&s.isOpen?c:$.jsx(DS,{children:s.isOpen?c:null})]})});J$.displayName="NextUI.Popover";var gZ=J$,[yZ,Q$]=Vl({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function vZ(e){const{isSelected:t,disableAnimation:r,...n}=e;return $.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...n,children:$.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:r?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var eR=new WeakMap;function xZ(e,t,r){let{shouldFocusWrap:n=!0,onKeyDown:s,onKeyUp:h,...d}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let c=mh(e,{labelable:!0}),{listProps:v}=$9({...d,ref:r,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return eR.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:Ut(c,{onKeyDown:s,onKeyUp:h},{role:"menu",...v,onKeyDown:w=>{w.key!=="Escape"&&v.onKeyDown(w)}})}}function _Z(e,t,r){var n,s,h;let{key:d,closeOnSelect:c,isVirtualized:v,"aria-haspopup":w,onPressStart:S,onPressUp:T,onPress:C,onPressChange:D,onPressEnd:B,onHoverStart:V,onHoverChange:Y,onHoverEnd:U,onKeyDown:F,onKeyUp:O,onFocus:ee,onFocusChange:ie,onBlur:fe,onClick:we}=e,Z=!!w,me=(n=e.isDisabled)!=null?n:t.disabledKeys.has(d),xe=(s=e.isSelected)!=null?s:t.selectionManager.isSelected(d),se=eR.get(t),Te=e.onClose||se.onClose,ge=Z?()=>{}:e.onAction||se.onAction,ve=_0(),Be=qt=>{ge&&ge(d),qt.target instanceof HTMLAnchorElement&&ve.open(qt.target,qt)},Le="menuitem";Z||(t.selectionManager.selectionMode==="single"?Le="menuitemradio":t.selectionManager.selectionMode==="multiple"&&(Le="menuitemcheckbox"));let ae=bp(),De=bp(),Ve=bp(),Oe={"aria-disabled":me||void 0,role:Le,"aria-label":e["aria-label"],"aria-labelledby":ae,"aria-describedby":[De,Ve].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":w,"aria-expanded":e["aria-expanded"]};t.selectionManager.selectionMode!=="none"&&!Z&&(Oe["aria-checked"]=xe);let he=t.collection.getItem(d);v&&(Oe["aria-posinset"]=he==null?void 0:he.index,Oe["aria-setsize"]=eG(t.collection));let ze=qt=>{qt.pointerType==="keyboard"&&Be(qt),S==null||S(qt)},Je=qt=>{qt.pointerType!=="keyboard"&&(setTimeout(()=>{Be(qt)}),!Z&&Te&&(c??(t.selectionManager.selectionMode!=="multiple"||t.selectionManager.isLink(d)))&&setTimeout(()=>{Te==null||Te()})),T==null||T(qt)},{itemProps:ft,isFocused:mt}=M9({selectionManager:t.selectionManager,key:d,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:gt,isPressed:Et}=yh({onPressStart:ze,onPress:C,onPressUp:Je,onPressChange:D,onPressEnd:B,isDisabled:me}),{isHovered:Pt,hoverProps:At}=ru({isDisabled:me,onHoverStart(qt){Y2()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(d)),V==null||V(qt)},onHoverChange:Y,onHoverEnd:U}),{keyboardProps:zt}=DD({onKeyDown:qt=>{if(qt.repeat){qt.continuePropagation();return}switch(qt.key){case" ":!me&&t.selectionManager.selectionMode==="none"&&!Z&&c!==!1&&Te&&Te();break;case"Enter":!me&&c!==!1&&!Z&&Te&&Te();break;default:Z||qt.continuePropagation(),F==null||F(qt);break}},onKeyUp:O}),{focusProps:Nt}=Z2({onBlur:fe,onFocus:ee,onFocusChange:ie}),ar=mh(he.props,{isLink:!!((h=he==null?void 0:he.props)!=null&&h.href)});return delete ar.id,{menuItemProps:{...Oe,...Ut(ar,Z?{onFocus:ft.onFocus}:ft,gt,At,zt,Nt),onClick:Ss(we,gt.onClick),tabIndex:ft.tabIndex!=null?-1:void 0},labelProps:{id:ae},descriptionProps:{id:De},keyboardShortcutProps:{id:Ve},isHovered:Pt,isFocused:mt,isSelected:xe,isPressed:Et,isDisabled:me}}var bZ=700;function wZ(){return f0()||typeof window>"u"?!1:window.screen.width<=bZ}function SZ(e){const[t,r]=As(e,JE.variantKeys),{as:n,item:s,state:h,shortcut:d,description:c,startContent:v,endContent:w,isVirtualized:S,selectedIcon:T,className:C,classNames:D,onAction:B,autoFocus:V,onClick:Y,onPress:U,onPressStart:F,onPressUp:O,onPressEnd:ee,onPressChange:ie,hideSelectedIcon:fe=!1,isReadOnly:we=!1,closeOnSelect:Z,onClose:me,...xe}=t,se=e.disableAnimation,Te=z.useRef(null),ge=n||(xe!=null&&xe.href?"a":"li"),ve=typeof ge=="string",{rendered:Be,key:Le}=s,ae=h.disabledKeys.has(Le)||e.isDisabled,De=h.selectionManager.selectionMode!=="none",Ve=wZ(),{isFocusVisible:Oe,focusProps:he}=ks({autoFocus:V}),{isHovered:ze,isPressed:Je,isFocused:ft,isSelected:mt,menuItemProps:gt,labelProps:Et,descriptionProps:Pt,keyboardShortcutProps:At}=_Z({key:Le,onClose:me,isDisabled:ae,onPress:U,onClick:Y,onPressStart:F,onPressUp:O,onPressEnd:ee,onPressChange:ie,"aria-label":t["aria-label"],closeOnSelect:Z,isVirtualized:S,onAction:B},h,Te);let zt=gt;const Nt=z.useMemo(()=>JE({...r,isDisabled:ae,disableAnimation:se}),[Es(r),ae,se]),ar=ur(D==null?void 0:D.base,C);we&&(zt=IO(zt));const qt=(kr={})=>({ref:Te,...Ut(we?{}:he,Ro(xe,{enabled:ve}),zt,kr),"data-focus":vt(ft),"data-selectable":vt(De),"data-hover":vt(Ve?ze||Je:ze),"data-disabled":vt(ae),"data-selected":vt(mt),"data-pressed":vt(Je),"data-focus-visible":vt(Oe),className:Nt.base({class:ur(ar,kr.className)})}),Yt=(kr={})=>({...Ut(Et,kr),className:Nt.title({class:D==null?void 0:D.title})}),Un=(kr={})=>({...Ut(Pt,kr),className:Nt.description({class:D==null?void 0:D.description})}),je=(kr={})=>({...Ut(At,kr),className:Nt.shortcut({class:D==null?void 0:D.shortcut})}),ri=z.useCallback((kr={})=>({"aria-hidden":vt(!0),"data-disabled":vt(ae),className:Nt.selectedIcon({class:D==null?void 0:D.selectedIcon}),...kr}),[ae,Nt,D]);return{Component:ge,domRef:Te,slots:Nt,classNames:D,isSelectable:De,isSelected:mt,isDisabled:ae,rendered:Be,shortcut:d,description:c,startContent:v,endContent:w,selectedIcon:T,disableAnimation:se,getItemProps:qt,getLabelProps:Yt,hideSelectedIcon:fe,getDescriptionProps:Un,getKeyboardShortcutProps:je,getSelectedIconProps:ri}}var tR=Er((e,t)=>{const{Component:r,slots:n,classNames:s,rendered:h,shortcut:d,description:c,isSelectable:v,isSelected:w,isDisabled:S,selectedIcon:T,startContent:C,endContent:D,disableAnimation:B,hideSelectedIcon:V,getItemProps:Y,getLabelProps:U,getDescriptionProps:F,getKeyboardShortcutProps:O,getSelectedIconProps:ee}=SZ(e),ie=z.useMemo(()=>{const fe=$.jsx(vZ,{disableAnimation:B,isSelected:w});return typeof T=="function"?T({icon:fe,isSelected:w,isDisabled:S}):T||fe},[T,w,S,B]);return $.jsxs(r,{...Y(),children:[C,c?$.jsxs("div",{className:n.wrapper({class:s==null?void 0:s.wrapper}),children:[$.jsx("span",{...U(),children:h}),$.jsx("span",{...F(),children:c})]}):$.jsx("span",{...U(),children:h}),d&&$.jsx("kbd",{...O(),children:d}),v&&!V&&$.jsx("span",{...ee(),children:ie}),D]})});tR.displayName="NextUI.MenuItem";var rR=tR,nR={};nR={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var iR={};iR={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var aR={};aR={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var oR={};oR={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var sR={};sR={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var lR={};lR={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var cR={};cR={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var uR={};uR={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var dR={};dR={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var hR={};hR={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var fR={};fR={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var pR={};pR={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var mR={};mR={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var gR={};gR={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var yR={};yR={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var vR={};vR={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var xR={};xR={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var _R={};_R={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var bR={};bR={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var wR={};wR={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var SR={};SR={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var PR={};PR={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var TR={};TR={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var CR={};CR={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var ER={};ER={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var kR={};kR={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var AR={};AR={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var IR={};IR={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var MR={};MR={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var DR={};DR={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var $R={};$R={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var RR={};RR={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var LR={};LR={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var zR={};zR={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};function PZ(e){return e&&e.__esModule?e.default:e}var FR={};FR={"ar-AE":nR,"bg-BG":iR,"cs-CZ":aR,"da-DK":oR,"de-DE":sR,"el-GR":lR,"en-US":cR,"es-ES":uR,"et-EE":dR,"fi-FI":hR,"fr-FR":fR,"he-IL":pR,"hr-HR":mR,"hu-HU":gR,"it-IT":yR,"ja-JP":vR,"ko-KR":xR,"lt-LT":_R,"lv-LV":bR,"nb-NO":wR,"nl-NL":SR,"pl-PL":PR,"pt-BR":TR,"pt-PT":CR,"ro-RO":ER,"ru-RU":kR,"sk-SK":AR,"sl-SI":IR,"sr-SP":MR,"sv-SE":DR,"tr-TR":$R,"uk-UA":RR,"zh-CN":LR,"zh-TW":zR};function TZ(e,t,r){let{type:n="menu",isDisabled:s,trigger:h="press"}=e,d=fm(),{triggerProps:c,overlayProps:v}=OD({type:n},t,r),w=D=>{if(!s&&!(h==="longPress"&&!D.altKey)&&r&&r.current)switch(D.key){case"Enter":case" ":if(h==="longPress")return;case"ArrowDown":"continuePropagation"in D||D.stopPropagation(),D.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in D||D.stopPropagation(),D.preventDefault(),t.toggle("last");break;default:"continuePropagation"in D&&D.continuePropagation()}},S=gh(PZ(FR),"@react-aria/menu"),{longPressProps:T}=$D({isDisabled:s||h!=="longPress",accessibilityDescription:S.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),C={onPressStart(D){D.pointerType!=="touch"&&D.pointerType!=="keyboard"&&!s&&t.toggle(D.pointerType==="virtual"?"first":null)},onPress(D){D.pointerType==="touch"&&!s&&t.toggle()}};return delete c.onPress,{menuTriggerProps:{...c,...h==="press"?C:T,id:d,onKeyDown:w},menuProps:{...v,"aria-labelledby":d,autoFocus:t.focusStrategy||!0,onClose:t.close}}}function CZ(e){let{heading:t,"aria-label":r}=e,n=fm();return{itemProps:{role:"presentation"},headingProps:t?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":t?n:void 0}}}var BR=Er(({item:e,state:t,as:r,variant:n,color:s,disableAnimation:h,onAction:d,closeOnSelect:c,className:v,classNames:w,showDivider:S=!1,hideSelectedIcon:T,dividerProps:C={},itemClasses:D,title:B,...V},Y)=>{const U=r||"li",F=z.useMemo(()=>b9(),[]),O=ur(w==null?void 0:w.base,v),ee=ur(w==null?void 0:w.divider,C==null?void 0:C.className),{itemProps:ie,headingProps:fe,groupProps:we}=CZ({heading:e.rendered,"aria-label":e["aria-label"]});return $.jsxs(U,{"data-slot":"base",...Ut(ie,V),className:F.base({class:O}),children:[e.rendered&&$.jsx("span",{...fe,className:F.heading({class:w==null?void 0:w.heading}),"data-slot":"heading",children:e.rendered}),$.jsxs("ul",{...we,className:F.group({class:w==null?void 0:w.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(Z=>{const{key:me,props:xe}=Z;let se=$.jsx(rR,{classNames:D,closeOnSelect:c,color:s,disableAnimation:h,hideSelectedIcon:T,item:Z,state:t,variant:n,onAction:d,...xe},me);return Z.wrapper&&(se=Z.wrapper(se)),se}),S&&$.jsx(Ml,{as:"li",className:F.divider({class:ee}),...C})]})]})});BR.displayName="NextUI.MenuSection";var EZ=BR;function kZ(e){const{as:t,ref:r,variant:n,color:s,children:h,disableAnimation:d,onAction:c,closeOnSelect:v,itemClasses:w,className:S,state:T,topContent:C,bottomContent:D,hideEmptyContent:B=!1,hideSelectedIcon:V=!1,emptyContent:Y="No items.",menuProps:U,onClose:F,classNames:O,...ee}=e,ie=t||"ul",fe=bn(r),we=typeof ie=="string",Z=aG({...ee,children:h}),me=T||Z,{menuProps:xe}=xZ(ee,me,fe),se=z.useMemo(()=>_9({className:S}),[S]),Te=ur(O==null?void 0:O.base,S);return{Component:ie,state:me,variant:n,color:s,disableAnimation:d,onAction:c,onClose:F,topContent:C,bottomContent:D,closeOnSelect:v,className:S,itemClasses:w,getBaseProps:(Le={})=>({ref:fe,"data-slot":"base",className:se.base({class:Te}),...Ro(ee,{enabled:we}),...Le}),getListProps:(Le={})=>({"data-slot":"list",className:se.list({class:O==null?void 0:O.list}),...U,...xe,...Le}),hideEmptyContent:B,hideSelectedIcon:V,getEmptyContentProps:(Le={})=>({children:Y,className:se.emptyContent({class:O==null?void 0:O.emptyContent}),...Le})}}function NR(e,t){const{Component:r,state:n,closeOnSelect:s,color:h,disableAnimation:d,hideSelectedIcon:c,hideEmptyContent:v,variant:w,onClose:S,onAction:T,topContent:C,bottomContent:D,itemClasses:B,getBaseProps:V,getListProps:Y,getEmptyContentProps:U}=kZ({...e,ref:t}),F=$.jsxs(r,{...Y(),children:[!n.collection.size&&!v&&$.jsx("li",{children:$.jsx("div",{...U()})}),[...n.collection].map(O=>{const ee={closeOnSelect:s,color:h,disableAnimation:d,item:O,state:n,variant:w,onClose:S,onAction:T,hideSelectedIcon:c,...O.props};if(O.type==="section")return $.jsx(EZ,{...ee,itemClasses:B},O.key);let ie=$.jsx(rR,{...ee,classNames:B},O.key);return O.wrapper&&(ie=O.wrapper(ie)),ie})]});return $.jsxs("div",{...V(),children:[C,F,D]})}var AZ=Er(NR);NR.displayName="NextUI.Menu";var IZ=ZW,kA=IZ;function OR(e,t){const{getMenuProps:r}=Q$();return $.jsx(pZ,{children:$.jsx(LD,{contain:!0,restoreFocus:!0,children:$.jsx(AZ,{...r(e,t)})})})}var MZ=Er(OR);OR.displayName="NextUI.DropdownMenu";var jR=Er((e,t)=>{const{getMenuTriggerProps:r}=Q$(),{children:n,...s}=e;return $.jsx(mZ,{...r(s),children:n})});jR.displayName="NextUI.DropdownTrigger";var DZ=jR;function $Z(e){let t=V$(e),[r,n]=z.useState(null),[s,h]=z.useState([]),d=()=>{h([]),t.close()};return{focusStrategy:r,...t,open(w=null){n(w),t.open()},toggle(w=null){n(w),t.toggle()},close(){d()},UNSTABLE_expandedKeysStack:s,UNSTABLE_openSubmenu:(w,S)=>{h(T=>S>T.length?T:[...T.slice(0,S),w])},UNSTABLE_closeSubmenu:(w,S)=>{h(T=>T[S]===w?T.slice(0,S):T)}}}function RZ(e){const{as:t,triggerRef:r,isOpen:n,defaultOpen:s,onOpenChange:h,isDisabled:d,type:c="menu",trigger:v="press",placement:w="bottom",closeOnSelect:S=!0,shouldBlockScroll:T=!0,classNames:C,disableAnimation:D=!1,onClose:B,className:V,...Y}=e,U=t||"div",F=z.useRef(null),O=r||F,ee=z.useRef(null),ie=z.useRef(null),fe=$Z({trigger:v,isOpen:n,defaultOpen:s,onOpenChange:ve=>{h==null||h(ve),ve||B==null||B()}}),{menuTriggerProps:we,menuProps:Z}=TZ({type:c,trigger:v,isDisabled:d},fe,O),me=z.useMemo(()=>S9({className:V}),[V]),xe=ve=>{ve!==void 0&&!ve||S&&fe.close()},se=(ve={})=>({state:fe,placement:w,ref:ie,disableAnimation:D,shouldBlockScroll:T,scrollRef:ee,triggerRef:O,...Ut(Y,ve),classNames:{...C,...ve.classNames,content:ur(me,C==null?void 0:C.content,ve.className)}}),Te=(ve={},Be=null)=>{const{onKeyDown:Le,onPress:ae,onPressStart:De,...Ve}=we;return{...Ut(Ve,{isDisabled:d},ve),ref:tE(Be,F)}},ge=(ve,Be=null)=>({ref:tE(Be,ee),menuProps:Z,closeOnSelect:S,...Ut(ve,{onAction:()=>xe(ve==null?void 0:ve.closeOnSelect),onClose:fe.close})});return{Component:U,menuRef:ee,menuProps:Z,classNames:me,closeOnSelect:S,onClose:fe.close,autoFocus:fe.focusStrategy||!0,disableAnimation:D,getPopoverProps:se,getMenuProps:ge,getMenuTriggerProps:Te}}var VR=e=>{const{children:t,...r}=e,n=RZ(r),[s,h]=Qt.Children.toArray(t);return $.jsx(yZ,{value:n,children:$.jsxs(gZ,{...n.getPopoverProps(),children:[s,h]})})};VR.displayName="NextUI.Dropdown";var LZ=VR;function zZ(e){const[t,r]=As(e,tk.variantKeys),{ref:n,as:s,src:h,className:d,classNames:c,loading:v,isBlurred:w,fallbackSrc:S,isLoading:T,disableSkeleton:C=!!S,removeWrapper:D=!1,onError:B,onLoad:V,srcSet:Y,sizes:U,crossOrigin:F,...O}=t,ee=I$({src:h,loading:v,onError:B,onLoad:V,ignoreFallback:!1,srcSet:Y,sizes:U,crossOrigin:F}),ie=ee==="loaded"&&!T,fe=ee==="loading"||T,we=e.isZoomed,Z=s||"img",me=bn(n),{w:xe}=z.useMemo(()=>({w:t.width?typeof t.width=="number"?`${t.width}px`:t.width:"fit-content"}),[t==null?void 0:t.width]),se=(!h||!ie)&&!!S,Te=fe&&!C,ge=z.useMemo(()=>tk({...r,showSkeleton:Te}),[Es(r),Te]),ve=ur(d,c==null?void 0:c.img),Be=(De={})=>{const Ve=ur(ve,De==null?void 0:De.className);return{src:h,ref:me,"data-loaded":vt(ie),className:ge.img({class:Ve}),loading:v,srcSet:Y,sizes:U,crossOrigin:F,...O}},Le=z.useCallback(()=>{const De=se?{backgroundImage:`url(${S})`}:{};return{className:ge.wrapper({class:c==null?void 0:c.wrapper}),style:{...De,maxWidth:xe}}},[ge,se,S,c==null?void 0:c.wrapper]),ae=z.useCallback(()=>({src:h,"aria-hidden":vt(!0),className:ge.blurredImg({class:c==null?void 0:c.blurredImg})}),[ge,h,c==null?void 0:c.blurredImg]);return{Component:Z,domRef:me,slots:ge,classNames:c,isBlurred:w,disableSkeleton:C,fallbackSrc:S,removeWrapper:D,isZoomed:we,isLoading:fe,getImgProps:Be,getWrapperProps:Le,getBlurredImgProps:ae}}var UR=Er((e,t)=>{const{Component:r,domRef:n,slots:s,classNames:h,isBlurred:d,isZoomed:c,fallbackSrc:v,removeWrapper:w,disableSkeleton:S,getImgProps:T,getWrapperProps:C,getBlurredImgProps:D}=zZ({...e,ref:t}),B=$.jsx(r,{ref:n,...T()});if(w)return B;const V=$.jsx("div",{className:s.zoomedWrapper({class:h==null?void 0:h.zoomedWrapper}),children:B});return d?$.jsxs("div",{...C(),children:[c?V:B,z.cloneElement(B,D())]}):c||!S||v?$.jsxs("div",{...C(),children:[" ",c?V:B]}):B});UR.displayName="NextUI.Image";var ch=UR,[FZ,_h]=Vl({name:"NavbarContext",strict:!0,errorMessage:"useNavbarContext: `context` is undefined. Seems you forgot to wrap component within <Navbar />"}),BZ={enter:{height:"calc(100vh - var(--navbar-height) - 1px)",transition:{duration:.3,easings:"easeOut"}},exit:{height:0,transition:{duration:.25,easings:"easeIn"}}},KR=Er((e,t)=>{var r,n;const{className:s,children:h,portalContainer:d,motionProps:c,style:v,...w}=e,S=bn(t),{slots:T,isMenuOpen:C,height:D,disableAnimation:B,classNames:V}=_h(),Y=ur(V==null?void 0:V.menu,s),U=z.useCallback(({children:O})=>$.jsx(RS,{forwardProps:!0,enabled:C,removeScrollBar:!1,children:O}),[C]),F=B?$.jsx(U,{children:$.jsx("ul",{ref:S,className:(r=T.menu)==null?void 0:r.call(T,{class:Y}),"data-open":vt(C),style:{"--navbar-height":D},...w,children:h})}):$.jsx(DS,{mode:"wait",children:C?$.jsx(sh,{features:lh,children:$.jsx(U,{children:$.jsx(oh.ul,{ref:S,layoutScroll:!0,animate:"enter",className:(n=T.menu)==null?void 0:n.call(T,{class:Y}),"data-open":vt(C),exit:"exit",initial:"exit",style:{"--navbar-height":D,...v},variants:BZ,...Ut(c,w),children:h})})}):null});return $.jsx(UD,{portalContainer:d,children:F})});KR.displayName="NextUI.NavbarMenu";var HR=KR,NZ={visible:{y:0,transition:{ease:fl.easeOut}},hidden:{y:"-100%",transition:{ease:fl.easeIn}}},OZ=typeof window<"u";function AA(e){return OZ?e?{x:e.scrollLeft,y:e.scrollTop}:{x:window.scrollX,y:window.scrollY}:{x:0,y:0}}var jZ=e=>{const{elementRef:t,delay:r=30,callback:n,isEnabled:s}=e,h=z.useRef(s?AA(t==null?void 0:t.current):{x:0,y:0});let d=null;const c=()=>{const v=AA(t==null?void 0:t.current);typeof n=="function"&&n({prevPos:h.current,currPos:v}),h.current=v,d=null};return z.useEffect(()=>{if(!s)return;const v=()=>{r?d===null&&(d=setTimeout(c,r)):c()},w=(t==null?void 0:t.current)||window;return w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)},[t==null?void 0:t.current,r,s]),h.current};function VZ(e){var t;const[r,n]=As(e,QE.variantKeys),{ref:s,as:h,parentRef:d,height:c="4rem",shouldHideOnScroll:v=!1,disableScrollHandler:w=!1,onScrollPositionChange:S,isMenuOpen:T,isMenuDefaultOpen:C,onMenuOpenChange:D=()=>{},motionProps:B,className:V,classNames:Y,...U}=r,F=h||"nav",O=bn(s),ee=z.useRef(0),ie=z.useRef(0),[fe,we]=z.useState(!1),Z=z.useCallback(Le=>{D(Le||!1)},[D]),[me,xe]=ws(T,C??!1,Z),se=()=>{if(O.current){const Le=O.current.offsetWidth;Le!==ee.current&&(ee.current=Le)}};L3({ref:O,onResize:()=>{var Le;((Le=O.current)==null?void 0:Le.offsetWidth)!==ee.current&&(se(),xe(!1))}}),z.useEffect(()=>{var Le;se(),ie.current=((Le=O.current)==null?void 0:Le.offsetHeight)||0},[]);const Te=z.useMemo(()=>QE({...n,hideOnScroll:v}),[Es(n),v]),ge=ur(Y==null?void 0:Y.base,V);jZ({elementRef:d,isEnabled:v||!w,callback:({prevPos:Le,currPos:ae})=>{S==null||S(ae.y),v&&we(De=>{const Ve=ae.y>Le.y&&ae.y>ie.current;return Ve!==De?Ve:De})}});const ve=(Le={})=>({...Ut(U,Le),"data-hidden":vt(fe),"data-menu-open":vt(me),ref:O,className:Te.base({class:ur(ge,Le==null?void 0:Le.className)}),style:{"--navbar-height":c,...U==null?void 0:U.style,...Le==null?void 0:Le.style}}),Be=(Le={})=>({...Le,"data-menu-open":vt(me),className:Te.wrapper({class:ur(Y==null?void 0:Y.wrapper,Le==null?void 0:Le.className)})});return{Component:F,slots:Te,domRef:O,height:c,isHidden:fe,disableAnimation:(t=e.disableAnimation)!=null?t:!1,shouldHideOnScroll:v,isMenuOpen:me,classNames:Y,setIsMenuOpen:xe,motionProps:B,getBaseProps:ve,getWrapperProps:Be}}var WR=Er((e,t)=>{const{children:r,...n}=e,s=VZ({...n,ref:t}),h=s.Component,[d,c]=Q5(r,HR),v=$.jsxs($.Fragment,{children:[$.jsx("header",{...s.getWrapperProps(),children:d}),c]});return $.jsx(FZ,{value:s,children:s.shouldHideOnScroll?$.jsx(sh,{features:lh,children:$.jsx(oh.nav,{animate:s.isHidden?"hidden":"visible",initial:!1,variants:NZ,...Ut(s.getBaseProps(),s.motionProps),children:v})}):$.jsx(h,{...s.getBaseProps(),children:v})})});WR.displayName="NextUI.Navbar";var UZ=WR,GR=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=bn(t),{slots:w,classNames:S}=_h(),T=ur(S==null?void 0:S.brand,s);return $.jsx(c,{ref:v,className:(r=w.brand)==null?void 0:r.call(w,{class:T}),...d,children:h})});GR.displayName="NextUI.NavbarBrand";var KZ=GR,ZR=Er((e,t)=>{var r;const{as:n,className:s,children:h,justify:d="start",...c}=e,v=n||"ul",w=bn(t),{slots:S,classNames:T}=_h(),C=ur(T==null?void 0:T.content,s);return $.jsx(v,{ref:w,className:(r=S.content)==null?void 0:r.call(S,{class:C}),"data-justify":d,...c,children:h})});ZR.displayName="NextUI.NavbarContent";var c_=ZR,qR=Er((e,t)=>{var r;const{as:n,className:s,children:h,isActive:d,...c}=e,v=n||"li",w=bn(t),{slots:S,classNames:T}=_h(),C=ur(T==null?void 0:T.item,s);return $.jsx(v,{ref:w,className:(r=S.item)==null?void 0:r.call(S,{class:C}),"data-active":vt(d),...c,children:h})});qR.displayName="NextUI.NavbarItem";var nl=qR,YR=Er((e,t)=>{var r;const{className:n,children:s,isActive:h,...d}=e,c=bn(t),{slots:v,isMenuOpen:w,classNames:S}=_h(),T=ur(S==null?void 0:S.menuItem,n);return $.jsx("li",{ref:c,className:(r=v.menuItem)==null?void 0:r.call(v,{class:T}),"data-active":vt(h),"data-open":vt(w),...d,children:s})});YR.displayName="NextUI.NavbarMenuItem";var HZ=YR;function WZ(e,t,r){const{isSelected:n}=t,{isPressed:s,buttonProps:h}=vm({...e,onPress:Ss(t.toggle,e.onPress)},r);return{isPressed:s,buttonProps:Ut(h,{"aria-pressed":n})}}var XR=Er((e,t)=>{var r;const{as:n,icon:s,className:h,onChange:d,autoFocus:c,srOnlyText:v,...w}=e,S=n||"button",T=bn(t),{slots:C,classNames:D,isMenuOpen:B,setIsMenuOpen:V}=_h(),U=wG({...w,isSelected:B,onChange:se=>{d==null||d(se),V(se)}}),{buttonProps:F,isPressed:O}=WZ(e,U,T),{isFocusVisible:ee,focusProps:ie}=ks({autoFocus:c}),{isHovered:fe,hoverProps:we}=ru({}),Z=ur(D==null?void 0:D.toggle,h),me=z.useMemo(()=>typeof s=="function"?s(B??!1):s||$.jsx("span",{className:C.toggleIcon({class:D==null?void 0:D.toggleIcon})}),[s,B,C.toggleIcon,D==null?void 0:D.toggleIcon]),xe=z.useMemo(()=>v||(U.isSelected?"close navigation menu":"open navigation menu"),[v,B]);return $.jsxs(S,{ref:T,className:(r=C.toggle)==null?void 0:r.call(C,{class:Z}),"data-focus-visible":vt(ee),"data-hover":vt(fe),"data-open":vt(B),"data-pressed":vt(O),...Ut(F,ie,we,w),children:[$.jsx("span",{className:C.srOnly(),children:xe}),me]})});XR.displayName="NextUI.NavbarMenuToggle";var GZ=XR;const JR=7e3;let u_=null;function IA(e,t="assertive",r=JR){u_||(u_=new ZZ),u_.announce(e,t,r)}class ZZ{createLog(t){let r=document.createElement("div");return r.setAttribute("role","log"),r.setAttribute("aria-live",t),r.setAttribute("aria-relevant","additions"),r}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(t,r="assertive",n=JR){if(!this.node)return;let s=document.createElement("div");s.textContent=t,r==="assertive"?this.assertiveLog.appendChild(s):this.politeLog.appendChild(s),t!==""&&setTimeout(()=>{s.remove()},n)}clear(t){this.node&&((!t||t==="assertive")&&(this.assertiveLog.innerHTML=""),(!t||t==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function qZ(e){const[t,r]=As(e,YE.variantKeys),{as:n,children:s,isLoaded:h=!1,className:d,classNames:c,...v}=t,w=n||"div",S=z.useMemo(()=>YE({...r}),[Es(r),s]),T=ur(c==null?void 0:c.base,d);return{Component:w,children:s,slots:S,classNames:c,getSkeletonProps:(B={})=>({"data-loaded":vt(h),className:S.base({class:ur(T,B==null?void 0:B.className)}),...v}),getContentProps:(B={})=>({className:S.content({class:ur(c==null?void 0:c.content,B==null?void 0:B.className)})})}}var QR=Er((e,t)=>{const{Component:r,children:n,getSkeletonProps:s,getContentProps:h}=qZ({...e});return $.jsx(r,{ref:t,...s(),children:$.jsx("div",{...h(),children:n})})});QR.displayName="NextUI.Skeleton";var eL=QR;function tL(e){var t,r,n,s,h,d;const[c,v]=As(e,nk.variantKeys),w=HO(),{ref:S,as:T,children:C,className:D,topContent:B,bottomContent:V,showHelper:Y=!0,calendarWidth:U=256,visibleMonths:F=1,weekdayStyle:O="narrow",navButtonProps:ee={},isHeaderExpanded:ie,isHeaderDefaultExpanded:fe,onHeaderExpandedChange:we=()=>{},minValue:Z=(r=(t=w==null?void 0:w.defaultDates)==null?void 0:t.minDate)!=null?r:new Lr(1900,1,1),maxValue:me=(s=(n=w==null?void 0:w.defaultDates)==null?void 0:n.maxDate)!=null?s:new Lr(2099,12,31),createCalendar:xe=(h=w==null?void 0:w.createCalendar)!=null?h:null,prevButtonProps:se,nextButtonProps:Te,errorMessage:ge,classNames:ve,...Be}=c,Le=T||"div",ae=q5(F,1,3),De=e.showMonthAndYearPickers&&ae===1&&!(e!=null&&e.isRange),Ve=bn(S),Oe=z.useCallback(Yt=>{we(Yt||!1)},[we]),[he,ze]=ws(ie,fe??!1,Oe),Je=z.useMemo(()=>({months:ae}),[ae]),ft=ae>1,mt=typeof Le=="string",{locale:gt}=co(),Et=z.useMemo(()=>nk({...v,showMonthAndYearPickers:De,isRange:!!e.isRange,isHeaderWrapperExpanded:he,className:D}),[Es(v),De,he,D]),At={size:"sm",variant:"light",radius:"full",isIconOnly:!0,disableAnimation:(d=e.disableAnimation)!=null?d:!1,...ee},zt={"data-slot":"base","data-has-multiple-months":vt(ft),style:{"--visible-months":ae,"--calendar-width":U}};return{Component:Le,children:C,domRef:Ve,slots:Et,locale:gt,minValue:Z,maxValue:me,baseProps:zt,showHelper:Y,weekdayStyle:O,visibleMonths:ae,visibleDuration:Je,shouldFilterDOMProps:mt,isHeaderExpanded:he,showMonthAndYearPickers:De,createCalendar:xe,getPrevButtonProps:(Yt={})=>({"data-slot":"prev-button",tabIndex:he?-1:0,className:Et.prevButton({class:ve==null?void 0:ve.prevButton}),...Ut(At,se,Yt)}),getNextButtonProps:(Yt={})=>({"data-slot":"next-button",tabIndex:he?-1:0,className:Et.nextButton({class:ve==null?void 0:ve.nextButton}),...Ut(At,Te,Yt)}),getErrorMessageProps:(Yt={})=>({"data-slot":"error-message",className:Et.errorMessage({class:ve==null?void 0:ve.errorMessage}),...Yt}),setIsHeaderExpanded:ze,topContent:B,bottomContent:V,errorMessage:ge,classNames:ve,otherProps:Be}}function A0(e){return e&&e.__esModule?e.default:e}var xm={},rL={};rL={dateRange:e=>`${e.startDate} إلى ${e.endDate}`,dateSelected:e=>`${e.date} المحدد`,finishRangeSelectionPrompt:"انقر لإنهاء عملية تحديد نطاق التاريخ",maximumDate:"آخر تاريخ متاح",minimumDate:"أول تاريخ متاح",next:"التالي",previous:"السابق",selectedDateDescription:e=>`تاريخ محدد: ${e.date}`,selectedRangeDescription:e=>`المدى الزمني المحدد: ${e.dateRange}`,startRangeSelectionPrompt:"انقر لبدء عملية تحديد نطاق التاريخ",todayDate:e=>`اليوم، ${e.date}`,todayDateSelected:e=>`اليوم، ${e.date} محدد`};var nL={};nL={dateRange:e=>`${e.startDate} до ${e.endDate}`,dateSelected:e=>`Избрано е ${e.date}`,finishRangeSelectionPrompt:"Натиснете, за да довършите избора на времеви интервал",maximumDate:"Последна налична дата",minimumDate:"Първа налична дата",next:"Напред",previous:"Назад",selectedDateDescription:e=>`Избрана дата: ${e.date}`,selectedRangeDescription:e=>`Избран диапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Натиснете, за да пристъпите към избора на времеви интервал",todayDate:e=>`Днес, ${e.date}`,todayDateSelected:e=>`Днес, ${e.date} са избрани`};var iL={};iL={dateRange:e=>`${e.startDate} až ${e.endDate}`,dateSelected:e=>`Vybráno ${e.date}`,finishRangeSelectionPrompt:"Kliknutím dokončíte výběr rozsahu dat",maximumDate:"Poslední dostupné datum",minimumDate:"První dostupné datum",next:"Další",previous:"Předchozí",selectedDateDescription:e=>`Vybrané datum: ${e.date}`,selectedRangeDescription:e=>`Vybrané období: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutím zahájíte výběr rozsahu dat",todayDate:e=>`Dnes, ${e.date}`,todayDateSelected:e=>`Dnes, vybráno ${e.date}`};var aL={};aL={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klik for at fuldføre valg af datoområde",maximumDate:"Sidste ledige dato",minimumDate:"Første ledige dato",next:"Næste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt interval: ${e.dateRange}`,startRangeSelectionPrompt:"Klik for at starte valg af datoområde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var oL={};oL={dateRange:e=>`${e.startDate} bis ${e.endDate}`,dateSelected:e=>`${e.date} ausgewählt`,finishRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beenden",maximumDate:"Letztes verfügbares Datum",minimumDate:"Erstes verfügbares Datum",next:"Weiter",previous:"Zurück",selectedDateDescription:e=>`Ausgewähltes Datum: ${e.date}`,selectedRangeDescription:e=>`Ausgewählter Bereich: ${e.dateRange}`,startRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beginnen",todayDate:e=>`Heute, ${e.date}`,todayDateSelected:e=>`Heute, ${e.date} ausgewählt`};var sL={};sL={dateRange:e=>`${e.startDate} έως ${e.endDate}`,dateSelected:e=>`Επιλέχθηκε ${e.date}`,finishRangeSelectionPrompt:"Κάντε κλικ για να ολοκληρώσετε την επιλογή εύρους ημερομηνιών",maximumDate:"Τελευταία διαθέσιμη ημερομηνία",minimumDate:"Πρώτη διαθέσιμη ημερομηνία",next:"Επόμενο",previous:"Προηγούμενο",selectedDateDescription:e=>`Επιλεγμένη ημερομηνία: ${e.date}`,selectedRangeDescription:e=>`Επιλεγμένο εύρος: ${e.dateRange}`,startRangeSelectionPrompt:"Κάντε κλικ για να ξεκινήσετε την επιλογή εύρους ημερομηνιών",todayDate:e=>`Σήμερα, ${e.date}`,todayDateSelected:e=>`Σήμερα, επιλέχτηκε ${e.date}`};var lL={};lL={previous:"Previous",next:"Next",selectedDateDescription:e=>`Selected Date: ${e.date}`,selectedRangeDescription:e=>`Selected Range: ${e.dateRange}`,todayDate:e=>`Today, ${e.date}`,todayDateSelected:e=>`Today, ${e.date} selected`,dateSelected:e=>`${e.date} selected`,startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",minimumDate:"First available date",maximumDate:"Last available date",dateRange:e=>`${e.startDate} to ${e.endDate}`};var cL={};cL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} seleccionado`,finishRangeSelectionPrompt:"Haga clic para terminar de seleccionar rango de fechas",maximumDate:"Última fecha disponible",minimumDate:"Primera fecha disponible",next:"Siguiente",previous:"Anterior",selectedDateDescription:e=>`Fecha seleccionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo seleccionado: ${e.dateRange}`,startRangeSelectionPrompt:"Haga clic para comenzar a seleccionar un rango de fechas",todayDate:e=>`Hoy, ${e.date}`,todayDateSelected:e=>`Hoy, ${e.date} seleccionado`};var uL={};uL={dateRange:e=>`${e.startDate} kuni ${e.endDate}`,dateSelected:e=>`${e.date} valitud`,finishRangeSelectionPrompt:"Klõpsake kuupäevavahemiku valimise lõpetamiseks",maximumDate:"Viimane saadaolev kuupäev",minimumDate:"Esimene saadaolev kuupäev",next:"Järgmine",previous:"Eelmine",selectedDateDescription:e=>`Valitud kuupäev: ${e.date}`,selectedRangeDescription:e=>`Valitud vahemik: ${e.dateRange}`,startRangeSelectionPrompt:"Klõpsake kuupäevavahemiku valimiseks",todayDate:e=>`Täna, ${e.date}`,todayDateSelected:e=>`Täna, ${e.date} valitud`};var dL={};dL={dateRange:e=>`${e.startDate} – ${e.endDate}`,dateSelected:e=>`${e.date} valittu`,finishRangeSelectionPrompt:"Lopeta päivämääräalueen valinta napsauttamalla tätä.",maximumDate:"Viimeinen varattavissa oleva päivämäärä",minimumDate:"Ensimmäinen varattavissa oleva päivämäärä",next:"Seuraava",previous:"Edellinen",selectedDateDescription:e=>`Valittu päivämäärä: ${e.date}`,selectedRangeDescription:e=>`Valittu aikaväli: ${e.dateRange}`,startRangeSelectionPrompt:"Aloita päivämääräalueen valinta napsauttamalla tätä.",todayDate:e=>`Tänään, ${e.date}`,todayDateSelected:e=>`Tänään, ${e.date} valittu`};var hL={};hL={dateRange:e=>`${e.startDate} à ${e.endDate}`,dateSelected:e=>`${e.date} sélectionné`,finishRangeSelectionPrompt:"Cliquer pour finir de sélectionner la plage de dates",maximumDate:"Dernière date disponible",minimumDate:"Première date disponible",next:"Suivant",previous:"Précédent",selectedDateDescription:e=>`Date sélectionnée : ${e.date}`,selectedRangeDescription:e=>`Plage sélectionnée : ${e.dateRange}`,startRangeSelectionPrompt:"Cliquer pour commencer à sélectionner la plage de dates",todayDate:e=>`Aujourd'hui, ${e.date}`,todayDateSelected:e=>`Aujourd’hui, ${e.date} sélectionné`};var fL={};fL={dateRange:e=>`${e.startDate} עד ${e.endDate}`,dateSelected:e=>`${e.date} נבחר`,finishRangeSelectionPrompt:"חץ כדי לסיים את בחירת טווח התאריכים",maximumDate:"תאריך פנוי אחרון",minimumDate:"תאריך פנוי ראשון",next:"הבא",previous:"הקודם",selectedDateDescription:e=>`תאריך נבחר: ${e.date}`,selectedRangeDescription:e=>`טווח נבחר: ${e.dateRange}`,startRangeSelectionPrompt:"לחץ כדי להתחיל בבחירת טווח התאריכים",todayDate:e=>`היום, ${e.date}`,todayDateSelected:e=>`היום, ${e.date} נבחר`};var pL={};pL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} odabran`,finishRangeSelectionPrompt:"Kliknite da dovršite raspon odabranih datuma",maximumDate:"Posljednji raspoloživi datum",minimumDate:"Prvi raspoloživi datum",next:"Sljedeći",previous:"Prethodni",selectedDateDescription:e=>`Odabrani datum: ${e.date}`,selectedRangeDescription:e=>`Odabrani raspon: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da započnete raspon odabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, odabran ${e.date}`};var mL={};mL={dateRange:e=>`${e.startDate}–${e.endDate}`,dateSelected:e=>`${e.date} kiválasztva`,finishRangeSelectionPrompt:"Kattintson a dátumtartomány kijelölésének befejezéséhez",maximumDate:"Utolsó elérhető dátum",minimumDate:"Az első elérhető dátum",next:"Következő",previous:"Előző",selectedDateDescription:e=>`Kijelölt dátum: ${e.date}`,selectedRangeDescription:e=>`Kijelölt tartomány: ${e.dateRange}`,startRangeSelectionPrompt:"Kattintson a dátumtartomány kijelölésének indításához",todayDate:e=>`Ma, ${e.date}`,todayDateSelected:e=>`Ma, ${e.date} kijelölve`};var gL={};gL={dateRange:e=>`Da ${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selezionata`,finishRangeSelectionPrompt:"Fai clic per completare la selezione dell’intervallo di date",maximumDate:"Ultima data disponibile",minimumDate:"Prima data disponibile",next:"Successivo",previous:"Precedente",selectedDateDescription:e=>`Data selezionata: ${e.date}`,selectedRangeDescription:e=>`Intervallo selezionato: ${e.dateRange}`,startRangeSelectionPrompt:"Fai clic per selezionare l’intervallo di date",todayDate:e=>`Oggi, ${e.date}`,todayDateSelected:e=>`Oggi, ${e.date} selezionata`};var yL={};yL={dateRange:e=>`${e.startDate} から ${e.endDate}`,dateSelected:e=>`${e.date} を選択`,finishRangeSelectionPrompt:"クリックして日付範囲の選択を終了",maximumDate:"最終利用可能日",minimumDate:"最初の利用可能日",next:"次へ",previous:"前へ",selectedDateDescription:e=>`選択した日付 : ${e.date}`,selectedRangeDescription:e=>`選択範囲 : ${e.dateRange}`,startRangeSelectionPrompt:"クリックして日付範囲の選択を開始",todayDate:e=>`本日、${e.date}`,todayDateSelected:e=>`本日、${e.date} を選択`};var vL={};vL={dateRange:e=>`${e.startDate} ~ ${e.endDate}`,dateSelected:e=>`${e.date} 선택됨`,finishRangeSelectionPrompt:"날짜 범위 선택을 완료하려면 클릭하십시오.",maximumDate:"마지막으로 사용 가능한 일자",minimumDate:"처음으로 사용 가능한 일자",next:"다음",previous:"이전",selectedDateDescription:e=>`선택 일자: ${e.date}`,selectedRangeDescription:e=>`선택 범위: ${e.dateRange}`,startRangeSelectionPrompt:"날짜 범위 선택을 시작하려면 클릭하십시오.",todayDate:e=>`오늘, ${e.date}`,todayDateSelected:e=>`오늘, ${e.date} 선택됨`};var xL={};xL={dateRange:e=>`Nuo ${e.startDate} iki ${e.endDate}`,dateSelected:e=>`Pasirinkta ${e.date}`,finishRangeSelectionPrompt:"Spustelėkite, kad baigtumėte pasirinkti datų intervalą",maximumDate:"Paskutinė galima data",minimumDate:"Pirmoji galima data",next:"Paskesnis",previous:"Ankstesnis",selectedDateDescription:e=>`Pasirinkta data: ${e.date}`,selectedRangeDescription:e=>`Pasirinktas intervalas: ${e.dateRange}`,startRangeSelectionPrompt:"Spustelėkite, kad pradėtumėte pasirinkti datų intervalą",todayDate:e=>`Šiandien, ${e.date}`,todayDateSelected:e=>`Šiandien, pasirinkta ${e.date}`};var _L={};_L={dateRange:e=>`No ${e.startDate} līdz ${e.endDate}`,dateSelected:e=>`Atlasīts: ${e.date}`,finishRangeSelectionPrompt:"Noklikšķiniet, lai pabeigtu datumu diapazona atlasi",maximumDate:"Pēdējais pieejamais datums",minimumDate:"Pirmais pieejamais datums",next:"Tālāk",previous:"Atpakaļ",selectedDateDescription:e=>`Atlasītais datums: ${e.date}`,selectedRangeDescription:e=>`Atlasītais diapazons: ${e.dateRange}`,startRangeSelectionPrompt:"Noklikšķiniet, lai sāktu datumu diapazona atlasi",todayDate:e=>`Šodien, ${e.date}`,todayDateSelected:e=>`Atlasīta šodiena, ${e.date}`};var bL={};bL={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klikk for å fullføre valg av datoområde",maximumDate:"Siste tilgjengelige dato",minimumDate:"Første tilgjengelige dato",next:"Neste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt område: ${e.dateRange}`,startRangeSelectionPrompt:"Klikk for å starte valg av datoområde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var wL={};wL={dateRange:e=>`${e.startDate} tot ${e.endDate}`,dateSelected:e=>`${e.date} geselecteerd`,finishRangeSelectionPrompt:"Klik om de selectie van het datumbereik te voltooien",maximumDate:"Laatste beschikbare datum",minimumDate:"Eerste beschikbare datum",next:"Volgende",previous:"Vorige",selectedDateDescription:e=>`Geselecteerde datum: ${e.date}`,selectedRangeDescription:e=>`Geselecteerd bereik: ${e.dateRange}`,startRangeSelectionPrompt:"Klik om het datumbereik te selecteren",todayDate:e=>`Vandaag, ${e.date}`,todayDateSelected:e=>`Vandaag, ${e.date} geselecteerd`};var SL={};SL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`Wybrano ${e.date}`,finishRangeSelectionPrompt:"Kliknij, aby zakończyć wybór zakresu dat",maximumDate:"Ostatnia dostępna data",minimumDate:"Pierwsza dostępna data",next:"Dalej",previous:"Wstecz",selectedDateDescription:e=>`Wybrana data: ${e.date}`,selectedRangeDescription:e=>`Wybrany zakres: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknij, aby rozpocząć wybór zakresu dat",todayDate:e=>`Dzisiaj, ${e.date}`,todayDateSelected:e=>`Dzisiaj wybrano ${e.date}`};var PL={};PL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para concluir a seleção do intervalo de datas",maximumDate:"Última data disponível",minimumDate:"Primeira data disponível",next:"Próximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para iniciar a seleção do intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var TL={};TL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para terminar de selecionar o intervalo de datas",maximumDate:"Última data disponível",minimumDate:"Primeira data disponível",next:"Próximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para começar a selecionar o intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var CL={};CL={dateRange:e=>`De la ${e.startDate} până la ${e.endDate}`,dateSelected:e=>`${e.date} selectată`,finishRangeSelectionPrompt:"Apăsaţi pentru a finaliza selecţia razei pentru dată",maximumDate:"Ultima dată disponibilă",minimumDate:"Prima dată disponibilă",next:"Următorul",previous:"Înainte",selectedDateDescription:e=>`Dată selectată: ${e.date}`,selectedRangeDescription:e=>`Interval selectat: ${e.dateRange}`,startRangeSelectionPrompt:"Apăsaţi pentru a începe selecţia razei pentru dată",todayDate:e=>`Astăzi, ${e.date}`,todayDateSelected:e=>`Azi, ${e.date} selectată`};var EL={};EL={dateRange:e=>`С ${e.startDate} по ${e.endDate}`,dateSelected:e=>`Выбрано ${e.date}`,finishRangeSelectionPrompt:"Щелкните, чтобы завершить выбор диапазона дат",maximumDate:"Последняя доступная дата",minimumDate:"Первая доступная дата",next:"Далее",previous:"Назад",selectedDateDescription:e=>`Выбранная дата: ${e.date}`,selectedRangeDescription:e=>`Выбранный диапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Щелкните, чтобы начать выбор диапазона дат",todayDate:e=>`Сегодня, ${e.date}`,todayDateSelected:e=>`Сегодня, выбрано ${e.date}`};var kL={};kL={dateRange:e=>`Od ${e.startDate} do ${e.endDate}`,dateSelected:e=>`Vybratý dátum ${e.date}`,finishRangeSelectionPrompt:"Kliknutím dokončíte výber rozsahu dátumov",maximumDate:"Posledný dostupný dátum",minimumDate:"Prvý dostupný dátum",next:"Nasledujúce",previous:"Predchádzajúce",selectedDateDescription:e=>`Vybratý dátum: ${e.date}`,selectedRangeDescription:e=>`Vybratý rozsah: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutím spustíte výber rozsahu dátumov",todayDate:e=>`Dnes ${e.date}`,todayDateSelected:e=>`Vybratý dnešný dátum ${e.date}`};var AL={};AL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izbrano`,finishRangeSelectionPrompt:"Kliknite za dokončanje izbire datumskega obsega",maximumDate:"Zadnji razpoložljivi datum",minimumDate:"Prvi razpoložljivi datum",next:"Naprej",previous:"Nazaj",selectedDateDescription:e=>`Izbrani datum: ${e.date}`,selectedRangeDescription:e=>`Izbrano območje: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite za začetek izbire datumskega obsega",todayDate:e=>`Danes, ${e.date}`,todayDateSelected:e=>`Danes, ${e.date} izbrano`};var IL={};IL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izabran`,finishRangeSelectionPrompt:"Kliknite da dovršite opseg izabranih datuma",maximumDate:"Zadnji raspoloživi datum",minimumDate:"Prvi raspoloživi datum",next:"Sledeći",previous:"Prethodni",selectedDateDescription:e=>`Izabrani datum: ${e.date}`,selectedRangeDescription:e=>`Izabrani period: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da započnete opseg izabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, izabran ${e.date}`};var ML={};ML={dateRange:e=>`${e.startDate} till ${e.endDate}`,dateSelected:e=>`${e.date} har valts`,finishRangeSelectionPrompt:"Klicka för att avsluta val av datumintervall",maximumDate:"Sista tillgängliga datum",minimumDate:"Första tillgängliga datum",next:"Nästa",previous:"Föregående",selectedDateDescription:e=>`Valt datum: ${e.date}`,selectedRangeDescription:e=>`Valt intervall: ${e.dateRange}`,startRangeSelectionPrompt:"Klicka för att välja datumintervall",todayDate:e=>`Idag, ${e.date}`,todayDateSelected:e=>`Idag, ${e.date} har valts`};var DL={};DL={dateRange:e=>`${e.startDate} - ${e.endDate}`,dateSelected:e=>`${e.date} seçildi`,finishRangeSelectionPrompt:"Tarih aralığı seçimini tamamlamak için tıklayın",maximumDate:"Son müsait tarih",minimumDate:"İlk müsait tarih",next:"Sonraki",previous:"Önceki",selectedDateDescription:e=>`Seçilen Tarih: ${e.date}`,selectedRangeDescription:e=>`Seçilen Aralık: ${e.dateRange}`,startRangeSelectionPrompt:"Tarih aralığı seçimini başlatmak için tıklayın",todayDate:e=>`Bugün, ${e.date}`,todayDateSelected:e=>`Bugün, ${e.date} seçildi`};var $L={};$L={dateRange:e=>`${e.startDate} — ${e.endDate}`,dateSelected:e=>`Вибрано ${e.date}`,finishRangeSelectionPrompt:"Натисніть, щоб завершити вибір діапазону дат",maximumDate:"Остання доступна дата",minimumDate:"Перша доступна дата",next:"Наступний",previous:"Попередній",selectedDateDescription:e=>`Вибрана дата: ${e.date}`,selectedRangeDescription:e=>`Вибраний діапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Натисніть, щоб почати вибір діапазону дат",todayDate:e=>`Сьогодні, ${e.date}`,todayDateSelected:e=>`Сьогодні, вибрано ${e.date}`};var RL={};RL={dateRange:e=>`${e.startDate} 至 ${e.endDate}`,dateSelected:e=>`已选择 ${e.date}`,finishRangeSelectionPrompt:"单击以完成选择日期范围",maximumDate:"最后一个可用日期",minimumDate:"第一个可用日期",next:"下一页",previous:"上一页",selectedDateDescription:e=>`选定的日期：${e.date}`,selectedRangeDescription:e=>`选定的范围：${e.dateRange}`,startRangeSelectionPrompt:"单击以开始选择日期范围",todayDate:e=>`今天，即 ${e.date}`,todayDateSelected:e=>`已选择今天，即 ${e.date}`};var LL={};LL={dateRange:e=>`${e.startDate} 至 ${e.endDate}`,dateSelected:e=>`已選取 ${e.date}`,finishRangeSelectionPrompt:"按一下以完成選取日期範圍",maximumDate:"最後一個可用日期",minimumDate:"第一個可用日期",next:"下一頁",previous:"上一頁",selectedDateDescription:e=>`選定的日期：${e.date}`,selectedRangeDescription:e=>`選定的範圍：${e.dateRange}`,startRangeSelectionPrompt:"按一下以開始選取日期範圍",todayDate:e=>`今天，${e.date}`,todayDateSelected:e=>`已選取今天，${e.date}`};xm={"ar-AE":rL,"bg-BG":nL,"cs-CZ":iL,"da-DK":aL,"de-DE":oL,"el-GR":sL,"en-US":lL,"es-ES":cL,"et-EE":uL,"fi-FI":dL,"fr-FR":hL,"he-IL":fL,"hr-HR":pL,"hu-HU":mL,"it-IT":gL,"ja-JP":yL,"ko-KR":vL,"lt-LT":xL,"lv-LV":_L,"nb-NO":bL,"nl-NL":wL,"pl-PL":SL,"pt-BR":PL,"pt-PT":TL,"ro-RO":CL,"ru-RU":EL,"sk-SK":kL,"sl-SI":AL,"sr-SP":IL,"sv-SE":ML,"tr-TR":DL,"uk-UA":$L,"zh-CN":RL,"zh-TW":LL};const LS=new WeakMap;function Qp(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function YZ(e){let t=gh(A0(xm)),r,n;"highlightedRange"in e?{start:r,end:n}=e.highlightedRange||{}:r=n=e.value;let s=Ps({weekday:"long",month:"long",year:"numeric",day:"numeric",era:Qp(r)||Qp(n),timeZone:e.timeZone}),h="anchorDate"in e?e.anchorDate:null;return z.useMemo(()=>{if(!h&&r&&n)if(xn(r,n)){let d=s.format(r.toDate(e.timeZone));return t.format("selectedDateDescription",{date:d})}else{let d=hw(s,t,r,n,e.timeZone);return t.format("selectedRangeDescription",{dateRange:d})}return""},[r,n,h,e.timeZone,t,s])}function dw(e,t,r,n){let s=gh(A0(xm)),h=Qp(e)||Qp(t),d=Ps({month:"long",year:"numeric",era:h,calendar:e.calendar.identifier,timeZone:r}),c=Ps({month:"long",year:"numeric",day:"numeric",era:h,calendar:e.calendar.identifier,timeZone:r});return z.useMemo(()=>{if(xn(e,qc(e))){if(xn(t,mv(e)))return d.format(e.toDate(r));if(xn(t,mv(t)))return n?hw(d,s,e,t,r):d.formatRange(e.toDate(r),t.toDate(r))}return n?hw(c,s,e,t,r):c.formatRange(e.toDate(r),t.toDate(r))},[e,t,d,c,s,r,n])}function hw(e,t,r,n,s){let h=e.formatRangeToParts(r.toDate(s),n.toDate(s)),d=-1;for(let w=0;w<h.length;w++){let S=h[w];if(S.source==="shared"&&S.type==="literal")d=w;else if(S.source==="endRange")break}let c="",v="";for(let w=0;w<h.length;w++)w<d?c+=h[w].value:w>d&&(v+=h[w].value);return t.format("dateRange",{startDate:c,endDate:v})}function zL(e,t){let r=gh(A0(xm)),n=mh(e),s=dw(t.visibleRange.start,t.visibleRange.end,t.timeZone,!1),h=dw(t.visibleRange.start,t.visibleRange.end,t.timeZone,!0);PE(()=>{t.isFocused||IA(h)},[h]);let d=YZ(t);PE(()=>{d&&IA(d,"polite",4e3)},[d]);let c=bp([!!e.errorMessage,e.isInvalid,e.validationState]);LS.set(t,{ariaLabel:e["aria-label"],ariaLabelledBy:e["aria-labelledby"],errorMessageId:c,selectedDateDescription:d});let[v,w]=z.useState(!1),S=e.isDisabled||t.isNextVisibleRangeInvalid();S&&v&&(w(!1),t.setFocused(!0));let[T,C]=z.useState(!1),D=e.isDisabled||t.isPreviousVisibleRangeInvalid();D&&T&&(C(!1),t.setFocused(!0));let B=H2({id:e.id,"aria-label":[e["aria-label"],h].filter(Boolean).join(", "),"aria-labelledby":e["aria-labelledby"]});return{calendarProps:Ut(n,B,{role:"application","aria-describedby":e["aria-describedby"]||void 0}),nextButtonProps:{onPress:()=>t.focusNextPage(),"aria-label":r.format("next"),isDisabled:S,onFocusChange:w},prevButtonProps:{onPress:()=>t.focusPreviousPage(),"aria-label":r.format("previous"),isDisabled:D,onFocusChange:C},errorMessageProps:{id:c},title:s}}function XZ(e,t){return zL(e,t)}function JZ(e,t,r){let n=zL(e,t),s=z.useRef(!1),h=z.useRef(typeof window<"u"?window:null);ap(h,"pointerdown",c=>{s.current=c.width===0&&c.height===0});let d=c=>{if(s.current){s.current=!1;return}if(t.setDragging(!1),!t.anchorDate)return;let v=c.target,w=document.getElementById(n.calendarProps.id);w&&w.contains(document.activeElement)&&(!w.contains(v)||!v.closest('button, [role="button"]'))&&t.selectFocusedDate()};return ap(h,"pointerup",d),ap(h,"pointercancel",d),n.calendarProps.onBlur=c=>{(!c.relatedTarget||!r.current.contains(c.relatedTarget))&&t.anchorDate&&t.selectFocusedDate()},ap(r,"touchmove",c=>{t.isDragging&&c.preventDefault()},{passive:!1,capture:!0}),n}function QZ(e,t){let{startDate:r=t.visibleRange.start,endDate:n=t.visibleRange.end}=e,{direction:s}=co(),h=D=>{switch(D.key){case"Enter":case" ":D.preventDefault(),t.selectFocusedDate();break;case"PageUp":D.preventDefault(),D.stopPropagation(),t.focusPreviousSection(D.shiftKey);break;case"PageDown":D.preventDefault(),D.stopPropagation(),t.focusNextSection(D.shiftKey);break;case"End":D.preventDefault(),D.stopPropagation(),t.focusSectionEnd();break;case"Home":D.preventDefault(),D.stopPropagation(),t.focusSectionStart();break;case"ArrowLeft":D.preventDefault(),D.stopPropagation(),s==="rtl"?t.focusNextDay():t.focusPreviousDay();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),t.focusPreviousRow();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),s==="rtl"?t.focusPreviousDay():t.focusNextDay();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),t.focusNextRow();break;case"Escape":"setAnchorDate"in t&&(D.preventDefault(),t.setAnchorDate(null));break}},d=dw(r,n,t.timeZone,!0),{ariaLabel:c,ariaLabelledBy:v}=LS.get(t),w=H2({"aria-label":[c,d].filter(Boolean).join(", "),"aria-labelledby":v}),S=Ps({weekday:e.weekdayStyle||"narrow",timeZone:t.timeZone}),{locale:T}=co(),C=z.useMemo(()=>{let D=Wp(R2(t.timeZone),T);return[...new Array(7).keys()].map(B=>{let Y=D.add({days:B}).toDate(t.timeZone);return S.format(Y)})},[T,t.timeZone,S]);return{gridProps:Ut(w,{role:"grid","aria-readonly":t.isReadOnly||null,"aria-disabled":t.isDisabled||null,"aria-multiselectable":"highlightedRange"in t||void 0,onKeyDown:h,onFocus:()=>t.setFocused(!0),onBlur:()=>t.setFocused(!1)}),headerProps:{"aria-hidden":!0},weekDays:C}}function eq(e,t,r){let{date:n,isDisabled:s}=e,{errorMessageId:h,selectedDateDescription:d}=LS.get(t),c=gh(A0(xm)),v=Ps({weekday:"long",day:"numeric",month:"long",year:"numeric",era:Qp(n),timeZone:t.timeZone}),w=t.isSelected(n),S=t.isCellFocused(n);s=s||t.isCellDisabled(n);let T=t.isCellUnavailable(n),C=!s&&!T,D=t.isValueInvalid&&("highlightedRange"in t?!t.anchorDate&&t.highlightedRange&&n.compare(t.highlightedRange.start)>=0&&n.compare(t.highlightedRange.end)<=0:t.value&&xn(t.value,n));D&&(w=!0),n=N3(n,_b);let B=z.useMemo(()=>n.toDate(t.timeZone),[n,t.timeZone]),V=r3(n,t.timeZone),Y=z.useMemo(()=>{let se="";return"highlightedRange"in t&&t.value&&!t.anchorDate&&(xn(n,t.value.start)||xn(n,t.value.end))&&(se=d+", "),se+=v.format(B),V?se=c.format(w?"todayDateSelected":"todayDate",{date:se}):w&&(se=c.format("dateSelected",{date:se})),t.minValue&&xn(n,t.minValue)?se+=", "+c.format("minimumDate"):t.maxValue&&xn(n,t.maxValue)&&(se+=", "+c.format("maximumDate")),se},[v,B,c,w,V,n,t,d]),U="";"anchorDate"in t&&S&&!t.isReadOnly&&C&&(t.anchorDate?U=c.format("finishRangeSelectionPrompt"):U=c.format("startRangeSelectionPrompt"));let F=F3(U),O=z.useRef(!1),ee=z.useRef(!1),ie=z.useRef(null),{pressProps:fe,isPressed:we}=yh({shouldCancelOnPointerExit:"anchorDate"in t&&!!t.anchorDate,preventFocusOnPress:!0,isDisabled:!C||t.isReadOnly,onPressStart(se){if(t.isReadOnly){t.setFocusedDate(n);return}if("highlightedRange"in t&&!t.anchorDate&&(se.pointerType==="mouse"||se.pointerType==="touch")){if(t.highlightedRange&&!D){if(xn(n,t.highlightedRange.start)){t.setAnchorDate(t.highlightedRange.end),t.setFocusedDate(n),t.setDragging(!0),ee.current=!0;return}else if(xn(n,t.highlightedRange.end)){t.setAnchorDate(t.highlightedRange.start),t.setFocusedDate(n),t.setDragging(!0),ee.current=!0;return}}let Te=()=>{t.setDragging(!0),ie.current=null,t.selectDate(n),t.setFocusedDate(n),O.current=!0};se.pointerType==="touch"?ie.current=setTimeout(Te,200):Te()}},onPressEnd(){ee.current=!1,O.current=!1,clearTimeout(ie.current),ie.current=null},onPress(){!("anchorDate"in t)&&!t.isReadOnly&&(t.selectDate(n),t.setFocusedDate(n))},onPressUp(se){if(!t.isReadOnly&&("anchorDate"in t&&ie.current&&(t.selectDate(n),t.setFocusedDate(n)),"anchorDate"in t))if(ee.current)t.setAnchorDate(n);else if(t.anchorDate&&!O.current)t.selectDate(n),t.setFocusedDate(n);else if(se.pointerType==="keyboard"&&!t.anchorDate){t.selectDate(n);let Te=n.add({days:1});t.isInvalid(Te)&&(Te=n.subtract({days:1})),t.isInvalid(Te)||t.setFocusedDate(Te)}else se.pointerType==="virtual"&&(t.selectDate(n),t.setFocusedDate(n))}}),Z=null;s||(Z=xn(n,t.focusedDate)?0:-1),z.useEffect(()=>{S&&r.current&&(Ao(r.current),Cv()!=="pointer"&&document.activeElement===r.current&&Ib(r.current,{containingElement:Ab(r.current)}))},[S,r]);let me=Ps({day:"numeric",timeZone:t.timeZone,calendar:n.calendar.identifier}),xe=z.useMemo(()=>me.formatToParts(B).find(se=>se.type==="day").value,[me,B]);return{cellProps:{role:"gridcell","aria-disabled":!C||null,"aria-selected":w||null,"aria-invalid":D||null},buttonProps:Ut(fe,{onFocus(){s||t.setFocusedDate(n)},tabIndex:Z,role:"button","aria-disabled":!C||null,"aria-label":Y,"aria-invalid":D||null,"aria-describedby":[D?h:null,F["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(se){"highlightDate"in t&&(se.pointerType!=="touch"||t.isDragging)&&C&&t.highlightDate(n)},onPointerDown(se){"releasePointerCapture"in se.target&&se.target.releasePointerCapture(se.pointerId)},onContextMenu(se){se.preventDefault()}}),isPressed:we,isFocused:S,isSelected:w,isDisabled:s,isUnavailable:T,isOutsideVisibleRange:n.compare(t.visibleRange.start)<0||n.compare(t.visibleRange.end)>0,isInvalid:D,formattedDate:xe}}function Kd(e,t,r){return t!=null&&e.compare(t)<0||r!=null&&e.compare(r)>0}function fw(e,t,r,n,s){let h={};for(let c in t)h[c]=Math.floor(t[c]/2),h[c]>0&&t[c]%2===0&&h[c]--;let d=Lc(e,t,r).subtract(h);return em(e,d,t,r,n,s)}function Lc(e,t,r,n,s){let h=e;return t.years?h=gv(e):t.months?h=qc(e):t.weeks&&(h=Wp(e,r)),em(e,h,t,r,n,s)}function pw(e,t,r,n,s){let h={...t};t.days?h.days--:t.weeks?h.weeks--:t.months?h.months--:t.years&&h.years--;let d=Lc(e,t,r).subtract(h);return em(e,d,t,r,n,s)}function em(e,t,r,n,s,h){return s&&e.compare(s)>=0&&(t=z2(t,Lc(so(s),r,n))),h&&e.compare(h)<=0&&(t=L2(t,pw(so(h),r,n))),t}function sl(e,t,r){return t&&(e=z2(e,so(t))),r&&(e=L2(e,so(r))),e}function FL(e,t,r){if(!r)return e;for(;e.compare(t)>=0&&r(e);)e=e.subtract({days:1});if(e.compare(t)>=0)return e}function BL(e){let t=z.useMemo(()=>new P3(e.locale),[e.locale]),r=z.useMemo(()=>t.resolvedOptions(),[t]),{locale:n,createCalendar:s,visibleDuration:h={months:1},minValue:d,maxValue:c,selectionAlignment:v,isDateUnavailable:w,pageBehavior:S="visible"}=e,T=z.useMemo(()=>s(r.calendar),[s,r.calendar]),[C,D]=ws(e.value,e.defaultValue,e.onChange),B=z.useMemo(()=>C?Cn(so(C),T):null,[C,T]),V=z.useMemo(()=>C&&"timeZone"in C?C.timeZone:r.timeZone,[C,r.timeZone]),Y=z.useMemo(()=>e.focusedValue?sl(Cn(so(e.focusedValue),T),d,c):void 0,[e.focusedValue,T,d,c]),U=z.useMemo(()=>sl(e.defaultFocusedValue?Cn(so(e.defaultFocusedValue),T):B||Cn(R2(V),T),d,c),[e.defaultFocusedValue,B,V,T,d,c]),[F,O]=ws(Y,U,e.onFocusChange),[ee,ie]=z.useState(()=>{switch(v){case"start":return Lc(F,h,n,d,c);case"end":return pw(F,h,n,d,c);case"center":default:return fw(F,h,n,d,c)}}),[fe,we]=z.useState(e.autoFocus||!1),Z=z.useMemo(()=>{let ae={...h};return ae.days?ae.days--:ae.days=-1,ee.add(ae)},[ee,h]),[me,xe]=z.useState(T.identifier);if(T.identifier!==me){let ae=Cn(F,T);ie(fw(ae,h,n,d,c)),O(ae),xe(T.identifier)}Kd(F,d,c)?O(sl(F,d,c)):F.compare(ee)<0?ie(pw(F,h,n,d,c)):F.compare(Z)>0&&ie(Lc(F,h,n,d,c));function se(ae){ae=sl(ae,d,c),O(ae)}function Te(ae){if(!e.isDisabled&&!e.isReadOnly){if(ae=sl(ae,d,c),ae=FL(ae,ee,w),!ae)return;ae=Cn(ae,(C==null?void 0:C.calendar)||new ga),C&&"hour"in C?D(C.set(ae)):D(ae)}}let ge=z.useMemo(()=>B?w&&w(B)?!0:Kd(B,d,c):!1,[B,w,d,c]),ve=e.isInvalid||e.validationState==="invalid"||ge,Be=ve?"invalid":null,Le=z.useMemo(()=>S==="visible"?h:d_(h),[S,h]);return{isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,value:B,setValue:Te,visibleRange:{start:ee,end:Z},minValue:d,maxValue:c,focusedDate:F,timeZone:V,validationState:Be,isValueInvalid:ve,setFocusedDate(ae){se(ae),we(!0)},focusNextDay(){se(F.add({days:1}))},focusPreviousDay(){se(F.subtract({days:1}))},focusNextRow(){h.days?this.focusNextPage():(h.weeks||h.months||h.years)&&se(F.add({weeks:1}))},focusPreviousRow(){h.days?this.focusPreviousPage():(h.weeks||h.months||h.years)&&se(F.subtract({weeks:1}))},focusNextPage(){let ae=ee.add(Le);O(sl(F.add(Le),d,c)),ie(Lc(em(F,ae,Le,n,d,c),Le,n))},focusPreviousPage(){let ae=ee.subtract(Le);O(sl(F.subtract(Le),d,c)),ie(Lc(em(F,ae,Le,n,d,c),Le,n))},focusSectionStart(){h.days?se(ee):h.weeks?se(Wp(F,n)):(h.months||h.years)&&se(qc(F))},focusSectionEnd(){h.days?se(Z):h.weeks?se(dj(F,n)):(h.months||h.years)&&se(mv(F))},focusNextSection(ae){if(!ae&&!h.days){se(F.add(d_(h)));return}h.days?this.focusNextPage():h.weeks?se(F.add({months:1})):(h.months||h.years)&&se(F.add({years:1}))},focusPreviousSection(ae){if(!ae&&!h.days){se(F.subtract(d_(h)));return}h.days?this.focusPreviousPage():h.weeks?se(F.subtract({months:1})):(h.months||h.years)&&se(F.subtract({years:1}))},selectFocusedDate(){Te(F)},selectDate(ae){Te(ae)},isFocused:fe,setFocused:we,isInvalid(ae){return Kd(ae,d,c)},isSelected(ae){return B!=null&&xn(ae,B)&&!this.isCellDisabled(ae)&&!this.isCellUnavailable(ae)},isCellFocused(ae){return fe&&F&&xn(ae,F)},isCellDisabled(ae){return e.isDisabled||ae.compare(ee)<0||ae.compare(Z)>0||this.isInvalid(ae,d,c)},isCellUnavailable(ae){return e.isDateUnavailable&&e.isDateUnavailable(ae)},isPreviousVisibleRangeInvalid(){let ae=ee.subtract({days:1});return xn(ae,ee)||this.isInvalid(ae,d,c)},isNextVisibleRangeInvalid(){let ae=Z.add({days:1});return xn(ae,Z)||this.isInvalid(ae,d,c)},getDatesInWeek(ae,De=ee){let Ve=De.add({weeks:ae}),Oe=[];Ve=Wp(Ve,n);let he=y0(Ve,n);for(let ze=0;ze<he;ze++)Oe.push(null);for(;Oe.length<7;){Oe.push(Ve);let ze=Ve.add({days:1});if(xn(Ve,ze))break;Ve=ze}for(;Oe.length<7;)Oe.push(null);return Oe}}}function d_(e){let t={...e};for(let r in e)t[r]=1;return t}function tq(e){let{value:t,defaultValue:r,onChange:n,createCalendar:s,locale:h,visibleDuration:d={months:1},minValue:c,maxValue:v,...w}=e,[S,T]=ws(t,r||null,n),[C,D]=z.useState(null),B="center";if(S&&S.start&&S.end){let De=fw(so(S.start),d,h,c,v).add(d).subtract({days:1});S.end.compare(De)>0&&(B="start")}let V=z.useRef(null),[Y,U]=z.useState(null),F=z.useMemo(()=>z2(c,Y==null?void 0:Y.start),[c,Y]),O=z.useMemo(()=>L2(v,Y==null?void 0:Y.end),[v,Y]),ee=BL({...w,value:S&&S.start,createCalendar:s,locale:h,visibleDuration:d,minValue:F,maxValue:O,selectionAlignment:B}),ie=ae=>{ae&&e.isDateUnavailable&&!e.allowsNonContiguousRanges?(V.current={start:DA(ae,ee,-1),end:DA(ae,ee,1)},U(V.current)):(V.current=null,U(null))},[fe,we]=z.useState(ee.visibleRange);(!_b(ee.visibleRange.start,fe.start)||!_b(ee.visibleRange.end,fe.end))&&(ie(C),we(ee.visibleRange));let Z=ae=>{ae?(D(ae),ie(ae)):(D(null),ie(null))},me=C?h_(C,ee.focusedDate):S&&h_(S.start,S.end),xe=ae=>{if(!e.isReadOnly&&(ae=sl(ae,F,O),ae=FL(ae,ee.visibleRange.start,e.isDateUnavailable),!!ae))if(!C)Z(ae);else{let De=h_(C,ae);T({start:MA(De.start,S==null?void 0:S.start),end:MA(De.end,S==null?void 0:S.end)}),Z(null)}},[se,Te]=z.useState(!1),{isDateUnavailable:ge}=e,ve=z.useMemo(()=>!S||C?!1:ge&&(ge(S.start)||ge(S.end))?!0:Kd(S.start,c,v)||Kd(S.end,c,v),[ge,S,C,c,v]),Be=e.isInvalid||e.validationState==="invalid"||ve;return{...ee,value:S,setValue:T,anchorDate:C,setAnchorDate:Z,highlightedRange:me,validationState:Be?"invalid":null,isValueInvalid:Be,selectFocusedDate(){xe(ee.focusedDate)},selectDate:xe,highlightDate(ae){C&&ee.setFocusedDate(ae)},isSelected(ae){return me&&ae.compare(me.start)>=0&&ae.compare(me.end)<=0&&!ee.isCellDisabled(ae)&&!ee.isCellUnavailable(ae)},isInvalid(ae){var De,Ve;return ee.isInvalid(ae)||Kd(ae,(De=V.current)===null||De===void 0?void 0:De.start,(Ve=V.current)===null||Ve===void 0?void 0:Ve.end)},isDragging:se,setDragging:Te}}function h_(e,t){return!e||!t?null:(t.compare(e)<0&&([e,t]=[t,e]),{start:so(e),end:so(t)})}function MA(e,t){return e=Cn(e,(t==null?void 0:t.calendar)||new ga),t&&"hour"in t?t.set(e):e}function DA(e,t,r){let n=e.add({days:r});for(;(r<0?n.compare(t.visibleRange.start)>=0:n.compare(t.visibleRange.end)<=0)&&!t.isCellUnavailable(n);)n=n.add({days:r});return t.isCellUnavailable(n)?n.add({days:-r}):null}function rq({buttonPickerProps:e,className:t,...r}){var n;const{Component:s,slots:h,children:d,domRef:c,locale:v,minValue:w,maxValue:S,showHelper:T,weekdayStyle:C,visibleDuration:D,baseProps:B,shouldFilterDOMProps:V,isHeaderExpanded:Y,visibleMonths:U,createCalendar:F,showMonthAndYearPickers:O,getPrevButtonProps:ee,getNextButtonProps:ie,getErrorMessageProps:fe,setIsHeaderExpanded:we,topContent:Z,bottomContent:me,errorMessage:xe,classNames:se,otherProps:Te}=tL(r),ge=z.useRef(null),ve=BL({...r,locale:v,minValue:w,maxValue:S,visibleDuration:D,createCalendar:!F||typeof F!="function"?S3:F}),{title:Be,calendarProps:Le,prevButtonProps:ae,nextButtonProps:De,errorMessageProps:Ve}=XZ(r,ve),Oe=ur(se==null?void 0:se.base,t),he=(n=r.disableAnimation)!=null?n:!1,ze={...e,onPress:Ss(e==null?void 0:e.onPress,()=>we(!Y))},Je=(mt={})=>({...B,Component:s,showHelper:T,topContent:Z,bottomContent:me,buttonPickerProps:ze,calendarRef:c,calendarProps:Le,prevButtonProps:ee(ae),nextButtonProps:ie(De),errorMessageProps:fe(Ve),className:h.base({class:Oe}),errorMessage:xe,...Ro(Te,{enabled:V}),...mt}),ft=z.useMemo(()=>({state:ve,slots:h,headerRef:ge,weekdayStyle:C,isHeaderExpanded:Y,setIsHeaderExpanded:we,visibleMonths:U,classNames:se,showMonthAndYearPickers:O,disableAnimation:he}),[ve,h,se,C,Y,we,U,he,O]);return{Component:s,children:d,domRef:c,context:ft,state:ve,slots:h,title:Be,classNames:se,getBaseCalendarProps:Je}}var $A=e=>$.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 16 16",width:"1em",...e,children:$.jsx("path",{d:"M10 3.33334L6 8.00001L10 12.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),RA=e=>$.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 16 16",width:"1em",...e,children:$.jsx("path",{d:"M6 3.33334L10 8.00001L6 12.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),nq=e=>$.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:$.jsx("path",{d:"M19 9L12 15L5 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),zS=Object.defineProperty,iq=Object.getOwnPropertyDescriptor,NL=Object.getOwnPropertyNames,aq=Object.prototype.hasOwnProperty,OL=(e,t)=>function(){return e&&(t=(0,e[NL(e)[0]])(e=0)),t},oq=(e,t)=>{for(var r in t)zS(e,r,{get:t[r],enumerable:!0})},sq=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of NL(t))!aq.call(e,s)&&s!==r&&zS(e,s,{get:()=>t[s],enumerable:!(n=iq(t,s))||n.enumerable});return e},lq=e=>sq(zS({},"__esModule",{value:!0}),e);function cq(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var jL,uq=OL({"../../../node_modules/.pnpm/@emotion+memoize@0.7.4/node_modules/@emotion/memoize/dist/memoize.esm.js"(){jL=cq}}),VL={};oq(VL,{default:()=>UL});var LA,zA,UL,dq=OL({"../../../node_modules/.pnpm/@emotion+is-prop-valid@0.8.8/node_modules/@emotion/is-prop-valid/dist/is-prop-valid.esm.js"(){uq(),LA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,zA=jL(function(e){return LA.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),UL=zA}}),Ov=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),I0=z.createContext({}),FS=z.createContext(null),M0=typeof document<"u",BS=M0?z.useLayoutEffect:z.useEffect,NS=z.createContext({strict:!1}),OS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hq="framerAppearId",KL="data-"+OS(hq);function fq(e,t,r,n){const{visualElement:s}=z.useContext(I0),h=z.useContext(NS),d=z.useContext(FS),c=z.useContext(Ov).reducedMotion,v=z.useRef();n=n||h.renderer,!v.current&&n&&(v.current=n(e,{visualState:t,parent:s,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:c}));const w=v.current;z.useInsertionEffect(()=>{w&&w.update(r,d)});const S=z.useRef(!!(r[KL]&&!window.HandoffComplete));return BS(()=>{w&&(w.render(),S.current&&w.animationState&&w.animationState.animateChanges())}),z.useEffect(()=>{w&&(w.updateFeatures(),!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(S.current=!1,window.HandoffComplete=!0))}),w}function HL(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pq(e,t,r){return z.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):HL(r)&&(r.current=n))},[t])}function tm(e){return typeof e=="string"||Array.isArray(e)}function D0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}var jS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VS=["initial",...jS];function $0(e){return D0(e.animate)||VS.some(t=>tm(e[t]))}function WL(e){return!!($0(e)||e.variants)}function mq(e,t){if($0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||tm(r)?r:void 0,animate:tm(n)?n:void 0}}return e.inherit!==!1?t:{}}function gq(e){const{initial:t,animate:r}=mq(e,z.useContext(I0));return z.useMemo(()=>({initial:t,animate:r}),[FA(t),FA(r)])}function FA(e){return Array.isArray(e)?e.join(" "):e}var BA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rm={};for(const e in BA)rm[e]={isEnabled:t=>BA[e].some(r=>!!t[r])};function mw(e){for(const t in e)rm[t]={...rm[t],...e[t]}}var GL=z.createContext({}),yq=z.createContext({}),vq=Symbol.for("motionComponentSymbol");function xq({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&mw(e);function h(c,v){let w;const S={...z.useContext(Ov),...c,layoutId:_q(c)},{isStatic:T}=S,C=gq(c),D=n(c,T);if(!T&&M0){C.visualElement=fq(s,D,S,t);const B=z.useContext(yq),V=z.useContext(NS).strict;C.visualElement&&(w=C.visualElement.loadFeatures(S,V,e,B))}return z.createElement(I0.Provider,{value:C},w&&C.visualElement?z.createElement(w,{visualElement:C.visualElement,...S}):null,r(s,c,pq(D,C.visualElement,v),D,T,C.visualElement))}const d=z.forwardRef(h);return d[vq]=s,d}function _q({layoutId:e}){const t=z.useContext(GL).id;return t&&e!==void 0?t+"-"+e:e}function bq(e){function t(n,s={}){return xq(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}var wq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function US(e){return typeof e!="string"||e.includes("-")?!1:!!(wq.indexOf(e)>-1||/[A-Z]/.test(e))}var Sq={},_m=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],au=new Set(_m);function ZL(e,{layout:t,layoutId:r}){return au.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sq[e]||e==="opacity")}var va=e=>!!(e&&e.getVelocity),Pq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Tq=_m.length;function Cq(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let h="";for(let d=0;d<Tq;d++){const c=_m[d];if(e[c]!==void 0){const v=Pq[c]||c;h+=`${v}(${e[c]}) `}}return t&&!e.z&&(h+="translateZ(0)"),h=h.trim(),s?h=s(e,n?"":h):r&&n&&(h="none"),h}var qL=e=>t=>typeof t=="string"&&t.startsWith(e),YL=qL("--"),gw=qL("var(--"),Eq=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kq=(e,t)=>t&&typeof e=="number"?t.transform(e):e,uh=(e,t,r)=>Math.min(Math.max(r,e),t),ou={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ep={...ou,transform:e=>uh(0,1,e)},fy={...ou,default:1},kp=e=>Math.round(e*1e5)/1e5,R0=/(-)?([\d]*\.?[\d])+/g,XL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Aq=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bm(e){return typeof e=="string"}var wm=e=>({test:t=>bm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ll=wm("deg"),Hd=wm("%"),Vt=wm("px"),Iq=wm("vh"),Mq=wm("vw"),NA={...Hd,parse:e=>Hd.parse(e)/100,transform:e=>Hd.transform(e*100)},OA={...ou,transform:Math.round},JL={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,size:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,rotate:ll,rotateX:ll,rotateY:ll,rotateZ:ll,scale:fy,scaleX:fy,scaleY:fy,scaleZ:fy,skew:ll,skewX:ll,skewY:ll,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Ep,originX:NA,originY:NA,originZ:Vt,zIndex:OA,fillOpacity:Ep,strokeOpacity:Ep,numOctaves:OA};function KS(e,t,r,n){const{style:s,vars:h,transform:d,transformOrigin:c}=e;let v=!1,w=!1,S=!0;for(const T in t){const C=t[T];if(YL(T)){h[T]=C;continue}const D=JL[T],B=kq(C,D);if(au.has(T)){if(v=!0,d[T]=B,!S)continue;C!==(D.default||0)&&(S=!1)}else T.startsWith("origin")?(w=!0,c[T]=B):s[T]=B}if(t.transform||(v||n?s.transform=Cq(e.transform,r,S,n):s.transform&&(s.transform="none")),w){const{originX:T="50%",originY:C="50%",originZ:D=0}=c;s.transformOrigin=`${T} ${C} ${D}`}}var HS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QL(e,t,r){for(const n in t)!va(t[n])&&!ZL(n,r)&&(e[n]=t[n])}function Dq({transformTemplate:e},t,r){return z.useMemo(()=>{const n=HS();return KS(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function $q(e,t,r){const n=e.style||{},s={};return QL(s,n,e),Object.assign(s,Dq(e,t,r)),e.transformValues?e.transformValues(s):s}function Rq(e,t,r){const n={},s=$q(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}var Lq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lq.has(e)}var e6=e=>!jv(e);function t6(e){e&&(e6=t=>t.startsWith("on")?!jv(t):e(t))}try{t6((dq(),lq(VL)).default)}catch{}function zq(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(e6(s)||r===!0&&jv(s)||!t&&!jv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function jA(e,t,r){return typeof e=="string"?e:Vt.transform(t+r*e)}function Fq(e,t,r){const n=jA(t,e.x,e.width),s=jA(r,e.y,e.height);return`${n} ${s}`}var Bq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nq={offset:"strokeDashoffset",array:"strokeDasharray"};function Oq(e,t,r=1,n=0,s=!0){e.pathLength=1;const h=s?Bq:Nq;e[h.offset]=Vt.transform(-n);const d=Vt.transform(t),c=Vt.transform(r);e[h.array]=`${d} ${c}`}function WS(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:h,pathLength:d,pathSpacing:c=1,pathOffset:v=0,...w},S,T,C){if(KS(e,w,S,C),T){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:D,style:B,dimensions:V}=e;D.transform&&(V&&(B.transform=D.transform),delete D.transform),V&&(s!==void 0||h!==void 0||B.transform)&&(B.transformOrigin=Fq(V,s!==void 0?s:.5,h!==void 0?h:.5)),t!==void 0&&(D.x=t),r!==void 0&&(D.y=r),n!==void 0&&(D.scale=n),d!==void 0&&Oq(D,d,c,v,!1)}var r6=()=>({...HS(),attrs:{}}),GS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jq(e,t,r,n){const s=z.useMemo(()=>{const h=r6();return WS(h,t,{enableHardwareAcceleration:!1},GS(n),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};QL(h,e.style,e),s.style={...h,...s.style}}return s}function Vq(e=!1){return(r,n,s,{latestValues:h},d)=>{const v=(US(r)?jq:Rq)(n,h,d,r),S={...zq(n,typeof r=="string",e),...v,ref:s},{children:T}=n,C=z.useMemo(()=>va(T)?T.get():T,[T]);return z.createElement(r,{...S,children:C})}}function n6(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const h in r)e.style.setProperty(h,r[h])}var i6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a6(e,t,r,n){n6(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(i6.has(s)?s:OS(s),t.attrs[s])}function ZS(e,t){const{style:r}=e,n={};for(const s in r)(va(r[s])||t.style&&va(t.style[s])||ZL(s,e))&&(n[s]=r[s]);return n}function o6(e,t){const r=ZS(e,t);for(const n in e)if(va(e[n])||va(t[n])){const s=_m.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function qS(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function YS(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}var Vv=e=>Array.isArray(e),Uq=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kq=e=>Vv(e)?e[e.length-1]||0:e;function Hq(e){const t=va(e)?e.get():e;return Uq(t)?t.toValue():t}function Wq({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,h){const d={latestValues:Gq(n,s,h,e),renderState:t()};return r&&(d.mount=c=>r(n,c,d)),d}var s6=e=>(t,r)=>{const n=z.useContext(I0),s=z.useContext(FS),h=()=>Wq(e,t,n,s);return r?h():YS(h)};function Gq(e,t,r,n){const s={},h=n(e,{});for(const C in h)s[C]=Hq(h[C]);let{initial:d,animate:c}=e;const v=$0(e),w=WL(e);t&&w&&!v&&e.inherit!==!1&&(d===void 0&&(d=t.initial),c===void 0&&(c=t.animate));let S=r?r.initial===!1:!1;S=S||d===!1;const T=S?c:d;return T&&typeof T!="boolean"&&!D0(T)&&(Array.isArray(T)?T:[T]).forEach(D=>{const B=qS(e,D);if(!B)return;const{transitionEnd:V,transition:Y,...U}=B;for(const F in U){let O=U[F];if(Array.isArray(O)){const ee=S?O.length-1:0;O=O[ee]}O!==null&&(s[F]=O)}for(const F in V)s[F]=V[F]}),s}var $i=e=>e,VA=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function Zq(e){let t=new VA,r=new VA,n=0,s=!1,h=!1;const d=new WeakSet,c={schedule:(v,w=!1,S=!1)=>{const T=S&&s,C=T?t:r;return w&&d.add(v),C.add(v)&&T&&s&&(n=t.order.length),v},cancel:v=>{r.remove(v),d.delete(v)},process:v=>{if(s){h=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let w=0;w<n;w++){const S=t.order[w];S(v),d.has(S)&&(c.schedule(S),e())}s=!1,h&&(h=!1,c.process(v))}};return c}var py=["prepare","read","update","preRender","render","postRender"],qq=40;function Yq(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},h=py.reduce((T,C)=>(T[C]=Zq(()=>r=!0),T),{}),d=T=>h[T].process(s),c=()=>{const T=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(T-s.timestamp,qq),1),s.timestamp=T,s.isProcessing=!0,py.forEach(d),s.isProcessing=!1,r&&t&&(n=!1,e(c))},v=()=>{r=!0,n=!0,s.isProcessing||e(c)};return{schedule:py.reduce((T,C)=>{const D=h[C];return T[C]=(B,V=!1,Y=!1)=>(r||v(),D.schedule(B,V,Y)),T},{}),cancel:T=>py.forEach(C=>h[C].cancel(T)),state:s,steps:h}}var{schedule:xi,cancel:Uv,state:yw,steps:xre}=Yq(typeof requestAnimationFrame<"u"?requestAnimationFrame:$i,!0),Xq={useVisualState:s6({scrapeMotionValuesFromProps:o6,createRenderState:r6,onMount:(e,t,{renderState:r,latestValues:n})=>{xi.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),xi.render(()=>{WS(r,n,{enableHardwareAcceleration:!1},GS(t.tagName),e.transformTemplate),a6(t,r)})}})},Jq={useVisualState:s6({scrapeMotionValuesFromProps:ZS,createRenderState:HS})};function Qq(e,{forwardMotionProps:t=!1},r,n){return{...US(e)?Xq:Jq,preloadedFeatures:r,useRender:Vq(t),createVisualElement:n,Component:e}}var l6=bq(Qq);function c6(){const e=z.useRef(!1);return BS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function eY(){const e=c6(),[t,r]=z.useState(0),n=z.useCallback(()=>{e.current&&r(t+1)},[t]);return[z.useCallback(()=>xi.postRender(n),[n]),t]}var tY=class extends z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function rY({children:e,isPresent:t}){const r=z.useId(),n=z.useRef(null),s=z.useRef({width:0,height:0,top:0,left:0});return z.useInsertionEffect(()=>{const{width:h,height:d,top:c,left:v}=s.current;if(t||!n.current||!h||!d)return;n.current.dataset.motionPopId=r;const w=document.createElement("style");return document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            top: ${c}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),z.createElement(tY,{isPresent:t,childRef:n,sizeRef:s},z.cloneElement(e,{ref:n}))}var f_=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:h,mode:d})=>{const c=YS(nY),v=z.useId(),w=z.useMemo(()=>({id:v,initial:t,isPresent:r,custom:s,onExitComplete:S=>{c.set(S,!0);for(const T of c.values())if(!T)return;n&&n()},register:S=>(c.set(S,!1),()=>c.delete(S))}),h?void 0:[r]);return z.useMemo(()=>{c.forEach((S,T)=>c.set(T,!1))},[r]),z.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),d==="popLayout"&&(e=z.createElement(rY,{isPresent:r},e)),z.createElement(FS.Provider,{value:w},e)};function nY(){return new Map}function iY(e){return z.useEffect(()=>()=>e(),[])}var Kv=$i,Tc=e=>e.key||"";function aY(e,t){e.forEach(r=>{const n=Tc(r);t.set(n,r)})}function oY(e){const t=[];return z.Children.forEach(e,r=>{z.isValidElement(r)&&t.push(r)}),t}var sY=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:h=!0,mode:d="sync"})=>{const c=z.useContext(GL).forceRender||eY()[0],v=c6(),w=oY(e);let S=w;const T=z.useRef(new Map).current,C=z.useRef(S),D=z.useRef(new Map).current,B=z.useRef(!0);if(BS(()=>{B.current=!1,aY(w,D),C.current=S}),iY(()=>{B.current=!0,D.clear(),T.clear()}),B.current)return z.createElement(z.Fragment,null,S.map(F=>z.createElement(f_,{key:Tc(F),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:h,mode:d},F)));S=[...S];const V=C.current.map(Tc),Y=w.map(Tc),U=V.length;for(let F=0;F<U;F++){const O=V[F];Y.indexOf(O)===-1&&!T.has(O)&&T.set(O,void 0)}return d==="wait"&&T.size&&(S=[]),T.forEach((F,O)=>{if(Y.indexOf(O)!==-1)return;const ee=D.get(O);if(!ee)return;const ie=V.indexOf(O);let fe=F;if(!fe){const we=()=>{T.delete(O);const Z=Array.from(D.keys()).filter(me=>!Y.includes(me));if(Z.forEach(me=>D.delete(me)),C.current=w.filter(me=>{const xe=Tc(me);return xe===O||Z.includes(xe)}),!T.size){if(v.current===!1)return;c(),n&&n()}};fe=z.createElement(f_,{key:Tc(ee),isPresent:!1,onExitComplete:we,custom:t,presenceAffectsLayout:h,mode:d},ee),T.set(O,fe)}S.splice(ie,0,fe)}),S=S.map(F=>{const O=F.key;return T.has(O)?F:z.createElement(f_,{key:Tc(F),isPresent:!0,presenceAffectsLayout:h,mode:d},F)}),z.createElement(z.Fragment,null,T.size?S:S.map(F=>z.cloneElement(F)))};function lY({children:e,isValidProp:t,...r}){t&&t6(t),r={...z.useContext(Ov),...r},r.isStatic=YS(()=>r.isStatic);const n=z.useMemo(()=>r,[JSON.stringify(r.transition),r.transformPagePoint,r.reducedMotion]);return z.createElement(Ov.Provider,{value:n},e)}function cY({children:e,features:t,strict:r=!1}){const[,n]=z.useState(!p_(t)),s=z.useRef(void 0);if(!p_(t)){const{renderer:h,...d}=t;s.current=h,mw(d)}return z.useEffect(()=>{p_(t)&&t().then(({renderer:h,...d})=>{mw(d),s.current=h,n(!0)})},[]),z.createElement(NS.Provider,{value:{renderer:s.current,strict:r}},e)}function p_(e){return typeof e=="function"}function u6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function uY(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function dY(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function L0(e,t,r){const n=e.getProps();return qS(n,t,r!==void 0?r:n.custom,uY(e),dY(e))}var Wd=e=>e*1e3,Dl=e=>e/1e3,hY={current:!1},d6=e=>Array.isArray(e)&&typeof e[0]=="number";function h6(e){return!!(!e||typeof e=="string"&&f6[e]||d6(e)||Array.isArray(e)&&e.every(h6))}var cp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,f6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cp([0,.65,.55,1]),circOut:cp([.55,0,1,.45]),backIn:cp([.31,.01,.66,-.59]),backOut:cp([.33,1.53,.69,.99])};function p6(e){if(e)return d6(e)?cp(e):Array.isArray(e)?e.map(p6):f6[e]}function fY(e,t,r,{delay:n=0,duration:s,repeat:h=0,repeatType:d="loop",ease:c,times:v}={}){const w={[t]:r};v&&(w.offset=v);const S=p6(c);return Array.isArray(S)&&(w.easing=S),e.animate(w,{delay:n,duration:s,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"})}function pY(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}var m6=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,mY=1e-7,gY=12;function yY(e,t,r,n,s){let h,d,c=0;do d=t+(r-t)/2,h=m6(d,n,s)-e,h>0?r=d:t=d;while(Math.abs(h)>mY&&++c<gY);return d}function Sm(e,t,r,n){if(e===t&&r===n)return $i;const s=h=>yY(h,0,1,e,r);return h=>h===0||h===1?h:m6(s(h),t,n)}var vY=Sm(.42,0,1,1),xY=Sm(0,0,.58,1),g6=Sm(.42,0,.58,1),_Y=e=>Array.isArray(e)&&typeof e[0]!="number",y6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,v6=e=>t=>1-e(1-t),XS=e=>1-Math.sin(Math.acos(e)),bY=v6(XS),wY=y6(XS),x6=Sm(.33,1.53,.69,.99),JS=v6(x6),SY=y6(JS),PY=e=>(e*=2)<1?.5*JS(e):.5*(2-Math.pow(2,-10*(e-1))),UA={linear:$i,easeIn:vY,easeInOut:g6,easeOut:xY,circIn:XS,circInOut:wY,circOut:bY,backIn:JS,backInOut:SY,backOut:x6,anticipate:PY},KA=e=>{if(Array.isArray(e)){Kv(e.length===4);const[t,r,n,s]=e;return Sm(t,r,n,s)}else if(typeof e=="string")return Kv(UA[e]!==void 0),UA[e];return e},QS=(e,t)=>r=>!!(bm(r)&&Aq.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),_6=(e,t,r)=>n=>{if(!bm(n))return n;const[s,h,d,c]=n.match(R0);return{[e]:parseFloat(s),[t]:parseFloat(h),[r]:parseFloat(d),alpha:c!==void 0?parseFloat(c):1}},TY=e=>uh(0,255,e),m_={...ou,transform:e=>Math.round(TY(e))},zc={test:QS("rgb","red"),parse:_6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+m_.transform(e)+", "+m_.transform(t)+", "+m_.transform(r)+", "+kp(Ep.transform(n))+")"};function CY(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}var vw={test:QS("#"),parse:CY,transform:zc.transform},$d={test:QS("hsl","hue"),parse:_6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Hd.transform(kp(t))+", "+Hd.transform(kp(r))+", "+kp(Ep.transform(n))+")"},Mi={test:e=>zc.test(e)||vw.test(e)||$d.test(e),parse:e=>zc.test(e)?zc.parse(e):$d.test(e)?$d.parse(e):vw.parse(e),transform:e=>bm(e)?e:e.hasOwnProperty("red")?zc.transform(e):$d.transform(e)},z0=(e,t,r)=>-r*e+r*t+e;function g_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function EY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,h=0,d=0;if(!t)s=h=d=r;else{const c=r<.5?r*(1+t):r+t-r*t,v=2*r-c;s=g_(v,c,e+1/3),h=g_(v,c,e),d=g_(v,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:n}}var y_=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},kY=[vw,zc,$d],AY=e=>kY.find(t=>t.test(e));function HA(e){const t=AY(e);let r=t.parse(e);return t===$d&&(r=EY(r)),r}var b6=(e,t)=>{const r=HA(e),n=HA(t),s={...r};return h=>(s.red=y_(r.red,n.red,h),s.green=y_(r.green,n.green,h),s.blue=y_(r.blue,n.blue,h),s.alpha=z0(r.alpha,n.alpha,h),zc.transform(s))},IY=(e,t)=>r=>t(e(r)),jc=(...e)=>e.reduce(IY);function MY(e){var t,r;return isNaN(e)&&bm(e)&&(((t=e.match(R0))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(XL))===null||r===void 0?void 0:r.length)||0)>0}var w6={regex:Eq,countKey:"Vars",token:"${v}",parse:$i},S6={regex:XL,countKey:"Colors",token:"${c}",parse:Mi.parse},P6={regex:R0,countKey:"Numbers",token:"${n}",parse:ou.parse};function v_(e,{regex:t,countKey:r,token:n,parse:s}){const h=e.tokenised.match(t);h&&(e["num"+r]=h.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...h.map(s)))}function Hv(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&v_(r,w6),v_(r,S6),v_(r,P6),r}function T6(e){return Hv(e).values}function C6(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Hv(e),h=t.length;return d=>{let c=s;for(let v=0;v<h;v++)v<n?c=c.replace(w6.token,d[v]):v<n+r?c=c.replace(S6.token,Mi.transform(d[v])):c=c.replace(P6.token,kp(d[v]));return c}}var DY=e=>typeof e=="number"?0:e;function $Y(e){const t=T6(e);return C6(e)(t.map(DY))}var bh={test:MY,parse:T6,createTransformer:C6,getAnimatableNone:$Y},E6=(e,t)=>r=>`${r>0?t:e}`;function k6(e,t){return typeof e=="number"?r=>z0(e,t,r):Mi.test(e)?b6(e,t):e.startsWith("var(")?E6(e,t):I6(e,t)}var A6=(e,t)=>{const r=[...e],n=r.length,s=e.map((h,d)=>k6(h,t[d]));return h=>{for(let d=0;d<n;d++)r[d]=s[d](h);return r}},RY=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=k6(e[s],t[s]));return s=>{for(const h in n)r[h]=n[h](s);return r}},I6=(e,t)=>{const r=bh.createTransformer(t),n=Hv(e),s=Hv(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?jc(A6(n.values,s.values),r):E6(e,t)},M6=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},WA=(e,t)=>r=>z0(e,t,r);function LY(e){return typeof e=="number"?WA:typeof e=="string"?Mi.test(e)?b6:I6:Array.isArray(e)?A6:typeof e=="object"?RY:WA}function zY(e,t,r){const n=[],s=r||LY(e[0]),h=e.length-1;for(let d=0;d<h;d++){let c=s(e[d],e[d+1]);if(t){const v=Array.isArray(t)?t[d]||$i:t;c=jc(v,c)}n.push(c)}return n}function D6(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const h=e.length;if(Kv(h===t.length),h===1)return()=>t[0];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=zY(t,n,s),c=d.length,v=w=>{let S=0;if(c>1)for(;S<e.length-2&&!(w<e[S+1]);S++);const T=M6(e[S],e[S+1],w);return d[S](T)};return r?w=>v(uh(e[0],e[h-1],w)):v}function FY(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=M6(0,t,n);e.push(z0(r,1,s))}}function BY(e){const t=[0];return FY(t,e.length-1),t}function NY(e,t){return e.map(r=>r*t)}function OY(e,t){return e.map(()=>t||g6).splice(0,e.length-1)}function Wv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=_Y(n)?n.map(KA):KA(n),h={done:!1,value:t[0]},d=NY(r&&r.length===t.length?r:BY(t),e),c=D6(d,t,{ease:Array.isArray(s)?s:OY(t,s)});return{calculatedDuration:e,next:v=>(h.value=c(v),h.done=v>=e,h)}}function $6(e,t){return t?e*(1e3/t):0}var jY=5;function R6(e,t,r){const n=Math.max(t-jY,0);return $6(r-e(n),t-n)}var x_=.001,VY=.01,UY=10,KY=.05,HY=1;function WY({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,h,d=1-t;d=uh(KY,HY,d),e=uh(VY,UY,Dl(e)),d<1?(s=w=>{const S=w*d,T=S*e,C=S-r,D=xw(w,d),B=Math.exp(-T);return x_-C/D*B},h=w=>{const T=w*d*e,C=T*r+r,D=Math.pow(d,2)*Math.pow(w,2)*e,B=Math.exp(-T),V=xw(Math.pow(w,2),d);return(-s(w)+x_>0?-1:1)*((C-D)*B)/V}):(s=w=>{const S=Math.exp(-w*e),T=(w-r)*e+1;return-x_+S*T},h=w=>{const S=Math.exp(-w*e),T=(r-w)*(e*e);return S*T});const c=5/e,v=ZY(s,h,c);if(e=Wd(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const w=Math.pow(v,2)*n;return{stiffness:w,damping:d*2*Math.sqrt(n*w),duration:e}}}var GY=12;function ZY(e,t,r){let n=r;for(let s=1;s<GY;s++)n=n-e(n)/t(n);return n}function xw(e,t){return e*Math.sqrt(1-t*t)}var qY=["duration","bounce"],YY=["stiffness","damping","mass"];function GA(e,t){return t.some(r=>e[r]!==void 0)}function XY(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!GA(e,YY)&&GA(e,qY)){const r=WY(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function L6({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],h=e[e.length-1],d={done:!1,value:s},{stiffness:c,damping:v,mass:w,duration:S,velocity:T,isResolvedFromDuration:C}=XY({...n,velocity:-Dl(n.velocity||0)}),D=T||0,B=v/(2*Math.sqrt(c*w)),V=h-s,Y=Dl(Math.sqrt(c/w)),U=Math.abs(V)<5;r||(r=U?.01:2),t||(t=U?.005:.5);let F;if(B<1){const O=xw(Y,B);F=ee=>{const ie=Math.exp(-B*Y*ee);return h-ie*((D+B*Y*V)/O*Math.sin(O*ee)+V*Math.cos(O*ee))}}else if(B===1)F=O=>h-Math.exp(-Y*O)*(V+(D+Y*V)*O);else{const O=Y*Math.sqrt(B*B-1);F=ee=>{const ie=Math.exp(-B*Y*ee),fe=Math.min(O*ee,300);return h-ie*((D+B*Y*V)*Math.sinh(fe)+O*V*Math.cosh(fe))/O}}return{calculatedDuration:C&&S||null,next:O=>{const ee=F(O);if(C)d.done=O>=S;else{let ie=D;O!==0&&(B<1?ie=R6(F,O,ee):ie=0);const fe=Math.abs(ie)<=r,we=Math.abs(h-ee)<=t;d.done=fe&&we}return d.value=d.done?h:ee,d}}}function ZA({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:h=500,modifyTarget:d,min:c,max:v,restDelta:w=.5,restSpeed:S}){const T=e[0],C={done:!1,value:T},D=Z=>c!==void 0&&Z<c||v!==void 0&&Z>v,B=Z=>c===void 0?v:v===void 0||Math.abs(c-Z)<Math.abs(v-Z)?c:v;let V=r*t;const Y=T+V,U=d===void 0?Y:d(Y);U!==Y&&(V=U-T);const F=Z=>-V*Math.exp(-Z/n),O=Z=>U+F(Z),ee=Z=>{const me=F(Z),xe=O(Z);C.done=Math.abs(me)<=w,C.value=C.done?U:xe};let ie,fe;const we=Z=>{D(C.value)&&(ie=Z,fe=L6({keyframes:[C.value,B(C.value)],velocity:R6(O,Z,C.value),damping:s,stiffness:h,restDelta:w,restSpeed:S}))};return we(0),{calculatedDuration:null,next:Z=>{let me=!1;return!fe&&ie===void 0&&(me=!0,ee(Z),we(Z)),ie!==void 0&&Z>ie?fe.next(Z-ie):(!me&&ee(Z),C)}}}var JY=e=>{const t=({timestamp:r})=>e(r);return{start:()=>xi.update(t,!0),stop:()=>Uv(t),now:()=>yw.isProcessing?yw.timestamp:performance.now()}},qA=2e4;function YA(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<qA;)t+=r,n=e.next(t);return t>=qA?1/0:t}var QY={decay:ZA,inertia:ZA,tween:Wv,keyframes:Wv,spring:L6};function Gv({autoplay:e=!0,delay:t=0,driver:r=JY,keyframes:n,type:s="keyframes",repeat:h=0,repeatDelay:d=0,repeatType:c="loop",onPlay:v,onStop:w,onComplete:S,onUpdate:T,...C}){let D=1,B=!1,V,Y;const U=()=>{Y=new Promise(he=>{V=he})};U();let F;const O=QY[s]||Wv;let ee;O!==Wv&&typeof n[0]!="number"&&(ee=D6([0,100],n,{clamp:!1}),n=[0,100]);const ie=O({...C,keyframes:n});let fe;c==="mirror"&&(fe=O({...C,keyframes:[...n].reverse(),velocity:-(C.velocity||0)}));let we="idle",Z=null,me=null,xe=null;ie.calculatedDuration===null&&h&&(ie.calculatedDuration=YA(ie));const{calculatedDuration:se}=ie;let Te=1/0,ge=1/0;se!==null&&(Te=se+d,ge=Te*(h+1)-d);let ve=0;const Be=he=>{if(me===null)return;D>0&&(me=Math.min(me,he)),D<0&&(me=Math.min(he-ge/D,me)),Z!==null?ve=Z:ve=Math.round(he-me)*D;const ze=ve-t*(D>=0?1:-1),Je=D>=0?ze<0:ze>ge;ve=Math.max(ze,0),we==="finished"&&Z===null&&(ve=ge);let ft=ve,mt=ie;if(h){const At=Math.min(ve,ge)/Te;let zt=Math.floor(At),Nt=At%1;!Nt&&At>=1&&(Nt=1),Nt===1&&zt--,zt=Math.min(zt,h+1),!!(zt%2)&&(c==="reverse"?(Nt=1-Nt,d&&(Nt-=d/Te)):c==="mirror"&&(mt=fe)),ft=uh(0,1,Nt)*Te}const gt=Je?{done:!1,value:n[0]}:mt.next(ft);ee&&(gt.value=ee(gt.value));let{done:Et}=gt;!Je&&se!==null&&(Et=D>=0?ve>=ge:ve<=0);const Pt=Z===null&&(we==="finished"||we==="running"&&Et);return T&&T(gt.value),Pt&&De(),gt},Le=()=>{F&&F.stop(),F=void 0},ae=()=>{we="idle",Le(),V(),U(),me=xe=null},De=()=>{we="finished",S&&S(),Le(),V()},Ve=()=>{if(B)return;F||(F=r(Be));const he=F.now();v&&v(),Z!==null?me=he-Z:(!me||we==="finished")&&(me=he),we==="finished"&&U(),xe=me,Z=null,we="running",F.start()};e&&Ve();const Oe={then(he,ze){return Y.then(he,ze)},get time(){return Dl(ve)},set time(he){he=Wd(he),ve=he,Z!==null||!F||D===0?Z=he:me=F.now()-he/D},get duration(){const he=ie.calculatedDuration===null?YA(ie):ie.calculatedDuration;return Dl(he)},get speed(){return D},set speed(he){he===D||!F||(D=he,Oe.time=Dl(ve))},get state(){return we},play:Ve,pause:()=>{we="paused",Z=ve},stop:()=>{B=!0,we!=="idle"&&(we="idle",w&&w(),ae())},cancel:()=>{xe!==null&&Be(xe),ae()},complete:()=>{we="finished"},sample:he=>(me=0,Be(he))};return Oe}function eX(e){let t;return()=>(t===void 0&&(t=e()),t)}var tX=eX(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rX=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),my=10,nX=2e4,iX=(e,t)=>t.type==="spring"||e==="backgroundColor"||!h6(t.ease);function aX(e,t,{onUpdate:r,onComplete:n,...s}){if(!(tX()&&rX.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let d=!1,c,v,w=!1;const S=()=>{v=new Promise(O=>{c=O})};S();let{keyframes:T,duration:C=300,ease:D,times:B}=s;if(iX(t,s)){const O=Gv({...s,repeat:0,delay:0});let ee={done:!1,value:T[0]};const ie=[];let fe=0;for(;!ee.done&&fe<nX;)ee=O.sample(fe),ie.push(ee.value),fe+=my;B=void 0,T=ie,C=fe-my,D="linear"}const V=fY(e.owner.current,t,T,{...s,duration:C,ease:D,times:B}),Y=()=>{w=!1,V.cancel()},U=()=>{w=!0,xi.update(Y),c(),S()};return V.onfinish=()=>{w||(e.set(pY(T,s)),n&&n(),U())},{then(O,ee){return v.then(O,ee)},attachTimeline(O){return V.timeline=O,V.onfinish=null,$i},get time(){return Dl(V.currentTime||0)},set time(O){V.currentTime=Wd(O)},get speed(){return V.playbackRate},set speed(O){V.playbackRate=O},get duration(){return Dl(C)},play:()=>{d||(V.play(),Uv(Y))},pause:()=>V.pause(),stop:()=>{if(d=!0,V.playState==="idle")return;const{currentTime:O}=V;if(O){const ee=Gv({...s,autoplay:!1});e.setWithVelocity(ee.sample(O-my).value,ee.sample(O).value,my)}U()},complete:()=>{w||V.finish()},cancel:U}}function oX({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:$i,pause:$i,stop:$i,then:h=>(h(),Promise.resolve()),cancel:$i,complete:$i});return t?Gv({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}var sX={type:"spring",stiffness:500,damping:25,restSpeed:10},lX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cX={type:"keyframes",duration:.8},uX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dX=(e,{keyframes:t})=>t.length>2?cX:au.has(e)?e.startsWith("scale")?lX(t[1]):sX:uX,_w=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bh.test(t)||t==="0")&&!t.startsWith("url(")),hX=new Set(["brightness","contrast","saturate","opacity"]);function fX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(R0)||[];if(!n)return e;const s=r.replace(n,"");let h=hX.has(t)?1:0;return n!==r&&(h*=100),t+"("+h+s+")"}var pX=/([a-z-]*)\(.*?\)/g,bw={...bh,getAnimatableNone:e=>{const t=e.match(pX);return t?t.map(fX).join(" "):e}},mX={...JL,color:Mi,backgroundColor:Mi,outlineColor:Mi,fill:Mi,stroke:Mi,borderColor:Mi,borderTopColor:Mi,borderRightColor:Mi,borderBottomColor:Mi,borderLeftColor:Mi,filter:bw,WebkitFilter:bw},eP=e=>mX[e];function z6(e,t){let r=eP(e);return r!==bw&&(r=bh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var F6=e=>/^0[^.\s]+$/.test(e);function gX(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||F6(e)}function yX(e,t,r,n){const s=_w(t,r);let h;Array.isArray(r)?h=[...r]:h=[null,r];const d=n.from!==void 0?n.from:e.get();let c;const v=[];for(let w=0;w<h.length;w++)h[w]===null&&(h[w]=w===0?d:h[w-1]),gX(h[w])&&v.push(w),typeof h[w]=="string"&&h[w]!=="none"&&h[w]!=="0"&&(c=h[w]);if(s&&v.length&&c)for(let w=0;w<v.length;w++){const S=v[w];h[S]=z6(t,c)}return h}function vX({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:h,repeatType:d,repeatDelay:c,from:v,elapsed:w,...S}){return!!Object.keys(S).length}function B6(e,t){return e[t]||e.default||e}var xX={skipAnimations:!1},_X=(e,t,r,n={})=>s=>{const h=B6(n,e)||{},d=h.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Wd(d);const v=yX(t,e,r,h),w=v[0],S=v[v.length-1],T=_w(e,w),C=_w(e,S);let D={keyframes:v,velocity:t.getVelocity(),ease:"easeOut",...h,delay:-c,onUpdate:B=>{t.set(B),h.onUpdate&&h.onUpdate(B)},onComplete:()=>{s(),h.onComplete&&h.onComplete()}};if(vX(h)||(D={...D,...dX(e,D)}),D.duration&&(D.duration=Wd(D.duration)),D.repeatDelay&&(D.repeatDelay=Wd(D.repeatDelay)),!T||!C||hY.current||h.type===!1||xX.skipAnimations)return oX(D);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const B=aX(t,e,D);if(B)return B}return Gv(D)};function Zv(e){return!!(va(e)&&e.add)}var N6=e=>/^\-?\d*\.?\d+$/.test(e);function bX(e,t){e.indexOf(t)===-1&&e.push(t)}function wX(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}var O6=class{constructor(){this.subscriptions=[]}add(e){return bX(this.subscriptions,e),()=>wX(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const h=this.subscriptions[s];h&&h(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},SX=e=>!isNaN(parseFloat(e)),PX=class{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,n=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:h}=yw;this.lastUpdated!==h&&(this.timeDelta=s,this.lastUpdated=h,xi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=SX(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new O6);const r=this.events[e].add(t);return e==="change"?()=>{r(),xi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function nm(e,t){return new PX(e,t)}var j6=e=>t=>t.test(e),TX={test:e=>e==="auto",parse:e=>e},V6=[ou,Vt,Hd,ll,Mq,Iq,TX],Xf=e=>V6.find(j6(e)),CX=[...V6,Mi,bh],EX=e=>CX.find(j6(e));function kX(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,nm(r))}function AX(e,t){const r=L0(e,t);let{transitionEnd:n={},transition:s={},...h}=r?e.makeTargetAnimatable(r,!1):{};h={...h,...n};for(const d in h){const c=Kq(h[d]);kX(e,d,c)}}function IX(e,t,r){var n,s;const h=Object.keys(t).filter(c=>!e.hasValue(c)),d=h.length;if(d)for(let c=0;c<d;c++){const v=h[c],w=t[v];let S=null;Array.isArray(w)&&(S=w[0]),S===null&&(S=(s=(n=r[v])!==null&&n!==void 0?n:e.readValue(v))!==null&&s!==void 0?s:t[v]),S!=null&&(typeof S=="string"&&(N6(S)||F6(S))?S=parseFloat(S):!EX(S)&&bh.test(w)&&(S=z6(v,w)),e.addValue(v,nm(S,{owner:e})),r[v]===void 0&&(r[v]=S),S!==null&&e.setBaseTarget(v,S))}}function MX(e,t){return t?(t[e]||t.default||t).from:void 0}function DX(e,t,r){const n={};for(const s in e){const h=MX(s,t);if(h!==void 0)n[s]=h;else{const d=r.getValue(s);d&&(n[s]=d.get())}}return n}function $X({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function RX(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function U6(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:d,...c}=e.makeTargetAnimatable(t);const v=e.getValue("willChange");n&&(h=n);const w=[],S=s&&e.animationState&&e.animationState.getState()[s];for(const T in c){const C=e.getValue(T),D=c[T];if(!C||D===void 0||S&&$X(S,T))continue;const B={delay:r,elapsed:0,...B6(h||{},T)};if(window.HandoffAppearAnimations){const U=e.getProps()[KL];if(U){const F=window.HandoffAppearAnimations(U,T,C,xi);F!==null&&(B.elapsed=F,B.isHandoff=!0)}}let V=!B.isHandoff&&!RX(C,D);if(B.type==="spring"&&(C.getVelocity()||B.velocity)&&(V=!1),C.animation&&(V=!1),V)continue;C.start(_X(T,C,D,e.shouldReduceMotion&&au.has(T)?{type:!1}:B));const Y=C.animation;Zv(v)&&(v.add(T),Y.then(()=>v.remove(T))),w.push(Y)}return d&&Promise.all(w).then(()=>{d&&AX(e,d)}),w}function ww(e,t,r={}){const n=L0(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const h=n?()=>Promise.all(U6(e,n,r)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:w=0,staggerChildren:S,staggerDirection:T}=s;return LX(e,t,w+v,S,T,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[v,w]=c==="beforeChildren"?[h,d]:[d,h];return v().then(()=>w())}else return Promise.all([h(),d(r.delay)])}function LX(e,t,r=0,n=0,s=1,h){const d=[],c=(e.variantChildren.size-1)*n,v=s===1?(w=0)=>w*n:(w=0)=>c-w*n;return Array.from(e.variantChildren).sort(zX).forEach((w,S)=>{w.notify("AnimationStart",t),d.push(ww(w,t,{...h,delay:r+v(S)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(d)}function zX(e,t){return e.sortNodePosition(t)}function FX(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(h=>ww(e,h,r));n=Promise.all(s)}else if(typeof t=="string")n=ww(e,t,r);else{const s=typeof t=="function"?L0(e,t,r.custom):t;n=Promise.all(U6(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}var BX=[...jS].reverse(),NX=jS.length;function OX(e){return t=>Promise.all(t.map(({animation:r,options:n})=>FX(e,r,n)))}function jX(e){let t=OX(e);const r=UX();let n=!0;const s=(v,w)=>{const S=L0(e,w);if(S){const{transition:T,transitionEnd:C,...D}=S;v={...v,...D,...C}}return v};function h(v){t=v(e)}function d(v,w){const S=e.getProps(),T=e.getVariantContext(!0)||{},C=[],D=new Set;let B={},V=1/0;for(let U=0;U<NX;U++){const F=BX[U],O=r[F],ee=S[F]!==void 0?S[F]:T[F],ie=tm(ee),fe=F===w?O.isActive:null;fe===!1&&(V=U);let we=ee===T[F]&&ee!==S[F]&&ie;if(we&&n&&e.manuallyAnimateOnMount&&(we=!1),O.protectedKeys={...B},!O.isActive&&fe===null||!ee&&!O.prevProp||D0(ee)||typeof ee=="boolean")continue;let me=VX(O.prevProp,ee)||F===w&&O.isActive&&!we&&ie||U>V&&ie,xe=!1;const se=Array.isArray(ee)?ee:[ee];let Te=se.reduce(s,{});fe===!1&&(Te={});const{prevResolvedValues:ge={}}=O,ve={...ge,...Te},Be=Le=>{me=!0,D.has(Le)&&(xe=!0,D.delete(Le)),O.needsAnimating[Le]=!0};for(const Le in ve){const ae=Te[Le],De=ge[Le];if(B.hasOwnProperty(Le))continue;let Ve=!1;Vv(ae)&&Vv(De)?Ve=!u6(ae,De):Ve=ae!==De,Ve?ae!==void 0?Be(Le):D.add(Le):ae!==void 0&&D.has(Le)?Be(Le):O.protectedKeys[Le]=!0}O.prevProp=ee,O.prevResolvedValues=Te,O.isActive&&(B={...B,...Te}),n&&e.blockInitialAnimation&&(me=!1),me&&(!we||xe)&&C.push(...se.map(Le=>({animation:Le,options:{type:F,...v}})))}if(D.size){const U={};D.forEach(F=>{const O=e.getBaseTarget(F);O!==void 0&&(U[F]=O)}),C.push({animation:U})}let Y=!!C.length;return n&&(S.initial===!1||S.initial===S.animate)&&!e.manuallyAnimateOnMount&&(Y=!1),n=!1,Y?t(C):Promise.resolve()}function c(v,w,S){var T;if(r[v].isActive===w)return Promise.resolve();(T=e.variantChildren)===null||T===void 0||T.forEach(D=>{var B;return(B=D.animationState)===null||B===void 0?void 0:B.setActive(v,w)}),r[v].isActive=w;const C=d(S,v);for(const D in r)r[D].protectedKeys={};return C}return{animateChanges:d,setActive:c,setAnimateFunction:h,getState:()=>r}}function VX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!u6(t,e):!1}function vc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UX(){return{animate:vc(!0),whileInView:vc(),whileHover:vc(),whileTap:vc(),whileDrag:vc(),whileFocus:vc(),exit:vc()}}var wh=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},KX=class extends wh{constructor(e){super(e),e.animationState||(e.animationState=jX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),D0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}},HX=0,WX=class extends wh{constructor(){super(...arguments),this.id=HX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}},GX={animation:{Feature:KX},exit:{Feature:WX}};function Fc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}var ZX=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function K6(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var qX=e=>t=>ZX(t)&&e(t,K6(t));function Oy(e,t,r,n){return Fc(e,t,qX(r),n)}function H6(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}var YX=H6("dragHorizontal"),XX=H6("dragVertical");function JX(e){let t=!1;{const r=YX(),n=XX();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function W6(){const e=JX();return e?(e(),!1):!0}function XA(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(h,d)=>{if(h.pointerType==="touch"||W6())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[n]&&xi.update(()=>c[n](h,d))};return Oy(e.current,r,s,{passive:!e.getProps()[n]})}var QX=class extends wh{mount(){this.unmount=jc(XA(this.node,!0),XA(this.node,!1))}unmount(){}},eJ=class extends wh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jc(Fc(this.node.current,"focus",()=>this.onFocus()),Fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}},G6=(e,t)=>t?e===t?!0:G6(e,t.parentElement):!1;function __(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,K6(r))}var tJ=class extends wh{constructor(){super(...arguments),this.removeStartListeners=$i,this.removeEndListeners=$i,this.removeAccessibleListeners=$i,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Oy(window,"pointerup",(d,c)=>{if(!this.checkPressEnd())return;const{onTap:v,onTapCancel:w,globalTapTarget:S}=this.node.getProps();xi.update(()=>{!S&&!G6(this.node.current,d.target)?w&&w(d,c):v&&v(d,c)})},{passive:!(r.onTap||r.onPointerUp)}),h=Oy(window,"pointercancel",(d,c)=>this.cancelPress(d,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jc(s,h),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const h=d=>{d.key!=="Enter"||!this.checkPressEnd()||__("up",(c,v)=>{const{onTap:w}=this.node.getProps();w&&xi.update(()=>w(c,v))})};this.removeEndListeners(),this.removeEndListeners=Fc(this.node.current,"keyup",h),__("down",(d,c)=>{this.startPress(d,c)})},t=Fc(this.node.current,"keydown",e),r=()=>{this.isPressing&&__("cancel",(s,h)=>this.cancelPress(s,h))},n=Fc(this.node.current,"blur",r);this.removeAccessibleListeners=jc(t,n)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xi.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!W6()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xi.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Oy(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Fc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jc(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}},Sw=new WeakMap,b_=new WeakMap,rJ=e=>{const t=Sw.get(e.target);t&&t(e)},nJ=e=>{e.forEach(rJ)};function iJ({root:e,...t}){const r=e||document;b_.has(r)||b_.set(r,{});const n=b_.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(nJ,{root:e,...t})),n[s]}function aJ(e,t,r){const n=iJ(t);return Sw.set(e,r),n.observe(e),()=>{Sw.delete(e),n.unobserve(e)}}var oJ={some:0,all:1},sJ=class extends wh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,h={root:t?t.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:oJ[n]},d=c=>{const{isIntersecting:v}=c;if(this.isInView===v||(this.isInView=v,s&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:w,onViewportLeave:S}=this.node.getProps(),T=v?w:S;T&&T(c)};return aJ(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(lJ(e,t))&&this.startObserver()}unmount(){}};function lJ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}var cJ={inView:{Feature:sJ},tap:{Feature:tJ},focus:{Feature:eJ},hover:{Feature:QX}};function uJ({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function dJ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function hJ(e,t){return uJ(dJ(e.getBoundingClientRect(),t))}var fJ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function pJ(e){const t=fJ.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Pw(e,t,r=1){const[n,s]=pJ(e);if(!n)return;const h=window.getComputedStyle(t).getPropertyValue(n);if(h){const d=h.trim();return N6(d)?parseFloat(d):d}else return gw(s)?Pw(s,t,r+1):s}function mJ(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const h=s.get();if(!gw(h))return;const d=Pw(h,n);d&&s.set(d)});for(const s in t){const h=t[s];if(!gw(h))continue;const d=Pw(h,n);d&&(t[s]=d,r||(r={}),r[s]===void 0&&(r[s]=h))}return{target:t,transitionEnd:r}}var gJ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Z6=e=>gJ.has(e),yJ=e=>Object.keys(e).some(Z6),JA=e=>e===ou||e===Vt,QA=(e,t)=>parseFloat(e.split(", ")[t]),eI=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return QA(s[1],t);{const h=n.match(/^matrix\((.+)\)$/);return h?QA(h[1],e):0}},vJ=new Set(["x","y","z"]),xJ=_m.filter(e=>!vJ.has(e));function _J(e){const t=[];return xJ.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}var dh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:eI(4,13),y:eI(5,14)};dh.translateX=dh.x;dh.translateY=dh.y;var bJ=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,h=getComputedStyle(s),{display:d}=h,c={};d==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(w=>{c[w]=dh[w](n,h)}),t.render();const v=t.measureViewportBox();return r.forEach(w=>{const S=t.getValue(w);S&&S.jump(c[w]),e[w]=dh[w](v,h)}),e},wJ=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Z6);let h=[],d=!1;const c=[];if(s.forEach(v=>{const w=e.getValue(v);if(!e.hasValue(v))return;let S=r[v],T=Xf(S);const C=t[v];let D;if(Vv(C)){const B=C.length,V=C[0]===null?1:0;S=C[V],T=Xf(S);for(let Y=V;Y<B&&C[Y]!==null;Y++)D?Kv(Xf(C[Y])===D):D=Xf(C[Y])}else D=Xf(C);if(T!==D)if(JA(T)&&JA(D)){const B=w.get();typeof B=="string"&&w.set(parseFloat(B)),typeof C=="string"?t[v]=parseFloat(C):Array.isArray(C)&&D===Vt&&(t[v]=C.map(parseFloat))}else T!=null&&T.transform&&(D!=null&&D.transform)&&(S===0||C===0)?S===0?w.set(D.transform(S)):t[v]=T.transform(C):(d||(h=_J(e),d=!0),c.push(v),n[v]=n[v]!==void 0?n[v]:t[v],w.jump(C))}),c.length){const v=c.indexOf("height")>=0?window.pageYOffset:null,w=bJ(t,e,c);return h.length&&h.forEach(([S,T])=>{e.getValue(S).set(T)}),e.render(),M0&&v!==null&&window.scrollTo({top:v}),{target:w,transitionEnd:n}}else return{target:t,transitionEnd:n}};function SJ(e,t,r,n){return yJ(t)?wJ(e,t,r,n):{target:t,transitionEnd:n}}var PJ=(e,t,r,n)=>{const s=mJ(e,t,n);return t=s.target,n=s.transitionEnd,SJ(e,t,r,n)},tI=()=>({min:0,max:0}),q6=()=>({x:tI(),y:tI()}),Tw={current:null},Y6={current:!1};function TJ(){if(Y6.current=!0,!!M0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tw.current=e.matches;e.addListener(t),t()}else Tw.current=!1}function CJ(e,t,r){const{willChange:n}=t;for(const s in t){const h=t[s],d=r[s];if(va(h))e.addValue(s,h),Zv(n)&&n.add(s);else if(va(d))e.addValue(s,nm(h,{owner:e})),Zv(n)&&n.remove(s);else if(d!==h)if(e.hasValue(s)){const c=e.getValue(s);!c.hasAnimated&&c.set(h)}else{const c=e.getStaticValue(s);e.addValue(s,nm(c!==void 0?c:h,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}var rI=new WeakMap,X6=Object.keys(rm),EJ=X6.length,nI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kJ=VS.length,AJ=class{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,visualState:s},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xi.render(this.render,!1,!0);const{latestValues:d,renderState:c}=s;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=h,this.isControllingVariants=$0(t),this.isVariantNode=WL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{});for(const S in w){const T=w[S];d[S]!==void 0&&va(T)&&(T.set(d[S],!1),Zv(v)&&v.add(S))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,rI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Y6.current||TJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rI.delete(this.current),this.projection&&this.projection.unmount(),Uv(this.notifyUpdate),Uv(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=au.has(e),n=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&xi.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,n,s){let h,d;for(let c=0;c<EJ;c++){const v=X6[c],{isEnabled:w,Feature:S,ProjectionNode:T,MeasureLayout:C}=rm[v];T&&(h=T),w(t)&&(!this.features[v]&&S&&(this.features[v]=new S(this)),C&&(d=C))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:v,drag:w,dragConstraints:S,layoutScroll:T,layoutRoot:C}=t;this.projection.setOptions({layoutId:c,layout:v,alwaysMeasureLayout:!!w||S&&HL(S),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof v=="string"?v:"both",initialPromotionConfig:s,layoutScroll:T,layoutRoot:C})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):q6()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<nI.length;r++){const n=nI[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const s=e["on"+n];s&&(this.propEventSubscriptions[n]=this.on(n,s))}this.prevMotionValues=CJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<kJ;r++){const n=VS[r],s=this.props[n];(tm(s)||s===!1)&&(t[n]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=nm(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n=typeof r=="string"||typeof r=="object"?(t=qS(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!va(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new O6),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}},J6=class extends AJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:n},s){let h=DX(r,e||{},this);if(n&&(t&&(t=n(t)),r&&(r=n(r)),h&&(h=n(h))),s){IX(this,r,h);const d=PJ(this,r,h,t);t=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:t,...r}}};function IJ(e){return window.getComputedStyle(e)}var MJ=class extends J6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(au.has(t)){const r=eP(t);return r&&r.default||0}else{const r=IJ(e),n=(YL(t)?r.getPropertyValue(t):r[t])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hJ(e,t)}build(e,t,r,n){KS(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ZS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;va(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,n){n6(e,t,r,n)}},DJ=class extends J6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(au.has(t)){const r=eP(t);return r&&r.default||0}return t=i6.has(t)?t:OS(t),e.getAttribute(t)}measureInstanceViewportBox(){return q6()}scrapeMotionValuesFromProps(e,t){return o6(e,t)}build(e,t,r,n){WS(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){a6(e,t,r,n)}mount(e){this.isSVGTag=GS(e.tagName),super.mount(e)}},$J=(e,t)=>US(e)?new DJ(t,{enableHardwareAcceleration:!1}):new MJ(t,{enableHardwareAcceleration:!0}),RJ={renderer:$J,...GX,...cJ},[Q6,F0]=Vl({name:"CalendarContext",strict:!0,errorMessage:"useContext: `context` is undefined. Seems you forgot to wrap component within the CalendarProvider"}),LJ={type:"spring",bounce:0,duration:.3},ez={enter:e=>({x:`${e*100}%`}),center:{x:"0%"},exit:e=>({x:`${e*-100}%`})};function zJ(e){const{direction:t,date:r,currentMonth:n,buttonPickerProps:s}=e,{state:h,slots:d,headerRef:c,showMonthAndYearPickers:v,isHeaderExpanded:w,setIsHeaderExpanded:S,disableAnimation:T,classNames:C}=F0(),B=Ps({month:"long",era:n.calendar.identifier==="gregory"&&n.era==="BC"?"short":void 0,calendar:n.calendar.identifier,timeZone:h.timeZone,year:"numeric"}).format(r.toDate(h.timeZone)),V=$.jsx($.Fragment,{children:T?$.jsx("span",{"aria-hidden":!0,className:d==null?void 0:d.title({class:C==null?void 0:C.title}),"data-slot":"title",children:B},n.month):$.jsx(l6.span,{animate:"center","aria-hidden":!0,className:d==null?void 0:d.title({class:C==null?void 0:C.title}),custom:t,"data-slot":"title",exit:"exit",initial:"enter",variants:w?{}:ez,children:B},n.month)}),Y={ref:c,className:d==null?void 0:d.header({class:C==null?void 0:C.header}),"data-slot":"header"},U=z.useCallback(F=>{F.key==="Escape"&&(F.preventDefault(),F.stopPropagation(),S==null||S(!1))},[S]);return v?$.jsx(Ts,{...Y,disableAnimation:T,endContent:$.jsx(nq,{className:"chevron-icon"}),onKeyDown:U,...s,children:V}):$.jsx("header",{...Y,children:V})}function FJ(e){const{state:t,slots:r,isPickerVisible:n,currentMonth:s,classNames:h,...d}=e,c=z.useRef(null),{cellProps:v,buttonProps:w,isPressed:S,isSelected:T,isDisabled:C,isFocused:D,isInvalid:B,formattedDate:V}=eq({...d,isDisabled:!oE(d.date,s)||n},t,c),Y=t.isCellUnavailable(d.date)&&!C,U=!C&&!B&&t.isCellUnavailable(d.date.add({days:1})),F=!C&&!B&&t.isCellUnavailable(d.date.subtract({days:1})),O="highlightedRange"in t&&t.highlightedRange,ee=T&&O&&xn(d.date,O.start),ie=T&&O&&xn(d.date,O.end),{locale:fe}=co(),we=y0(d.date,fe),Z=T&&(F||we===0||d.date.day===1),me=T&&(U||we===6||d.date.day===s.calendar.getDaysInMonth(s)),{focusProps:xe,isFocusVisible:se}=ks(),{hoverProps:Te,isHovered:ge}=ru({isDisabled:C||Y||t.isReadOnly});return $.jsx("td",{className:r==null?void 0:r.cell({class:h==null?void 0:h.cell}),"data-slot":"cell",...v,children:$.jsx("span",{...Ut(w,Te,xe),ref:c,className:r==null?void 0:r.cellButton({class:h==null?void 0:h.cellButton}),"data-disabled":vt(C&&!B),"data-focus-visible":vt(D&&se),"data-hover":vt(ge),"data-invalid":vt(B),"data-outside-month":vt(!oE(d.date,s)),"data-pressed":vt(S&&!t.isReadOnly),"data-range-end":vt(me),"data-range-selection":vt(T&&"highlightedRange"in t),"data-range-start":vt(Z),"data-readonly":vt(t.isReadOnly),"data-selected":vt(T),"data-selection-end":vt(ie),"data-selection-start":vt(ee),"data-today":vt(r3(d.date,t.timeZone)),"data-unavailable":vt(Y),children:$.jsx("span",{children:V})})})}function BJ(e){const{startDate:t,direction:r,currentMonth:n}=e,{locale:s}=co(),h=pj(t,s),{state:d,slots:c,weekdayStyle:v,isHeaderExpanded:w,disableAnimation:S,classNames:T}=F0(),{gridProps:C,headerProps:D,weekDays:B}=QZ({...e,weekdayStyle:v,endDate:mv(t)},d),V=[...new Array(h).keys()].map(Y=>$.jsx("tr",{className:c==null?void 0:c.gridBodyRow({class:T==null?void 0:T.gridBodyRow}),"data-slot":"grid-body-row",inert:w?!0:void 0,children:d.getDatesInWeek(Y,t).map((U,F)=>U?$.jsx(FJ,{classNames:T,currentMonth:t,date:U,isPickerVisible:w,slots:c,state:d},F):$.jsx("td",{},F))},Y));return $.jsxs("table",{...C,"aria-hidden":vt(w),className:c==null?void 0:c.grid({class:T==null?void 0:T.grid}),"data-slot":"grid",tabIndex:-1,children:[$.jsx("thead",{...D,className:c==null?void 0:c.gridHeader({class:T==null?void 0:T.gridHeader}),"data-slot":"grid-header",children:$.jsx("tr",{className:c==null?void 0:c.gridHeaderRow({class:T==null?void 0:T.gridHeaderRow}),"data-slot":"grid-header-row",children:B.map((Y,U)=>$.jsx("th",{className:c==null?void 0:c.gridHeaderCell({class:T==null?void 0:T.gridHeaderCell}),"data-slot":"grid-header-cell",children:$.jsx("span",{children:Y})},U))})}),S?$.jsx("tbody",{className:c==null?void 0:c.gridBody({class:T==null?void 0:T.gridBody}),"data-slot":"grid-body",tabIndex:w?-1:0,children:V},n):$.jsx(l6.tbody,{animate:"center",className:c==null?void 0:c.gridBody({class:T==null?void 0:T.gridBody}),custom:r,"data-slot":"grid-body",exit:"exit",initial:"enter",variants:ez,children:V},n)]})}function NJ(e,t){const r=[];if(!e||!t)return r;let n=gv(e);for(;n.compare(t)<=0;)r.push(n),n=gv(n.add({years:1}));return r}function OJ(e,t){return e.add({months:t})}function jJ(e){const r=[gv(e)];for(;r.length<12;){const n=r[r.length-1];r.push(OJ(n,1))}return r}var VJ="Expected a function",iI=NaN,UJ="[object Symbol]",KJ=/^\s+|\s+$/g,HJ=/^[-+]0x[0-9a-f]+$/i,WJ=/^0b[01]+$/i,GJ=/^0o[0-7]+$/i,ZJ=parseInt,qJ=typeof Qf=="object"&&Qf&&Qf.Object===Object&&Qf,YJ=typeof self=="object"&&self&&self.Object===Object&&self,XJ=qJ||YJ||Function("return this")(),JJ=Object.prototype,QJ=JJ.toString,eQ=Math.max,tQ=Math.min,w_=function(){return XJ.Date.now()};function rQ(e,t,r){var n,s,h,d,c,v,w=0,S=!1,T=!1,C=!0;if(typeof e!="function")throw new TypeError(VJ);t=aI(t)||0,Cw(r)&&(S=!!r.leading,T="maxWait"in r,h=T?eQ(aI(r.maxWait)||0,t):h,C="trailing"in r?!!r.trailing:C);function D(fe){var we=n,Z=s;return n=s=void 0,w=fe,d=e.apply(Z,we),d}function B(fe){return w=fe,c=setTimeout(U,t),S?D(fe):d}function V(fe){var we=fe-v,Z=fe-w,me=t-we;return T?tQ(me,h-Z):me}function Y(fe){var we=fe-v,Z=fe-w;return v===void 0||we>=t||we<0||T&&Z>=h}function U(){var fe=w_();if(Y(fe))return F(fe);c=setTimeout(U,V(fe))}function F(fe){return c=void 0,C&&n?D(fe):(n=s=void 0,d)}function O(){c!==void 0&&clearTimeout(c),w=0,n=v=s=c=void 0}function ee(){return c===void 0?d:F(w_())}function ie(){var fe=w_(),we=Y(fe);if(n=arguments,s=this,v=fe,we){if(c===void 0)return B(v);if(T)return c=setTimeout(U,t),D(v)}return c===void 0&&(c=setTimeout(U,t)),d}return ie.cancel=O,ie.flush=ee,ie}function Cw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function nQ(e){return!!e&&typeof e=="object"}function iQ(e){return typeof e=="symbol"||nQ(e)&&QJ.call(e)==UJ}function aI(e){if(typeof e=="number")return e;if(iQ(e))return iI;if(Cw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(KJ,"");var r=WJ.test(e);return r||GJ.test(e)?ZJ(e.slice(2),r?2:8):HJ.test(e)?iI:+e}var aQ=rQ;const oI=om(aQ);var sI=200;function oQ(e){var t;const{date:r,currentMonth:n}=e,{slots:s,state:h,headerRef:d,isHeaderExpanded:c,setIsHeaderExpanded:v,classNames:w}=F0(),S=z.useRef(null),T=z.useRef(null),C=z.useRef(null),D=z.useRef(),B=z.useRef(),V=Ps({month:"long",era:n.calendar.identifier==="gregory"&&n.era==="BC"?"short":void 0,calendar:n.calendar.identifier,timeZone:h.timeZone}),Y=Ps({year:"numeric",timeZone:h.timeZone}),U=(t=NJ(h.minValue,h.maxValue))==null?void 0:t.map(me=>({value:me.year,label:Y.format(me.toDate(h.timeZone))})),F=jJ(r).map(me=>({value:me.month,label:V.format(me.toDate(h.timeZone))}));function O(me){return me.current||(me.current=new Map),me.current}function ee(me,xe,se){const Te=O(se==="months"?D:B);me?Te.set(xe,me):Te.delete(xe)}const ie=z.useCallback((me,xe,se)=>{if(!(me.target instanceof HTMLElement))return;const Te=O(se==="months"?D:B),ve=Array.from(Te.values()).find(ae=>{const De=ae.getBoundingClientRect(),Ve=xe==null?void 0:xe.getBoundingClientRect();return Ve?EO(De,Ve):!1}),Be=Number(ve==null?void 0:ve.getAttribute("data-value"));if(!Be)return;let Le=h.focusedDate.set(se==="months"?{month:Be}:{year:Be});h.setFocusedDate(Le)},[h,c]);z.useEffect(()=>{fe(r.month,"months",!1),fe(r.year,"years",!1)},[c]),z.useEffect(()=>{const me=C.current,xe=T.current,se=S.current;if(!se)return;const Te=oI(ve=>ie(ve,se,"months"),sI),ge=oI(ve=>ie(ve,se,"years"),sI);return me==null||me.addEventListener("scroll",Te),xe==null||xe.addEventListener("scroll",ge),()=>{Te&&(me==null||me.removeEventListener("scroll",Te)),ge&&(xe==null||xe.removeEventListener("scroll",ge))}},[ie]);function fe(me,xe,se=!0){const Te=xe==="months"?D:B,ge=xe==="months"?C:T,Be=O(Te).get(me);Be&&kG(Be,{scrollMode:"always",behavior:se?"smooth":"auto",boundary:ge.current})}const we=z.useCallback((me,xe)=>{const se=me.target,Te=Number(se.getAttribute("data-value"));Te&&fe(Te,xe)},[h]),Z=z.useCallback((me,xe,se)=>{var Te;const ge=O(se==="months"?D:B);if(!ge.get(xe))return;let Be=xe;switch(me.key){case"ArrowDown":Be=xe+1;break;case"ArrowUp":Be=xe-1;break;case"Home":Be=0;break;case"End":Be=F.length-1;break;case"PageUp":Be=xe-3;break;case"PageDown":Be=xe+3;break;case"Escape":case"Enter":case" ":v==null||v(!1),(Te=d==null?void 0:d.current)==null||Te.focus();return}const Le=ge.get(Be);Le==null||Le.focus()},[h]);return{state:h,slots:s,classNames:w,years:U,months:F,highlightRef:S,monthsListRef:C,yearsListRef:T,getItemRef:ee,isHeaderExpanded:c,onPickerItemPressed:we,onPickerItemKeyDown:Z}}var Ew=z.forwardRef(({children:e,autoFocus:t,isDisabled:r,onKeyDown:n,...s},h)=>{const d=bn(h),{buttonProps:c,isPressed:v}=vm({elementType:"button",isDisabled:r,onKeyDown:n,...s},d),{isFocusVisible:w,isFocused:S,focusProps:T}=ks({autoFocus:t}),{isHovered:C,hoverProps:D}=ru({isDisabled:r});return $.jsx("button",{ref:d,"data-disabled":vt(r),"data-focus":vt(S),"data-focus-visible":vt(w),"data-hover":vt(C),"data-pressed":vt(v),"data-slot":"picker-item",...Ut(T,D,c,Ro(s,{enabled:!0})),children:e})});Ew.displayName="CalendarPickerItem";var lI=3;function sQ(e){const{state:t,slots:r,months:n,years:s,highlightRef:h,monthsListRef:d,yearsListRef:c,classNames:v,getItemRef:w,isHeaderExpanded:S,onPickerItemPressed:T,onPickerItemKeyDown:C}=oQ(e),D=z.useCallback(V=>$.jsx("div",{"aria-hidden":"true",className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-slot":"picker-item-empty",tabIndex:-1,...V,children:" "}),[r,v==null?void 0:v.pickerItem]),B=z.useCallback(({children:V})=>$.jsxs($.Fragment,{children:[Array.from({length:lI},(Y,U)=>$.jsx(D,{},U)),V,Array.from({length:lI},(Y,U)=>$.jsx(D,{},U))]}),[D]);return $.jsxs("div",{className:r==null?void 0:r.pickerWrapper({class:v==null?void 0:v.pickerWrapper}),"data-slot":"picker-wrapper",inert:S?!0:void 0,children:[$.jsx("div",{ref:h,className:r==null?void 0:r.pickerHighlight({class:v==null?void 0:v.pickerHighlight}),"data-slot":"picker-highlight"}),$.jsx("div",{ref:d,className:r==null?void 0:r.pickerMonthList({class:v==null?void 0:v.pickerMonthList}),"data-slot":"picker-month-list",children:$.jsx(B,{children:n.map(V=>{var Y;return $.jsx(Ew,{ref:U=>w(U,V.value,"months"),className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-value":V.value,tabIndex:!S||((Y=t.focusedDate)==null?void 0:Y.month)!==V.value?-1:0,onKeyDown:U=>C(U,V.value,"months"),onPress:U=>T(U,"months"),children:V.label},`picker-month-${V.value}`)})})}),$.jsx("div",{ref:c,className:r==null?void 0:r.pickerYearList({class:v==null?void 0:v.pickerYearList}),"data-slot":"picker-year-list",children:$.jsx(B,{children:s.map(V=>{var Y;return $.jsx(Ew,{ref:U=>w(U,V.value,"years"),className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-value":V.value,tabIndex:!S||((Y=t.focusedDate)==null?void 0:Y.year)!==V.value?-1:0,onKeyDown:U=>C(U,V.value,"years"),onPress:U=>T(U,"years"),children:V.label},`picker-year-${V.value}`)})})})]})}function tz(e){const{Component:t="div",showHelper:r,topContent:n,bottomContent:s,calendarProps:h,nextButtonProps:d,prevButtonProps:c,buttonPickerProps:v,errorMessageProps:w,calendarRef:S,errorMessage:T,...C}=e,{state:D,slots:B,visibleMonths:V,showMonthAndYearPickers:Y,disableAnimation:U,classNames:F}=F0(),[O,ee]=z.useState(0),{direction:ie}=co(),fe=D.visibleRange.start,we=[],Z=[];for(let xe=0;xe<V;xe++){let se=fe.add({months:xe});we.push($.jsxs(z.Fragment,{children:[xe===0&&$.jsx(Ts,{...c,onPress:Ss(c.onPress,()=>ee(-1)),children:ie==="rtl"?$.jsx(RA,{}):$.jsx($A,{})}),$.jsx(zJ,{buttonPickerProps:v,currentMonth:fe,date:se,direction:O}),xe===V-1&&$.jsx(Ts,{...d,onPress:Ss(d.onPress,()=>ee(1)),children:ie==="rtl"?$.jsx($A,{}):$.jsx(RA,{})})]},`calendar-header-${xe}`));const Te=z.createElement(BJ,{...e,key:`calendar-month-${xe}`,currentMonth:fe.month,direction:O,startDate:se});Z.push(Y?$.jsxs(z.Fragment,{children:[Te,$.jsx(sQ,{currentMonth:fe,date:se})]},`calendar-month-with-pickers-${xe}`):Te)}const me=$.jsxs($.Fragment,{children:[$.jsx("div",{className:B==null?void 0:B.headerWrapper({class:F==null?void 0:F.headerWrapper}),"data-slot":"header-wrapper",children:we},"header-wrapper"),$.jsx("div",{className:B==null?void 0:B.gridWrapper({class:F==null?void 0:F.gridWrapper}),"data-slot":"grid-wrapper",children:Z},"grid-wrapper")]});return $.jsxs(t,{...Ut(h,C),ref:S,children:[n,$.jsx(Nb,{children:$.jsx("h2",{children:h["aria-label"]})}),U?$.jsx("div",{className:B==null?void 0:B.content({class:F==null?void 0:F.content}),"data-slot":"content",children:me}):$.jsx(T$,{className:B==null?void 0:B.content({class:F==null?void 0:F.content}),"data-slot":"content",children:$.jsx(sY,{custom:O,initial:!1,mode:"popLayout",children:$.jsx($.Fragment,{children:$.jsx(lY,{transition:LJ,children:$.jsx(cY,{features:RJ,children:me})})})})}),$.jsx(Nb,{children:$.jsx("button",{"aria-label":d["aria-label"],disabled:d.isDisabled,tabIndex:-1,onClick:()=>D.focusNextPage()})}),D.isValueInvalid&&r&&$.jsx("div",{className:B==null?void 0:B.helperWrapper({class:F==null?void 0:F.helperWrapper}),"data-slot":"helper-wrapper",children:$.jsx("span",{...w,className:B==null?void 0:B.errorMessage({class:F==null?void 0:F.errorMessage}),"data-slot":"error-message",children:T||"Selected date unavailable."})}),s]})}function rz(e,t){const{context:r,getBaseCalendarProps:n}=rq({...e,ref:t});return $.jsx(Q6,{value:r,children:$.jsx(tz,{...n()})})}rz.displayName="NextUI.Calendar";var lQ=Er(rz);function cQ({className:e,...t}){var r;const{Component:n,slots:s,children:h,domRef:d,locale:c,showHelper:v,minValue:w,maxValue:S,weekdayStyle:T,visibleDuration:C,shouldFilterDOMProps:D,isHeaderExpanded:B,visibleMonths:V,createCalendar:Y,baseProps:U,getPrevButtonProps:F,getNextButtonProps:O,getErrorMessageProps:ee,setIsHeaderExpanded:ie,topContent:fe,bottomContent:we,errorMessage:Z,classNames:me,otherProps:xe}=tL({...t,isRange:!0}),se=z.useRef(null),Te=tq({...t,locale:c,minValue:w,maxValue:S,visibleDuration:C,createCalendar:!Y||typeof Y!="function"?S3:Y}),{title:ge,calendarProps:ve,prevButtonProps:Be,nextButtonProps:Le,errorMessageProps:ae}=JZ(t,Te,d),De=ur(me==null?void 0:me.base,e),Ve=(r=t.disableAnimation)!=null?r:!1,Oe=(ze={})=>({...U,Component:n,showHelper:v,topContent:fe,bottomContent:we,calendarRef:d,calendarProps:ve,prevButtonProps:F(Be),nextButtonProps:O(Le),errorMessageProps:ee(ae),className:s.base({class:De}),errorMessage:Z,...Ro(xe,{enabled:D}),...ze}),he=z.useMemo(()=>({state:Te,slots:s,headerRef:se,weekdayStyle:T,isHeaderExpanded:B,setIsHeaderExpanded:ie,visibleMonths:V,classNames:me,disableAnimation:Ve}),[Te,s,me,T,B,ie,V,Ve]);return{Component:n,children:h,domRef:d,context:he,state:Te,slots:s,title:ge,classNames:me,getBaseCalendarProps:Oe}}function nz(e,t){const{context:r,getBaseCalendarProps:n}=cQ({...e,ref:t});return $.jsx(Q6,{value:r,children:$.jsx(tz,{...n()})})}nz.displayName="NextUI.RangeCalendar";var uQ=Er(nz);const dQ=({fill:e,size:t,height:r,width:n,...s})=>$.jsx("svg",{fill:"none",height:t||r||24,viewBox:"0 0 24 24",width:t||n||24,xmlns:"http://www.w3.org/2000/svg",...s,children:$.jsx("path",{d:"m19.92 8.95-6.52 6.52c-.77.77-2.03.77-2.8 0L4.08 8.95",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5})}),hQ=({fill:e,size:t,height:r,width:n,...s})=>$.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:$.jsx("path",{d:"M21.53 15.93c-.16-.27-.61-.69-1.73-.49a8.46 8.46 0 01-1.88.13 8.409 8.409 0 01-5.91-2.82 8.068 8.068 0 01-1.44-8.66c.44-1.01.13-1.54-.09-1.76s-.77-.55-1.83-.11a10.318 10.318 0 00-6.32 10.21 10.475 10.475 0 007.04 8.99 10 10 0 002.89.55c.16.01.32.02.48.02a10.5 10.5 0 008.47-4.27c.67-.93.49-1.519.32-1.79z",fill:"currentColor"})}),fQ=({fill:e,size:t,height:r,width:n,...s})=>$.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:$.jsxs("g",{fill:"currentColor",children:[$.jsx("path",{d:"M19 12a7 7 0 11-7-7 7 7 0 017 7z"}),$.jsx("path",{d:"M12 22.96a.969.969 0 01-1-.96v-.08a1 1 0 012 0 1.038 1.038 0 01-1 1.04zm7.14-2.82a1.024 1.024 0 01-.71-.29l-.13-.13a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.984.984 0 01-.7.29zm-14.28 0a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a1 1 0 01-.7.29zM22 13h-.08a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zM2.08 13H2a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zm16.93-7.01a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a.984.984 0 01-.7.29zm-14.02 0a1.024 1.024 0 01-.71-.29l-.13-.14a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.97.97 0 01-.7.3zM12 3.04a.969.969 0 01-1-.96V2a1 1 0 012 0 1.038 1.038 0 01-1 1.04z"})]})}),pQ=({fill:e,size:t,height:r,width:n,...s})=>$.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:$.jsx("path",{fill:"currentColor",d:"M12 12q.825 0 1.413-.587T14 10t-.587-1.412T12 8t-1.412.588T10 10t.588 1.413T12 12m0 10q-4.025-3.425-6.012-6.362T4 10.2q0-3.75 2.413-5.975T12 2t5.588 2.225T20 10.2q0 2.5-1.987 5.438T12 22"})});function mQ(e,t,r=window){const n=z.useRef(t);z.useEffect(()=>{n.current=t},[t]),z.useEffect(()=>{if(r==null)return;const s=h=>n.current(h);return r.addEventListener(e,s),()=>r.removeEventListener(e,s)},[e,r])}function gQ(e){const[t,r]=z.useState(!1),[n,s]=z.useState(null);return z.useEffect(()=>{const h=window.matchMedia(e);s(h),r(h.matches)},[e]),mQ("change",h=>r(h.matches),n),t}function yQ(e,t){return vQ(e,t,window.localStorage)}function vQ(e,t,r){const[n,s]=z.useState(()=>{const d=r.getItem(e);return d!=null?JSON.parse(d):t});z.useEffect(()=>{if(n===void 0)return r.removeItem(e);r.setItem(e,JSON.stringify(n))},[e,n,r]);const h=z.useCallback(()=>{s(void 0)},[]);return[n,s,h]}function iz(){const[e,t]=yQ("useDarkMode"),r=gQ("(prefers-color-scheme: dark)"),n=e??r;return z.useEffect(()=>{document.body.classList.toggle("dark",n),document.body.classList.toggle("light",!n)},[n]),[n,t]}/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}var xl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xl||(xl={}));const cI="popstate";function xQ(e){e===void 0&&(e={});function t(n,s){let{pathname:h,search:d,hash:c}=n.location;return kw("",{pathname:h,search:d,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oz(s)}return bQ(t,r,null,e)}function kn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function az(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _Q(){return Math.random().toString(36).substr(2,8)}function uI(e,t){return{usr:e.state,key:e.key,idx:t}}function kw(e,t,r,n){return r===void 0&&(r=null),im({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sh(t):t,{state:r,key:t&&t.key||n||_Q()})}function oz(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bQ(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:h=!1}=n,d=s.history,c=xl.Pop,v=null,w=S();w==null&&(w=0,d.replaceState(im({},d.state,{idx:w}),""));function S(){return(d.state||{idx:null}).idx}function T(){c=xl.Pop;let Y=S(),U=Y==null?null:Y-w;w=Y,v&&v({action:c,location:V.location,delta:U})}function C(Y,U){c=xl.Push;let F=kw(V.location,Y,U);w=S()+1;let O=uI(F,w),ee=V.createHref(F);try{d.pushState(O,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(ee)}h&&v&&v({action:c,location:V.location,delta:1})}function D(Y,U){c=xl.Replace;let F=kw(V.location,Y,U);w=S();let O=uI(F,w),ee=V.createHref(F);d.replaceState(O,"",ee),h&&v&&v({action:c,location:V.location,delta:0})}function B(Y){let U=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof Y=="string"?Y:oz(Y);return F=F.replace(/ $/,"%20"),kn(U,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,U)}let V={get action(){return c},get location(){return e(s,d)},listen(Y){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(cI,T),v=Y,()=>{s.removeEventListener(cI,T),v=null}},createHref(Y){return t(s,Y)},createURL:B,encodeLocation(Y){let U=B(Y);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:C,replace:D,go(Y){return d.go(Y)}};return V}var dI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dI||(dI={}));function wQ(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Sh(t):t,s=cz(n.pathname||"/",r);if(s==null)return null;let h=sz(e);SQ(h);let d=null;for(let c=0;d==null&&c<h.length;++c){let v=LQ(s);d=DQ(h[c],v)}return d}function sz(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(h,d,c)=>{let v={relativePath:c===void 0?h.path||"":c,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};v.relativePath.startsWith("/")&&(kn(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let w=Vc([n,v.relativePath]),S=r.concat(v);h.children&&h.children.length>0&&(kn(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),sz(h.children,t,S,w)),!(h.path==null&&!h.index)&&t.push({path:w,score:IQ(w,h.index),routesMeta:S})};return e.forEach((h,d)=>{var c;if(h.path===""||!((c=h.path)!=null&&c.includes("?")))s(h,d);else for(let v of lz(h.path))s(h,d,v)}),t}function lz(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),h=r.replace(/\?$/,"");if(n.length===0)return s?[h,""]:[h];let d=lz(n.join("/")),c=[];return c.push(...d.map(v=>v===""?h:[h,v].join("/"))),s&&c.push(...d),c.map(v=>e.startsWith("/")&&v===""?"/":v)}function SQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:MQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const PQ=/^:[\w-]+$/,TQ=3,CQ=2,EQ=1,kQ=10,AQ=-2,hI=e=>e==="*";function IQ(e,t){let r=e.split("/"),n=r.length;return r.some(hI)&&(n+=AQ),t&&(n+=CQ),r.filter(s=>!hI(s)).reduce((s,h)=>s+(PQ.test(h)?TQ:h===""?EQ:kQ),n)}function MQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function DQ(e,t){let{routesMeta:r}=e,n={},s="/",h=[];for(let d=0;d<r.length;++d){let c=r[d],v=d===r.length-1,w=s==="/"?t:t.slice(s.length)||"/",S=$Q({path:c.relativePath,caseSensitive:c.caseSensitive,end:v},w);if(!S)return null;Object.assign(n,S.params);let T=c.route;h.push({params:n,pathname:Vc([s,S.pathname]),pathnameBase:jQ(Vc([s,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(s=Vc([s,S.pathnameBase]))}return h}function $Q(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RQ(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let h=s[0],d=h.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((w,S,T)=>{let{paramName:C,isOptional:D}=S;if(C==="*"){let V=c[T]||"";d=h.slice(0,h.length-V.length).replace(/(.)\/+$/,"$1")}const B=c[T];return D&&!B?w[C]=void 0:w[C]=(B||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:d,pattern:e}}function RQ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),az(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,c,v)=>(n.push({paramName:c,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function LQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return az(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cz(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function zQ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Sh(e):e;return{pathname:r?r.startsWith("/")?r:FQ(r,t):t,search:VQ(n),hash:UQ(s)}}function FQ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function S_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BQ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function NQ(e,t){let r=BQ(e);return t?r.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function OQ(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Sh(e):(s=im({},e),kn(!s.pathname||!s.pathname.includes("?"),S_("?","pathname","search",s)),kn(!s.pathname||!s.pathname.includes("#"),S_("#","pathname","hash",s)),kn(!s.search||!s.search.includes("#"),S_("#","search","hash",s)));let h=e===""||s.pathname==="",d=h?"/":s.pathname,c;if(d==null)c=r;else{let T=t.length-1;if(!n&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),T-=1;s.pathname=C.join("/")}c=T>=0?t[T]:"/"}let v=zQ(s,c),w=d&&d!=="/"&&d.endsWith("/"),S=(h||d===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(w||S)&&(v.pathname+="/"),v}const Vc=e=>e.join("/").replace(/\/\/+/g,"/"),jQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const uz=["post","put","patch","delete"];new Set(uz);const HQ=["get",...uz];new Set(HQ);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(this,arguments)}const tP=z.createContext(null),WQ=z.createContext(null),B0=z.createContext(null),N0=z.createContext(null),Ph=z.createContext({outlet:null,matches:[],isDataRoute:!1}),dz=z.createContext(null);function O0(){return z.useContext(N0)!=null}function rP(){return O0()||kn(!1),z.useContext(N0).location}function hz(e){z.useContext(B0).static||z.useLayoutEffect(e)}function su(){let{isDataRoute:e}=z.useContext(Ph);return e?aee():GQ()}function GQ(){O0()||kn(!1);let e=z.useContext(tP),{basename:t,future:r,navigator:n}=z.useContext(B0),{matches:s}=z.useContext(Ph),{pathname:h}=rP(),d=JSON.stringify(NQ(s,r.v7_relativeSplatPath)),c=z.useRef(!1);return hz(()=>{c.current=!0}),z.useCallback(function(w,S){if(S===void 0&&(S={}),!c.current)return;if(typeof w=="number"){n.go(w);return}let T=OQ(w,JSON.parse(d),h,S.relative==="path");e==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Vc([t,T.pathname])),(S.replace?n.replace:n.push)(T,S.state,S)},[t,n,d,h,e])}function ZQ(e,t){return qQ(e,t)}function qQ(e,t,r,n){O0()||kn(!1);let{navigator:s}=z.useContext(B0),{matches:h}=z.useContext(Ph),d=h[h.length-1],c=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let w=rP(),S;if(t){var T;let Y=typeof t=="string"?Sh(t):t;v==="/"||(T=Y.pathname)!=null&&T.startsWith(v)||kn(!1),S=Y}else S=w;let C=S.pathname||"/",D=C;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(Y.length).join("/")}let B=wQ(e,{pathname:D}),V=eee(B&&B.map(Y=>Object.assign({},Y,{params:Object.assign({},c,Y.params),pathname:Vc([v,s.encodeLocation?s.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:Vc([v,s.encodeLocation?s.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,r,n);return t&&V?z.createElement(N0.Provider,{value:{location:am({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:xl.Pop}},V):V}function YQ(){let e=iee(),t=KQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:s},r):null,null)}const XQ=z.createElement(YQ,null);class JQ extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?z.createElement(Ph.Provider,{value:this.props.routeContext},z.createElement(dz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QQ(e){let{routeContext:t,match:r,children:n}=e,s=z.useContext(tP);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(Ph.Provider,{value:t},n)}function eee(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var h;if((h=r)!=null&&h.errors)e=r.matches;else return null}let d=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let S=d.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);S>=0||kn(!1),d=d.slice(0,Math.min(d.length,S+1))}let v=!1,w=-1;if(r&&n&&n.v7_partialHydration)for(let S=0;S<d.length;S++){let T=d[S];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(w=S),T.route.id){let{loaderData:C,errors:D}=r,B=T.route.loader&&C[T.route.id]===void 0&&(!D||D[T.route.id]===void 0);if(T.route.lazy||B){v=!0,w>=0?d=d.slice(0,w+1):d=[d[0]];break}}}return d.reduceRight((S,T,C)=>{let D,B=!1,V=null,Y=null;r&&(D=c&&T.route.id?c[T.route.id]:void 0,V=T.route.errorElement||XQ,v&&(w<0&&C===0?(B=!0,Y=null):w===C&&(B=!0,Y=T.route.hydrateFallbackElement||null)));let U=t.concat(d.slice(0,C+1)),F=()=>{let O;return D?O=V:B?O=Y:T.route.Component?O=z.createElement(T.route.Component,null):T.route.element?O=T.route.element:O=S,z.createElement(QQ,{match:T,routeContext:{outlet:S,matches:U,isDataRoute:r!=null},children:O})};return r&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?z.createElement(JQ,{location:r.location,revalidation:r.revalidation,component:V,error:D,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):F()},null)}var fz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fz||{}),qv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qv||{});function tee(e){let t=z.useContext(tP);return t||kn(!1),t}function ree(e){let t=z.useContext(WQ);return t||kn(!1),t}function nee(e){let t=z.useContext(Ph);return t||kn(!1),t}function pz(e){let t=nee(),r=t.matches[t.matches.length-1];return r.route.id||kn(!1),r.route.id}function iee(){var e;let t=z.useContext(dz),r=ree(qv.UseRouteError),n=pz(qv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function aee(){let{router:e}=tee(fz.UseNavigateStable),t=pz(qv.UseNavigateStable),r=z.useRef(!1);return hz(()=>{r.current=!0}),z.useCallback(function(s,h){h===void 0&&(h={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,am({fromRouteId:t},h)))},[e,t])}function To(e){kn(!1)}function oee(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xl.Pop,navigator:h,static:d=!1,future:c}=e;O0()&&kn(!1);let v=t.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:v,navigator:h,static:d,future:am({v7_relativeSplatPath:!1},c)}),[v,c,h,d]);typeof n=="string"&&(n=Sh(n));let{pathname:S="/",search:T="",hash:C="",state:D=null,key:B="default"}=n,V=z.useMemo(()=>{let Y=cz(S,v);return Y==null?null:{location:{pathname:Y,search:T,hash:C,state:D,key:B},navigationType:s}},[v,S,T,C,D,B,s]);return V==null?null:z.createElement(B0.Provider,{value:w},z.createElement(N0.Provider,{children:r,value:V}))}function see(e){let{children:t,location:r}=e;return ZQ(Aw(t),r)}new Promise(()=>{});function Aw(e,t){t===void 0&&(t=[]);let r=[];return z.Children.forEach(e,(n,s)=>{if(!z.isValidElement(n))return;let h=[...t,s];if(n.type===z.Fragment){r.push.apply(r,Aw(n.props.children,h));return}n.type!==To&&kn(!1),!n.props.index||!n.props.children||kn(!1);let d={id:n.props.id||h.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=Aw(n.props.children,h)),r.push(d)}),r}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lee="6";try{window.__reactRouterVersion=lee}catch{}const cee="startTransition",fI=mB[cee];function uee(e){let{basename:t,children:r,future:n,window:s}=e,h=z.useRef();h.current==null&&(h.current=xQ({window:s,v5Compat:!0}));let d=h.current,[c,v]=z.useState({action:d.action,location:d.location}),{v7_startTransition:w}=n||{},S=z.useCallback(T=>{w&&fI?fI(()=>v(T)):v(T)},[v,w]);return z.useLayoutEffect(()=>d.listen(S),[d,S]),z.createElement(oee,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:d,future:n})}var pI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pI||(pI={}));var mI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mI||(mI={}));function rs(){const[e,t]=iz(),r=rP(),n=su(),[s,h]=z.useState(!1),d=[{name:"Home",link:"/"},{name:"About Seth M.R. Jaipuria School",link:"/about/smrj"},{name:"Meet The Team",link:"/about/team"},{name:"Projects",link:"/Projects"},{name:"Partners",link:"/partners"},{name:"Resources",link:"/resources"}];return $.jsxs(UZ,{onMenuOpenChange:h,classNames:{base:["bg-transparent","pt-4 pb-4","fixed","h-[10vh]","flex","justify-center","items-center","w-full"],item:["flex","relative","pt-4 pb-4 pr-3 pl-3","h-8","cursor-pointer","items-center","rounded-3xl","transition-all","data-[active=true]:bg-primary-100","data-[active=true]:text-primary-500","data-[active=true]:font-semibold","font-medium","hover:bg-white","dark:hover:bg-gray-500/40","hover:text-gray","data-[active=true]:shadow data-[links=true]:hover:shadow"]},children:[$.jsxs(c_,{children:[$.jsx(GZ,{"aria-label":s?"Close menu":"Open menu",className:"md:hidden mr-2"}),$.jsxs(KZ,{children:[$.jsx(ch,{draggable:!1,loading:"eager",alt:"JMUN Logo",src:"/logoNT.png",width:75,classNames:{wrapper:"opacity-70 hover:opacity-100 transition-all ease hover:scale-[105%] select-none hidden dark:block"}}),$.jsx(ch,{draggable:!1,loading:"eager",alt:"JMUN Logo",src:"/logoNT.png",width:75,classNames:{wrapper:"opacity-70 hover:opacity-100 transition-all ease hover:scale-[105%] select-none dark:hidden block"}})]})]}),$.jsxs(c_,{"data-links":"true",justify:"center",className:"gap-4 p-2 rounded-3xl h-12 justify-center bg-gray-400/15 shadow-inner hidden md:flex",children:[$.jsx(nl,{isActive:r.pathname==="/",onClick:()=>n("/"),children:"Home"}),$.jsx(nl,{isActive:r.pathname==="/Projects",onClick:()=>n("/Projects"),children:"Projects"}),$.jsx(nl,{isActive:r.pathname==="/Events",onClick:()=>n("/Events"),className:"hidden lg:flex",children:"Events"}),$.jsx(nl,{isActive:r.pathname==="/Resources",onClick:()=>n("/Resources"),className:"hidden lg:flex",children:"Resources"}),$.jsx(nl,{isActive:r.pathname==="/volunteer",onClick:()=>n("/volunteer"),className:"hidden lg:flex",children:"Volunteer"}),$.jsx(nl,{isActive:r.pathname==="/impact",onClick:()=>n("/impact"),className:"hidden lg:flex",children:"Impact"}),$.jsx(nl,{isActive:r.pathname==="/contact",onClick:()=>n("/contact"),className:"hidden lg:flex",children:"Contact"}),$.jsxs(LZ,{children:[$.jsx(nl,{"data-links":"true",isActive:r.pathname.match("/about"),className:"hidden md:max-lg:flex",children:$.jsx(DZ,{children:$.jsxs("span",{className:"inline-flex content-center flex-wrap",children:["More  ",$.jsx(dQ,{className:"self-center",fill:"currentColor",size:16})]})})}),"3",$.jsxs(MZ,{"aria-label":"Dropdown menu",itemClasses:{base:"gap-4 text-foreground"},onAction:c=>n(c),children:[$.jsx(kA,{children:"Partners"},"/partners"),$.jsx(kA,{children:"Resources"},"/resources")]})]})]}),$.jsxs(c_,{justify:"end",children:[$.jsx(Ts,{auto:!0,onClick:()=>t(!e),isIconOnly:!0,color:"transparent",children:e?$.jsx(fQ,{}):$.jsx(hQ,{})}),$.jsx(Ts,{color:"primary",variant:"shadow",className:"font-semibold text-base",onClick:()=>n("/donate"),children:"Donate"})]}),$.jsx(HR,{className:"pt-8",children:d.map((c,v)=>$.jsx(HZ,{children:$.jsx(TG,{color:r.pathname==c.link?"primary":"foreground",className:"w-full",href:c.link,size:"lg",children:c.name})},`${c}-${v}`))})]})}function xc(){return $.jsx("div",{className:"flex fixed h-[100vh] w-full items-center justify-center",children:$.jsx("div",{className:"aspect-square w-[15%] flex justify-center items-center bg-center bg-contain bg-no-repeat pb-5",style:{backgroundImage:"url(/loaderBgWhite.png)"},children:$.jsx("div",{className:`aspect-square w-[70%] bg-center bg-contain bg-no-repeat mb-7 animate-[spin_5s_infinite_linear] duration-[10s]
                `,style:{backgroundImage:"url(/loaderWhite.png)"}})})})}var mz={exports:{}},dee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hee=dee,fee=hee;function gz(){}function yz(){}yz.resetWarningCache=gz;var pee=function(){function e(n,s,h,d,c,v){if(v!==fee){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yz,resetWarningCache:gz};return r.PropTypes=r,r};mz.exports=pee();var Or=mz.exports;function vz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xz(e,t,r){return t&&mee(e.prototype,t),e}function _z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iw(e,t)}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}function Iw(e,t){return Iw=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Iw(e,t)}function gee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function yee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vee(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:yee(e)}function bz(e){var t=gee();return function(){var n=Yv(e),s;if(t){var h=Yv(this).constructor;s=Reflect.construct(n,arguments,h)}else s=n.apply(this,arguments);return vee(this,s)}}function xee(e){return _ee(e)||bee(e)||wee(e)||See()}function _ee(e){if(Array.isArray(e))return Mw(e)}function bee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function wee(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function See(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=String(e);if(t===0)return r;var n=r.match(/(.*?)([0-9]+)(.*)/),s=n?n[1]:"",h=n?n[3]:"",d=n?n[2]:r,c=d.length>=t?d:(xee(Array(t)).map(function(){return"0"}).join("")+d).slice(t*-1);return"".concat(s).concat(c).concat(h)}var wz={daysInHours:!1,zeroPadTime:2};function Pee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.now,n=r===void 0?Date.now:r,s=t.precision,h=s===void 0?0:s,d=t.controlled,c=t.offsetTime,v=c===void 0?0:c,w=t.overtime,S;typeof e=="string"?S=new Date(e).getTime():e instanceof Date?S=e.getTime():S=e,d||(S+=v);var T=d?S:S-n(),C=Math.min(20,Math.max(0,h)),D=Math.round(parseFloat(((w?T:Math.max(0,T))/1e3).toFixed(C))*1e3),B=Math.abs(D)/1e3;return{total:D,days:Math.floor(B/(3600*24)),hours:Math.floor(B/3600%24),minutes:Math.floor(B/60%60),seconds:Math.floor(B%60),milliseconds:Number((B%1*1e3).toFixed()),completed:D<=0}}function Tee(e,t){var r=e.days,n=e.hours,s=e.minutes,h=e.seconds,d=Object.assign(Object.assign({},wz),t),c=d.daysInHours,v=d.zeroPadTime,w=d.zeroPadDays,S=w===void 0?v:w,T=Math.min(2,v),C=c?Jf(n+r*24,v):Jf(n,T);return{days:c?"":Jf(r,S),hours:C,minutes:Jf(s,T),seconds:Jf(h,T)}}var Sz=function(e){_z(r,e);var t=bz(r);function r(){var n;return vz(this,r),n=t.apply(this,arguments),n.state={count:n.props.count||3},n.startCountdown=function(){n.interval=window.setInterval(function(){var s=n.state.count-1;s===0?(n.stopCountdown(),n.props.onComplete&&n.props.onComplete()):n.setState(function(h){return{count:h.count-1}})},1e3)},n.stopCountdown=function(){clearInterval(n.interval)},n.addTime=function(s){n.stopCountdown(),n.setState(function(h){return{count:h.count+s}},n.startCountdown)},n}return xz(r,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?z.cloneElement(this.props.children,{count:this.state.count}):null}}]),r}(z.Component);Sz.propTypes={count:Or.number,children:Or.element,onComplete:Or.func};var nP=function(e){_z(r,e);var t=bz(r);function r(n){var s;if(vz(this,r),s=t.call(this,n),s.mounted=!1,s.initialTimestamp=s.calcOffsetStartTimestamp(),s.offsetStartTimestamp=s.props.autoStart?0:s.initialTimestamp,s.offsetTime=0,s.legacyMode=!1,s.legacyCountdownRef=z.createRef(),s.tick=function(){var d=s.calcTimeDelta(),c=d.completed&&!s.props.overtime?void 0:s.props.onTick;s.setTimeDeltaState(d,void 0,c)},s.start=function(){if(!s.isStarted()){var d=s.offsetStartTimestamp;s.offsetStartTimestamp=0,s.offsetTime+=d?s.calcOffsetStartTimestamp()-d:0;var c=s.calcTimeDelta();s.setTimeDeltaState(c,"STARTED",s.props.onStart),!s.props.controlled&&(!c.completed||s.props.overtime)&&(s.clearTimer(),s.interval=window.setInterval(s.tick,s.props.intervalDelay))}},s.pause=function(){s.isPaused()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.setTimeDeltaState(s.state.timeDelta,"PAUSED",s.props.onPause))},s.stop=function(){s.isStopped()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.offsetTime=s.offsetStartTimestamp-s.initialTimestamp,s.setTimeDeltaState(s.calcTimeDelta(),"STOPPED",s.props.onStop))},s.isStarted=function(){return s.isStatus("STARTED")},s.isPaused=function(){return s.isStatus("PAUSED")},s.isStopped=function(){return s.isStatus("STOPPED")},s.isCompleted=function(){return s.isStatus("COMPLETED")},n.date){var h=s.calcTimeDelta();s.state={timeDelta:h,status:h.completed?"COMPLETED":"STOPPED"}}else s.legacyMode=!0;return s}return xz(r,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(s){this.legacyMode||this.props.date!==s.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var s=this.props,h=s.date,d=s.now,c=s.precision,v=s.controlled,w=s.overtime;return Pee(h,{now:d,precision:c,controlled:v,offsetTime:this.offsetTime,overtime:w})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(s){this.legacyCountdownRef.current.addTime(s)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(s){return this.state.status===s}},{key:"setTimeDeltaState",value:function(s,h,d){var c=this;if(this.mounted){var v=s.completed&&!this.state.timeDelta.completed,w=s.completed&&h==="STARTED";v&&!this.props.overtime&&this.clearTimer();var S=function(){d&&d(c.state.timeDelta),c.props.onComplete&&(v||w)&&c.props.onComplete(s,w)};return this.setState(function(T){var C=h||T.status;return s.completed&&!c.props.overtime?C="COMPLETED":!h&&C==="COMPLETED"&&(C="STOPPED"),{timeDelta:s,status:C}},S)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var s=this.props,h=s.daysInHours,d=s.zeroPadTime,c=s.zeroPadDays,v=this.state.timeDelta;return Object.assign(Object.assign({},v),{api:this.getApi(),props:this.props,formatted:Tee(v,{daysInHours:h,zeroPadTime:d,zeroPadDays:c})})}},{key:"render",value:function(){if(this.legacyMode){var s=this.props,h=s.count,d=s.children,c=s.onComplete;return z.createElement(Sz,{ref:this.legacyCountdownRef,count:h,onComplete:c},d)}var v=this.props,w=v.className,S=v.overtime,T=v.children,C=v.renderer,D=this.getRenderProps();if(C)return C(D);if(T&&this.state.timeDelta.completed&&!S)return z.cloneElement(T,{countdown:D});var B=D.formatted,V=B.days,Y=B.hours,U=B.minutes,F=B.seconds;return z.createElement("span",{className:w},D.total<0?"-":"",V,V?":":"",Y,":",U,":",F)}}]),r}(z.Component);nP.defaultProps=Object.assign(Object.assign({},wz),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});nP.propTypes={date:Or.oneOfType([Or.instanceOf(Date),Or.string,Or.number]),daysInHours:Or.bool,zeroPadTime:Or.number,zeroPadDays:Or.number,controlled:Or.bool,intervalDelay:Or.number,precision:Or.number,autoStart:Or.bool,overtime:Or.bool,className:Or.string,children:Or.element,renderer:Or.func,now:Or.func,onMount:Or.func,onStart:Or.func,onPause:Or.func,onStop:Or.func,onTick:Or.func,onComplete:Or.func};const Cee="/bgimg.jpg",gI=()=>$.jsx("svg",{className:"ml-5 fill-n-1",width:"24",height:"24",children:$.jsx("path",{d:"M8.293 5.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L13.586 12 8.293 6.707a1 1 0 0 1 0-1.414z"})}),Eee="/",kee=[{src:"/images/Event1.jpg",id:"e1",name:"Recycling Camp",post:"2/8/24",link:"https://youtu.be/4rcWLy2MgDQ?si=C24o5UTFjjLNBPtY",desc:"At GVI, we are passionate about promoting environmental sustainability through our Recycling Camp initiative. This camp is designed to educate participants of all ages about the importance of recycling, waste reduction, and responsible waste management practices."},{src:"/images/Event2.jpg",id:"e2",name:"Project Paws",post:"9/8/24",link:"https://youtu.be/lmboaugl6zg?si=CZquRY4XrcXtBarb",desc:"Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives. "},{src:"/images/Event3.jpg",id:"e3",name:"Go EV",post:"16/8/24",link:"https://youtu.be/0sMKYut0pmQ?si=uhYkGfTgcW7RXgok",desc:"Go EV! stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come."},{src:"/images/Event4.jpg",id:"e4",name:"Tree Plantation",post:"24/8/24",link:"https://youtu.be/uTAVw1sbpno?si=j7oPD7X-f46oYbOE",desc:"At GVI, we are committed to environmental stewardship and sustainability. Our Plantation Drive is a proactive initiative aimed at combating climate change and enhancing our ecosystem through the planting of trees and native vegetation."},{src:"/images/Event5.jpg",id:"e5",name:"Clean the Beech Mission",post:"31/8/24",link:"https://youtu.be/JtGsdiYdObQ?si=y8sm6FnWbQWotX_w",desc:"GVI invites you to participate in our Beach Cleaning event, where we come together to protect and preserve our coastal environments. This initiative is part of our commitment to environmental conservation and ensuring our beaches remain clean and beautiful for everyone to enjoy."}],P_={hidden:{opacity:0,scale:.75},visible:{opacity:1,scale:1,transition:{duration:.5}}};function Aee(){z.useEffect(()=>{document.title="Home | GVI"},[]);const e=su();return $.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[$.jsxs("div",{className:"w-full h-[100vh] font-generica font-semibold text-center",children:[$.jsx("div",{className:"w-full h-full absolute  bg-cover bg-fixed opacity-[0.4]",style:{backgroundImage:`url(${Cee})`,backgroundPosition:"center"}}),$.jsxs("div",{className:"w-full h-full pt-[10vh] flex justify-center items-center flex-col gap-10",children:[$.jsx(ch,{draggable:!1,src:Eee+"logoNT.png",width:450,className:""}),$.jsxs("h1",{className:"text-5xl",children:["GROW",$.jsx("span",{className:"text-6xl",children:"."})," GREEN",$.jsx("span",{className:"text-6xl",children:"."})," GLOBAL",$.jsx("span",{className:"text-6xl",children:"."})]})]})]}),$.jsxs("div",{className:"min-h-[70vh] flex justify-center items-center flex-col text-center py-20",children:[$.jsx("div",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-black text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"GREEN VILLAGE INITIATIVE"}),$.jsx("div",{className:"w-full  m-1 mt-5 flex justify-center items-center text-2xl md:text-3xl lg:text-5xl xl:text-5xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Next Event : Recycling Camp"}),$.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 mt-10 gap-4",children:[$.jsx(nP,{date:new Date("2024-08-02T10:00:00"),intervalDelay:1e3,precision:0,renderer:t=>$.jsxs("div",{className:"h-full w-full col-span-2 flex justify-center items-center font-reguilar text-2xl md:text-3xl lg:text-4xl gap-4 ml-4 mr-4",children:[$.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.days," Days"]}),$.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.hours," Hours"]}),$.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.minutes<10?"0"+t.minutes:t.minutes," ","Minutes"]}),$.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.seconds<10?"0"+t.seconds:t.seconds," ","Seconds"]})]})}),$.jsx("div",{className:"flex justify-center mb-3 mt-5",children:$.jsx(uQ,{prevButton:"disabled",isReadOnly:!0,"aria-label":"Display Calendar",title:"Volunteer Now",defaultValue:{start:new Lr(2024,8,2,10,0,0,"UTC"),end:new Lr(2024,8,5,9,0,0,"UTC")}})})]})]}),$.jsx("div",{className:"min-h-[80vh] w-full flex items-center flex-col p-7 mb-7",children:$.jsxs(Hi,{className:"max-w-[80%]",children:[$.jsx(ha,{className:"flex items-center",children:$.jsx("p",{className:"pl-4 text-center w-full h-[10vh] flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Our Mission"})}),$.jsx(Ml,{}),$.jsx(da,{children:$.jsxs("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:["Greetings!",$.jsx("br",{}),$.jsx("br",{}),"At Green Village Initiative, our mission is centered around promoting sustainable development practices within our community and beyond. We are committed to fostering a greener future by implementing initiatives that reduce carbon footprints, promote recycling, and enhance green spaces. .",$.jsx("br",{}),$.jsx("br",{}),"Through collaborative efforts and community engagement, we aim to raise awareness about environmental issues and inspire actionable steps towards sustainability. Our initiatives are designed to not only mitigate environmental impact but also to create lasting benefits for current and future generations. We believe in the power of education and empowerment. By educating our community about the importance of sustainable living and providing practical solutions, we encourage individuals and businesses to adopt eco-friendly practices in their daily lives and operations.",$.jsx("br",{}),$.jsx("br",{}),"From organizing local clean-up drives to advocating for renewable energy solutions, our projects are diverse and impactful. We work closely with local authorities, businesses, and volunteers to ensure our efforts are aligned with broader environmental goals and contribute positively to our surroundings. Join us in our journey towards a healthier planet and a more resilient community. Together, we can make a significant difference in preserving our natural resources and building a sustainable future for all.",$.jsx("br",{}),$.jsx("br",{})]})})]})}),$.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[$.jsx("p",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Upcoming Events"}),$.jsx("div",{className:"flex flex-col items-center gap-4",children:$.jsx("div",{className:"p-5 mb-12 sm:w-[80vw] md:w-[70vw] w-full lg:w-[70vw] grid grid-cols-5 gap-10",animate:"visible",children:kee.map((t,r)=>$.jsxs($.Fragment,{children:[r%2===1&&$.jsx(e_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:P_,className:"flex flex-col col-span-2 gap-2 justify-center items-end",children:$.jsxs(Hi,{className:"max-w-[100%] p-5",children:[$.jsx(ha,{className:"flex items-center",children:$.jsx("p",{className:"pl-4 text-center w-full h-[10vh]flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:$.jsx("p",{className:"text-md md:text-4xl font-semibold",children:t.name})})}),$.jsx(Ml,{}),$.jsxs(da,{children:[$.jsx("p",{className:"text-sm md:text-lg text-center w-full",children:t.post}),$.jsx("p",{className:"text-sm md:text-lg",children:t.desc}),$.jsx("div",{className:"flex justify-center",children:$.jsx("p",{className:"w-full flex justify-center items-center font-code text-xs font-bold text-n-1 uppercase tracking-wider p-3",children:$.jsxs(Ts,{onClick:()=>e("/Events"),children:[" Explore more ",$.jsx(gI,{})," "]})})})]})]})}),$.jsx(e_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:P_,className:"col-span-3",children:$.jsx(ch,{loading:"eager",classNames:{wrapper:"col-span-3"},src:t.src,alt:"Image of "+t.post},r)}),r%2===0&&$.jsx(e_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:P_,className:"flex flex-col col-span-2 gap-2 justify-center items-start",children:$.jsxs(Hi,{className:"max-w-[100%] p-5",children:[$.jsx(ha,{className:"flex items-center",children:$.jsx("p",{className:"pl-4 text-center w-full h-[10vh]flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:$.jsx("p",{className:"text-md md:text-4xl font-semibold",children:t.name})})}),$.jsx(Ml,{}),$.jsxs(da,{children:[$.jsx("p",{className:"text-sm md:text-lg text-center w-full",children:t.post}),$.jsx("p",{className:"text-sm md:text-lg",children:t.desc}),$.jsx("p",{className:"w-full flex justify-center items-center font-code text-xs font-bold text-n-1 uppercase tracking-wider p-3",children:$.jsxs(Ts,{onClick:()=>e("/Events"),children:[" Explore more ",$.jsx(gI,{})," "]})})]})]})})]}))})})]})]})}const Iee="/";function il(){return $.jsxs("div",{id:"footer",className:"w-full grid grid-cols-1 md:grid-cols-2 pt-12 pb-12 pl-8 pr-8 gap-8 bg-[rgb(20,18,18)] text-white",children:[$.jsxs("div",{className:"w-full flex justify-center items-center flex-col gap-8",children:[$.jsx("div",{children:$.jsx("p",{className:"text-2xl font-semibold mb-4 bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:" Go. Green. Global."})}),$.jsxs("div",{className:"flex flex-row gap-4",children:[$.jsx("div",{className:"flex items-center justify-center",children:$.jsx(pQ,{className:"inline row-span-3",size:40})}),$.jsxs("div",{children:[$.jsx("p",{className:"text",children:" MS - 01"}),$.jsx("p",{className:"text",children:"Modern School,"}),$.jsx("p",{className:"text",children:"Hackathon."})]})]})]}),$.jsx("div",{className:"w-full flex justify-center items-center",children:$.jsx(ch,{src:Iee+"logoNT.png",width:150})}),$.jsx("div",{className:"w-full flex justify-center items-center"})]})}function Mee(){z.useState(!0);const[e,t]=z.useState(!0);return z.useEffect(()=>{document.title="Volunteer | GVI"},[]),$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh] flex justify-center",children:$.jsx("div",{className:"w-[95vw] md:w-[80vw] lg:w-[70vw] xl:w-[60vw] py-8",children:$.jsx(Hi,{children:$.jsx(eL,{isLoaded:!e,classNames:{content:"h-[80vh] w-full"},children:$.jsx("iframe",{onLoad:()=>t(!1),className:"w-full h-full",src:"https://docs.google.com/forms/d/e/1FAIpQLScZ6yF2BS99jF1Y_9xN38uEbL5I30xCIvWUAmA2DjJa5R2S5A/viewform"})})})})})}const Dee="/upiid.jpg";function $ee(){return z.useEffect(()=>{document.title="Donate | GVI"},[]),$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:$.jsxs("div",{className:"flex justify-center items-centre w-full h-[110vh]",children:[$.jsxs(Hi,{className:"py-4 flex w-[35vw] justify-center items-centre",children:[$.jsxs(ha,{className:"pb-0 pt-2 px-4 flex-col items-centre justify-centre",children:[$.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-bold text-4xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Donate for the future"}),$.jsx("h4",{className:"font-bold text-2xl mt-5",children:"UPI ID - 9415336120@pthdfc"})]}),$.jsx(da,{className:"overflow-visible py-2 w-full flex items-centre justify-centre",children:$.jsx(ch,{alt:"Card background",className:"object-cover rounded-xl m-auto w-full flex justify-center items-centre",src:Dee,width:500})})]}),$.jsxs(Hi,{className:"py-4 flex w-[35vw] justify-center items-centre ml-5",children:[$.jsx(ha,{className:"pb-0 pt-2 px-4 flex-col items-centre justify-centre",children:$.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-bold text-4xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"How we use your donations"})}),$.jsx(da,{className:"overflow-visible py-2 w-full flex items-centre justify-centre",children:$.jsxs("p",{className:"w-full flex text-md pl-4",children:["Donations play a crucial role in supporting our mission at Green Village Initiative. We deeply value the trust and generosity of our donors. Here's how donations are typically used:",$.jsx("br",{}),$.jsx("br",{}),"1. Programs and Services: The majority of donations go directly towards funding our core programs and services. These may include initiatives such as environmental conservation projects, educational programs, community outreach efforts, or providing essential services to those in need.",$.jsx("br",{}),$.jsx("br",{}),"2. Operational Support: Donations also contribute to the day-to-day operations of our organization. This includes covering administrative costs, staffing, overhead expenses, and maintaining necessary infrastructure. Operational support ensures that our organization functions smoothly and efficiently, enabling us to focus on our mission without interruption.",$.jsx("br",{}),$.jsx("br",{}),"3. Impact and Expansion: Some donations are allocated towards expanding our impact and reach. This could involve scaling up successful programs, launching new initiatives, or investing in innovative solutions that address emerging challenges. Your support allows us to grow our efforts and make a greater difference in the communities we serve.",$.jsx("br",{}),$.jsx("br",{}),"Every donation, regardless of size, plays a critical role in advancing our mission and creating positive change. We are grateful for your support and remain dedicated to maximizing the impact of every dollar donated towards building a better future for all."]})})]})]})})}var Pz={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.4.1/LICENSE.txt
 */(function(e,t){(function(r,n){e.exports=n()})(Qf,function(){var r={},n={};function s(d,c,v){if(n[d]=v,d==="index"){var w="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",S={};return n.shared(S),n.index(r,S),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))),r}}s("shared",["exports"],function(d){function c(o,i,l,f){return new(l||(l=Promise))(function(m,y){function b(M){try{k(f.next(M))}catch(R){y(R)}}function P(M){try{k(f.throw(M))}catch(R){y(R)}}function k(M){var R;M.done?m(M.value):(R=M.value,R instanceof l?R:new l(function(N){N(R)})).then(b,P)}k((f=f.apply(o,i||[])).next())})}function v(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}typeof SuppressedError=="function"&&SuppressedError;var w=S;function S(o,i){this.x=o,this.y=i}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,i){return this.clone()._rotateAround(o,i)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var i=o.x-this.x,l=o.y-this.y;return i*i+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,i){return Math.atan2(this.x*i-this.y*o,this.x*o+this.y*i)},_matMult:function(o){var i=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=i,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var i=Math.cos(o),l=Math.sin(o),f=l*this.x+i*this.y;return this.x=i*this.x-l*this.y,this.y=f,this},_rotateAround:function(o,i){var l=Math.cos(o),f=Math.sin(o),m=i.y+f*(this.x-i.x)+l*(this.y-i.y);return this.x=i.x+l*(this.x-i.x)-f*(this.y-i.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},S.convert=function(o){return o instanceof S?o:Array.isArray(o)?new S(o[0],o[1]):o};var T=v(w),C=D;function D(o,i,l,f){this.cx=3*o,this.bx=3*(l-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=i,this.p2x=l,this.p2y=f}D.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,i){if(i===void 0&&(i=1e-6),o<0)return 0;if(o>1)return 1;for(var l=o,f=0;f<8;f++){var m=this.sampleCurveX(l)-o;if(Math.abs(m)<i)return l;var y=this.sampleCurveDerivativeX(l);if(Math.abs(y)<1e-6)break;l-=m/y}var b=0,P=1;for(l=o,f=0;f<20&&(m=this.sampleCurveX(l),!(Math.abs(m-o)<i));f++)o>m?b=l:P=l,l=.5*(P-b)+b;return l},solve:function(o,i){return this.sampleCurveY(this.solveCurveX(o,i))}};var B=v(C);let V,Y;function U(){return V==null&&(V=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),V}function F(){if(Y==null&&(Y=!1,U())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const m=4*f;i.fillStyle=`rgb(${m},${m+1},${m+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const l=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&l[f]!==f){Y=!0;break}}}return Y||!1}function O(o,i,l,f){const m=new B(o,i,l,f);return y=>m.solve(y)}const ee=O(.25,.1,.25,1);function ie(o,i,l){return Math.min(l,Math.max(i,o))}function fe(o,i,l){const f=l-i,m=((o-i)%f+f)%f+i;return m===i?l:m}function we(o,...i){for(const l of i)for(const f in l)o[f]=l[f];return o}let Z=1;function me(o,i,l){const f={};for(const m in o)f[m]=i.call(this,o[m],m,o);return f}function xe(o,i,l){const f={};for(const m in o)i.call(this,o[m],m,o)&&(f[m]=o[m]);return f}function se(o){return Array.isArray(o)?o.map(se):typeof o=="object"&&o?me(o,se):o}const Te={};function ge(o){Te[o]||(typeof console<"u"&&console.warn(o),Te[o]=!0)}function ve(o,i,l){return(l.y-o.y)*(i.x-o.x)>(i.y-o.y)*(l.x-o.x)}function Be(o){return typeof WorkerGlobalScope<"u"&&o!==void 0&&o instanceof WorkerGlobalScope}let Le=null;function ae(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ve(o,i,l,f,m){return c(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const y=new VideoFrame(o,{timestamp:0});try{const b=y==null?void 0:y.format;if(!b||!b.startsWith("BGR")&&!b.startsWith("RGB"))throw new Error(`Unrecognized format ${b}`);const P=b.startsWith("BGR"),k=new Uint8ClampedArray(f*m*4);if(yield y.copyTo(k,function(M,R,N,H,G){const J=4*Math.max(-R,0),re=(Math.max(0,N)-N)*H*4+J,le=4*H,ye=Math.max(0,R),Me=Math.max(0,N);return{rect:{x:ye,y:Me,width:Math.min(M.width,R+H)-ye,height:Math.min(M.height,N+G)-Me},layout:[{offset:re,stride:le}]}}(o,i,l,f,m)),P)for(let M=0;M<k.length;M+=4){const R=k[M];k[M]=k[M+2],k[M+2]=R}return k}finally{y.close()}})}let Oe,he;const ze="AbortError";function Je(){return new Error(ze)}const ft={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function mt(o){return ft.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))]}const gt="global-dispatcher";class Et extends Error{constructor(i,l,f,m){super(`AJAXError: ${l} (${i}): ${f}`),this.status=i,this.statusText=l,this.url=f,this.body=m}}const Pt=()=>Be(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,At=function(o,i){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){const f=mt(o.url);if(f)return f(o,i);if(Be(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:o,targetMapId:gt},i)}if(!(/^file:/.test(l=o.url)||/^file:/.test(Pt())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(f,m){return c(this,void 0,void 0,function*(){const y=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:Pt(),signal:m.signal});f.type!=="json"||y.headers.has("Accept")||y.headers.set("Accept","application/json");const b=yield fetch(y);if(!b.ok){const M=yield b.blob();throw new Et(b.status,b.statusText,f.url,M)}let P;P=f.type==="arrayBuffer"||f.type==="image"?b.arrayBuffer():f.type==="json"?b.json():b.text();const k=yield P;if(m.signal.aborted)throw Je();return{data:k,cacheControl:b.headers.get("Cache-Control"),expires:b.headers.get("Expires")}})}(o,i);if(Be(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:o,mustQueue:!0,targetMapId:gt},i)}var l;return function(f,m){return new Promise((y,b)=>{var P;const k=new XMLHttpRequest;k.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(k.responseType="arraybuffer");for(const M in f.headers)k.setRequestHeader(M,f.headers[M]);f.type==="json"&&(k.responseType="text",!((P=f.headers)===null||P===void 0)&&P.Accept||k.setRequestHeader("Accept","application/json")),k.withCredentials=f.credentials==="include",k.onerror=()=>{b(new Error(k.statusText))},k.onload=()=>{if(!m.signal.aborted)if((k.status>=200&&k.status<300||k.status===0)&&k.response!==null){let M=k.response;if(f.type==="json")try{M=JSON.parse(k.response)}catch(R){return void b(R)}y({data:M,cacheControl:k.getResponseHeader("Cache-Control"),expires:k.getResponseHeader("Expires")})}else{const M=new Blob([k.response],{type:k.getResponseHeader("Content-Type")});b(new Et(k.status,k.statusText,f.url,M))}},m.signal.addEventListener("abort",()=>{k.abort(),b(Je())}),k.send(f.body)})}(o,i)};function zt(o){if(!o||o.indexOf("://")<=0||o.indexOf("data:image/")===0||o.indexOf("blob:")===0)return!0;const i=new URL(o),l=window.location;return i.protocol===l.protocol&&i.host===l.host}function Nt(o,i,l){l[o]&&l[o].indexOf(i)!==-1||(l[o]=l[o]||[],l[o].push(i))}function ar(o,i,l){if(l&&l[o]){const f=l[o].indexOf(i);f!==-1&&l[o].splice(f,1)}}class qt{constructor(i,l={}){we(this,l),this.type=i}}class Yt extends qt{constructor(i,l={}){super("error",we({error:i},l))}}class Un{on(i,l){return this._listeners=this._listeners||{},Nt(i,l,this._listeners),this}off(i,l){return ar(i,l,this._listeners),ar(i,l,this._oneTimeListeners),this}once(i,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Nt(i,l,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,l){typeof i=="string"&&(i=new qt(i,l||{}));const f=i.type;if(this.listens(f)){i.target=this;const m=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const P of m)P.call(this,i);const y=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const P of y)ar(f,P,this._oneTimeListeners),P.call(this,i);const b=this._eventedParent;b&&(we(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(i))}else i instanceof Yt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,l){return this._eventedParent=i,this._eventedParentData=l,this}}var je={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ri=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function kr(o,i){const l={};for(const f in o)f!=="ref"&&(l[f]=o[f]);return ri.forEach(f=>{f in i&&(l[f]=i[f])}),l}function Gt(o,i){if(Array.isArray(o)){if(!Array.isArray(i)||o.length!==i.length)return!1;for(let l=0;l<o.length;l++)if(!Gt(o[l],i[l]))return!1;return!0}if(typeof o=="object"&&o!==null&&i!==null){if(typeof i!="object"||Object.keys(o).length!==Object.keys(i).length)return!1;for(const l in o)if(!Gt(o[l],i[l]))return!1;return!0}return o===i}function yr(o,i){o.push(i)}function Yi(o,i,l){yr(l,{command:"addSource",args:[o,i[o]]})}function uo(o,i,l){yr(i,{command:"removeSource",args:[o]}),l[o]=!0}function zo(o,i,l,f){uo(o,l,f),Yi(o,i,l)}function Oa(o,i,l){let f;for(f in o[l])if(Object.prototype.hasOwnProperty.call(o[l],f)&&f!=="data"&&!Gt(o[l][f],i[l][f]))return!1;for(f in i[l])if(Object.prototype.hasOwnProperty.call(i[l],f)&&f!=="data"&&!Gt(o[l][f],i[l][f]))return!1;return!0}function Xi(o,i,l,f,m,y){o=o||{},i=i||{};for(const b in o)Object.prototype.hasOwnProperty.call(o,b)&&(Gt(o[b],i[b])||l.push({command:y,args:[f,b,i[b],m]}));for(const b in i)Object.prototype.hasOwnProperty.call(i,b)&&!Object.prototype.hasOwnProperty.call(o,b)&&(Gt(o[b],i[b])||l.push({command:y,args:[f,b,i[b],m]}))}function ho(o){return o.id}function Vr(o,i){return o[i.id]=i,o}class Xe{constructor(i,l,f,m){this.message=(i?`${i}: `:"")+f,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function en(o,...i){for(const l of i)for(const f in l)o[f]=l[f];return o}class An extends Error{constructor(i,l){super(l),this.message=l,this.key=i}}class Is{constructor(i,l=[]){this.parent=i,this.bindings={};for(const[f,m]of l)this.bindings[f]=m}concat(i){return new Is(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const Fo={kind:"null"},Qe={kind:"number"},Kt={kind:"string"},Ft={kind:"boolean"},Kn={kind:"color"},Hn={kind:"object"},Ot={kind:"value"},ja={kind:"collator"},Va={kind:"formatted"},pn={kind:"padding"},ce={kind:"resolvedImage"},W={kind:"variableAnchorOffsetCollection"};function q(o,i){return{kind:"array",itemType:o,N:i}}function Q(o){if(o.kind==="array"){const i=Q(o.itemType);return typeof o.N=="number"?`array<${i}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${i}>`}return o.kind}const de=[Fo,Qe,Kt,Ft,Kn,Va,Hn,q(Ot),pn,ce,W];function Pe(o,i){if(i.kind==="error")return null;if(o.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Pe(o.itemType,i.itemType))&&(typeof o.N!="number"||o.N===i.N))return null}else{if(o.kind===i.kind)return null;if(o.kind==="value"){for(const l of de)if(!Pe(l,i))return null}}return`Expected ${Q(o)} but found ${Q(i)} instead.`}function Ee(o,i){return i.some(l=>l.kind===o.kind)}function Ie(o,i){return i.some(l=>l==="null"?o===null:l==="array"?Array.isArray(o):l==="object"?o&&!Array.isArray(o)&&typeof o=="object":l===typeof o)}function be(o,i){return o.kind==="array"&&i.kind==="array"?o.itemType.kind===i.itemType.kind&&typeof o.N=="number":o.kind===i.kind}const Re=.96422,Ge=.82521,Ke=4/29,Ue=6/29,Tt=3*Ue*Ue,St=Ue*Ue*Ue,Zt=Math.PI/180,Rt=180/Math.PI;function Jt(o){return(o%=360)<0&&(o+=360),o}function hr([o,i,l,f]){let m,y;const b=tn((.2225045*(o=br(o))+.7168786*(i=br(i))+.0606169*(l=br(l)))/1);o===i&&i===l?m=y=b:(m=tn((.4360747*o+.3850649*i+.1430804*l)/Re),y=tn((.0139322*o+.0971045*i+.7141733*l)/Ge));const P=116*b-16;return[P<0?0:P,500*(m-b),200*(b-y),f]}function br(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function tn(o){return o>St?Math.pow(o,1/3):o/Tt+Ke}function jt([o,i,l,f]){let m=(o+16)/116,y=isNaN(i)?m:m+i/500,b=isNaN(l)?m:m-l/200;return m=1*on(m),y=Re*on(y),b=Ge*on(b),[Ir(3.1338561*y-1.6168667*m-.4906146*b),Ir(-.9787684*y+1.9161415*m+.033454*b),Ir(.0719453*y-.2289914*m+1.4052427*b),f]}function Ir(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function on(o){return o>Ue?o*o*o:Tt*(o-Ke)}function ni(o){return parseInt(o.padEnd(2,o),16)/255}function wi(o,i){return sn(i?o/100:o,0,1)}function sn(o,i,l){return Math.min(Math.max(i,o),l)}function Ms(o){return!o.some(Number.isNaN)}const V0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class dr{constructor(i,l,f,m=1,y=!0){this.r=i,this.g=l,this.b=f,this.a=m,y||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[i,l,f,m]))}static parse(i){if(i instanceof dr)return i;if(typeof i!="string")return;const l=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=V0[f];if(m){const[b,P,k]=m;return[b/255,P/255,k/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const b=f.length<6?1:2;let P=1;return[ni(f.slice(P,P+=b)),ni(f.slice(P,P+=b)),ni(f.slice(P,P+=b)),ni(f.slice(P,P+b)||"ff")]}if(f.startsWith("rgb")){const b=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[P,k,M,R,N,H,G,J,re,le,ye,Me]=b,Se=[R||" ",G||" ",le].join("");if(Se==="  "||Se==="  /"||Se===",,"||Se===",,,"){const Ae=[M,H,re].join(""),Ne=Ae==="%%%"?100:Ae===""?255:0;if(Ne){const Ze=[sn(+k/Ne,0,1),sn(+N/Ne,0,1),sn(+J/Ne,0,1),ye?wi(+ye,Me):1];if(Ms(Ze))return Ze}}return}}const y=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(y){const[b,P,k,M,R,N,H,G,J]=y,re=[k||" ",R||" ",H].join("");if(re==="  "||re==="  /"||re===",,"||re===",,,"){const le=[+P,sn(+M,0,100),sn(+N,0,100),G?wi(+G,J):1];if(Ms(le))return function([ye,Me,Se,Ae]){function Ne(Ze){const it=(Ze+ye/30)%12,Ct=Me*Math.min(Se,1-Se);return Se-Ct*Math.max(-1,Math.min(it-3,9-it,1))}return ye=Jt(ye),Me/=100,Se/=100,[Ne(0),Ne(8),Ne(4),Ae]}(le)}}}(i);return l?new dr(...l,!1):void 0}get rgb(){const{r:i,g:l,b:f,a:m}=this,y=m||1/0;return this.overwriteGetter("rgb",[i/y,l/y,f/y,m])}get hcl(){return this.overwriteGetter("hcl",function(i){const[l,f,m,y]=hr(i),b=Math.sqrt(f*f+m*m);return[Math.round(1e4*b)?Jt(Math.atan2(m,f)*Rt):NaN,b,l,y]}(this.rgb))}get lab(){return this.overwriteGetter("lab",hr(this.rgb))}overwriteGetter(i,l){return Object.defineProperty(this,i,{value:l}),l}toString(){const[i,l,f,m]=this.rgb;return`rgba(${[i,l,f].map(y=>Math.round(255*y)).join(",")},${m})`}}dr.black=new dr(0,0,0,1),dr.white=new dr(1,1,1,1),dr.transparent=new dr(0,0,0,0),dr.red=new dr(1,0,0,1);class Ch{constructor(i,l,f){this.sensitivity=i?l?"variant":"case":l?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,l){return this.collator.compare(i,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Eh{constructor(i,l,f,m,y){this.text=i,this.image=l,this.scale=f,this.fontStack=m,this.textColor=y}}class Si{constructor(i){this.sections=i}static fromString(i){return new Si([new Eh(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Si?i:Si.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class ii{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ii)return i;if(typeof i=="number")return new ii([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const l of i)if(typeof l!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ii(i)}}toString(){return JSON.stringify(this.values)}}const Kl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class ai{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ai)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let l=0;l<i.length;l+=2){const f=i[l],m=i[l+1];if(typeof f!="string"||!Kl.has(f)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new ai(i)}}toString(){return JSON.stringify(this.values)}}class Fi{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Fi({name:i,available:!1}):null}}function Pm(o,i,l,f){return typeof o=="number"&&o>=0&&o<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof l=="number"&&l>=0&&l<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[o,i,l,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[o,i,l,f]:[o,i,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ua(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof dr||o instanceof Ch||o instanceof Si||o instanceof ii||o instanceof ai||o instanceof Fi)return!0;if(Array.isArray(o)){for(const i of o)if(!Ua(i))return!1;return!0}if(typeof o=="object"){for(const i in o)if(!Ua(o[i]))return!1;return!0}return!1}function rn(o){if(o===null)return Fo;if(typeof o=="string")return Kt;if(typeof o=="boolean")return Ft;if(typeof o=="number")return Qe;if(o instanceof dr)return Kn;if(o instanceof Ch)return ja;if(o instanceof Si)return Va;if(o instanceof ii)return pn;if(o instanceof ai)return W;if(o instanceof Fi)return ce;if(Array.isArray(o)){const i=o.length;let l;for(const f of o){const m=rn(f);if(l){if(l===m)continue;l=Ot;break}l=m}return q(l||Ot,i)}return Hn}function Hl(o){const i=typeof o;return o===null?"":i==="string"||i==="number"||i==="boolean"?String(o):o instanceof dr||o instanceof Si||o instanceof ii||o instanceof ai||o instanceof Fi?o.toString():JSON.stringify(o)}class Bo{constructor(i,l){this.type=i,this.value=l}static parse(i,l){if(i.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Ua(i[1]))return l.error("invalid value");const f=i[1];let m=rn(f);const y=l.expectedType;return m.kind!=="array"||m.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(m=y),new Bo(m,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ur{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const No={string:Kt,number:Qe,boolean:Ft,object:Hn};class Ji{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");let f,m=1;const y=i[0];if(y==="array"){let P,k;if(i.length>2){const M=i[1];if(typeof M!="string"||!(M in No)||M==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);P=No[M],m++}else P=Ot;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return l.error('The length argument to "array" must be a positive integer literal',2);k=i[2],m++}f=q(P,k)}else{if(!No[y])throw new Error(`Types doesn't contain name = ${y}`);f=No[y]}const b=[];for(;m<i.length;m++){const P=l.parse(i[m],m,Ot);if(!P)return null;b.push(P)}return new Ji(f,b)}evaluate(i){for(let l=0;l<this.args.length;l++){const f=this.args[l].evaluate(i);if(!Pe(this.type,rn(f)))return f;if(l===this.args.length-1)throw new Ur(`Expected value to be of type ${Q(this.type)}, but found ${Q(rn(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const lu={"to-boolean":Ft,"to-color":Kn,"to-number":Qe,"to-string":Kt};class ba{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const f=i[0];if(!lu[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return l.error("Expected one argument.");const m=lu[f],y=[];for(let b=1;b<i.length;b++){const P=l.parse(i[b],b,Ot);if(!P)return null;y.push(P)}return new ba(m,y)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let l,f;for(const m of this.args){if(l=m.evaluate(i),f=null,l instanceof dr)return l;if(typeof l=="string"){const y=i.parseColor(l);if(y)return y}else if(Array.isArray(l)&&(f=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Pm(l[0],l[1],l[2],l[3]),!f))return new dr(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Ur(f||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(const f of this.args){l=f.evaluate(i);const m=ii.parse(l);if(m)return m}throw new Ur(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(const f of this.args){l=f.evaluate(i);const m=ai.parse(l);if(m)return m}throw new Ur(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(const f of this.args){if(l=f.evaluate(i),l===null)return 0;const m=Number(l);if(!isNaN(m))return m}throw new Ur(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return Si.fromString(Hl(this.args[0].evaluate(i)));case"resolvedImage":return Fi.fromString(Hl(this.args[0].evaluate(i)));default:return Hl(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const kh=["Unknown","Point","LineString","Polygon"];class Ds{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?kh[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let l=this._parseColorCache[i];return l||(l=this._parseColorCache[i]=dr.parse(i)),l}}class or{constructor(i,l,f=[],m,y=new Is,b=[]){this.registry=i,this.path=f,this.key=f.map(P=>`[${P}]`).join(""),this.scope=y,this.errors=b,this.expectedType=m,this._isConstant=l}parse(i,l,f,m,y={}){return l?this.concat(l,f,m)._parse(i,y):this._parse(i,y)}_parse(i,l){function f(m,y,b){return b==="assert"?new Ji(y,[m]):b==="coerce"?new ba(y,[m]):m}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=i[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[m];if(y){let b=y.parse(i,this);if(!b)return null;if(this.expectedType){const P=this.expectedType,k=b.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||k.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||k.kind!=="value"&&k.kind!=="string")if(P.kind!=="padding"||k.kind!=="value"&&k.kind!=="number"&&k.kind!=="array")if(P.kind!=="variableAnchorOffsetCollection"||k.kind!=="value"&&k.kind!=="array"){if(this.checkSubtype(P,k))return null}else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"assert")}if(!(b instanceof Bo)&&b.type.kind!=="resolvedImage"&&this._isConstant(b)){const P=new Ds;try{b=new Bo(b.type,b.evaluate(P))}catch(k){return this.error(k.message),null}}return b}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,l,f){const m=typeof i=="number"?this.path.concat(i):this.path,y=f?this.scope.concat(f):this.scope;return new or(this.registry,this._isConstant,m,l||null,y,this.errors)}error(i,...l){const f=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new An(f,i))}checkSubtype(i,l){const f=Pe(i,l);return f&&this.error(f),f}}class cu{constructor(i,l){this.type=l.type,this.bindings=[].concat(i),this.result=l}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const l of this.bindings)i(l[1]);i(this.result)}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let y=1;y<i.length-1;y+=2){const b=i[y];if(typeof b!="string")return l.error(`Expected string, but found ${typeof b} instead.`,y);if(/[^a-zA-Z0-9_]/.test(b))return l.error("Variable names must contain only alphanumeric characters or '_'.",y);const P=l.parse(i[y+1],y+1);if(!P)return null;f.push([b,P])}const m=l.parse(i[i.length-1],i.length-1,l.expectedType,f);return m?new cu(f,m):null}outputDefined(){return this.result.outputDefined()}}class $s{constructor(i,l){this.type=l.type,this.name=i,this.boundExpression=l}static parse(i,l){if(i.length!==2||typeof i[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const f=i[1];return l.scope.has(f)?new $s(f,l.scope.get(f)):l.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Ah{constructor(i,l,f){this.type=i,this.index=l,this.input=f}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Qe),m=l.parse(i[2],2,q(l.expectedType||Ot));return f&&m?new Ah(m.type.itemType,f,m):null}evaluate(i){const l=this.index.evaluate(i),f=this.input.evaluate(i);if(l<0)throw new Ur(`Array index out of bounds: ${l} < 0.`);if(l>=f.length)throw new Ur(`Array index out of bounds: ${l} > ${f.length-1}.`);if(l!==Math.floor(l))throw new Ur(`Array index must be an integer, but found ${l} instead.`);return f[l]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class uu{constructor(i,l){this.type=Ft,this.needle=i,this.haystack=l}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Ot);return f&&m?Ee(f.type,[Ft,Kt,Qe,Fo,Ot])?new uu(f,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Q(f.type)} instead`):null}evaluate(i){const l=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Ie(l,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Q(rn(l))} instead.`);if(!Ie(f,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Q(rn(f))} instead.`);return f.indexOf(l)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Wl{constructor(i,l,f){this.type=Qe,this.needle=i,this.haystack=l,this.fromIndex=f}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Ot);if(!f||!m)return null;if(!Ee(f.type,[Ft,Kt,Qe,Fo,Ot]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Q(f.type)} instead`);if(i.length===4){const y=l.parse(i[3],3,Qe);return y?new Wl(f,m,y):null}return new Wl(f,m)}evaluate(i){const l=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Ie(l,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Q(rn(l))} instead.`);if(!Ie(f,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Q(rn(f))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(i);return f.indexOf(l,m)}return f.indexOf(l)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class Ih{constructor(i,l,f,m,y,b){this.inputType=i,this.type=l,this.input=f,this.cases=m,this.outputs=y,this.otherwise=b}static parse(i,l){if(i.length<5)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return l.error("Expected an even number of arguments.");let f,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);const y={},b=[];for(let M=2;M<i.length-1;M+=2){let R=i[M];const N=i[M+1];Array.isArray(R)||(R=[R]);const H=l.concat(M);if(R.length===0)return H.error("Expected at least one branch label.");for(const J of R){if(typeof J!="number"&&typeof J!="string")return H.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return H.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return H.error("Numeric branch labels must be integer values.");if(f){if(H.checkSubtype(f,rn(J)))return null}else f=rn(J);if(y[String(J)]!==void 0)return H.error("Branch labels must be unique.");y[String(J)]=b.length}const G=l.parse(N,M,m);if(!G)return null;m=m||G.type,b.push(G)}const P=l.parse(i[1],1,Ot);if(!P)return null;const k=l.parse(i[i.length-1],i.length-1,m);return k?P.type.kind!=="value"&&l.concat(1).checkSubtype(f,P.type)?null:new Ih(f,m,P,y,b,k):null}evaluate(i){const l=this.input.evaluate(i);return(rn(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class du{constructor(i,l,f){this.type=i,this.branches=l,this.otherwise=f}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return l.error("Expected an odd number of arguments.");let f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const m=[];for(let b=1;b<i.length-1;b+=2){const P=l.parse(i[b],b,Ft);if(!P)return null;const k=l.parse(i[b+1],b+1,f);if(!k)return null;m.push([P,k]),f=f||k.type}const y=l.parse(i[i.length-1],i.length-1,f);if(!y)return null;if(!f)throw new Error("Can't infer output type");return new du(f,m,y)}evaluate(i){for(const[l,f]of this.branches)if(l.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[l,f]of this.branches)i(l),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class Gl{constructor(i,l,f,m){this.type=i,this.input=l,this.beginIndex=f,this.endIndex=m}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Qe);if(!f||!m)return null;if(!Ee(f.type,[q(Ot),Kt,Ot]))return l.error(`Expected first argument to be of type array or string, but found ${Q(f.type)} instead`);if(i.length===4){const y=l.parse(i[3],3,Qe);return y?new Gl(f.type,f,m,y):null}return new Gl(f.type,f,m)}evaluate(i){const l=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Ie(l,["string","array"]))throw new Ur(`Expected first argument to be of type array or string, but found ${Q(rn(l))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(i);return l.slice(f,m)}return l.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function hu(o,i){const l=o.length-1;let f,m,y=0,b=l,P=0;for(;y<=b;)if(P=Math.floor((y+b)/2),f=o[P],m=o[P+1],f<=i){if(P===l||i<m)return P;y=P+1}else{if(!(f>i))throw new Ur("Input is not a number.");b=P-1}return 0}class Zl{constructor(i,l,f){this.type=i,this.input=l,this.labels=[],this.outputs=[];for(const[m,y]of f)this.labels.push(m),this.outputs.push(y)}static parse(i,l){if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");const f=l.parse(i[1],1,Qe);if(!f)return null;const m=[];let y=null;l.expectedType&&l.expectedType.kind!=="value"&&(y=l.expectedType);for(let b=1;b<i.length;b+=2){const P=b===1?-1/0:i[b],k=i[b+1],M=b,R=b+1;if(typeof P!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(m.length&&m[m.length-1][0]>=P)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const N=l.parse(k,R,y);if(!N)return null;y=y||N.type,m.push([P,N])}return new Zl(y,f,m)}evaluate(i){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=l[0])return f[0].evaluate(i);const y=l.length;return m>=l[y-1]?f[y-1].evaluate(i):f[hu(l,m)].evaluate(i)}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function U0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var K0=Mh;function Mh(o,i,l,f){this.cx=3*o,this.bx=3*(l-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=i,this.p2x=l,this.p2y=f}Mh.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,i){if(i===void 0&&(i=1e-6),o<0)return 0;if(o>1)return 1;for(var l=o,f=0;f<8;f++){var m=this.sampleCurveX(l)-o;if(Math.abs(m)<i)return l;var y=this.sampleCurveDerivativeX(l);if(Math.abs(y)<1e-6)break;l-=m/y}var b=0,P=1;for(l=o,f=0;f<20&&(m=this.sampleCurveX(l),!(Math.abs(m-o)<i));f++)o>m?b=l:P=l,l=.5*(P-b)+b;return l},solve:function(o,i){return this.sampleCurveY(this.solveCurveX(o,i))}};var Tm=U0(K0);function Oo(o,i,l){return o+l*(i-o)}function fu(o,i,l){return o.map((f,m)=>Oo(f,i[m],l))}const Wn={number:Oo,color:function(o,i,l,f="rgb"){switch(f){case"rgb":{const[m,y,b,P]=fu(o.rgb,i.rgb,l);return new dr(m,y,b,P,!1)}case"hcl":{const[m,y,b,P]=o.hcl,[k,M,R,N]=i.hcl;let H,G;if(isNaN(m)||isNaN(k))isNaN(m)?isNaN(k)?H=NaN:(H=k,b!==1&&b!==0||(G=M)):(H=m,R!==1&&R!==0||(G=y));else{let Me=k-m;k>m&&Me>180?Me-=360:k<m&&m-k>180&&(Me+=360),H=m+l*Me}const[J,re,le,ye]=function([Me,Se,Ae,Ne]){return Me=isNaN(Me)?0:Me*Zt,jt([Ae,Math.cos(Me)*Se,Math.sin(Me)*Se,Ne])}([H,G??Oo(y,M,l),Oo(b,R,l),Oo(P,N,l)]);return new dr(J,re,le,ye,!1)}case"lab":{const[m,y,b,P]=jt(fu(o.lab,i.lab,l));return new dr(m,y,b,P,!1)}}},array:fu,padding:function(o,i,l){return new ii(fu(o.values,i.values,l))},variableAnchorOffsetCollection:function(o,i,l){const f=o.values,m=i.values;if(f.length!==m.length)throw new Ur(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${i.toString()}`);const y=[];for(let b=0;b<f.length;b+=2){if(f[b]!==m[b])throw new Ur(`Cannot interpolate values containing mismatched anchors. from[${b}]: ${f[b]}, to[${b}]: ${m[b]}`);y.push(f[b]);const[P,k]=f[b+1],[M,R]=m[b+1];y.push([Oo(P,M,l),Oo(k,R,l)])}return new ai(y)}};class Pi{constructor(i,l,f,m,y){this.type=i,this.operator=l,this.interpolation=f,this.input=m,this.labels=[],this.outputs=[];for(const[b,P]of y)this.labels.push(b),this.outputs.push(P)}static interpolationFactor(i,l,f,m){let y=0;if(i.name==="exponential")y=Dh(l,i.base,f,m);else if(i.name==="linear")y=Dh(l,1,f,m);else if(i.name==="cubic-bezier"){const b=i.controlPoints;y=new Tm(b[0],b[1],b[2],b[3]).solve(Dh(l,1,f,m))}return y}static parse(i,l){let[f,m,y,...b]=i;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const M=m[1];if(typeof M!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:M}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const M=m.slice(1);if(M.length!==4||M.some(R=>typeof R!="number"||R<0||R>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:M}}}if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(y=l.parse(y,2,Qe),!y)return null;const P=[];let k=null;f==="interpolate-hcl"||f==="interpolate-lab"?k=Kn:l.expectedType&&l.expectedType.kind!=="value"&&(k=l.expectedType);for(let M=0;M<b.length;M+=2){const R=b[M],N=b[M+1],H=M+3,G=M+4;if(typeof R!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(P.length&&P[P.length-1][0]>=R)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const J=l.parse(N,G,k);if(!J)return null;k=k||J.type,P.push([R,J])}return be(k,Qe)||be(k,Kn)||be(k,pn)||be(k,W)||be(k,q(Qe))?new Pi(k,f,m,y,P):l.error(`Type ${Q(k)} is not interpolatable.`)}evaluate(i){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=l[0])return f[0].evaluate(i);const y=l.length;if(m>=l[y-1])return f[y-1].evaluate(i);const b=hu(l,m),P=Pi.interpolationFactor(this.interpolation,m,l[b],l[b+1]),k=f[b].evaluate(i),M=f[b+1].evaluate(i);switch(this.operator){case"interpolate":return Wn[this.type.kind](k,M,P);case"interpolate-hcl":return Wn.color(k,M,P,"hcl");case"interpolate-lab":return Wn.color(k,M,P,"lab")}}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Dh(o,i,l,f){const m=f-l,y=o-l;return m===0?0:i===1?y/m:(Math.pow(i,y)-1)/(Math.pow(i,m)-1)}class pu{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expectected at least one argument.");let f=null;const m=l.expectedType;m&&m.kind!=="value"&&(f=m);const y=[];for(const P of i.slice(1)){const k=l.parse(P,1+y.length,f,void 0,{typeAnnotation:"omit"});if(!k)return null;f=f||k.type,y.push(k)}if(!f)throw new Error("No output type");const b=m&&y.some(P=>Pe(m,P.type));return new pu(b?Ot:f,y)}evaluate(i){let l,f=null,m=0;for(const y of this.args)if(m++,f=y.evaluate(i),f&&f instanceof Fi&&!f.available&&(l||(l=f.name),f=null,m===this.args.length&&(f=l)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}function $h(o,i){return o==="=="||o==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Rh(o,i,l,f){return f.compare(i,l)===0}function Rs(o,i,l){const f=o!=="=="&&o!=="!=";return class Tz{constructor(y,b,P){this.type=Ft,this.lhs=y,this.rhs=b,this.collator=P,this.hasUntypedArgument=y.type.kind==="value"||b.type.kind==="value"}static parse(y,b){if(y.length!==3&&y.length!==4)return b.error("Expected two or three arguments.");const P=y[0];let k=b.parse(y[1],1,Ot);if(!k)return null;if(!$h(P,k.type))return b.concat(1).error(`"${P}" comparisons are not supported for type '${Q(k.type)}'.`);let M=b.parse(y[2],2,Ot);if(!M)return null;if(!$h(P,M.type))return b.concat(2).error(`"${P}" comparisons are not supported for type '${Q(M.type)}'.`);if(k.type.kind!==M.type.kind&&k.type.kind!=="value"&&M.type.kind!=="value")return b.error(`Cannot compare types '${Q(k.type)}' and '${Q(M.type)}'.`);f&&(k.type.kind==="value"&&M.type.kind!=="value"?k=new Ji(M.type,[k]):k.type.kind!=="value"&&M.type.kind==="value"&&(M=new Ji(k.type,[M])));let R=null;if(y.length===4){if(k.type.kind!=="string"&&M.type.kind!=="string"&&k.type.kind!=="value"&&M.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if(R=b.parse(y[3],3,ja),!R)return null}return new Tz(k,M,R)}evaluate(y){const b=this.lhs.evaluate(y),P=this.rhs.evaluate(y);if(f&&this.hasUntypedArgument){const k=rn(b),M=rn(P);if(k.kind!==M.kind||k.kind!=="string"&&k.kind!=="number")throw new Ur(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${k.kind}, ${M.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const k=rn(b),M=rn(P);if(k.kind!=="string"||M.kind!=="string")return i(y,b,P)}return this.collator?l(y,b,P,this.collator.evaluate(y)):i(y,b,P)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}}}const H0=Rs("==",function(o,i,l){return i===l},Rh),Cm=Rs("!=",function(o,i,l){return i!==l},function(o,i,l,f){return!Rh(0,i,l,f)}),Em=Rs("<",function(o,i,l){return i<l},function(o,i,l,f){return f.compare(i,l)<0}),W0=Rs(">",function(o,i,l){return i>l},function(o,i,l,f){return f.compare(i,l)>0}),G0=Rs("<=",function(o,i,l){return i<=l},function(o,i,l,f){return f.compare(i,l)<=0}),Z0=Rs(">=",function(o,i,l){return i>=l},function(o,i,l,f){return f.compare(i,l)>=0});class mu{constructor(i,l,f){this.type=ja,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=l}static parse(i,l){if(i.length!==2)return l.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return l.error("Collator options argument must be an object.");const m=l.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,Ft);if(!m)return null;const y=l.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,Ft);if(!y)return null;let b=null;return f.locale&&(b=l.parse(f.locale,1,Kt),!b)?null:new mu(m,y,b)}evaluate(i){return new Ch(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}class Lh{constructor(i,l,f,m,y){this.type=Kt,this.number=i,this.locale=l,this.currency=f,this.minFractionDigits=m,this.maxFractionDigits=y}static parse(i,l){if(i.length!==3)return l.error("Expected two arguments.");const f=l.parse(i[1],1,Qe);if(!f)return null;const m=i[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let y=null;if(m.locale&&(y=l.parse(m.locale,1,Kt),!y))return null;let b=null;if(m.currency&&(b=l.parse(m.currency,1,Kt),!b))return null;let P=null;if(m["min-fraction-digits"]&&(P=l.parse(m["min-fraction-digits"],1,Qe),!P))return null;let k=null;return m["max-fraction-digits"]&&(k=l.parse(m["max-fraction-digits"],1,Qe),!k)?null:new Lh(f,y,b,P,k)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class gu{constructor(i){this.type=Va,this.sections=i}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return l.error("First argument must be an image or text section.");const m=[];let y=!1;for(let b=1;b<=i.length-1;++b){const P=i[b];if(y&&typeof P=="object"&&!Array.isArray(P)){y=!1;let k=null;if(P["font-scale"]&&(k=l.parse(P["font-scale"],1,Qe),!k))return null;let M=null;if(P["text-font"]&&(M=l.parse(P["text-font"],1,q(Kt)),!M))return null;let R=null;if(P["text-color"]&&(R=l.parse(P["text-color"],1,Kn),!R))return null;const N=m[m.length-1];N.scale=k,N.font=M,N.textColor=R}else{const k=l.parse(i[b],1,Ot);if(!k)return null;const M=k.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,m.push({content:k,scale:null,font:null,textColor:null})}}return new gu(m)}evaluate(i){return new Si(this.sections.map(l=>{const f=l.content.evaluate(i);return rn(f)===ce?new Eh("",f,null,null,null):new Eh(Hl(f),null,l.scale?l.scale.evaluate(i):null,l.font?l.font.evaluate(i).join(","):null,l.textColor?l.textColor.evaluate(i):null)}))}eachChild(i){for(const l of this.sections)i(l.content),l.scale&&i(l.scale),l.font&&i(l.font),l.textColor&&i(l.textColor)}outputDefined(){return!1}}class zh{constructor(i){this.type=ce,this.input=i}static parse(i,l){if(i.length!==2)return l.error("Expected two arguments.");const f=l.parse(i[1],1,Kt);return f?new zh(f):l.error("No image name provided.")}evaluate(i){const l=this.input.evaluate(i),f=Fi.fromString(l);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(l)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class ql{constructor(i){this.type=Qe,this.input=i}static parse(i,l){if(i.length!==2)return l.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=l.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Q(f.type)} instead.`):new ql(f):null}evaluate(i){const l=this.input.evaluate(i);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Ur(`Expected value to be of type string or array, but found ${Q(rn(l))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Ti=8192;function sr(o,i){const l=(180+o[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,m=Math.pow(2,i.z);return[Math.round(l*m*Ti),Math.round(f*m*Ti)]}function Fh(o,i){const l=Math.pow(2,i.z);return[(m=(o[0]/Ti+i.x)/l,360*m-180),(f=(o[1]/Ti+i.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90)];var f,m}function Yl(o,i){o[0]=Math.min(o[0],i[0]),o[1]=Math.min(o[1],i[1]),o[2]=Math.max(o[2],i[0]),o[3]=Math.max(o[3],i[1])}function Xl(o,i){return!(o[0]<=i[0]||o[2]>=i[2]||o[1]<=i[1]||o[3]>=i[3])}function q0(o,i,l){const f=o[0]-i[0],m=o[1]-i[1],y=o[0]-l[0],b=o[1]-l[1];return f*b-y*m==0&&f*y<=0&&m*b<=0}function yu(o,i,l,f){return(m=[f[0]-l[0],f[1]-l[1]])[0]*(y=[i[0]-o[0],i[1]-o[1]])[1]-m[1]*y[0]!=0&&!(!Am(o,i,l,f)||!Am(l,f,o,i));var m,y}function Y0(o,i,l){for(const f of l)for(let m=0;m<f.length-1;++m)if(yu(o,i,f[m],f[m+1]))return!0;return!1}function Ls(o,i,l=!1){let f=!1;for(const P of i)for(let k=0;k<P.length-1;k++){if(q0(o,P[k],P[k+1]))return l;(y=P[k])[1]>(m=o)[1]!=(b=P[k+1])[1]>m[1]&&m[0]<(b[0]-y[0])*(m[1]-y[1])/(b[1]-y[1])+y[0]&&(f=!f)}var m,y,b;return f}function X0(o,i){for(const l of i)if(Ls(o,l))return!0;return!1}function km(o,i){for(const l of o)if(!Ls(l,i))return!1;for(let l=0;l<o.length-1;++l)if(Y0(o[l],o[l+1],i))return!1;return!0}function J0(o,i){for(const l of i)if(km(o,l))return!0;return!1}function Am(o,i,l,f){const m=f[0]-l[0],y=f[1]-l[1],b=(o[0]-l[0])*y-m*(o[1]-l[1]),P=(i[0]-l[0])*y-m*(i[1]-l[1]);return b>0&&P<0||b<0&&P>0}function Bh(o,i,l){const f=[];for(let m=0;m<o.length;m++){const y=[];for(let b=0;b<o[m].length;b++){const P=sr(o[m][b],l);Yl(i,P),y.push(P)}f.push(y)}return f}function Im(o,i,l){const f=[];for(let m=0;m<o.length;m++){const y=Bh(o[m],i,l);f.push(y)}return f}function Mm(o,i,l,f){if(o[0]<l[0]||o[0]>l[2]){const m=.5*f;let y=o[0]-l[0]>m?-f:l[0]-o[0]>m?f:0;y===0&&(y=o[0]-l[2]>m?-f:l[2]-o[0]>m?f:0),o[0]+=y}Yl(i,o)}function Dm(o,i,l,f){const m=Math.pow(2,f.z)*Ti,y=[f.x*Ti,f.y*Ti],b=[];for(const P of o)for(const k of P){const M=[k.x+y[0],k.y+y[1]];Mm(M,i,l,m),b.push(M)}return b}function $m(o,i,l,f){const m=Math.pow(2,f.z)*Ti,y=[f.x*Ti,f.y*Ti],b=[];for(const k of o){const M=[];for(const R of k){const N=[R.x+y[0],R.y+y[1]];Yl(i,N),M.push(N)}b.push(M)}if(i[2]-i[0]<=m/2){(P=i)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const k of b)for(const M of k)Mm(M,i,l,m)}var P;return b}class jo{constructor(i,l){this.type=Ft,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Ua(i[1])){const f=i[1];if(f.type==="FeatureCollection"){const m=[];for(const y of f.features){const{type:b,coordinates:P}=y.geometry;b==="Polygon"&&m.push(P),b==="MultiPolygon"&&m.push(...P)}if(m.length)return new jo(f,{type:"MultiPolygon",coordinates:m})}else if(f.type==="Feature"){const m=f.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new jo(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new jo(f,f)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,f){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(f.type==="Polygon"){const P=Bh(f.coordinates,y,b),k=Dm(l.geometry(),m,y,b);if(!Xl(m,y))return!1;for(const M of k)if(!Ls(M,P))return!1}if(f.type==="MultiPolygon"){const P=Im(f.coordinates,y,b),k=Dm(l.geometry(),m,y,b);if(!Xl(m,y))return!1;for(const M of k)if(!X0(M,P))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,f){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(f.type==="Polygon"){const P=Bh(f.coordinates,y,b),k=$m(l.geometry(),m,y,b);if(!Xl(m,y))return!1;for(const M of k)if(!km(M,P))return!1}if(f.type==="MultiPolygon"){const P=Im(f.coordinates,y,b),k=$m(l.geometry(),m,y,b);if(!Xl(m,y))return!1;for(const M of k)if(!J0(M,P))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Rm=class{constructor(o=[],i=Q0){if(this.data=o,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:i,compare:l}=this,f=i[o];for(;o>0;){const m=o-1>>1,y=i[m];if(l(f,y)>=0)break;i[o]=y,o=m}i[o]=f}_down(o){const{data:i,compare:l}=this,f=this.length>>1,m=i[o];for(;o<f;){let y=1+(o<<1),b=i[y];const P=y+1;if(P<this.length&&l(i[P],b)<0&&(y=P,b=i[P]),l(b,m)>=0)break;i[o]=b,o=y}i[o]=m}};function Q0(o,i){return o<i?-1:o>i?1:0}function ex(o,i,l,f,m){Lm(o,i,l,f||o.length-1,m||tx)}function Lm(o,i,l,f,m){for(;f>l;){if(f-l>600){var y=f-l+1,b=i-l+1,P=Math.log(y),k=.5*Math.exp(2*P/3),M=.5*Math.sqrt(P*k*(y-k)/y)*(b-y/2<0?-1:1);Lm(o,i,Math.max(l,Math.floor(i-b*k/y+M)),Math.min(f,Math.floor(i+(y-b)*k/y+M)),m)}var R=o[i],N=l,H=f;for(Jl(o,l,i),m(o[f],R)>0&&Jl(o,l,f);N<H;){for(Jl(o,N,H),N++,H--;m(o[N],R)<0;)N++;for(;m(o[H],R)>0;)H--}m(o[l],R)===0?Jl(o,l,H):Jl(o,++H,f),H<=i&&(l=H+1),i<=H&&(f=H-1)}}function Jl(o,i,l){var f=o[i];o[i]=o[l],o[l]=f}function tx(o,i){return o<i?-1:o>i?1:0}function vu(o,i){if(o.length<=1)return[o];const l=[];let f,m;for(const y of o){const b=nx(y);b!==0&&(y.area=Math.abs(b),m===void 0&&(m=b<0),m===b<0?(f&&l.push(f),f=[y]):f.push(y))}if(f&&l.push(f),i>1)for(let y=0;y<l.length;y++)l[y].length<=i||(ex(l[y],i,1,l[y].length-1,rx),l[y]=l[y].slice(0,i));return l}function rx(o,i){return i.area-o.area}function nx(o){let i=0;for(let l,f,m=0,y=o.length,b=y-1;m<y;b=m++)l=o[m],f=o[b],i+=(f.x-l.x)*(l.y+f.y);return i}const zm=1/298.257223563,Fm=zm*(2-zm),Bm=Math.PI/180;class Nh{constructor(i){const l=6378.137*Bm*1e3,f=Math.cos(i*Bm),m=1/(1-Fm*(1-f*f)),y=Math.sqrt(m);this.kx=l*y*f,this.ky=l*y*m*(1-Fm)}distance(i,l){const f=this.wrap(i[0]-l[0])*this.kx,m=(i[1]-l[1])*this.ky;return Math.sqrt(f*f+m*m)}pointOnLine(i,l){let f,m,y,b,P=1/0;for(let k=0;k<i.length-1;k++){let M=i[k][0],R=i[k][1],N=this.wrap(i[k+1][0]-M)*this.kx,H=(i[k+1][1]-R)*this.ky,G=0;N===0&&H===0||(G=(this.wrap(l[0]-M)*this.kx*N+(l[1]-R)*this.ky*H)/(N*N+H*H),G>1?(M=i[k+1][0],R=i[k+1][1]):G>0&&(M+=N/this.kx*G,R+=H/this.ky*G)),N=this.wrap(l[0]-M)*this.kx,H=(l[1]-R)*this.ky;const J=N*N+H*H;J<P&&(P=J,f=M,m=R,y=k,b=G)}return{point:[f,m],index:y,t:Math.max(0,Math.min(1,b))}}wrap(i){for(;i<-180;)i+=360;for(;i>180;)i-=360;return i}}function Nm(o,i){return i[0]-o[0]}function zs(o){return o[1]-o[0]+1}function Ka(o,i){return o[1]>=o[0]&&o[1]<i}function Oh(o,i){if(o[0]>o[1])return[null,null];const l=zs(o);if(i){if(l===2)return[o,null];const m=Math.floor(l/2);return[[o[0],o[0]+m],[o[0]+m,o[1]]]}if(l===1)return[o,null];const f=Math.floor(l/2)-1;return[[o[0],o[0]+f],[o[0]+f+1,o[1]]]}function jh(o,i){if(!Ka(i,o.length))return[1/0,1/0,-1/0,-1/0];const l=[1/0,1/0,-1/0,-1/0];for(let f=i[0];f<=i[1];++f)Yl(l,o[f]);return l}function Vh(o){const i=[1/0,1/0,-1/0,-1/0];for(const l of o)for(const f of l)Yl(i,f);return i}function Kr(o){return o[0]!==-1/0&&o[1]!==-1/0&&o[2]!==1/0&&o[3]!==1/0}function Uh(o,i,l){if(!Kr(o)||!Kr(i))return NaN;let f=0,m=0;return o[2]<i[0]&&(f=i[0]-o[2]),o[0]>i[2]&&(f=o[0]-i[2]),o[1]>i[3]&&(m=o[1]-i[3]),o[3]<i[1]&&(m=i[1]-o[3]),l.distance([0,0],[f,m])}function Wt(o,i,l){const f=l.pointOnLine(i,o);return l.distance(o,f.point)}function Ql(o,i,l,f,m){const y=Math.min(Wt(o,[l,f],m),Wt(i,[l,f],m)),b=Math.min(Wt(l,[o,i],m),Wt(f,[o,i],m));return Math.min(y,b)}function Mr(o,i,l,f,m){if(!Ka(i,o.length)||!Ka(f,l.length))return 1/0;let y=1/0;for(let b=i[0];b<i[1];++b){const P=o[b],k=o[b+1];for(let M=f[0];M<f[1];++M){const R=l[M],N=l[M+1];if(yu(P,k,R,N))return 0;y=Math.min(y,Ql(P,k,R,N,m))}}return y}function Ar(o,i,l,f,m){if(!Ka(i,o.length)||!Ka(f,l.length))return NaN;let y=1/0;for(let b=i[0];b<=i[1];++b)for(let P=f[0];P<=f[1];++P)if(y=Math.min(y,m.distance(o[b],l[P])),y===0)return y;return y}function xu(o,i,l){if(Ls(o,i,!0))return 0;let f=1/0;for(const m of i){const y=m[0],b=m[m.length-1];if(y!==b&&(f=Math.min(f,Wt(o,[b,y],l)),f===0))return f;const P=l.pointOnLine(m,o);if(f=Math.min(f,l.distance(o,P.point)),f===0)return f}return f}function Om(o,i,l,f){if(!Ka(i,o.length))return NaN;for(let y=i[0];y<=i[1];++y)if(Ls(o[y],l,!0))return 0;let m=1/0;for(let y=i[0];y<i[1];++y){const b=o[y],P=o[y+1];for(const k of l)for(let M=0,R=k.length,N=R-1;M<R;N=M++){const H=k[N],G=k[M];if(yu(b,P,H,G))return 0;m=Math.min(m,Ql(b,P,H,G,f))}}return m}function Kh(o,i){for(const l of o)for(const f of l)if(Ls(f,i,!0))return!0;return!1}function ix(o,i,l,f=1/0){const m=Vh(o),y=Vh(i);if(f!==1/0&&Uh(m,y,l)>=f)return f;if(Xl(m,y)){if(Kh(o,i))return 0}else if(Kh(i,o))return 0;let b=1/0;for(const P of o)for(let k=0,M=P.length,R=M-1;k<M;R=k++){const N=P[R],H=P[k];for(const G of i)for(let J=0,re=G.length,le=re-1;J<re;le=J++){const ye=G[le],Me=G[J];if(yu(N,H,ye,Me))return 0;b=Math.min(b,Ql(N,H,ye,Me,l))}}return b}function jm(o,i,l,f,m,y){if(!y)return;const b=Uh(jh(f,y),m,l);b<i&&o.push([b,y,[0,0]])}function _u(o,i,l,f,m,y,b){if(!y||!b)return;const P=Uh(jh(f,y),jh(m,b),l);P<i&&o.push([P,y,b])}function bu(o,i,l,f,m=1/0){let y=Math.min(f.distance(o[0],l[0][0]),m);if(y===0)return y;const b=new Rm([[0,[0,o.length-1],[0,0]]],Nm),P=Vh(l);for(;b.length>0;){const k=b.pop();if(k[0]>=y)continue;const M=k[1],R=i?50:100;if(zs(M)<=R){if(!Ka(M,o.length))return NaN;if(i){const N=Om(o,M,l,f);if(isNaN(N)||N===0)return N;y=Math.min(y,N)}else for(let N=M[0];N<=M[1];++N){const H=xu(o[N],l,f);if(y=Math.min(y,H),y===0)return 0}}else{const N=Oh(M,i);jm(b,y,f,o,P,N[0]),jm(b,y,f,o,P,N[1])}}return y}function ec(o,i,l,f,m,y=1/0){let b=Math.min(y,m.distance(o[0],l[0]));if(b===0)return b;const P=new Rm([[0,[0,o.length-1],[0,l.length-1]]],Nm);for(;P.length>0;){const k=P.pop();if(k[0]>=b)continue;const M=k[1],R=k[2],N=i?50:100,H=f?50:100;if(zs(M)<=N&&zs(R)<=H){if(!Ka(M,o.length)&&Ka(R,l.length))return NaN;let G;if(i&&f)G=Mr(o,M,l,R,m),b=Math.min(b,G);else if(i&&!f){const J=o.slice(M[0],M[1]+1);for(let re=R[0];re<=R[1];++re)if(G=Wt(l[re],J,m),b=Math.min(b,G),b===0)return b}else if(!i&&f){const J=l.slice(R[0],R[1]+1);for(let re=M[0];re<=M[1];++re)if(G=Wt(o[re],J,m),b=Math.min(b,G),b===0)return b}else G=Ar(o,M,l,R,m),b=Math.min(b,G)}else{const G=Oh(M,i),J=Oh(R,f);_u(P,b,m,o,l,G[0],J[0]),_u(P,b,m,o,l,G[0],J[1]),_u(P,b,m,o,l,G[1],J[0]),_u(P,b,m,o,l,G[1],J[1])}}return b}function wu(o){return o.type==="MultiPolygon"?o.coordinates.map(i=>({type:"Polygon",coordinates:i})):o.type==="MultiLineString"?o.coordinates.map(i=>({type:"LineString",coordinates:i})):o.type==="MultiPoint"?o.coordinates.map(i=>({type:"Point",coordinates:i})):[o]}class fo{constructor(i,l){this.type=Qe,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Ua(i[1])){const f=i[1];if(f.type==="FeatureCollection")return new fo(f,f.features.map(m=>wu(m.geometry)).flat());if(f.type==="Feature")return new fo(f,wu(f.geometry));if("type"in f&&"coordinates"in f)return new fo(f,wu(f))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,f){const m=l.geometry(),y=m.flat().map(k=>Fh([k.x,k.y],l.canonical));if(m.length===0)return NaN;const b=new Nh(y[0][1]);let P=1/0;for(const k of f){switch(k.type){case"Point":P=Math.min(P,ec(y,!1,[k.coordinates],!1,b,P));break;case"LineString":P=Math.min(P,ec(y,!1,k.coordinates,!0,b,P));break;case"Polygon":P=Math.min(P,bu(y,!1,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,f){const m=l.geometry(),y=m.flat().map(k=>Fh([k.x,k.y],l.canonical));if(m.length===0)return NaN;const b=new Nh(y[0][1]);let P=1/0;for(const k of f){switch(k.type){case"Point":P=Math.min(P,ec(y,!0,[k.coordinates],!1,b,P));break;case"LineString":P=Math.min(P,ec(y,!0,k.coordinates,!0,b,P));break;case"Polygon":P=Math.min(P,bu(y,!0,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries);if(i.geometryType()==="Polygon")return function(l,f){const m=l.geometry();if(m.length===0||m[0].length===0)return NaN;const y=vu(m,0).map(k=>k.map(M=>M.map(R=>Fh([R.x,R.y],l.canonical)))),b=new Nh(y[0][0][0][1]);let P=1/0;for(const k of f)for(const M of y){switch(k.type){case"Point":P=Math.min(P,bu([k.coordinates],!1,M,b,P));break;case"LineString":P=Math.min(P,bu(k.coordinates,!0,M,b,P));break;case"Polygon":P=Math.min(P,ix(M,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Vo={"==":H0,"!=":Cm,">":W0,"<":Em,">=":Z0,"<=":G0,array:Ji,at:Ah,boolean:Ji,case:du,coalesce:pu,collator:mu,format:gu,image:zh,in:uu,"index-of":Wl,interpolate:Pi,"interpolate-hcl":Pi,"interpolate-lab":Pi,length:ql,let:cu,literal:Bo,match:Ih,number:Ji,"number-format":Lh,object:Ji,slice:Gl,step:Zl,string:Ji,"to-boolean":ba,"to-color":ba,"to-number":ba,"to-string":ba,var:$s,within:jo,distance:fo};class oi{constructor(i,l,f,m){this.name=i,this.type=l,this._evaluate=f,this.args=m}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,l){const f=i[0],m=oi.definitions[f];if(!m)return l.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(m)?m[0]:m.type,b=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,P=b.filter(([M])=>!Array.isArray(M)||M.length===i.length-1);let k=null;for(const[M,R]of P){k=new or(l.registry,Su,l.path,null,l.scope);const N=[];let H=!1;for(let G=1;G<i.length;G++){const J=i[G],re=Array.isArray(M)?M[G-1]:M.type,le=k.parse(J,1+N.length,re);if(!le){H=!0;break}N.push(le)}if(!H)if(Array.isArray(M)&&M.length!==N.length)k.error(`Expected ${M.length} arguments, but found ${N.length} instead.`);else{for(let G=0;G<N.length;G++){const J=Array.isArray(M)?M[G]:M.type,re=N[G];k.concat(G+1).checkSubtype(J,re.type)}if(k.errors.length===0)return new oi(f,y,R,N)}}if(P.length===1)l.errors.push(...k.errors);else{const M=(P.length?P:b).map(([N])=>{return H=N,Array.isArray(H)?`(${H.map(Q).join(", ")})`:`(${Q(H.type)}...)`;var H}).join(" | "),R=[];for(let N=1;N<i.length;N++){const H=l.parse(i[N],1+R.length);if(!H)return null;R.push(Q(H.type))}l.error(`Expected arguments of type ${M}, but found (${R.join(", ")}) instead.`)}return null}static register(i,l){oi.definitions=l;for(const f in l)i[f]=oi}}function Vm(o,[i,l,f,m]){i=i.evaluate(o),l=l.evaluate(o),f=f.evaluate(o);const y=m?m.evaluate(o):1,b=Pm(i,l,f,y);if(b)throw new Ur(b);return new dr(i/255,l/255,f/255,y,!1)}function Um(o,i){return o in i}function Hh(o,i){const l=i[o];return l===void 0?null:l}function Uo(o){return{type:o}}function Su(o){if(o instanceof $s)return Su(o.boundExpression);if(o instanceof oi&&o.name==="error"||o instanceof mu||o instanceof jo||o instanceof fo)return!1;const i=o instanceof ba||o instanceof Ji;let l=!0;return o.eachChild(f=>{l=i?l&&Su(f):l&&f instanceof Bo}),!!l&&Pu(o)&&Tu(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Pu(o){if(o instanceof oi&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof jo||o instanceof fo)return!1;let i=!0;return o.eachChild(l=>{i&&!Pu(l)&&(i=!1)}),i}function tc(o){if(o instanceof oi&&o.name==="feature-state")return!1;let i=!0;return o.eachChild(l=>{i&&!tc(l)&&(i=!1)}),i}function Tu(o,i){if(o instanceof oi&&i.indexOf(o.name)>=0)return!1;let l=!0;return o.eachChild(f=>{l&&!Tu(f,i)&&(l=!1)}),l}function Wh(o){return{result:"success",value:o}}function Ko(o){return{result:"error",value:o}}function Ha(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function Km(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function Cu(o){return!!o.expression&&o.expression.interpolated}function tr(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function Fs(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function Eu(o){return o}function rc(o,i){const l=i.type==="color",f=o.stops&&typeof o.stops[0][0]=="object",m=f||!(f||o.property!==void 0),y=o.type||(Cu(i)?"exponential":"interval");if(l||i.type==="padding"){const R=l?dr.parse:ii.parse;(o=en({},o)).stops&&(o.stops=o.stops.map(N=>[N[0],R(N[1])])),o.default=R(o.default?o.default:i.default)}if(o.colorSpace&&(b=o.colorSpace)!=="rgb"&&b!=="hcl"&&b!=="lab")throw new Error(`Unknown color space: "${o.colorSpace}"`);var b;let P,k,M;if(y==="exponential")P=Zh;else if(y==="interval")P=Hm;else if(y==="categorical"){P=Gh,k=Object.create(null);for(const R of o.stops)k[R[0]]=R[1];M=typeof o.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);P=ku}if(f){const R={},N=[];for(let J=0;J<o.stops.length;J++){const re=o.stops[J],le=re[0].zoom;R[le]===void 0&&(R[le]={zoom:le,type:o.type,property:o.property,default:o.default,stops:[]},N.push(le)),R[le].stops.push([re[0].value,re[1]])}const H=[];for(const J of N)H.push([R[J].zoom,rc(R[J],i)]);const G={name:"linear"};return{kind:"composite",interpolationType:G,interpolationFactor:Pi.interpolationFactor.bind(void 0,G),zoomStops:H.map(J=>J[0]),evaluate:({zoom:J},re)=>Zh({stops:H,base:o.base},i,J).evaluate(J,re)}}if(m){const R=y==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:R,interpolationFactor:Pi.interpolationFactor.bind(void 0,R),zoomStops:o.stops.map(N=>N[0]),evaluate:({zoom:N})=>P(o,i,N,k,M)}}return{kind:"source",evaluate(R,N){const H=N&&N.properties?N.properties[o.property]:void 0;return H===void 0?Bs(o.default,i.default):P(o,i,H,k,M)}}}function Bs(o,i,l){return o!==void 0?o:i!==void 0?i:l!==void 0?l:void 0}function Gh(o,i,l,f,m){return Bs(typeof l===m?f[l]:void 0,o.default,i.default)}function Hm(o,i,l){if(tr(l)!=="number")return Bs(o.default,i.default);const f=o.stops.length;if(f===1||l<=o.stops[0][0])return o.stops[0][1];if(l>=o.stops[f-1][0])return o.stops[f-1][1];const m=hu(o.stops.map(y=>y[0]),l);return o.stops[m][1]}function Zh(o,i,l){const f=o.base!==void 0?o.base:1;if(tr(l)!=="number")return Bs(o.default,i.default);const m=o.stops.length;if(m===1||l<=o.stops[0][0])return o.stops[0][1];if(l>=o.stops[m-1][0])return o.stops[m-1][1];const y=hu(o.stops.map(R=>R[0]),l),b=function(R,N,H,G){const J=G-H,re=R-H;return J===0?0:N===1?re/J:(Math.pow(N,re)-1)/(Math.pow(N,J)-1)}(l,f,o.stops[y][0],o.stops[y+1][0]),P=o.stops[y][1],k=o.stops[y+1][1],M=Wn[i.type]||Eu;return typeof P.evaluate=="function"?{evaluate(...R){const N=P.evaluate.apply(void 0,R),H=k.evaluate.apply(void 0,R);if(N!==void 0&&H!==void 0)return M(N,H,b,o.colorSpace)}}:M(P,k,b,o.colorSpace)}function ku(o,i,l){switch(i.type){case"color":l=dr.parse(l);break;case"formatted":l=Si.fromString(l.toString());break;case"resolvedImage":l=Fi.fromString(l.toString());break;case"padding":l=ii.parse(l);break;default:tr(l)===i.type||i.type==="enum"&&i.values[l]||(l=void 0)}return Bs(l,o.default,i.default)}oi.register(Vo,{error:[{kind:"error"},[Kt],(o,[i])=>{throw new Ur(i.evaluate(o))}],typeof:[Kt,[Ot],(o,[i])=>Q(rn(i.evaluate(o)))],"to-rgba":[q(Qe,4),[Kn],(o,[i])=>{const[l,f,m,y]=i.evaluate(o).rgb;return[255*l,255*f,255*m,y]}],rgb:[Kn,[Qe,Qe,Qe],Vm],rgba:[Kn,[Qe,Qe,Qe,Qe],Vm],has:{type:Ft,overloads:[[[Kt],(o,[i])=>Um(i.evaluate(o),o.properties())],[[Kt,Hn],(o,[i,l])=>Um(i.evaluate(o),l.evaluate(o))]]},get:{type:Ot,overloads:[[[Kt],(o,[i])=>Hh(i.evaluate(o),o.properties())],[[Kt,Hn],(o,[i,l])=>Hh(i.evaluate(o),l.evaluate(o))]]},"feature-state":[Ot,[Kt],(o,[i])=>Hh(i.evaluate(o),o.featureState||{})],properties:[Hn,[],o=>o.properties()],"geometry-type":[Kt,[],o=>o.geometryType()],id:[Ot,[],o=>o.id()],zoom:[Qe,[],o=>o.globals.zoom],"heatmap-density":[Qe,[],o=>o.globals.heatmapDensity||0],"line-progress":[Qe,[],o=>o.globals.lineProgress||0],accumulated:[Ot,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[Qe,Uo(Qe),(o,i)=>{let l=0;for(const f of i)l+=f.evaluate(o);return l}],"*":[Qe,Uo(Qe),(o,i)=>{let l=1;for(const f of i)l*=f.evaluate(o);return l}],"-":{type:Qe,overloads:[[[Qe,Qe],(o,[i,l])=>i.evaluate(o)-l.evaluate(o)],[[Qe],(o,[i])=>-i.evaluate(o)]]},"/":[Qe,[Qe,Qe],(o,[i,l])=>i.evaluate(o)/l.evaluate(o)],"%":[Qe,[Qe,Qe],(o,[i,l])=>i.evaluate(o)%l.evaluate(o)],ln2:[Qe,[],()=>Math.LN2],pi:[Qe,[],()=>Math.PI],e:[Qe,[],()=>Math.E],"^":[Qe,[Qe,Qe],(o,[i,l])=>Math.pow(i.evaluate(o),l.evaluate(o))],sqrt:[Qe,[Qe],(o,[i])=>Math.sqrt(i.evaluate(o))],log10:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))/Math.LN10],ln:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))],log2:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))/Math.LN2],sin:[Qe,[Qe],(o,[i])=>Math.sin(i.evaluate(o))],cos:[Qe,[Qe],(o,[i])=>Math.cos(i.evaluate(o))],tan:[Qe,[Qe],(o,[i])=>Math.tan(i.evaluate(o))],asin:[Qe,[Qe],(o,[i])=>Math.asin(i.evaluate(o))],acos:[Qe,[Qe],(o,[i])=>Math.acos(i.evaluate(o))],atan:[Qe,[Qe],(o,[i])=>Math.atan(i.evaluate(o))],min:[Qe,Uo(Qe),(o,i)=>Math.min(...i.map(l=>l.evaluate(o)))],max:[Qe,Uo(Qe),(o,i)=>Math.max(...i.map(l=>l.evaluate(o)))],abs:[Qe,[Qe],(o,[i])=>Math.abs(i.evaluate(o))],round:[Qe,[Qe],(o,[i])=>{const l=i.evaluate(o);return l<0?-Math.round(-l):Math.round(l)}],floor:[Qe,[Qe],(o,[i])=>Math.floor(i.evaluate(o))],ceil:[Qe,[Qe],(o,[i])=>Math.ceil(i.evaluate(o))],"filter-==":[Ft,[Kt,Ot],(o,[i,l])=>o.properties()[i.value]===l.value],"filter-id-==":[Ft,[Ot],(o,[i])=>o.id()===i.value],"filter-type-==":[Ft,[Kt],(o,[i])=>o.geometryType()===i.value],"filter-<":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f<m}],"filter-id-<":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l<f}],"filter->":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f>m}],"filter-id->":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l>f}],"filter-<=":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f<=m}],"filter-id-<=":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l<=f}],"filter->=":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f>=m}],"filter-id->=":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l>=f}],"filter-has":[Ft,[Ot],(o,[i])=>i.value in o.properties()],"filter-has-id":[Ft,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[Ft,[q(Kt)],(o,[i])=>i.value.indexOf(o.geometryType())>=0],"filter-id-in":[Ft,[q(Ot)],(o,[i])=>i.value.indexOf(o.id())>=0],"filter-in-small":[Ft,[Kt,q(Ot)],(o,[i,l])=>l.value.indexOf(o.properties()[i.value])>=0],"filter-in-large":[Ft,[Kt,q(Ot)],(o,[i,l])=>function(f,m,y,b){for(;y<=b;){const P=y+b>>1;if(m[P]===f)return!0;m[P]>f?b=P-1:y=P+1}return!1}(o.properties()[i.value],l.value,0,l.value.length-1)],all:{type:Ft,overloads:[[[Ft,Ft],(o,[i,l])=>i.evaluate(o)&&l.evaluate(o)],[Uo(Ft),(o,i)=>{for(const l of i)if(!l.evaluate(o))return!1;return!0}]]},any:{type:Ft,overloads:[[[Ft,Ft],(o,[i,l])=>i.evaluate(o)||l.evaluate(o)],[Uo(Ft),(o,i)=>{for(const l of i)if(l.evaluate(o))return!0;return!1}]]},"!":[Ft,[Ft],(o,[i])=>!i.evaluate(o)],"is-supported-script":[Ft,[Kt],(o,[i])=>{const l=o.globals&&o.globals.isSupportedScript;return!l||l(i.evaluate(o))}],upcase:[Kt,[Kt],(o,[i])=>i.evaluate(o).toUpperCase()],downcase:[Kt,[Kt],(o,[i])=>i.evaluate(o).toLowerCase()],concat:[Kt,Uo(Ot),(o,i)=>i.map(l=>Hl(l.evaluate(o))).join("")],"resolved-locale":[Kt,[ja],(o,[i])=>i.evaluate(o).resolvedLocale()]});class qh{constructor(i,l){var f;this.expression=i,this._warningHistory={},this._evaluator=new Ds,this._defaultValue=l?(f=l).type==="color"&&Fs(f.default)?new dr(0,0,0,0):f.type==="color"?dr.parse(f.default)||null:f.type==="padding"?ii.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?ai.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._evaluator.globals=i,this._evaluator.feature=l,this._evaluator.featureState=f,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=b,this.expression.evaluate(this._evaluator)}evaluate(i,l,f,m,y,b){this._evaluator.globals=i,this._evaluator.feature=l||null,this._evaluator.featureState=f||null,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=b||null;try{const P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new Ur(`Expected value to be one of ${Object.keys(this._enumValues).map(k=>JSON.stringify(k)).join(", ")}, but found ${JSON.stringify(P)} instead.`);return P}catch(P){return this._warningHistory[P.message]||(this._warningHistory[P.message]=!0,typeof console<"u"&&console.warn(P.message)),this._defaultValue}}}function Au(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in Vo}function Iu(o,i){const l=new or(Vo,Su,[],i?function(m){const y={color:Kn,string:Kt,number:Qe,enum:Kt,boolean:Ft,formatted:Va,padding:pn,resolvedImage:ce,variableAnchorOffsetCollection:W};return m.type==="array"?q(y[m.value]||Ot,m.length):y[m.type]}(i):void 0),f=l.parse(o,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Wh(new qh(f,i)):Ko(l.errors)}class Yh{constructor(i,l){this.kind=i,this._styleExpression=l,this.isStateDependent=i!=="constant"&&!tc(l.expression)}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._styleExpression.evaluateWithoutErrorHandling(i,l,f,m,y,b)}evaluate(i,l,f,m,y,b){return this._styleExpression.evaluate(i,l,f,m,y,b)}}class Xh{constructor(i,l,f,m){this.kind=i,this.zoomStops=f,this._styleExpression=l,this.isStateDependent=i!=="camera"&&!tc(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._styleExpression.evaluateWithoutErrorHandling(i,l,f,m,y,b)}evaluate(i,l,f,m,y,b){return this._styleExpression.evaluate(i,l,f,m,y,b)}interpolationFactor(i,l,f){return this.interpolationType?Pi.interpolationFactor(this.interpolationType,i,l,f):0}}function nc(o,i){const l=Iu(o,i);if(l.result==="error")return l;const f=l.value.expression,m=Pu(f);if(!m&&!Ha(i))return Ko([new An("","data expressions not supported")]);const y=Tu(f,["zoom"]);if(!y&&!Km(i))return Ko([new An("","zoom expressions not supported")]);const b=In(f);return b||y?b instanceof An?Ko([b]):b instanceof Pi&&!Cu(i)?Ko([new An("",'"interpolate" expressions cannot be used with this property')]):Wh(b?new Xh(m?"camera":"composite",l.value,b.labels,b instanceof Pi?b.interpolation:void 0):new Yh(m?"constant":"source",l.value)):Ko([new An("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ho{constructor(i,l){this._parameters=i,this._specification=l,en(this,rc(this._parameters,this._specification))}static deserialize(i){return new Ho(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function In(o){let i=null;if(o instanceof cu)i=In(o.result);else if(o instanceof pu){for(const l of o.args)if(i=In(l),i)break}else(o instanceof Zl||o instanceof Pi)&&o.input instanceof oi&&o.input.name==="zoom"&&(i=o);return i instanceof An||o.eachChild(l=>{const f=In(l);f instanceof An?i=f:!i&&f?i=new An("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new An("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function Wo(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const i of o.slice(1))if(!Wo(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const Wm={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Jh(o){if(o==null)return{filter:()=>!0,needGeometry:!1};Wo(o)||(o=ic(o));const i=Iu(o,Wm);if(i.result==="error")throw new Error(i.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,f,m)=>i.value.evaluate(l,f,{},m),needGeometry:Ns(o)}}function ax(o,i){return o<i?-1:o>i?1:0}function Ns(o){if(!Array.isArray(o))return!1;if(o[0]==="within"||o[0]==="distance")return!0;for(let i=1;i<o.length;i++)if(Ns(o[i]))return!0;return!1}function ic(o){if(!o)return!0;const i=o[0];return o.length<=1?i!=="any":i==="=="?ac(o[1],o[2],"=="):i==="!="?Du(ac(o[1],o[2],"==")):i==="<"||i===">"||i==="<="||i===">="?ac(o[1],o[2],i):i==="any"?(l=o.slice(1),["any"].concat(l.map(ic))):i==="all"?["all"].concat(o.slice(1).map(ic)):i==="none"?["all"].concat(o.slice(1).map(ic).map(Du)):i==="in"?Gm(o[1],o.slice(2)):i==="!in"?Du(Gm(o[1],o.slice(2))):i==="has"?Mu(o[1]):i!=="!has"||Du(Mu(o[1]));var l}function ac(o,i,l){switch(o){case"$type":return[`filter-type-${l}`,i];case"$id":return[`filter-id-${l}`,i];default:return[`filter-${l}`,o,i]}}function Gm(o,i){if(i.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(l=>typeof l!=typeof i[0])?["filter-in-large",o,["literal",i.sort(ax)]]:["filter-in-small",o,["literal",i]]}}function Mu(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Du(o){return["!",o]}function Go(o){const i=typeof o;if(i==="number"||i==="boolean"||i==="string"||o==null)return JSON.stringify(o);if(Array.isArray(o)){let m="[";for(const y of o)m+=`${Go(y)},`;return`${m}]`}const l=Object.keys(o).sort();let f="{";for(let m=0;m<l.length;m++)f+=`${JSON.stringify(l[m])}:${Go(o[l[m]])},`;return`${f}}`}function ox(o){let i="";for(const l of ri)i+=`/${Go(o[l])}`;return i}function $u(o){const i=o.value;return i?[new Xe(o.key,i,"constants have been deprecated as of v8")]:[]}function zr(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Wa(o){if(Array.isArray(o))return o.map(Wa);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const i={};for(const l in o)i[l]=Wa(o[l]);return i}return zr(o)}function Ci(o){const i=o.key,l=o.value,f=o.valueSpec||{},m=o.objectElementValidators||{},y=o.style,b=o.styleSpec,P=o.validateSpec;let k=[];const M=tr(l);if(M!=="object")return[new Xe(i,l,`object expected, ${M} found`)];for(const R in l){const N=R.split(".")[0],H=f[N]||f["*"];let G;if(m[N])G=m[N];else if(f[N])G=P;else if(m["*"])G=m["*"];else{if(!f["*"]){k.push(new Xe(i,l[R],`unknown property "${R}"`));continue}G=P}k=k.concat(G({key:(i&&`${i}.`)+R,value:l[R],valueSpec:H,style:y,styleSpec:b,object:l,objectKey:R,validateSpec:P},l))}for(const R in f)m[R]||f[R].required&&f[R].default===void 0&&l[R]===void 0&&k.push(new Xe(i,l,`missing required property "${R}"`));return k}function Ru(o){const i=o.value,l=o.valueSpec,f=o.style,m=o.styleSpec,y=o.key,b=o.arrayElementValidator||o.validateSpec;if(tr(i)!=="array")return[new Xe(y,i,`array expected, ${tr(i)} found`)];if(l.length&&i.length!==l.length)return[new Xe(y,i,`array length ${l.length} expected, length ${i.length} found`)];if(l["min-length"]&&i.length<l["min-length"])return[new Xe(y,i,`array length at least ${l["min-length"]} expected, length ${i.length} found`)];let P={type:l.value,values:l.values};m.$version<7&&(P.function=l.function),tr(l.value)==="object"&&(P=l.value);let k=[];for(let M=0;M<i.length;M++)k=k.concat(b({array:i,arrayIndex:M,value:i[M],valueSpec:P,validateSpec:o.validateSpec,style:f,styleSpec:m,key:`${y}[${M}]`}));return k}function Qh(o){const i=o.key,l=o.value,f=o.valueSpec;let m=tr(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new Xe(i,l,`number expected, ${m} found`)]:"minimum"in f&&l<f.minimum?[new Xe(i,l,`${l} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&l>f.maximum?[new Xe(i,l,`${l} is greater than the maximum value ${f.maximum}`)]:[]}function Lu(o){const i=o.valueSpec,l=zr(o.value.type);let f,m,y,b={};const P=l!=="categorical"&&o.value.property===void 0,k=!P,M=tr(o.value.stops)==="array"&&tr(o.value.stops[0])==="array"&&tr(o.value.stops[0][0])==="object",R=Ci({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(G){if(l==="identity")return[new Xe(G.key,G.value,'identity function may not have a "stops" property')];let J=[];const re=G.value;return J=J.concat(Ru({key:G.key,value:re,valueSpec:G.valueSpec,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:N})),tr(re)==="array"&&re.length===0&&J.push(new Xe(G.key,re,"array must have at least one stop")),J},default:function(G){return G.validateSpec({key:G.key,value:G.value,valueSpec:i,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec})}}});return l==="identity"&&P&&R.push(new Xe(o.key,o.value,'missing required property "property"')),l==="identity"||o.value.stops||R.push(new Xe(o.key,o.value,'missing required property "stops"')),l==="exponential"&&o.valueSpec.expression&&!Cu(o.valueSpec)&&R.push(new Xe(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(k&&!Ha(o.valueSpec)?R.push(new Xe(o.key,o.value,"property functions not supported")):P&&!Km(o.valueSpec)&&R.push(new Xe(o.key,o.value,"zoom functions not supported"))),l!=="categorical"&&!M||o.value.property!==void 0||R.push(new Xe(o.key,o.value,'"property" property is required')),R;function N(G){let J=[];const re=G.value,le=G.key;if(tr(re)!=="array")return[new Xe(le,re,`array expected, ${tr(re)} found`)];if(re.length!==2)return[new Xe(le,re,`array length 2 expected, length ${re.length} found`)];if(M){if(tr(re[0])!=="object")return[new Xe(le,re,`object expected, ${tr(re[0])} found`)];if(re[0].zoom===void 0)return[new Xe(le,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new Xe(le,re,"object stop key must have value")];if(y&&y>zr(re[0].zoom))return[new Xe(le,re[0].zoom,"stop zoom values must appear in ascending order")];zr(re[0].zoom)!==y&&(y=zr(re[0].zoom),m=void 0,b={}),J=J.concat(Ci({key:`${le}[0]`,value:re[0],valueSpec:{zoom:{}},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:Qh,value:H}}))}else J=J.concat(H({key:`${le}[0]`,value:re[0],valueSpec:{},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec},re));return Au(Wa(re[1]))?J.concat([new Xe(`${le}[1]`,re[1],"expressions are not allowed in function stops.")]):J.concat(G.validateSpec({key:`${le}[1]`,value:re[1],valueSpec:i,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec}))}function H(G,J){const re=tr(G.value),le=zr(G.value),ye=G.value!==null?G.value:J;if(f){if(re!==f)return[new Xe(G.key,ye,`${re} stop domain type must match previous stop domain type ${f}`)]}else f=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new Xe(G.key,ye,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&l!=="categorical"){let Me=`number expected, ${re} found`;return Ha(i)&&l===void 0&&(Me+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Xe(G.key,ye,Me)]}return l!=="categorical"||re!=="number"||isFinite(le)&&Math.floor(le)===le?l!=="categorical"&&re==="number"&&m!==void 0&&le<m?[new Xe(G.key,ye,"stop domain values must appear in ascending order")]:(m=le,l==="categorical"&&le in b?[new Xe(G.key,ye,"stop domain values must be unique")]:(b[le]=!0,[])):[new Xe(G.key,ye,`integer expected, found ${le}`)]}}function Ga(o){const i=(o.expressionContext==="property"?nc:Iu)(Wa(o.value),o.valueSpec);if(i.result==="error")return i.value.map(f=>new Xe(`${o.key}${f.key}`,o.value,f.message));const l=i.value.expression||i.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!l.outputDefined())return[new Xe(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!tc(l))return[new Xe(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!tc(l))return[new Xe(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!Tu(l,["zoom","feature-state"]))return[new Xe(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Pu(l))return[new Xe(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Os(o){const i=o.key,l=o.value,f=o.valueSpec,m=[];return Array.isArray(f.values)?f.values.indexOf(zr(l))===-1&&m.push(new Xe(i,l,`expected one of [${f.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(f.values).indexOf(zr(l))===-1&&m.push(new Xe(i,l,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function zu(o){return Wo(Wa(o.value))?Ga(en({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ef(o)}function ef(o){const i=o.value,l=o.key;if(tr(i)!=="array")return[new Xe(l,i,`array expected, ${tr(i)} found`)];const f=o.styleSpec;let m,y=[];if(i.length<1)return[new Xe(l,i,"filter array must have at least 1 element")];switch(y=y.concat(Os({key:`${l}[0]`,value:i[0],valueSpec:f.filter_operator,style:o.style,styleSpec:o.styleSpec})),zr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&zr(i[1])==="$type"&&y.push(new Xe(l,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&y.push(new Xe(l,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(m=tr(i[1]),m!=="string"&&y.push(new Xe(`${l}[1]`,i[1],`string expected, ${m} found`)));for(let b=2;b<i.length;b++)m=tr(i[b]),zr(i[1])==="$type"?y=y.concat(Os({key:`${l}[${b}]`,value:i[b],valueSpec:f.geometry_type,style:o.style,styleSpec:o.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&y.push(new Xe(`${l}[${b}]`,i[b],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let b=1;b<i.length;b++)y=y.concat(ef({key:`${l}[${b}]`,value:i[b],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":m=tr(i[1]),i.length!==2?y.push(new Xe(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="string"&&y.push(new Xe(`${l}[1]`,i[1],`string expected, ${m} found`))}return y}function tf(o,i){const l=o.key,f=o.validateSpec,m=o.style,y=o.styleSpec,b=o.value,P=o.objectKey,k=y[`${i}_${o.layerType}`];if(!k)return[];const M=P.match(/^(.*)-transition$/);if(i==="paint"&&M&&k[M[1]]&&k[M[1]].transition)return f({key:l,value:b,valueSpec:y.transition,style:m,styleSpec:y});const R=o.valueSpec||k[P];if(!R)return[new Xe(l,b,`unknown property "${P}"`)];let N;if(tr(b)==="string"&&Ha(R)&&!R.tokens&&(N=/^{([^}]+)}$/.exec(b)))return[new Xe(l,b,`"${P}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(N[1])} }\`.`)];const H=[];return o.layerType==="symbol"&&(P==="text-field"&&m&&!m.glyphs&&H.push(new Xe(l,b,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&Fs(Wa(b))&&zr(b.type)==="identity"&&H.push(new Xe(l,b,'"text-font" does not support identity functions'))),H.concat(f({key:o.key,value:b,valueSpec:R,style:m,styleSpec:y,expressionContext:"property",propertyType:i,propertyKey:P}))}function Fu(o){return tf(o,"paint")}function rf(o){return tf(o,"layout")}function Zm(o){let i=[];const l=o.value,f=o.key,m=o.style,y=o.styleSpec;l.type||l.ref||i.push(new Xe(f,l,'either "type" or "ref" is required'));let b=zr(l.type);const P=zr(l.ref);if(l.id){const k=zr(l.id);for(let M=0;M<o.arrayIndex;M++){const R=m.layers[M];zr(R.id)===k&&i.push(new Xe(f,l.id,`duplicate layer id "${l.id}", previously used at line ${R.id.__line__}`))}}if("ref"in l){let k;["type","source","source-layer","filter","layout"].forEach(M=>{M in l&&i.push(new Xe(f,l[M],`"${M}" is prohibited for ref layers`))}),m.layers.forEach(M=>{zr(M.id)===P&&(k=M)}),k?k.ref?i.push(new Xe(f,l.ref,"ref cannot reference another ref layer")):b=zr(k.type):i.push(new Xe(f,l.ref,`ref layer "${P}" not found`))}else if(b!=="background")if(l.source){const k=m.sources&&m.sources[l.source],M=k&&zr(k.type);k?M==="vector"&&b==="raster"?i.push(new Xe(f,l.source,`layer "${l.id}" requires a raster source`)):M!=="raster-dem"&&b==="hillshade"?i.push(new Xe(f,l.source,`layer "${l.id}" requires a raster-dem source`)):M==="raster"&&b!=="raster"?i.push(new Xe(f,l.source,`layer "${l.id}" requires a vector source`)):M!=="vector"||l["source-layer"]?M==="raster-dem"&&b!=="hillshade"?i.push(new Xe(f,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!l.paint||!l.paint["line-gradient"]||M==="geojson"&&k.lineMetrics||i.push(new Xe(f,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Xe(f,l,`layer "${l.id}" must specify a "source-layer"`)):i.push(new Xe(f,l.source,`source "${l.source}" not found`))}else i.push(new Xe(f,l,'missing required property "source"'));return i=i.concat(Ci({key:f,value:l,valueSpec:y.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${f}.type`,value:l.type,valueSpec:y.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:l,objectKey:"type"}),filter:zu,layout:k=>Ci({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>rf(en({layerType:b},M))}}),paint:k=>Ci({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>Fu(en({layerType:b},M))}})}})),i}function po(o){const i=o.value,l=o.key,f=tr(i);return f!=="string"?[new Xe(l,i,`string expected, ${f} found`)]:[]}const qm={promoteId:function({key:o,value:i}){if(tr(i)==="string")return po({key:o,value:i});{const l=[];for(const f in i)l.push(...po({key:`${o}.${f}`,value:i[f]}));return l}}};function nf(o){const i=o.value,l=o.key,f=o.styleSpec,m=o.style,y=o.validateSpec;if(!i.type)return[new Xe(l,i,'"type" is required')];const b=zr(i.type);let P;switch(b){case"vector":case"raster":return P=Ci({key:l,value:i,valueSpec:f[`source_${b.replace("-","_")}`],style:o.style,styleSpec:f,objectElementValidators:qm,validateSpec:y}),P;case"raster-dem":return P=function(k){var M;const R=(M=k.sourceName)!==null&&M!==void 0?M:"",N=k.value,H=k.styleSpec,G=H.source_raster_dem,J=k.style;let re=[];const le=tr(N);if(N===void 0)return re;if(le!=="object")return re.push(new Xe("source_raster_dem",N,`object expected, ${le} found`)),re;const ye=zr(N.encoding)==="custom",Me=["redFactor","greenFactor","blueFactor","baseShift"],Se=k.value.encoding?`"${k.value.encoding}"`:"Default";for(const Ae in N)!ye&&Me.includes(Ae)?re.push(new Xe(Ae,N[Ae],`In "${R}": "${Ae}" is only valid when "encoding" is set to "custom". ${Se} encoding found`)):G[Ae]?re=re.concat(k.validateSpec({key:Ae,value:N[Ae],valueSpec:G[Ae],validateSpec:k.validateSpec,style:J,styleSpec:H})):re.push(new Xe(Ae,N[Ae],`unknown property "${Ae}"`));return re}({sourceName:l,value:i,style:o.style,styleSpec:f,validateSpec:y}),P;case"geojson":if(P=Ci({key:l,value:i,valueSpec:f.source_geojson,style:m,styleSpec:f,validateSpec:y,objectElementValidators:qm}),i.cluster)for(const k in i.clusterProperties){const[M,R]=i.clusterProperties[k],N=typeof M=="string"?[M,["accumulated"],["get",k]]:M;P.push(...Ga({key:`${l}.${k}.map`,value:R,validateSpec:y,expressionContext:"cluster-map"})),P.push(...Ga({key:`${l}.${k}.reduce`,value:N,validateSpec:y,expressionContext:"cluster-reduce"}))}return P;case"video":return Ci({key:l,value:i,valueSpec:f.source_video,style:m,validateSpec:y,styleSpec:f});case"image":return Ci({key:l,value:i,valueSpec:f.source_image,style:m,validateSpec:y,styleSpec:f});case"canvas":return[new Xe(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Os({key:`${l}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,validateSpec:y,styleSpec:f})}}function af(o){const i=o.value,l=o.styleSpec,f=l.light,m=o.style;let y=[];const b=tr(i);if(i===void 0)return y;if(b!=="object")return y=y.concat([new Xe("light",i,`object expected, ${b} found`)]),y;for(const P in i){const k=P.match(/^(.*)-transition$/);y=y.concat(k&&f[k[1]]&&f[k[1]].transition?o.validateSpec({key:P,value:i[P],valueSpec:l.transition,validateSpec:o.validateSpec,style:m,styleSpec:l}):f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],validateSpec:o.validateSpec,style:m,styleSpec:l}):[new Xe(P,i[P],`unknown property "${P}"`)])}return y}function of(o){const i=o.value,l=o.styleSpec,f=l.sky,m=o.style,y=tr(i);if(i===void 0)return[];if(y!=="object")return[new Xe("sky",i,`object expected, ${y} found`)];let b=[];for(const P in i)b=b.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],style:m,styleSpec:l}):[new Xe(P,i[P],`unknown property "${P}"`)]);return b}function Ym(o){const i=o.value,l=o.styleSpec,f=l.terrain,m=o.style;let y=[];const b=tr(i);if(i===void 0)return y;if(b!=="object")return y=y.concat([new Xe("terrain",i,`object expected, ${b} found`)]),y;for(const P in i)y=y.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],validateSpec:o.validateSpec,style:m,styleSpec:l}):[new Xe(P,i[P],`unknown property "${P}"`)]);return y}function Xm(o){let i=[];const l=o.value,f=o.key;if(Array.isArray(l)){const m=[],y=[];for(const b in l)l[b].id&&m.includes(l[b].id)&&i.push(new Xe(f,l,`all the sprites' ids must be unique, but ${l[b].id} is duplicated`)),m.push(l[b].id),l[b].url&&y.includes(l[b].url)&&i.push(new Xe(f,l,`all the sprites' URLs must be unique, but ${l[b].url} is duplicated`)),y.push(l[b].url),i=i.concat(Ci({key:`${f}[${b}]`,value:l[b],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return i}return po({key:f,value:l})}const sf={"*":()=>[],array:Ru,boolean:function(o){const i=o.value,l=o.key,f=tr(i);return f!=="boolean"?[new Xe(l,i,`boolean expected, ${f} found`)]:[]},number:Qh,color:function(o){const i=o.key,l=o.value,f=tr(l);return f!=="string"?[new Xe(i,l,`color expected, ${f} found`)]:dr.parse(String(l))?[]:[new Xe(i,l,`color expected, "${l}" found`)]},constants:$u,enum:Os,filter:zu,function:Lu,layer:Zm,object:Ci,source:nf,light:af,sky:of,terrain:Ym,projection:function(o){const i=o.value,l=o.styleSpec,f=l.projection,m=o.style,y=tr(i);if(i===void 0)return[];if(y!=="object")return[new Xe("projection",i,`object expected, ${y} found`)];let b=[];for(const P in i)b=b.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],style:m,styleSpec:l}):[new Xe(P,i[P],`unknown property "${P}"`)]);return b},string:po,formatted:function(o){return po(o).length===0?[]:Ga(o)},resolvedImage:function(o){return po(o).length===0?[]:Ga(o)},padding:function(o){const i=o.key,l=o.value;if(tr(l)==="array"){if(l.length<1||l.length>4)return[new Xe(i,l,`padding requires 1 to 4 values; ${l.length} values found`)];const f={type:"number"};let m=[];for(let y=0;y<l.length;y++)m=m.concat(o.validateSpec({key:`${i}[${y}]`,value:l[y],validateSpec:o.validateSpec,valueSpec:f}));return m}return Qh({key:i,value:l,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const i=o.key,l=o.value,f=tr(l),m=o.styleSpec;if(f!=="array"||l.length<1||l.length%2!=0)return[new Xe(i,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let y=[];for(let b=0;b<l.length;b+=2)y=y.concat(Os({key:`${i}[${b}]`,value:l[b],valueSpec:m.layout_symbol["text-anchor"]})),y=y.concat(Ru({key:`${i}[${b+1}]`,value:l[b+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:m}));return y},sprite:Xm};function js(o){const i=o.value,l=o.valueSpec,f=o.styleSpec;return o.validateSpec=js,l.expression&&Fs(zr(i))?Lu(o):l.expression&&Au(Wa(i))?Ga(o):l.type&&sf[l.type]?sf[l.type](o):Ci(en({},o,{valueSpec:l.type?f[l.type]:l}))}function lf(o){const i=o.value,l=o.key,f=po(o);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new Xe(l,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new Xe(l,i,'"glyphs" url must include a "{range}" token'))),f}function Bi(o,i=je){let l=[];return l=l.concat(js({key:"",value:o,valueSpec:i.$root,styleSpec:i,style:o,validateSpec:js,objectElementValidators:{glyphs:lf,"*":()=>[]}})),o.constants&&(l=l.concat($u({key:"constants",value:o.constants,style:o,styleSpec:i,validateSpec:js}))),Jm(l)}function Ei(o){return function(i){return o({...i,validateSpec:js})}}function Jm(o){return[].concat(o).sort((i,l)=>i.line-l.line)}function Ni(o){return function(...i){return Jm(o.apply(this,i))}}Bi.source=Ni(Ei(nf)),Bi.sprite=Ni(Ei(Xm)),Bi.glyphs=Ni(Ei(lf)),Bi.light=Ni(Ei(af)),Bi.sky=Ni(Ei(of)),Bi.terrain=Ni(Ei(Ym)),Bi.layer=Ni(Ei(Zm)),Bi.filter=Ni(Ei(zu)),Bi.paintProperty=Ni(Ei(Fu)),Bi.layoutProperty=Ni(Ei(rf));const oc=Bi,sx=oc.light,Qm=oc.paintProperty,eg=oc.layoutProperty;function cf(o,i){let l=!1;if(i&&i.length)for(const f of i)o.fire(new Yt(new Error(f.message))),l=!0;return l}class sc{constructor(i,l,f){const m=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const b=new Int32Array(this.arrayBuffer);i=b[0],this.d=(l=b[1])+2*(f=b[2]);for(let k=0;k<this.d*this.d;k++){const M=b[3+k],R=b[3+k+1];m.push(M===R?null:b.subarray(M,R))}const P=b[3+m.length+1];this.keys=b.subarray(b[3+m.length],P),this.bboxes=b.subarray(P),this.insert=this._insertReadonly}else{this.d=l+2*f;for(let b=0;b<this.d*this.d;b++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=i,this.padding=f,this.scale=l/i,this.uid=0;const y=f/l*i;this.min=-y,this.max=i+y}insert(i,l,f,m,y){this._forEachCell(l,f,m,y,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(l),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(y)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,l,f,m,y,b){this.cells[y].push(b)}query(i,l,f,m,y){const b=this.min,P=this.max;if(i<=b&&l<=b&&P<=f&&P<=m&&!y)return Array.prototype.slice.call(this.keys);{const k=[];return this._forEachCell(i,l,f,m,this._queryCell,k,{},y),k}}_queryCell(i,l,f,m,y,b,P,k){const M=this.cells[y];if(M!==null){const R=this.keys,N=this.bboxes;for(let H=0;H<M.length;H++){const G=M[H];if(P[G]===void 0){const J=4*G;(k?k(N[J+0],N[J+1],N[J+2],N[J+3]):i<=N[J+2]&&l<=N[J+3]&&f>=N[J+0]&&m>=N[J+1])?(P[G]=!0,b.push(R[G])):P[G]=!1}}}}_forEachCell(i,l,f,m,y,b,P,k){const M=this._convertToCellCoord(i),R=this._convertToCellCoord(l),N=this._convertToCellCoord(f),H=this._convertToCellCoord(m);for(let G=M;G<=N;G++)for(let J=R;J<=H;J++){const re=this.d*J+G;if((!k||k(this._convertFromCellCoord(G),this._convertFromCellCoord(J),this._convertFromCellCoord(G+1),this._convertFromCellCoord(J+1)))&&y.call(this,i,l,f,m,re,b,P,k))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,l=3+this.cells.length+1+1;let f=0;for(let b=0;b<this.cells.length;b++)f+=this.cells[b].length;const m=new Int32Array(l+f+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let y=l;for(let b=0;b<i.length;b++){const P=i[b];m[3+b]=y,m.set(P,y),y+=P.length}return m[3+i.length]=y,m.set(this.keys,y),y+=this.keys.length,m[3+i.length+1]=y,m.set(this.bboxes,y),y+=this.bboxes.length,m.buffer}static serialize(i,l){const f=i.toArrayBuffer();return l&&l.push(f),{buffer:f}}static deserialize(i){return new sc(i.buffer)}}const mo={};function dt(o,i,l={}){if(mo[o])throw new Error(`${o} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:o,writeable:!1}),mo[o]={klass:i,omit:l.omit||[],shallow:l.shallow||[]}}dt("Object",Object),dt("TransferableGridIndex",sc),dt("Color",dr),dt("Error",Error),dt("AJAXError",Et),dt("ResolvedImage",Fi),dt("StylePropertyFunction",Ho),dt("StyleExpression",qh,{omit:["_evaluator"]}),dt("ZoomDependentExpression",Xh),dt("ZoomConstantExpression",Yh),dt("CompoundExpression",oi,{omit:["_evaluate"]});for(const o in Vo)Vo[o]._classRegistryKey||dt(`Expression_${o}`,Vo[o]);function tg(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function lc(o,i){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||o instanceof Error)return o;if(tg(o)||ae(o))return i&&i.push(o),o;if(ArrayBuffer.isView(o)){const l=o;return i&&i.push(l.buffer),l}if(o instanceof ImageData)return i&&i.push(o.data.buffer),o;if(Array.isArray(o)){const l=[];for(const f of o)l.push(lc(f,i));return l}if(typeof o=="object"){const l=o.constructor,f=l._classRegistryKey;if(!f)throw new Error(`can't serialize object of unregistered class ${l.name}`);if(!mo[f])throw new Error(`${f} is not registered.`);const m=l.serialize?l.serialize(o,i):{};if(l.serialize){if(i&&m===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const y in o){if(!o.hasOwnProperty(y)||mo[f].omit.indexOf(y)>=0)continue;const b=o[y];m[y]=mo[f].shallow.indexOf(y)>=0?b:lc(b,i)}o instanceof Error&&(m.message=o.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(m.$name=f),m}throw new Error("can't serialize object of type "+typeof o)}function wa(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||o instanceof Error||tg(o)||ae(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(wa);if(typeof o=="object"){const i=o.$name||"Object";if(!mo[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:l}=mo[i];if(!l)throw new Error(`can't deserialize unregistered class ${i}`);if(l.deserialize)return l.deserialize(o);const f=Object.create(l.prototype);for(const m of Object.keys(o)){if(m==="$name")continue;const y=o[m];f[m]=mo[i].shallow.indexOf(m)>=0?y:wa(y)}return f}throw new Error("can't deserialize object of type "+typeof o)}class rg{constructor(){this.first=!0}update(i,l){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=l),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const st={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function uf(o){for(const i of o)if(df(i.charCodeAt(0)))return!0;return!1}function lx(o){for(const i of o)if(!ng(i.charCodeAt(0)))return!1;return!0}function ng(o){return!(st.Arabic(o)||st["Arabic Supplement"](o)||st["Arabic Extended-A"](o)||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o))}function df(o){return!(o!==746&&o!==747&&(o<4352||!(st["Bopomofo Extended"](o)||st.Bopomofo(o)||st["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||st["CJK Compatibility Ideographs"](o)||st["CJK Compatibility"](o)||st["CJK Radicals Supplement"](o)||st["CJK Strokes"](o)||!(!st["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||st["CJK Unified Ideographs Extension A"](o)||st["CJK Unified Ideographs"](o)||st["Enclosed CJK Letters and Months"](o)||st["Hangul Compatibility Jamo"](o)||st["Hangul Jamo Extended-A"](o)||st["Hangul Jamo Extended-B"](o)||st["Hangul Jamo"](o)||st["Hangul Syllables"](o)||st.Hiragana(o)||st["Ideographic Description Characters"](o)||st.Kanbun(o)||st["Kangxi Radicals"](o)||st["Katakana Phonetic Extensions"](o)||st.Katakana(o)&&o!==12540||!(!st["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!st["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||st["Unified Canadian Aboriginal Syllabics"](o)||st["Unified Canadian Aboriginal Syllabics Extended"](o)||st["Vertical Forms"](o)||st["Yijing Hexagram Symbols"](o)||st["Yi Syllables"](o)||st["Yi Radicals"](o))))}function ig(o){return!(df(o)||function(i){return!!(st["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||st["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||st["Letterlike Symbols"](i)||st["Number Forms"](i)||st["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||st["Control Pictures"](i)&&i!==9251||st["Optical Character Recognition"](i)||st["Enclosed Alphanumerics"](i)||st["Geometric Shapes"](i)||st["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||st["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||st["CJK Symbols and Punctuation"](i)||st.Katakana(i)||st["Private Use Area"](i)||st["CJK Compatibility Forms"](i)||st["Small Form Variants"](i)||st["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(o))}function go(o){return o>=1424&&o<=2303||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o)}function ag(o,i){return!(!i&&go(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||st.Khmer(o))}function hf(o){for(const i of o)if(go(i.charCodeAt(0)))return!0;return!1}const yo=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(o){this.pluginStatus=o.pluginStatus,this.pluginURL=o.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(o){this.applyArabicShaping=o.applyArabicShaping,this.processBidirectionalText=o.processBidirectionalText,this.processStyledBidirectionalText=o.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class vr{constructor(i,l){this.zoom=i,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new rg,this.transition={})}isSupportedScript(i){return function(l,f){for(const m of l)if(!ag(m.charCodeAt(0),f))return!1;return!0}(i,yo.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,l=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*l}}}class Bu{constructor(i,l){this.property=i,this.value=l,this.expression=function(f,m){if(Fs(f))return new Ho(f,m);if(Au(f)){const y=nc(f,m);if(y.result==="error")throw new Error(y.value.map(b=>`${b.key}: ${b.message}`).join(", "));return y.value}{let y=f;return m.type==="color"&&typeof f=="string"?y=dr.parse(f):m.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(y=ai.parse(f)):y=ii.parse(f),{kind:"constant",evaluate:()=>y}}}(l===void 0?i.specification.default:l,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,l,f){return this.property.possiblyEvaluate(this,i,l,f)}}class Vs{constructor(i){this.property=i,this.value=new Bu(i,void 0)}transitioned(i,l){return new og(this.property,this.value,l,we({},i.transition,this.transition),i.now)}untransitioned(){return new og(this.property,this.value,null,{},0)}}class Us{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return se(this._values[i].value.value)}setValue(i,l){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Vs(this._values[i].property)),this._values[i].value=new Bu(this._values[i].property,l===null?void 0:se(l))}getTransition(i){return se(this._values[i].transition)}setTransition(i,l){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Vs(this._values[i].property)),this._values[i].transition=se(l)||void 0}serialize(){const i={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(i[l]=f);const m=this.getTransition(l);m!==void 0&&(i[`${l}-transition`]=m)}return i}transitioned(i,l){const f=new ff(this._properties);for(const m of Object.keys(this._values))f._values[m]=this._values[m].transitioned(i,l._values[m]);return f}untransitioned(){const i=new ff(this._properties);for(const l of Object.keys(this._values))i._values[l]=this._values[l].untransitioned();return i}}class og{constructor(i,l,f,m,y){this.property=i,this.value=l,this.begin=y+m.delay||0,this.end=this.begin+m.duration||0,i.specification.transition&&(m.delay||m.duration)&&(this.prior=f)}possiblyEvaluate(i,l,f){const m=i.now||0,y=this.value.possiblyEvaluate(i,l,f),b=this.prior;if(b){if(m>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(m<this.begin)return b.possiblyEvaluate(i,l,f);{const P=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(i,l,f),y,function(k){if(k<=0)return 0;if(k>=1)return 1;const M=k*k,R=M*k;return 4*(k<.5?R:3*(k-M)+R-.75)}(P))}}return y}}class ff{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,l,f){const m=new Nu(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(i,l,f);return m}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class cc{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return se(this._values[i].value)}setValue(i,l){this._values[i]=new Bu(this._values[i].property,l===null?void 0:se(l))}serialize(){const i={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(i[l]=f)}return i}possiblyEvaluate(i,l,f){const m=new Nu(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(i,l,f);return m}}class Sa{constructor(i,l,f){this.property=i,this.value=l,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,l,f,m){return this.property.evaluate(this.value,this.parameters,i,l,f,m)}}class Nu{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class _t{constructor(i){this.specification=i}possiblyEvaluate(i,l){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(l)}interpolate(i,l,f){const m=Wn[this.specification.type];return m?m(i,l,f):i}}class kt{constructor(i,l){this.specification=i,this.overrides=l}possiblyEvaluate(i,l,f,m){return new Sa(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(l,null,{},f,m)}:i.expression,l)}interpolate(i,l,f){if(i.value.kind!=="constant"||l.value.kind!=="constant")return i;if(i.value.value===void 0||l.value.value===void 0)return new Sa(this,{kind:"constant",value:void 0},i.parameters);const m=Wn[this.specification.type];if(m){const y=m(i.value.value,l.value.value,f);return new Sa(this,{kind:"constant",value:y},i.parameters)}return i}evaluate(i,l,f,m,y,b){return i.kind==="constant"?i.value:i.evaluate(l,f,m,y,b)}}class x extends kt{possiblyEvaluate(i,l,f,m){if(i.value===void 0)return new Sa(this,{kind:"constant",value:void 0},l);if(i.expression.kind==="constant"){const y=i.expression.evaluate(l,null,{},f,m),b=i.property.specification.type==="resolvedImage"&&typeof y!="string"?y.name:y,P=this._calculate(b,b,b,l);return new Sa(this,{kind:"constant",value:P},l)}if(i.expression.kind==="camera"){const y=this._calculate(i.expression.evaluate({zoom:l.zoom-1}),i.expression.evaluate({zoom:l.zoom}),i.expression.evaluate({zoom:l.zoom+1}),l);return new Sa(this,{kind:"constant",value:y},l)}return new Sa(this,i.expression,l)}evaluate(i,l,f,m,y,b){if(i.kind==="source"){const P=i.evaluate(l,f,m,y,b);return this._calculate(P,P,P,l)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(l.zoom)-1},f,m),i.evaluate({zoom:Math.floor(l.zoom)},f,m),i.evaluate({zoom:Math.floor(l.zoom)+1},f,m),l):i.value}_calculate(i,l,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:l}:{from:f,to:l}}interpolate(i){return i}}class a{constructor(i){this.specification=i}possiblyEvaluate(i,l,f,m){if(i.value!==void 0){if(i.expression.kind==="constant"){const y=i.expression.evaluate(l,null,{},f,m);return this._calculate(y,y,y,l)}return this._calculate(i.expression.evaluate(new vr(Math.floor(l.zoom-1),l)),i.expression.evaluate(new vr(Math.floor(l.zoom),l)),i.expression.evaluate(new vr(Math.floor(l.zoom+1),l)),l)}}_calculate(i,l,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:l}:{from:f,to:l}}interpolate(i){return i}}class u{constructor(i){this.specification=i}possiblyEvaluate(i,l,f,m){return!!i.expression.evaluate(l,null,{},f,m)}interpolate(){return!1}}class p{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in i){const f=i[l];f.specification.overridable&&this.overridableProperties.push(l);const m=this.defaultPropertyValues[l]=new Bu(f,void 0),y=this.defaultTransitionablePropertyValues[l]=new Vs(f);this.defaultTransitioningPropertyValues[l]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}dt("DataDrivenProperty",kt),dt("DataConstantProperty",_t),dt("CrossFadedDataDrivenProperty",x),dt("CrossFadedProperty",a),dt("ColorRampProperty",u);const g="-transition";class _ extends Un{constructor(i,l){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),l.layout&&(this._unevaluatedLayout=new cc(l.layout)),l.paint)){this._transitionablePaint=new Us(l.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Nu(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,l,f={}){l!=null&&this._validate(eg,`layers.${this.id}.layout.${i}`,i,l,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,l):this.visibility=l)}getPaintProperty(i){return i.endsWith(g)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,l,f={}){if(l!=null&&this._validate(Qm,`layers.${this.id}.paint.${i}`,i,l,f))return!1;if(i.endsWith(g))return this._transitionablePaint.setTransition(i.slice(0,-11),l||void 0),!1;{const m=this._transitionablePaint._values[i],y=m.property.specification["property-type"]==="cross-faded-data-driven",b=m.value.isDataDriven(),P=m.value;this._transitionablePaint.setValue(i,l),this._handleSpecialPaintPropertyUpdate(i);const k=this._transitionablePaint._values[i].value;return k.isDataDriven()||b||y||this._handleOverridablePaintPropertyUpdate(i,P,k)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,l,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,l){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,l)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),xe(i,(l,f)=>!(l===void 0||f==="layout"&&!Object.keys(l).length||f==="paint"&&!Object.keys(l).length))}_validate(i,l,f,m,y={}){return(!y||y.validate!==!1)&&cf(this,i.call(oc,{key:l,layerType:this.type,objectKey:f,value:m,styleSpec:je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const l=this.paint.get(i);if(l instanceof Sa&&Ha(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}const E={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class A{constructor(i,l){this._structArray=i,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class I{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,l){return i._trim(),l&&(i.isTransferred=!0,l.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const l=Object.create(this.prototype);return l.arrayBuffer=i.arrayBuffer,l.length=i.length,l.capacity=i.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function L(o,i=1){let l=0,f=0;return{members:o.map(m=>{const y=E[m.type].BYTES_PER_ELEMENT,b=l=K(l,Math.max(i,y)),P=m.components||1;return f=Math.max(f,y),l+=y*P,{name:m.name,type:m.type,components:P,offset:b}}),size:K(l,Math.max(f,i)),alignment:i}}function K(o,i){return Math.ceil(o/i)*i}class j extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.int16[m+0]=l,this.int16[m+1]=f,i}}j.prototype.bytesPerElement=4,dt("StructArrayLayout2i4",j);class X extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.int16[y+0]=l,this.int16[y+1]=f,this.int16[y+2]=m,i}}X.prototype.bytesPerElement=6,dt("StructArrayLayout3i6",X);class te extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m){const y=this.length;return this.resize(y+1),this.emplace(y,i,l,f,m)}emplace(i,l,f,m,y){const b=4*i;return this.int16[b+0]=l,this.int16[b+1]=f,this.int16[b+2]=m,this.int16[b+3]=y,i}}te.prototype.bytesPerElement=8,dt("StructArrayLayout4i8",te);class ne extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=6*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.int16[k+2]=m,this.int16[k+3]=y,this.int16[k+4]=b,this.int16[k+5]=P,i}}ne.prototype.bytesPerElement=12,dt("StructArrayLayout2i4i12",ne);class pe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=4*i,M=8*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.uint8[M+4]=m,this.uint8[M+5]=y,this.uint8[M+6]=b,this.uint8[M+7]=P,i}}pe.prototype.bytesPerElement=8,dt("StructArrayLayout2i4ub8",pe);class oe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.float32[m+0]=l,this.float32[m+1]=f,i}}oe.prototype.bytesPerElement=8,dt("StructArrayLayout2f8",oe);class _e extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,R){const N=this.length;return this.resize(N+1),this.emplace(N,i,l,f,m,y,b,P,k,M,R)}emplace(i,l,f,m,y,b,P,k,M,R,N){const H=10*i;return this.uint16[H+0]=l,this.uint16[H+1]=f,this.uint16[H+2]=m,this.uint16[H+3]=y,this.uint16[H+4]=b,this.uint16[H+5]=P,this.uint16[H+6]=k,this.uint16[H+7]=M,this.uint16[H+8]=R,this.uint16[H+9]=N,i}}_e.prototype.bytesPerElement=20,dt("StructArrayLayout10ui20",_e);class Ce extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,R,N,H){const G=this.length;return this.resize(G+1),this.emplace(G,i,l,f,m,y,b,P,k,M,R,N,H)}emplace(i,l,f,m,y,b,P,k,M,R,N,H,G){const J=12*i;return this.int16[J+0]=l,this.int16[J+1]=f,this.int16[J+2]=m,this.int16[J+3]=y,this.uint16[J+4]=b,this.uint16[J+5]=P,this.uint16[J+6]=k,this.uint16[J+7]=M,this.int16[J+8]=R,this.int16[J+9]=N,this.int16[J+10]=H,this.int16[J+11]=G,i}}Ce.prototype.bytesPerElement=24,dt("StructArrayLayout4i4ui4i24",Ce);class ue extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.float32[y+0]=l,this.float32[y+1]=f,this.float32[y+2]=m,i}}ue.prototype.bytesPerElement=12,dt("StructArrayLayout3f12",ue);class ke extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint32[1*i+0]=l,i}}ke.prototype.bytesPerElement=4,dt("StructArrayLayout1ul4",ke);class $e extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M){const R=this.length;return this.resize(R+1),this.emplace(R,i,l,f,m,y,b,P,k,M)}emplace(i,l,f,m,y,b,P,k,M,R){const N=10*i,H=5*i;return this.int16[N+0]=l,this.int16[N+1]=f,this.int16[N+2]=m,this.int16[N+3]=y,this.int16[N+4]=b,this.int16[N+5]=P,this.uint32[H+3]=k,this.uint16[N+8]=M,this.uint16[N+9]=R,i}}$e.prototype.bytesPerElement=20,dt("StructArrayLayout6i1ul2ui20",$e);class Fe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=6*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.int16[k+2]=m,this.int16[k+3]=y,this.int16[k+4]=b,this.int16[k+5]=P,i}}Fe.prototype.bytesPerElement=12,dt("StructArrayLayout2i2i2i12",Fe);class We extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y){const b=this.length;return this.resize(b+1),this.emplace(b,i,l,f,m,y)}emplace(i,l,f,m,y,b){const P=4*i,k=8*i;return this.float32[P+0]=l,this.float32[P+1]=f,this.float32[P+2]=m,this.int16[k+6]=y,this.int16[k+7]=b,i}}We.prototype.bytesPerElement=16,dt("StructArrayLayout2f1f2i16",We);class qe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=16*i,M=4*i,R=8*i;return this.uint8[k+0]=l,this.uint8[k+1]=f,this.float32[M+1]=m,this.float32[M+2]=y,this.int16[R+6]=b,this.int16[R+7]=P,i}}qe.prototype.bytesPerElement=16,dt("StructArrayLayout2ub2f2i16",qe);class lt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.uint16[y+0]=l,this.uint16[y+1]=f,this.uint16[y+2]=m,i}}lt.prototype.bytesPerElement=6,dt("StructArrayLayout3ui6",lt);class ct extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye){const Me=this.length;return this.resize(Me+1),this.emplace(Me,i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye)}emplace(i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye,Me){const Se=24*i,Ae=12*i,Ne=48*i;return this.int16[Se+0]=l,this.int16[Se+1]=f,this.uint16[Se+2]=m,this.uint16[Se+3]=y,this.uint32[Ae+2]=b,this.uint32[Ae+3]=P,this.uint32[Ae+4]=k,this.uint16[Se+10]=M,this.uint16[Se+11]=R,this.uint16[Se+12]=N,this.float32[Ae+7]=H,this.float32[Ae+8]=G,this.uint8[Ne+36]=J,this.uint8[Ne+37]=re,this.uint8[Ne+38]=le,this.uint32[Ae+10]=ye,this.int16[Se+22]=Me,i}}ct.prototype.bytesPerElement=48,dt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ct);class Ye extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye,Me,Se,Ae,Ne,Ze,it,Ct,ot,nt,xt,ht){const ut=this.length;return this.resize(ut+1),this.emplace(ut,i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye,Me,Se,Ae,Ne,Ze,it,Ct,ot,nt,xt,ht)}emplace(i,l,f,m,y,b,P,k,M,R,N,H,G,J,re,le,ye,Me,Se,Ae,Ne,Ze,it,Ct,ot,nt,xt,ht,ut){const He=32*i,bt=16*i;return this.int16[He+0]=l,this.int16[He+1]=f,this.int16[He+2]=m,this.int16[He+3]=y,this.int16[He+4]=b,this.int16[He+5]=P,this.int16[He+6]=k,this.int16[He+7]=M,this.uint16[He+8]=R,this.uint16[He+9]=N,this.uint16[He+10]=H,this.uint16[He+11]=G,this.uint16[He+12]=J,this.uint16[He+13]=re,this.uint16[He+14]=le,this.uint16[He+15]=ye,this.uint16[He+16]=Me,this.uint16[He+17]=Se,this.uint16[He+18]=Ae,this.uint16[He+19]=Ne,this.uint16[He+20]=Ze,this.uint16[He+21]=it,this.uint16[He+22]=Ct,this.uint32[bt+12]=ot,this.float32[bt+13]=nt,this.float32[bt+14]=xt,this.uint16[He+30]=ht,this.uint16[He+31]=ut,i}}Ye.prototype.bytesPerElement=64,dt("StructArrayLayout8i15ui1ul2f2ui64",Ye);class et extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.float32[1*i+0]=l,i}}et.prototype.bytesPerElement=4,dt("StructArrayLayout1f4",et);class pt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.uint16[6*i+0]=l,this.float32[y+1]=f,this.float32[y+2]=m,i}}pt.prototype.bytesPerElement=12,dt("StructArrayLayout1ui2f12",pt);class Lt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=4*i;return this.uint32[2*i+0]=l,this.uint16[y+2]=f,this.uint16[y+3]=m,i}}Lt.prototype.bytesPerElement=8,dt("StructArrayLayout1ul2ui8",Lt);class rt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.uint16[m+0]=l,this.uint16[m+1]=f,i}}rt.prototype.bytesPerElement=4,dt("StructArrayLayout2ui4",rt);class at extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint16[1*i+0]=l,i}}at.prototype.bytesPerElement=2,dt("StructArrayLayout1ui2",at);class It extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m){const y=this.length;return this.resize(y+1),this.emplace(y,i,l,f,m)}emplace(i,l,f,m,y){const b=4*i;return this.float32[b+0]=l,this.float32[b+1]=f,this.float32[b+2]=m,this.float32[b+3]=y,i}}It.prototype.bytesPerElement=16,dt("StructArrayLayout4f16",It);class wr extends A{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new T(this.anchorPointX,this.anchorPointY)}}wr.prototype.size=20;class Ht extends $e{get(i){return new wr(this,i)}}dt("CollisionBoxArray",Ht);class Xt extends A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Xt.prototype.size=48;class Sr extends ct{get(i){return new Xt(this,i)}}dt("PlacedSymbolArray",Sr);class Mn extends A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Mn.prototype.size=64;class Qi extends Ye{get(i){return new Mn(this,i)}}dt("SymbolInstanceArray",Qi);class Pr extends et{getoffsetX(i){return this.float32[1*i+0]}}dt("GlyphOffsetArray",Pr);class si extends X{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}dt("SymbolLineVertexArray",si);class Gn extends A{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Gn.prototype.size=12;class Dn extends pt{get(i){return new Gn(this,i)}}dt("TextAnchorOffsetArray",Dn);class $n extends A{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}$n.prototype.size=8;class ea extends Lt{get(i){return new $n(this,i)}}dt("FeatureIndexArray",ea);class Zo extends j{}class Ou extends j{}class Ks extends j{}class qo extends ne{}class ju extends pe{}class pf extends oe{}class Sn extends _e{}class ta extends Ce{}class vo extends ue{}class Hs extends ke{}class Rn extends Fe{}class Ln extends qe{}class mn extends lt{}class Dr extends rt{}const Ws=L([{name:"a_pos",components:2,type:"Int16"}],4),{members:mf}=Ws;class ln{constructor(i=[]){this.segments=i}prepareSegment(i,l,f,m){let y=this.segments[this.segments.length-1];return i>ln.MAX_VERTEX_ARRAY_LENGTH&&ge(`Max vertices per segment is ${ln.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!y||y.vertexLength+i>ln.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==m)&&(y={vertexOffset:l.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},m!==void 0&&(y.sortKey=m),this.segments.push(y)),y}get(){return this.segments}destroy(){for(const i of this.segments)for(const l in i.vaos)i.vaos[l].destroy()}static simpleSegment(i,l,f,m){return new ln([{vertexOffset:i,primitiveOffset:l,vertexLength:f,primitiveLength:m,vaos:{},sortKey:0}])}}function sg(o,i){return 256*(o=ie(Math.floor(o),0,255))+ie(Math.floor(i),0,255)}ln.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,dt("SegmentVector",ln);const Vu=L([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Uu={exports:{}},xo={exports:{}};xo.exports=function(o,i){var l,f,m,y,b,P,k,M;for(f=o.length-(l=3&o.length),m=i,b=3432918353,P=461845907,M=0;M<f;)k=255&o.charCodeAt(M)|(255&o.charCodeAt(++M))<<8|(255&o.charCodeAt(++M))<<16|(255&o.charCodeAt(++M))<<24,++M,m=27492+(65535&(y=5*(65535&(m=(m^=k=(65535&(k=(k=(65535&k)*b+(((k>>>16)*b&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(k=0,l){case 3:k^=(255&o.charCodeAt(M+2))<<16;case 2:k^=(255&o.charCodeAt(M+1))<<8;case 1:m^=k=(65535&(k=(k=(65535&(k^=255&o.charCodeAt(M)))*b+(((k>>>16)*b&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295}return m^=o.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var lg=xo.exports,gf={exports:{}};gf.exports=function(o,i){for(var l,f=o.length,m=i^f,y=0;f>=4;)l=1540483477*(65535&(l=255&o.charCodeAt(y)|(255&o.charCodeAt(++y))<<8|(255&o.charCodeAt(++y))<<16|(255&o.charCodeAt(++y))<<24))+((1540483477*(l>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),f-=4,++y;switch(f){case 3:m^=(255&o.charCodeAt(y+2))<<16;case 2:m^=(255&o.charCodeAt(y+1))<<8;case 1:m=1540483477*(65535&(m^=255&o.charCodeAt(y)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var yf=lg,vf=gf.exports;Uu.exports=yf,Uu.exports.murmur3=yf,Uu.exports.murmur2=vf;var Ku=v(Uu.exports);class Gs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,l,f,m){this.ids.push(lP(i)),this.positions.push(l,f,m)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const l=lP(i);let f=0,m=this.ids.length-1;for(;f<m;){const b=f+m>>1;this.ids[b]>=l?m=b:f=b+1}const y=[];for(;this.ids[f]===l;)y.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return y}static serialize(i,l){const f=new Float64Array(i.ids),m=new Uint32Array(i.positions);return cx(f,m,0,f.length-1),l&&l.push(f.buffer,m.buffer),{ids:f,positions:m}}static deserialize(i){const l=new Gs;return l.ids=i.ids,l.positions=i.positions,l.indexed=!0,l}}function lP(o){const i=+o;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Ku(String(o))}function cx(o,i,l,f){for(;l<f;){const m=o[l+f>>1];let y=l-1,b=f+1;for(;;){do y++;while(o[y]<m);do b--;while(o[b]>m);if(y>=b)break;cg(o,y,b),cg(i,3*y,3*b),cg(i,3*y+1,3*b+1),cg(i,3*y+2,3*b+2)}b-l<f-b?(cx(o,i,l,b),l=b+1):(cx(o,i,b+1,f),f=b)}}function cg(o,i,l){const f=o[i];o[i]=o[l],o[l]=f}dt("FeaturePositionMap",Gs);class uc{constructor(i,l){this.gl=i.gl,this.location=l}}class ug extends uc{constructor(i,l){super(i,l),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class cP extends uc{constructor(i,l){super(i,l),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class uP extends uc{constructor(i,l){super(i,l),this.current=dr.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const oF=new Float32Array(16);function ux(o){return[sg(255*o.r,255*o.g),sg(255*o.b,255*o.a)]}class xf{constructor(i,l,f){this.value=i,this.uniformNames=l.map(m=>`u_${m}`),this.type=f}setUniform(i,l,f){i.set(f.constantOr(this.value))}getBinding(i,l,f){return this.type==="color"?new uP(i,l):new ug(i,l)}}class Hu{constructor(i,l){this.uniformNames=l.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=i.tlbr}setUniform(i,l,f,m){const y=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;y&&i.set(y)}getBinding(i,l,f){return f.substr(0,9)==="u_pattern"?new cP(i,l):new ug(i,l)}}class Yo{constructor(i,l,f,m){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=l.map(y=>({name:`a_${y}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(i,l,f,m,y){const b=this.paintVertexArray.length,P=this.expression.evaluate(new vr(0),l,{},m,[],y);this.paintVertexArray.resize(i),this._setPaintValue(b,i,P)}updatePaintArray(i,l,f,m){const y=this.expression.evaluate({zoom:0},f,m);this._setPaintValue(i,l,y)}_setPaintValue(i,l,f){if(this.type==="color"){const m=ux(f);for(let y=i;y<l;y++)this.paintVertexArray.emplace(y,m[0],m[1])}else{for(let m=i;m<l;m++)this.paintVertexArray.emplace(m,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Za{constructor(i,l,f,m,y,b){this.expression=i,this.uniformNames=l.map(P=>`u_${P}_t`),this.type=f,this.useIntegerZoom=m,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=l.map(P=>({name:`a_${P}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(i,l,f,m,y){const b=this.expression.evaluate(new vr(this.zoom),l,{},m,[],y),P=this.expression.evaluate(new vr(this.zoom+1),l,{},m,[],y),k=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(k,i,b,P)}updatePaintArray(i,l,f,m){const y=this.expression.evaluate({zoom:this.zoom},f,m),b=this.expression.evaluate({zoom:this.zoom+1},f,m);this._setPaintValue(i,l,y,b)}_setPaintValue(i,l,f,m){if(this.type==="color"){const y=ux(f),b=ux(m);for(let P=i;P<l;P++)this.paintVertexArray.emplace(P,y[0],y[1],b[0],b[1])}else{for(let y=i;y<l;y++)this.paintVertexArray.emplace(y,f,m);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(m))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,l){const f=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=ie(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(m)}getBinding(i,l,f){return new ug(i,l)}}class Zs{constructor(i,l,f,m,y,b){this.expression=i,this.type=l,this.useIntegerZoom=f,this.zoom=m,this.layerId=b,this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y}populatePaintArray(i,l,f){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(m,i,l.patterns&&l.patterns[this.layerId],f)}updatePaintArray(i,l,f,m,y){this._setPaintValues(i,l,f.patterns&&f.patterns[this.layerId],y)}_setPaintValues(i,l,f,m){if(!m||!f)return;const{min:y,mid:b,max:P}=f,k=m[y],M=m[b],R=m[P];if(k&&M&&R)for(let N=i;N<l;N++)this.zoomInPaintVertexArray.emplace(N,M.tl[0],M.tl[1],M.br[0],M.br[1],k.tl[0],k.tl[1],k.br[0],k.br[1],M.pixelRatio,k.pixelRatio),this.zoomOutPaintVertexArray.emplace(N,M.tl[0],M.tl[1],M.br[0],M.br[1],R.tl[0],R.tl[1],R.br[0],R.br[1],M.pixelRatio,R.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,Vu.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,Vu.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class dP{constructor(i,l,f){this.binders={},this._buffers=[];const m=[];for(const y in i.paint._values){if(!f(y))continue;const b=i.paint.get(y);if(!(b instanceof Sa&&Ha(b.property.specification)))continue;const P=sF(y,i.type),k=b.value,M=b.property.specification.type,R=b.property.useIntegerZoom,N=b.property.specification["property-type"],H=N==="cross-faded"||N==="cross-faded-data-driven";if(k.kind==="constant")this.binders[y]=H?new Hu(k.value,P):new xf(k.value,P,M),m.push(`/u_${y}`);else if(k.kind==="source"||H){const G=hP(y,M,"source");this.binders[y]=H?new Zs(k,M,R,l,G,i.id):new Yo(k,P,M,G),m.push(`/a_${y}`)}else{const G=hP(y,M,"composite");this.binders[y]=new Za(k,P,M,R,l,G),m.push(`/z_${y}`)}}this.cacheKey=m.sort().join("")}getMaxValue(i){const l=this.binders[i];return l instanceof Yo||l instanceof Za?l.maxValue:0}populatePaintArrays(i,l,f,m,y){for(const b in this.binders){const P=this.binders[b];(P instanceof Yo||P instanceof Za||P instanceof Zs)&&P.populatePaintArray(i,l,f,m,y)}}setConstantPatternPositions(i,l){for(const f in this.binders){const m=this.binders[f];m instanceof Hu&&m.setConstantPatternPositions(i,l)}}updatePaintArrays(i,l,f,m,y){let b=!1;for(const P in i){const k=l.getPositions(P);for(const M of k){const R=f.feature(M.index);for(const N in this.binders){const H=this.binders[N];if((H instanceof Yo||H instanceof Za||H instanceof Zs)&&H.expression.isStateDependent===!0){const G=m.paint.get(N);H.expression=G.value,H.updatePaintArray(M.start,M.end,R,i[P],y),b=!0}}}}return b}defines(){const i=[];for(const l in this.binders){const f=this.binders[l];(f instanceof xf||f instanceof Hu)&&i.push(...f.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return i}getBinderAttributes(){const i=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof Yo||f instanceof Za)for(let m=0;m<f.paintVertexAttributes.length;m++)i.push(f.paintVertexAttributes[m].name);else if(f instanceof Zs)for(let m=0;m<Vu.members.length;m++)i.push(Vu.members[m].name)}return i}getBinderUniforms(){const i=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof xf||f instanceof Hu||f instanceof Za)for(const m of f.uniformNames)i.push(m)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,l){const f=[];for(const m in this.binders){const y=this.binders[m];if(y instanceof xf||y instanceof Hu||y instanceof Za){for(const b of y.uniformNames)if(l[b]){const P=y.getBinding(i,l[b],b);f.push({name:b,property:m,binding:P})}}}return f}setUniforms(i,l,f,m){for(const{name:y,property:b,binding:P}of l)this.binders[b].setUniform(P,m,f.get(b),y)}updatePaintBuffers(i){this._buffers=[];for(const l in this.binders){const f=this.binders[l];if(i&&f instanceof Zs){const m=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(f instanceof Yo||f instanceof Za)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const l in this.binders){const f=this.binders[l];(f instanceof Yo||f instanceof Za||f instanceof Zs)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const l=this.binders[i];(l instanceof Yo||l instanceof Za||l instanceof Zs)&&l.destroy()}}}class dc{constructor(i,l,f=()=>!0){this.programConfigurations={};for(const m of i)this.programConfigurations[m.id]=new dP(m,l,f);this.needsUpload=!1,this._featureMap=new Gs,this._bufferOffset=0}populatePaintArrays(i,l,f,m,y,b){for(const P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(i,l,m,y,b);l.id!==void 0&&this._featureMap.add(l.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,l,f,m){for(const y of f)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(i,this._featureMap,l,y,m)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function sF(o,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${i}-`,"").replace(/-/g,"_")]}function hP(o,i,l){const f={color:{source:oe,composite:It},number:{source:et,composite:oe}},m=function(y){return{"line-pattern":{source:Sn,composite:Sn},"fill-pattern":{source:Sn,composite:Sn},"fill-extrusion-pattern":{source:Sn,composite:Sn}}[y]}(o);return m&&m[l]||f[i][l]}dt("ConstantBinder",xf),dt("CrossFadedConstantBinder",Hu),dt("SourceExpressionBinder",Yo),dt("CrossFadedCompositeBinder",Zs),dt("CompositeExpressionBinder",Za),dt("ProgramConfiguration",dP,{omit:["_buffers"]}),dt("ProgramConfigurationSet",dc);const nn=8192,dx=Math.pow(2,14)-1,fP=-dx-1;function hc(o){const i=nn/o.extent,l=o.loadGeometry();for(let f=0;f<l.length;f++){const m=l[f];for(let y=0;y<m.length;y++){const b=m[y],P=Math.round(b.x*i),k=Math.round(b.y*i);b.x=ie(P,fP,dx),b.y=ie(k,fP,dx),(P<b.x||P>b.x+1||k<b.y||k>b.y+1)&&ge("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function fc(o,i){return{type:o.type,id:o.id,properties:o.properties,geometry:i?hc(o):[]}}function dg(o,i,l,f,m){o.emplaceBack(2*i+(f+1)/2,2*l+(m+1)/2)}class hx{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ou,this.indexArray=new mn,this.segments=new ln,this.programConfigurations=new dc(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){const m=this.layers[0],y=[];let b=null,P=!1;m.type==="circle"&&(b=m.layout.get("circle-sort-key"),P=!b.isConstant());for(const{feature:k,id:M,index:R,sourceLayerIndex:N}of i){const H=this.layers[0]._featureFilter.needGeometry,G=fc(k,H);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),G,f))continue;const J=P?b.evaluate(G,{},f):void 0,re={id:M,properties:k.properties,type:k.type,sourceLayerIndex:N,index:R,geometry:H?G.geometry:hc(k),patterns:{},sortKey:J};y.push(re)}P&&y.sort((k,M)=>k.sortKey-M.sortKey);for(const k of y){const{geometry:M,index:R,sourceLayerIndex:N}=k,H=i[R].feature;this.addFeature(k,M,R,f),l.featureIndex.insert(H,M,R,N,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,mf),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,l,f,m){for(const y of l)for(const b of y){const P=b.x,k=b.y;if(P<0||P>=nn||k<0||k>=nn)continue;const M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),R=M.vertexLength;dg(this.layoutVertexArray,P,k,-1,-1),dg(this.layoutVertexArray,P,k,1,-1),dg(this.layoutVertexArray,P,k,1,1),dg(this.layoutVertexArray,P,k,-1,1),this.indexArray.emplaceBack(R,R+1,R+2),this.indexArray.emplaceBack(R,R+3,R+2),M.vertexLength+=4,M.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},m)}}function pP(o,i){for(let l=0;l<o.length;l++)if(Wu(i,o[l]))return!0;for(let l=0;l<i.length;l++)if(Wu(o,i[l]))return!0;return!!fx(o,i)}function lF(o,i,l){return!!Wu(o,i)||!!px(i,o,l)}function mP(o,i){if(o.length===1)return yP(i,o[0]);for(let l=0;l<i.length;l++){const f=i[l];for(let m=0;m<f.length;m++)if(Wu(o,f[m]))return!0}for(let l=0;l<o.length;l++)if(yP(i,o[l]))return!0;for(let l=0;l<i.length;l++)if(fx(o,i[l]))return!0;return!1}function cF(o,i,l){if(o.length>1){if(fx(o,i))return!0;for(let f=0;f<i.length;f++)if(px(i[f],o,l))return!0}for(let f=0;f<o.length;f++)if(px(o[f],i,l))return!0;return!1}function fx(o,i){if(o.length===0||i.length===0)return!1;for(let l=0;l<o.length-1;l++){const f=o[l],m=o[l+1];for(let y=0;y<i.length-1;y++)if(uF(f,m,i[y],i[y+1]))return!0}return!1}function uF(o,i,l,f){return ve(o,l,f)!==ve(i,l,f)&&ve(o,i,l)!==ve(o,i,f)}function px(o,i,l){const f=l*l;if(i.length===1)return o.distSqr(i[0])<f;for(let m=1;m<i.length;m++)if(gP(o,i[m-1],i[m])<f)return!0;return!1}function gP(o,i,l){const f=i.distSqr(l);if(f===0)return o.distSqr(i);const m=((o.x-i.x)*(l.x-i.x)+(o.y-i.y)*(l.y-i.y))/f;return o.distSqr(m<0?i:m>1?l:l.sub(i)._mult(m)._add(i))}function yP(o,i){let l,f,m,y=!1;for(let b=0;b<o.length;b++){l=o[b];for(let P=0,k=l.length-1;P<l.length;k=P++)f=l[P],m=l[k],f.y>i.y!=m.y>i.y&&i.x<(m.x-f.x)*(i.y-f.y)/(m.y-f.y)+f.x&&(y=!y)}return y}function Wu(o,i){let l=!1;for(let f=0,m=o.length-1;f<o.length;m=f++){const y=o[f],b=o[m];y.y>i.y!=b.y>i.y&&i.x<(b.x-y.x)*(i.y-y.y)/(b.y-y.y)+y.x&&(l=!l)}return l}function dF(o,i,l){const f=l[0],m=l[2];if(o.x<f.x&&i.x<f.x||o.x>m.x&&i.x>m.x||o.y<f.y&&i.y<f.y||o.y>m.y&&i.y>m.y)return!1;const y=ve(o,i,l[0]);return y!==ve(o,i,l[1])||y!==ve(o,i,l[2])||y!==ve(o,i,l[3])}function _f(o,i,l){const f=i.paint.get(o).value;return f.kind==="constant"?f.value:l.programConfigurations.get(i.id).getMaxValue(o)}function hg(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function fg(o,i,l,f,m){if(!i[0]&&!i[1])return o;const y=T.convert(i)._mult(m);l==="viewport"&&y._rotate(-f);const b=[];for(let P=0;P<o.length;P++)b.push(o[P].sub(y));return b}let vP,xP;dt("CircleBucket",hx,{omit:["layers"]});var hF={get paint(){return xP=xP||new p({"circle-radius":new kt(je.paint_circle["circle-radius"]),"circle-color":new kt(je.paint_circle["circle-color"]),"circle-blur":new kt(je.paint_circle["circle-blur"]),"circle-opacity":new kt(je.paint_circle["circle-opacity"]),"circle-translate":new _t(je.paint_circle["circle-translate"]),"circle-translate-anchor":new _t(je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new _t(je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new _t(je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kt(je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kt(je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kt(je.paint_circle["circle-stroke-opacity"])})},get layout(){return vP=vP||new p({"circle-sort-key":new kt(je.layout_circle["circle-sort-key"])})}},li=1e-6,Gu=typeof Float32Array<"u"?Float32Array:Array;function mx(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function _P(o,i,l){var f=i[0],m=i[1],y=i[2],b=i[3],P=i[4],k=i[5],M=i[6],R=i[7],N=i[8],H=i[9],G=i[10],J=i[11],re=i[12],le=i[13],ye=i[14],Me=i[15],Se=l[0],Ae=l[1],Ne=l[2],Ze=l[3];return o[0]=Se*f+Ae*P+Ne*N+Ze*re,o[1]=Se*m+Ae*k+Ne*H+Ze*le,o[2]=Se*y+Ae*M+Ne*G+Ze*ye,o[3]=Se*b+Ae*R+Ne*J+Ze*Me,o[4]=(Se=l[4])*f+(Ae=l[5])*P+(Ne=l[6])*N+(Ze=l[7])*re,o[5]=Se*m+Ae*k+Ne*H+Ze*le,o[6]=Se*y+Ae*M+Ne*G+Ze*ye,o[7]=Se*b+Ae*R+Ne*J+Ze*Me,o[8]=(Se=l[8])*f+(Ae=l[9])*P+(Ne=l[10])*N+(Ze=l[11])*re,o[9]=Se*m+Ae*k+Ne*H+Ze*le,o[10]=Se*y+Ae*M+Ne*G+Ze*ye,o[11]=Se*b+Ae*R+Ne*J+Ze*Me,o[12]=(Se=l[12])*f+(Ae=l[13])*P+(Ne=l[14])*N+(Ze=l[15])*re,o[13]=Se*m+Ae*k+Ne*H+Ze*le,o[14]=Se*y+Ae*M+Ne*G+Ze*ye,o[15]=Se*b+Ae*R+Ne*J+Ze*Me,o}Math.hypot||(Math.hypot=function(){for(var o=0,i=arguments.length;i--;)o+=arguments[i]*arguments[i];return Math.sqrt(o)});var bf,fF=_P;function pg(o,i,l){var f=i[0],m=i[1],y=i[2],b=i[3];return o[0]=l[0]*f+l[4]*m+l[8]*y+l[12]*b,o[1]=l[1]*f+l[5]*m+l[9]*y+l[13]*b,o[2]=l[2]*f+l[6]*m+l[10]*y+l[14]*b,o[3]=l[3]*f+l[7]*m+l[11]*y+l[15]*b,o}bf=new Gu(4),Gu!=Float32Array&&(bf[0]=0,bf[1]=0,bf[2]=0,bf[3]=0);class pF extends _{constructor(i){super(i,hF)}createBucket(i){return new hx(i)}queryRadius(i){const l=i;return _f("circle-radius",this,l)+_f("circle-stroke-width",this,l)+hg(this.paint.get("circle-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P,k){const M=fg(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,P),R=this.paint.get("circle-radius").evaluate(l,f)+this.paint.get("circle-stroke-width").evaluate(l,f),N=this.paint.get("circle-pitch-alignment")==="map",H=N?M:function(J,re){return J.map(le=>bP(le,re))}(M,k),G=N?R*P:R;for(const J of m)for(const re of J){const le=N?re:bP(re,k);let ye=G;const Me=pg([],[re.x,re.y,0,1],k);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ye*=Me[3]/b.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ye*=b.cameraToCenterDistance/Me[3]),lF(H,le,ye))return!0}return!1}}function bP(o,i){const l=pg([],[o.x,o.y,0,1],i);return new T(l[0]/l[3],l[1]/l[3])}class wP extends hx{}let SP;dt("HeatmapBucket",wP,{omit:["layers"]});var mF={get paint(){return SP=SP||new p({"heatmap-radius":new kt(je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kt(je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new _t(je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new u(je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new _t(je.paint_heatmap["heatmap-opacity"])})}};function gx(o,{width:i,height:l},f,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==i*l*f)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${i*l*f}`)}else m=new Uint8Array(i*l*f);return o.width=i,o.height=l,o.data=m,o}function PP(o,{width:i,height:l},f){if(i===o.width&&l===o.height)return;const m=gx({},{width:i,height:l},f);yx(o,m,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,i),height:Math.min(o.height,l)},f),o.width=i,o.height=l,o.data=m.data}function yx(o,i,l,f,m,y){if(m.width===0||m.height===0)return i;if(m.width>o.width||m.height>o.height||l.x>o.width-m.width||l.y>o.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>i.width||m.height>i.height||f.x>i.width-m.width||f.y>i.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const b=o.data,P=i.data;if(b===P)throw new Error("srcData equals dstData, so image is already copied");for(let k=0;k<m.height;k++){const M=((l.y+k)*o.width+l.x)*y,R=((f.y+k)*i.width+f.x)*y;for(let N=0;N<m.width*y;N++)P[R+N]=b[M+N]}return i}class wf{constructor(i,l){gx(this,i,1,l)}resize(i){PP(this,i,1)}clone(){return new wf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,f,m,y){yx(i,l,f,m,y,1)}}class ra{constructor(i,l){gx(this,i,4,l)}resize(i){PP(this,i,4)}replace(i,l){l?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new ra({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,f,m,y){yx(i,l,f,m,y,4)}}function TP(o){const i={},l=o.resolution||256,f=o.clips?o.clips.length:1,m=o.image||new ra({width:l,height:f});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);const y=(b,P,k)=>{i[o.evaluationKey]=k;const M=o.expression.evaluate(i);m.data[b+P+0]=Math.floor(255*M.r/M.a),m.data[b+P+1]=Math.floor(255*M.g/M.a),m.data[b+P+2]=Math.floor(255*M.b/M.a),m.data[b+P+3]=Math.floor(255*M.a)};if(o.clips)for(let b=0,P=0;b<f;++b,P+=4*l)for(let k=0,M=0;k<l;k++,M+=4){const R=k/(l-1),{start:N,end:H}=o.clips[b];y(P,M,N*(1-R)+H*R)}else for(let b=0,P=0;b<l;b++,P+=4)y(0,P,b/(l-1));return m}dt("AlphaImage",wf),dt("RGBAImage",ra);class gF extends _{createBucket(i){return new wP(i)}constructor(i){super(i,mF),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=TP({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let CP;var yF={get paint(){return CP=CP||new p({"hillshade-illumination-direction":new _t(je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new _t(je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new _t(je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new _t(je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new _t(je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new _t(je.paint_hillshade["hillshade-accent-color"])})}};class vF extends _{constructor(i){super(i,yF)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const xF=L([{name:"a_pos",components:2,type:"Int16"}],4),{members:_F}=xF;var vx={exports:{}};function mg(o,i,l){l=l||2;var f,m,y,b,P,k,M,R=i&&i.length,N=R?i[0]*l:o.length,H=EP(o,0,N,l,!0),G=[];if(!H||H.next===H.prev)return G;if(R&&(H=function(re,le,ye,Me){var Se,Ae,Ne,Ze=[];for(Se=0,Ae=le.length;Se<Ae;Se++)(Ne=EP(re,le[Se]*Me,Se<Ae-1?le[Se+1]*Me:re.length,Me,!1))===Ne.next&&(Ne.steiner=!0),Ze.push(kF(Ne));for(Ze.sort(TF),Se=0;Se<Ze.length;Se++)ye=CF(Ze[Se],ye);return ye}(o,i,H,l)),o.length>80*l){f=y=o[0],m=b=o[1];for(var J=l;J<N;J+=l)(P=o[J])<f&&(f=P),(k=o[J+1])<m&&(m=k),P>y&&(y=P),k>b&&(b=k);M=(M=Math.max(y-f,b-m))!==0?32767/M:0}return Sf(H,G,l,f,m,M,0),G}function EP(o,i,l,f,m){var y,b;if(m===bx(o,i,l,f)>0)for(y=i;y<l;y+=f)b=IP(y,o[y],o[y+1],b);else for(y=l-f;y>=i;y-=f)b=IP(y,o[y],o[y+1],b);return b&&gg(b,b.next)&&(Tf(b),b=b.next),b}function pc(o,i){if(!o)return o;i||(i=o);var l,f=o;do if(l=!1,f.steiner||!gg(f,f.next)&&qr(f.prev,f,f.next)!==0)f=f.next;else{if(Tf(f),(f=i=f.prev)===f.next)break;l=!0}while(l||f!==i);return i}function Sf(o,i,l,f,m,y,b){if(o){!b&&y&&function(R,N,H,G){var J=R;do J.z===0&&(J.z=xx(J.x,J.y,N,H,G)),J.prevZ=J.prev,J.nextZ=J.next,J=J.next;while(J!==R);J.prevZ.nextZ=null,J.prevZ=null,function(re){var le,ye,Me,Se,Ae,Ne,Ze,it,Ct=1;do{for(ye=re,re=null,Ae=null,Ne=0;ye;){for(Ne++,Me=ye,Ze=0,le=0;le<Ct&&(Ze++,Me=Me.nextZ);le++);for(it=Ct;Ze>0||it>0&&Me;)Ze!==0&&(it===0||!Me||ye.z<=Me.z)?(Se=ye,ye=ye.nextZ,Ze--):(Se=Me,Me=Me.nextZ,it--),Ae?Ae.nextZ=Se:re=Se,Se.prevZ=Ae,Ae=Se;ye=Me}Ae.nextZ=null,Ct*=2}while(Ne>1)}(J)}(o,f,m,y);for(var P,k,M=o;o.prev!==o.next;)if(P=o.prev,k=o.next,y?wF(o,f,m,y):bF(o))i.push(P.i/l|0),i.push(o.i/l|0),i.push(k.i/l|0),Tf(o),o=k.next,M=k.next;else if((o=k)===M){b?b===1?Sf(o=SF(pc(o),i,l),i,l,f,m,y,2):b===2&&PF(o,i,l,f,m,y):Sf(pc(o),i,l,f,m,y,1);break}}}function bF(o){var i=o.prev,l=o,f=o.next;if(qr(i,l,f)>=0)return!1;for(var m=i.x,y=l.x,b=f.x,P=i.y,k=l.y,M=f.y,R=m<y?m<b?m:b:y<b?y:b,N=P<k?P<M?P:M:k<M?k:M,H=m>y?m>b?m:b:y>b?y:b,G=P>k?P>M?P:M:k>M?k:M,J=f.next;J!==i;){if(J.x>=R&&J.x<=H&&J.y>=N&&J.y<=G&&Zu(m,P,y,k,b,M,J.x,J.y)&&qr(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function wF(o,i,l,f){var m=o.prev,y=o,b=o.next;if(qr(m,y,b)>=0)return!1;for(var P=m.x,k=y.x,M=b.x,R=m.y,N=y.y,H=b.y,G=P<k?P<M?P:M:k<M?k:M,J=R<N?R<H?R:H:N<H?N:H,re=P>k?P>M?P:M:k>M?k:M,le=R>N?R>H?R:H:N>H?N:H,ye=xx(G,J,i,l,f),Me=xx(re,le,i,l,f),Se=o.prevZ,Ae=o.nextZ;Se&&Se.z>=ye&&Ae&&Ae.z<=Me;){if(Se.x>=G&&Se.x<=re&&Se.y>=J&&Se.y<=le&&Se!==m&&Se!==b&&Zu(P,R,k,N,M,H,Se.x,Se.y)&&qr(Se.prev,Se,Se.next)>=0||(Se=Se.prevZ,Ae.x>=G&&Ae.x<=re&&Ae.y>=J&&Ae.y<=le&&Ae!==m&&Ae!==b&&Zu(P,R,k,N,M,H,Ae.x,Ae.y)&&qr(Ae.prev,Ae,Ae.next)>=0))return!1;Ae=Ae.nextZ}for(;Se&&Se.z>=ye;){if(Se.x>=G&&Se.x<=re&&Se.y>=J&&Se.y<=le&&Se!==m&&Se!==b&&Zu(P,R,k,N,M,H,Se.x,Se.y)&&qr(Se.prev,Se,Se.next)>=0)return!1;Se=Se.prevZ}for(;Ae&&Ae.z<=Me;){if(Ae.x>=G&&Ae.x<=re&&Ae.y>=J&&Ae.y<=le&&Ae!==m&&Ae!==b&&Zu(P,R,k,N,M,H,Ae.x,Ae.y)&&qr(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}return!0}function SF(o,i,l){var f=o;do{var m=f.prev,y=f.next.next;!gg(m,y)&&kP(m,f,f.next,y)&&Pf(m,y)&&Pf(y,m)&&(i.push(m.i/l|0),i.push(f.i/l|0),i.push(y.i/l|0),Tf(f),Tf(f.next),f=o=y),f=f.next}while(f!==o);return pc(f)}function PF(o,i,l,f,m,y){var b=o;do{for(var P=b.next.next;P!==b.prev;){if(b.i!==P.i&&AF(b,P)){var k=AP(b,P);return b=pc(b,b.next),k=pc(k,k.next),Sf(b,i,l,f,m,y,0),void Sf(k,i,l,f,m,y,0)}P=P.next}b=b.next}while(b!==o)}function TF(o,i){return o.x-i.x}function CF(o,i){var l=function(m,y){var b,P=y,k=m.x,M=m.y,R=-1/0;do{if(M<=P.y&&M>=P.next.y&&P.next.y!==P.y){var N=P.x+(M-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(N<=k&&N>R&&(R=N,b=P.x<P.next.x?P:P.next,N===k))return b}P=P.next}while(P!==y);if(!b)return null;var H,G=b,J=b.x,re=b.y,le=1/0;P=b;do k>=P.x&&P.x>=J&&k!==P.x&&Zu(M<re?k:R,M,J,re,M<re?R:k,M,P.x,P.y)&&(H=Math.abs(M-P.y)/(k-P.x),Pf(P,m)&&(H<le||H===le&&(P.x>b.x||P.x===b.x&&EF(b,P)))&&(b=P,le=H)),P=P.next;while(P!==G);return b}(o,i);if(!l)return i;var f=AP(l,o);return pc(f,f.next),pc(l,l.next)}function EF(o,i){return qr(o.prev,o,i.prev)<0&&qr(i.next,o,o.next)<0}function xx(o,i,l,f,m){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-l)*m|0)|o<<8))|o<<4))|o<<2))|o<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*m|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function kF(o){var i=o,l=o;do(i.x<l.x||i.x===l.x&&i.y<l.y)&&(l=i),i=i.next;while(i!==o);return l}function Zu(o,i,l,f,m,y,b,P){return(m-b)*(i-P)>=(o-b)*(y-P)&&(o-b)*(f-P)>=(l-b)*(i-P)&&(l-b)*(y-P)>=(m-b)*(f-P)}function AF(o,i){return o.next.i!==i.i&&o.prev.i!==i.i&&!function(l,f){var m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==f.i&&m.next.i!==f.i&&kP(m,m.next,l,f))return!0;m=m.next}while(m!==l);return!1}(o,i)&&(Pf(o,i)&&Pf(i,o)&&function(l,f){var m=l,y=!1,b=(l.x+f.x)/2,P=(l.y+f.y)/2;do m.y>P!=m.next.y>P&&m.next.y!==m.y&&b<(m.next.x-m.x)*(P-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==l);return y}(o,i)&&(qr(o.prev,o,i.prev)||qr(o,i.prev,i))||gg(o,i)&&qr(o.prev,o,o.next)>0&&qr(i.prev,i,i.next)>0)}function qr(o,i,l){return(i.y-o.y)*(l.x-i.x)-(i.x-o.x)*(l.y-i.y)}function gg(o,i){return o.x===i.x&&o.y===i.y}function kP(o,i,l,f){var m=vg(qr(o,i,l)),y=vg(qr(o,i,f)),b=vg(qr(l,f,o)),P=vg(qr(l,f,i));return m!==y&&b!==P||!(m!==0||!yg(o,l,i))||!(y!==0||!yg(o,f,i))||!(b!==0||!yg(l,o,f))||!(P!==0||!yg(l,i,f))}function yg(o,i,l){return i.x<=Math.max(o.x,l.x)&&i.x>=Math.min(o.x,l.x)&&i.y<=Math.max(o.y,l.y)&&i.y>=Math.min(o.y,l.y)}function vg(o){return o>0?1:o<0?-1:0}function Pf(o,i){return qr(o.prev,o,o.next)<0?qr(o,i,o.next)>=0&&qr(o,o.prev,i)>=0:qr(o,i,o.prev)<0||qr(o,o.next,i)<0}function AP(o,i){var l=new _x(o.i,o.x,o.y),f=new _x(i.i,i.x,i.y),m=o.next,y=i.prev;return o.next=i,i.prev=o,l.next=m,m.prev=l,f.next=l,l.prev=f,y.next=f,f.prev=y,f}function IP(o,i,l,f){var m=new _x(o,i,l);return f?(m.next=f.next,m.prev=f,f.next.prev=m,f.next=m):(m.prev=m,m.next=m),m}function Tf(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function _x(o,i,l){this.i=o,this.x=i,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function bx(o,i,l,f){for(var m=0,y=i,b=l-f;y<l;y+=f)m+=(o[b]-o[y])*(o[y+1]+o[b+1]),b=y;return m}vx.exports=mg,vx.exports.default=mg,mg.deviation=function(o,i,l,f){var m=i&&i.length,y=Math.abs(bx(o,0,m?i[0]*l:o.length,l));if(m)for(var b=0,P=i.length;b<P;b++)y-=Math.abs(bx(o,i[b]*l,b<P-1?i[b+1]*l:o.length,l));var k=0;for(b=0;b<f.length;b+=3){var M=f[b]*l,R=f[b+1]*l,N=f[b+2]*l;k+=Math.abs((o[M]-o[N])*(o[R+1]-o[M+1])-(o[M]-o[R])*(o[N+1]-o[M+1]))}return y===0&&k===0?0:Math.abs((k-y)/y)},mg.flatten=function(o){for(var i=o[0][0].length,l={vertices:[],holes:[],dimensions:i},f=0,m=0;m<o.length;m++){for(var y=0;y<o[m].length;y++)for(var b=0;b<i;b++)l.vertices.push(o[m][y][b]);m>0&&l.holes.push(f+=o[m-1].length)}return l};var MP=v(vx.exports);function wx(o,i,l){const f=l.patternDependencies;let m=!1;for(const y of i){const b=y.paint.get(`${o}-pattern`);b.isConstant()||(m=!0);const P=b.constantOr(null);P&&(m=!0,f[P.to]=!0,f[P.from]=!0)}return m}function Sx(o,i,l,f,m){const y=m.patternDependencies;for(const b of i){const P=b.paint.get(`${o}-pattern`).value;if(P.kind!=="constant"){let k=P.evaluate({zoom:f-1},l,{},m.availableImages),M=P.evaluate({zoom:f},l,{},m.availableImages),R=P.evaluate({zoom:f+1},l,{},m.availableImages);k=k&&k.name?k.name:k,M=M&&M.name?M.name:M,R=R&&R.name?R.name:R,y[k]=!0,y[M]=!0,y[R]=!0,l.patterns[b.id]={min:k,mid:M,max:R}}}return l}class Px{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ks,this.indexArray=new mn,this.indexArray2=new Dr,this.programConfigurations=new dc(i.layers,i.zoom),this.segments=new ln,this.segments2=new ln,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.hasPattern=wx("fill",this.layers,l);const m=this.layers[0].layout.get("fill-sort-key"),y=!m.isConstant(),b=[];for(const{feature:P,id:k,index:M,sourceLayerIndex:R}of i){const N=this.layers[0]._featureFilter.needGeometry,H=fc(P,N);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),H,f))continue;const G=y?m.evaluate(H,{},f,l.availableImages):void 0,J={id:k,properties:P.properties,type:P.type,sourceLayerIndex:R,index:M,geometry:N?H.geometry:hc(P),patterns:{},sortKey:G};b.push(J)}y&&b.sort((P,k)=>P.sortKey-k.sortKey);for(const P of b){const{geometry:k,index:M,sourceLayerIndex:R}=P;if(this.hasPattern){const N=Sx("fill",this.layers,P,this.zoom,l);this.patternFeatures.push(N)}else this.addFeature(P,k,M,f,{});l.featureIndex.insert(i[M].feature,k,M,R,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}addFeatures(i,l,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,_F),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,l,f,m,y){for(const b of vu(l,500)){let P=0;for(const G of b)P+=G.length;const k=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),M=k.vertexLength,R=[],N=[];for(const G of b){if(G.length===0)continue;G!==b[0]&&N.push(R.length/2);const J=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),re=J.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(re+G.length-1,re),R.push(G[0].x),R.push(G[0].y);for(let le=1;le<G.length;le++)this.layoutVertexArray.emplaceBack(G[le].x,G[le].y),this.indexArray2.emplaceBack(re+le-1,re+le),R.push(G[le].x),R.push(G[le].y);J.vertexLength+=G.length,J.primitiveLength+=G.length}const H=MP(R,N);for(let G=0;G<H.length;G+=3)this.indexArray.emplaceBack(M+H[G],M+H[G+1],M+H[G+2]);k.vertexLength+=P,k.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}}let DP,$P;dt("FillBucket",Px,{omit:["layers","patternFeatures"]});var IF={get paint(){return $P=$P||new p({"fill-antialias":new _t(je.paint_fill["fill-antialias"]),"fill-opacity":new kt(je.paint_fill["fill-opacity"]),"fill-color":new kt(je.paint_fill["fill-color"]),"fill-outline-color":new kt(je.paint_fill["fill-outline-color"]),"fill-translate":new _t(je.paint_fill["fill-translate"]),"fill-translate-anchor":new _t(je.paint_fill["fill-translate-anchor"]),"fill-pattern":new x(je.paint_fill["fill-pattern"])})},get layout(){return DP=DP||new p({"fill-sort-key":new kt(je.layout_fill["fill-sort-key"])})}};class MF extends _{constructor(i){super(i,IF)}recalculate(i,l){super.recalculate(i,l);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Px(i)}queryRadius(){return hg(this.paint.get("fill-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P){return mP(fg(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,P),m)}isTileClipped(){return!0}}const DF=L([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),$F=L([{name:"a_centroid",components:2,type:"Int16"}],4),{members:RF}=DF;var qs={},LF=w,RP=qu;function qu(o,i,l,f,m){this.properties={},this.extent=l,this.type=0,this._pbf=o,this._geometry=-1,this._keys=f,this._values=m,o.readFields(zF,this,i)}function zF(o,i,l){o==1?i.id=l.readVarint():o==2?function(f,m){for(var y=f.readVarint()+f.pos;f.pos<y;){var b=m._keys[f.readVarint()],P=m._values[f.readVarint()];m.properties[b]=P}}(l,i):o==3?i.type=l.readVarint():o==4&&(i._geometry=l.pos)}function FF(o){for(var i,l,f=0,m=0,y=o.length,b=y-1;m<y;b=m++)f+=((l=o[b]).x-(i=o[m]).x)*(i.y+l.y);return f}qu.types=["Unknown","Point","LineString","Polygon"],qu.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var i,l=o.readVarint()+o.pos,f=1,m=0,y=0,b=0,P=[];o.pos<l;){if(m<=0){var k=o.readVarint();f=7&k,m=k>>3}if(m--,f===1||f===2)y+=o.readSVarint(),b+=o.readSVarint(),f===1&&(i&&P.push(i),i=[]),i.push(new LF(y,b));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&P.push(i),P},qu.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var i=o.readVarint()+o.pos,l=1,f=0,m=0,y=0,b=1/0,P=-1/0,k=1/0,M=-1/0;o.pos<i;){if(f<=0){var R=o.readVarint();l=7&R,f=R>>3}if(f--,l===1||l===2)(m+=o.readSVarint())<b&&(b=m),m>P&&(P=m),(y+=o.readSVarint())<k&&(k=y),y>M&&(M=y);else if(l!==7)throw new Error("unknown command "+l)}return[b,k,P,M]},qu.prototype.toGeoJSON=function(o,i,l){var f,m,y=this.extent*Math.pow(2,l),b=this.extent*o,P=this.extent*i,k=this.loadGeometry(),M=qu.types[this.type];function R(G){for(var J=0;J<G.length;J++){var re=G[J];G[J]=[360*(re.x+b)/y-180,360/Math.PI*Math.atan(Math.exp((180-360*(re.y+P)/y)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(f=0;f<k.length;f++)N[f]=k[f][0];R(k=N);break;case 2:for(f=0;f<k.length;f++)R(k[f]);break;case 3:for(k=function(G){var J=G.length;if(J<=1)return[G];for(var re,le,ye=[],Me=0;Me<J;Me++){var Se=FF(G[Me]);Se!==0&&(le===void 0&&(le=Se<0),le===Se<0?(re&&ye.push(re),re=[G[Me]]):re.push(G[Me]))}return re&&ye.push(re),ye}(k),f=0;f<k.length;f++)for(m=0;m<k[f].length;m++)R(k[f][m])}k.length===1?k=k[0]:M="Multi"+M;var H={type:"Feature",geometry:{type:M,coordinates:k},properties:this.properties};return"id"in this&&(H.id=this.id),H};var BF=RP,LP=zP;function zP(o,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(NF,this,i),this.length=this._features.length}function NF(o,i,l){o===15?i.version=l.readVarint():o===1?i.name=l.readString():o===5?i.extent=l.readVarint():o===2?i._features.push(l.pos):o===3?i._keys.push(l.readString()):o===4&&i._values.push(function(f){for(var m=null,y=f.readVarint()+f.pos;f.pos<y;){var b=f.readVarint()>>3;m=b===1?f.readString():b===2?f.readFloat():b===3?f.readDouble():b===4?f.readVarint64():b===5?f.readVarint():b===6?f.readSVarint():b===7?f.readBoolean():null}return m}(l))}zP.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var i=this._pbf.readVarint()+this._pbf.pos;return new BF(this._pbf,i,this.extent,this._keys,this._values)};var OF=LP;function jF(o,i,l){if(o===3){var f=new OF(l,l.readVarint()+l.pos);f.length&&(i[f.name]=f)}}qs.VectorTile=function(o,i){this.layers=o.readFields(jF,{},i)},qs.VectorTileFeature=RP,qs.VectorTileLayer=LP;const VF=qs.VectorTileFeature.types,Tx=Math.pow(2,13);function Cf(o,i,l,f,m,y,b,P){o.emplaceBack(i,l,2*Math.floor(f*Tx)+b,m*Tx*2,y*Tx*2,Math.round(P))}class Cx{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new qo,this.centroidVertexArray=new Zo,this.indexArray=new mn,this.programConfigurations=new dc(i.layers,i.zoom),this.segments=new ln,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.features=[],this.hasPattern=wx("fill-extrusion",this.layers,l);for(const{feature:m,id:y,index:b,sourceLayerIndex:P}of i){const k=this.layers[0]._featureFilter.needGeometry,M=fc(m,k);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),M,f))continue;const R={id:y,sourceLayerIndex:P,index:b,geometry:k?M.geometry:hc(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(Sx("fill-extrusion",this.layers,R,this.zoom,l)):this.addFeature(R,R.geometry,b,f,{}),l.featureIndex.insert(m,R.geometry,b,P,this.index,!0)}}addFeatures(i,l,f){for(const m of this.features){const{geometry:y}=m;this.addFeature(m,y,m.index,l,f)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,RF),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,$F.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,l,f,m,y){for(const b of vu(l,500)){const P={x:0,y:0,vertexCount:0};let k=0;for(const J of b)k+=J.length;let M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const J of b){if(J.length===0||KF(J))continue;let re=0;for(let le=0;le<J.length;le++){const ye=J[le];if(le>=1){const Me=J[le-1];if(!UF(ye,Me)){M.vertexLength+4>ln.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Se=ye.sub(Me)._perp()._unit(),Ae=Me.dist(ye);re+Ae>32768&&(re=0),Cf(this.layoutVertexArray,ye.x,ye.y,Se.x,Se.y,0,0,re),Cf(this.layoutVertexArray,ye.x,ye.y,Se.x,Se.y,0,1,re),P.x+=2*ye.x,P.y+=2*ye.y,P.vertexCount+=2,re+=Ae,Cf(this.layoutVertexArray,Me.x,Me.y,Se.x,Se.y,0,0,re),Cf(this.layoutVertexArray,Me.x,Me.y,Se.x,Se.y,0,1,re),P.x+=2*Me.x,P.y+=2*Me.y,P.vertexCount+=2;const Ne=M.vertexLength;this.indexArray.emplaceBack(Ne,Ne+2,Ne+1),this.indexArray.emplaceBack(Ne+1,Ne+2,Ne+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+k>ln.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray)),VF[i.type]!=="Polygon")continue;const R=[],N=[],H=M.vertexLength;for(const J of b)if(J.length!==0){J!==b[0]&&N.push(R.length/2);for(let re=0;re<J.length;re++){const le=J[re];Cf(this.layoutVertexArray,le.x,le.y,0,0,1,1,0),P.x+=le.x,P.y+=le.y,P.vertexCount+=1,R.push(le.x),R.push(le.y)}}const G=MP(R,N);for(let J=0;J<G.length;J+=3)this.indexArray.emplaceBack(H+G[J],H+G[J+2],H+G[J+1]);M.primitiveLength+=G.length/3,M.vertexLength+=k;for(let J=0;J<P.vertexCount;J++){const re=Math.floor(P.x/P.vertexCount),le=Math.floor(P.y/P.vertexCount);this.centroidVertexArray.emplaceBack(re,le)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}}function UF(o,i){return o.x===i.x&&(o.x<0||o.x>nn)||o.y===i.y&&(o.y<0||o.y>nn)}function KF(o){return o.every(i=>i.x<0)||o.every(i=>i.x>nn)||o.every(i=>i.y<0)||o.every(i=>i.y>nn)}let FP;dt("FillExtrusionBucket",Cx,{omit:["layers","features"]});var HF={get paint(){return FP=FP||new p({"fill-extrusion-opacity":new _t(je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kt(je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new _t(je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new _t(je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new x(je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kt(je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kt(je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new _t(je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class WF extends _{constructor(i){super(i,HF)}createBucket(i){return new Cx(i)}queryRadius(){return hg(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,l,f,m,y,b,P,k){const M=fg(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,P),R=this.paint.get("fill-extrusion-height").evaluate(l,f),N=this.paint.get("fill-extrusion-base").evaluate(l,f),H=function(J,re,le,ye){const Me=[];for(const Se of J){const Ae=[Se.x,Se.y,0,1];pg(Ae,Ae,re),Me.push(new T(Ae[0]/Ae[3],Ae[1]/Ae[3]))}return Me}(M,k),G=function(J,re,le,ye){const Me=[],Se=[],Ae=ye[8]*re,Ne=ye[9]*re,Ze=ye[10]*re,it=ye[11]*re,Ct=ye[8]*le,ot=ye[9]*le,nt=ye[10]*le,xt=ye[11]*le;for(const ht of J){const ut=[],He=[];for(const bt of ht){const yt=bt.x,Dt=bt.y,gr=ye[0]*yt+ye[4]*Dt+ye[12],pr=ye[1]*yt+ye[5]*Dt+ye[13],gn=ye[2]*yt+ye[6]*Dt+ye[14],Pa=ye[3]*yt+ye[7]*Dt+ye[15],Fn=gn+Ze,Hr=Pa+it,ci=gr+Ct,ui=pr+ot,di=gn+nt,Wr=Pa+xt,yn=new T((gr+Ae)/Hr,(pr+Ne)/Hr);yn.z=Fn/Hr,ut.push(yn);const Zn=new T(ci/Wr,ui/Wr);Zn.z=di/Wr,He.push(Zn)}Me.push(ut),Se.push(He)}return[Me,Se]}(m,N,R,k);return function(J,re,le){let ye=1/0;mP(le,re)&&(ye=BP(le,re[0]));for(let Me=0;Me<re.length;Me++){const Se=re[Me],Ae=J[Me];for(let Ne=0;Ne<Se.length-1;Ne++){const Ze=Se[Ne],it=[Ze,Se[Ne+1],Ae[Ne+1],Ae[Ne],Ze];pP(le,it)&&(ye=Math.min(ye,BP(le,it)))}}return ye!==1/0&&ye}(G[0],G[1],H)}}function Ef(o,i){return o.x*i.x+o.y*i.y}function BP(o,i){if(o.length===1){let l=0;const f=i[l++];let m;for(;!m||f.equals(m);)if(m=i[l++],!m)return 1/0;for(;l<i.length;l++){const y=i[l],b=o[0],P=m.sub(f),k=y.sub(f),M=b.sub(f),R=Ef(P,P),N=Ef(P,k),H=Ef(k,k),G=Ef(M,P),J=Ef(M,k),re=R*H-N*N,le=(H*G-N*J)/re,ye=(R*J-N*G)/re,Me=f.z*(1-le-ye)+m.z*le+y.z*ye;if(isFinite(Me))return Me}return 1/0}{let l=1/0;for(const f of i)l=Math.min(l,f.z);return l}}const GF=L([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:ZF}=GF,qF=L([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:YF}=qF,XF=qs.VectorTileFeature.types,JF=Math.cos(Math.PI/180*37.5),NP=Math.pow(2,14)/.5;class Ex{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new ju,this.layoutVertexArray2=new pf,this.indexArray=new mn,this.programConfigurations=new dc(i.layers,i.zoom),this.segments=new ln,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.hasPattern=wx("line",this.layers,l);const m=this.layers[0].layout.get("line-sort-key"),y=!m.isConstant(),b=[];for(const{feature:P,id:k,index:M,sourceLayerIndex:R}of i){const N=this.layers[0]._featureFilter.needGeometry,H=fc(P,N);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),H,f))continue;const G=y?m.evaluate(H,{},f):void 0,J={id:k,properties:P.properties,type:P.type,sourceLayerIndex:R,index:M,geometry:N?H.geometry:hc(P),patterns:{},sortKey:G};b.push(J)}y&&b.sort((P,k)=>P.sortKey-k.sortKey);for(const P of b){const{geometry:k,index:M,sourceLayerIndex:R}=P;if(this.hasPattern){const N=Sx("line",this.layers,P,this.zoom,l);this.patternFeatures.push(N)}else this.addFeature(P,k,M,f,{});l.featureIndex.insert(i[M].feature,k,M,R,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}addFeatures(i,l,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,YF)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,ZF),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,l,f,m,y){const b=this.layers[0].layout,P=b.get("line-join").evaluate(i,{}),k=b.get("line-cap"),M=b.get("line-miter-limit"),R=b.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const N of l)this.addLine(N,i,P,k,M,R);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}addLine(i,l,f,m,y,b){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ye=0;ye<i.length-1;ye++)this.totalDistance+=i[ye].dist(i[ye+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P=XF[l.type]==="Polygon";let k=i.length;for(;k>=2&&i[k-1].equals(i[k-2]);)k--;let M=0;for(;M<k-1&&i[M].equals(i[M+1]);)M++;if(k<(P?3:2))return;f==="bevel"&&(y=1.05);const R=this.overscaling<=16?15*nn/(512*this.overscaling):0,N=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let H,G,J,re,le;this.e1=this.e2=-1,P&&(H=i[k-2],le=i[M].sub(H)._unit()._perp());for(let ye=M;ye<k;ye++){if(J=ye===k-1?P?i[M+1]:void 0:i[ye+1],J&&i[ye].equals(J))continue;le&&(re=le),H&&(G=H),H=i[ye],le=J?J.sub(H)._unit()._perp():re,re=re||le;let Me=re.add(le);Me.x===0&&Me.y===0||Me._unit();const Se=re.x*le.x+re.y*le.y,Ae=Me.x*le.x+Me.y*le.y,Ne=Ae!==0?1/Ae:1/0,Ze=2*Math.sqrt(2-2*Ae),it=Ae<JF&&G&&J,Ct=re.x*le.y-re.y*le.x>0;if(it&&ye>M){const xt=H.dist(G);if(xt>2*R){const ht=H.sub(H.sub(G)._mult(R/xt)._round());this.updateDistance(G,ht),this.addCurrentVertex(ht,re,0,0,N),G=ht}}const ot=G&&J;let nt=ot?f:P?"butt":m;if(ot&&nt==="round"&&(Ne<b?nt="miter":Ne<=2&&(nt="fakeround")),nt==="miter"&&Ne>y&&(nt="bevel"),nt==="bevel"&&(Ne>2&&(nt="flipbevel"),Ne<y&&(nt="miter")),G&&this.updateDistance(G,H),nt==="miter")Me._mult(Ne),this.addCurrentVertex(H,Me,0,0,N);else if(nt==="flipbevel"){if(Ne>100)Me=le.mult(-1);else{const xt=Ne*re.add(le).mag()/re.sub(le).mag();Me._perp()._mult(xt*(Ct?-1:1))}this.addCurrentVertex(H,Me,0,0,N),this.addCurrentVertex(H,Me.mult(-1),0,0,N)}else if(nt==="bevel"||nt==="fakeround"){const xt=-Math.sqrt(Ne*Ne-1),ht=Ct?xt:0,ut=Ct?0:xt;if(G&&this.addCurrentVertex(H,re,ht,ut,N),nt==="fakeround"){const He=Math.round(180*Ze/Math.PI/20);for(let bt=1;bt<He;bt++){let yt=bt/He;if(yt!==.5){const gr=yt-.5;yt+=yt*gr*(yt-1)*((1.0904+Se*(Se*(3.55645-1.43519*Se)-3.2452))*gr*gr+(.848013+Se*(.215638*Se-1.06021)))}const Dt=le.sub(re)._mult(yt)._add(re)._unit()._mult(Ct?-1:1);this.addHalfVertex(H,Dt.x,Dt.y,!1,Ct,0,N)}}J&&this.addCurrentVertex(H,le,-ht,-ut,N)}else if(nt==="butt")this.addCurrentVertex(H,Me,0,0,N);else if(nt==="square"){const xt=G?1:-1;this.addCurrentVertex(H,Me,xt,xt,N)}else nt==="round"&&(G&&(this.addCurrentVertex(H,re,0,0,N),this.addCurrentVertex(H,re,1,1,N,!0)),J&&(this.addCurrentVertex(H,le,-1,-1,N,!0),this.addCurrentVertex(H,le,0,0,N)));if(it&&ye<k-1){const xt=H.dist(J);if(xt>2*R){const ht=H.add(J.sub(H)._mult(R/xt)._round());this.updateDistance(H,ht),this.addCurrentVertex(ht,le,0,0,N),H=ht}}}}addCurrentVertex(i,l,f,m,y,b=!1){const P=l.y*m-l.x,k=-l.y-l.x*m;this.addHalfVertex(i,l.x+l.y*f,l.y-l.x*f,b,!1,f,y),this.addHalfVertex(i,P,k,b,!0,-m,y),this.distance>NP/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,l,f,m,y,b))}addHalfVertex({x:i,y:l},f,m,y,b,P,k){const M=.5*(this.lineClips?this.scaledDistance*(NP-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(y?1:0),(l<<1)+(b?1:0),Math.round(63*f)+128,Math.round(63*m)+128,1+(P===0?0:P<0?-1:1)|(63&M)<<2,M>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const R=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,R),k.primitiveLength++),b?this.e2=R:this.e1=R}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,l){this.distance+=i.dist(l),this.updateScaledDistance()}}let OP,jP;dt("LineBucket",Ex,{omit:["layers","patternFeatures"]});var VP={get paint(){return jP=jP||new p({"line-opacity":new kt(je.paint_line["line-opacity"]),"line-color":new kt(je.paint_line["line-color"]),"line-translate":new _t(je.paint_line["line-translate"]),"line-translate-anchor":new _t(je.paint_line["line-translate-anchor"]),"line-width":new kt(je.paint_line["line-width"]),"line-gap-width":new kt(je.paint_line["line-gap-width"]),"line-offset":new kt(je.paint_line["line-offset"]),"line-blur":new kt(je.paint_line["line-blur"]),"line-dasharray":new a(je.paint_line["line-dasharray"]),"line-pattern":new x(je.paint_line["line-pattern"]),"line-gradient":new u(je.paint_line["line-gradient"])})},get layout(){return OP=OP||new p({"line-cap":new _t(je.layout_line["line-cap"]),"line-join":new kt(je.layout_line["line-join"]),"line-miter-limit":new _t(je.layout_line["line-miter-limit"]),"line-round-limit":new _t(je.layout_line["line-round-limit"]),"line-sort-key":new kt(je.layout_line["line-sort-key"])})}};class QF extends kt{possiblyEvaluate(i,l){return l=new vr(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(i,l)}evaluate(i,l,f,m){return l=we({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(i,l,f,m)}}let xg;class e8 extends _{constructor(i){super(i,VP),this.gradientVersion=0,xg||(xg=new QF(VP.paint.properties["line-width"].specification),xg.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const l=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof Zl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,l){super.recalculate(i,l),this.paint._values["line-floorwidth"]=xg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Ex(i)}queryRadius(i){const l=i,f=UP(_f("line-width",this,l),_f("line-gap-width",this,l)),m=_f("line-offset",this,l);return f/2+Math.abs(m)+hg(this.paint.get("line-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P){const k=fg(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,P),M=P/2*UP(this.paint.get("line-width").evaluate(l,f),this.paint.get("line-gap-width").evaluate(l,f)),R=this.paint.get("line-offset").evaluate(l,f);return R&&(m=function(N,H){const G=[];for(let J=0;J<N.length;J++){const re=N[J],le=[];for(let ye=0;ye<re.length;ye++){const Me=re[ye-1],Se=re[ye],Ae=re[ye+1],Ne=ye===0?new T(0,0):Se.sub(Me)._unit()._perp(),Ze=ye===re.length-1?new T(0,0):Ae.sub(Se)._unit()._perp(),it=Ne._add(Ze)._unit(),Ct=it.x*Ze.x+it.y*Ze.y;Ct!==0&&it._mult(1/Ct),le.push(it._mult(H)._add(Se))}G.push(le)}return G}(m,R*P)),function(N,H,G){for(let J=0;J<H.length;J++){const re=H[J];if(N.length>=3){for(let le=0;le<re.length;le++)if(Wu(N,re[le]))return!0}if(cF(N,re,G))return!0}return!1}(k,m,M)}isTileClipped(){return!0}}function UP(o,i){return i>0?i+2*o:o}const t8=L([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),r8=L([{name:"a_projected_pos",components:3,type:"Float32"}],4);L([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const n8=L([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);L([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const KP=L([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),i8=L([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function a8(o,i,l){return o.sections.forEach(f=>{f.text=function(m,y,b){const P=y.layout.get("text-transform").evaluate(b,{});return P==="uppercase"?m=m.toLocaleUpperCase():P==="lowercase"&&(m=m.toLocaleLowerCase()),yo.applyArabicShaping&&(m=yo.applyArabicShaping(m)),m}(f.text,i,l)}),o}L([{name:"triangle",components:3,type:"Uint16"}]),L([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),L([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),L([{type:"Float32",name:"offsetX"}]),L([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),L([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const kf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var cn=24,HP=fr,WP=function(o,i,l,f,m){var y,b,P=8*m-f-1,k=(1<<P)-1,M=k>>1,R=-7,N=m-1,H=-1,G=o[i+N];for(N+=H,y=G&(1<<-R)-1,G>>=-R,R+=P;R>0;y=256*y+o[i+N],N+=H,R-=8);for(b=y&(1<<-R)-1,y>>=-R,R+=f;R>0;b=256*b+o[i+N],N+=H,R-=8);if(y===0)y=1-M;else{if(y===k)return b?NaN:1/0*(G?-1:1);b+=Math.pow(2,f),y-=M}return(G?-1:1)*b*Math.pow(2,y-f)},GP=function(o,i,l,f,m,y){var b,P,k,M=8*y-m-1,R=(1<<M)-1,N=R>>1,H=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=0,J=1,re=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(P=isNaN(i)?1:0,b=R):(b=Math.floor(Math.log(i)/Math.LN2),i*(k=Math.pow(2,-b))<1&&(b--,k*=2),(i+=b+N>=1?H/k:H*Math.pow(2,1-N))*k>=2&&(b++,k/=2),b+N>=R?(P=0,b=R):b+N>=1?(P=(i*k-1)*Math.pow(2,m),b+=N):(P=i*Math.pow(2,N-1)*Math.pow(2,m),b=0));m>=8;o[l+G]=255&P,G+=J,P/=256,m-=8);for(b=b<<m|P,M+=m;M>0;o[l+G]=255&b,G+=J,b/=256,M-=8);o[l+G-J]|=128*re};function fr(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}fr.Varint=0,fr.Fixed64=1,fr.Bytes=2,fr.Fixed32=5;var kx=4294967296,ZP=1/kx,qP=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Xo(o){return o.type===fr.Bytes?o.readVarint()+o.pos:o.pos+1}function Yu(o,i,l){return l?4294967296*i+(o>>>0):4294967296*(i>>>0)+(o>>>0)}function YP(o,i,l){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));l.realloc(f);for(var m=l.pos-1;m>=o;m--)l.buf[m+f]=l.buf[m]}function o8(o,i){for(var l=0;l<o.length;l++)i.writeVarint(o[l])}function s8(o,i){for(var l=0;l<o.length;l++)i.writeSVarint(o[l])}function l8(o,i){for(var l=0;l<o.length;l++)i.writeFloat(o[l])}function c8(o,i){for(var l=0;l<o.length;l++)i.writeDouble(o[l])}function u8(o,i){for(var l=0;l<o.length;l++)i.writeBoolean(o[l])}function d8(o,i){for(var l=0;l<o.length;l++)i.writeFixed32(o[l])}function h8(o,i){for(var l=0;l<o.length;l++)i.writeSFixed32(o[l])}function f8(o,i){for(var l=0;l<o.length;l++)i.writeFixed64(o[l])}function p8(o,i){for(var l=0;l<o.length;l++)i.writeSFixed64(o[l])}function _g(o,i){return(o[i]|o[i+1]<<8|o[i+2]<<16)+16777216*o[i+3]}function Xu(o,i,l){o[l]=i,o[l+1]=i>>>8,o[l+2]=i>>>16,o[l+3]=i>>>24}function XP(o,i){return(o[i]|o[i+1]<<8|o[i+2]<<16)+(o[i+3]<<24)}fr.prototype={destroy:function(){this.buf=null},readFields:function(o,i,l){for(l=l||this.length;this.pos<l;){var f=this.readVarint(),m=f>>3,y=this.pos;this.type=7&f,o(m,i,this),this.pos===y&&this.skip(f)}return i},readMessage:function(o,i){return this.readFields(o,i,this.readVarint()+this.pos)},readFixed32:function(){var o=_g(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=XP(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=_g(this.buf,this.pos)+_g(this.buf,this.pos+4)*kx;return this.pos+=8,o},readSFixed64:function(){var o=_g(this.buf,this.pos)+XP(this.buf,this.pos+4)*kx;return this.pos+=8,o},readFloat:function(){var o=WP(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=WP(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var i,l,f=this.buf;return i=127&(l=f[this.pos++]),l<128?i:(i|=(127&(l=f[this.pos++]))<<7,l<128?i:(i|=(127&(l=f[this.pos++]))<<14,l<128?i:(i|=(127&(l=f[this.pos++]))<<21,l<128?i:function(m,y,b){var P,k,M=b.buf;if(P=(112&(k=M[b.pos++]))>>4,k<128||(P|=(127&(k=M[b.pos++]))<<3,k<128)||(P|=(127&(k=M[b.pos++]))<<10,k<128)||(P|=(127&(k=M[b.pos++]))<<17,k<128)||(P|=(127&(k=M[b.pos++]))<<24,k<128)||(P|=(1&(k=M[b.pos++]))<<31,k<128))return Yu(m,P,y);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(l=f[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,i=this.pos;return this.pos=o,o-i>=12&&qP?function(l,f,m){return qP.decode(l.subarray(f,m))}(this.buf,i,o):function(l,f,m){for(var y="",b=f;b<m;){var P,k,M,R=l[b],N=null,H=R>239?4:R>223?3:R>191?2:1;if(b+H>m)break;H===1?R<128&&(N=R):H===2?(192&(P=l[b+1]))==128&&(N=(31&R)<<6|63&P)<=127&&(N=null):H===3?(k=l[b+2],(192&(P=l[b+1]))==128&&(192&k)==128&&((N=(15&R)<<12|(63&P)<<6|63&k)<=2047||N>=55296&&N<=57343)&&(N=null)):H===4&&(k=l[b+2],M=l[b+3],(192&(P=l[b+1]))==128&&(192&k)==128&&(192&M)==128&&((N=(15&R)<<18|(63&P)<<12|(63&k)<<6|63&M)<=65535||N>=1114112)&&(N=null)),N===null?(N=65533,H=1):N>65535&&(N-=65536,y+=String.fromCharCode(N>>>10&1023|55296),N=56320|1023&N),y+=String.fromCharCode(N),b+=H}return y}(this.buf,i,o)},readBytes:function(){var o=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,o);return this.pos=o,i},readPackedVarint:function(o,i){if(this.type!==fr.Bytes)return o.push(this.readVarint(i));var l=Xo(this);for(o=o||[];this.pos<l;)o.push(this.readVarint(i));return o},readPackedSVarint:function(o){if(this.type!==fr.Bytes)return o.push(this.readSVarint());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==fr.Bytes)return o.push(this.readBoolean());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==fr.Bytes)return o.push(this.readFloat());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==fr.Bytes)return o.push(this.readDouble());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==fr.Bytes)return o.push(this.readFixed32());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==fr.Bytes)return o.push(this.readSFixed32());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==fr.Bytes)return o.push(this.readFixed64());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==fr.Bytes)return o.push(this.readSFixed64());var i=Xo(this);for(o=o||[];this.pos<i;)o.push(this.readSFixed64());return o},skip:function(o){var i=7&o;if(i===fr.Varint)for(;this.buf[this.pos++]>127;);else if(i===fr.Bytes)this.pos=this.readVarint()+this.pos;else if(i===fr.Fixed32)this.pos+=4;else{if(i!==fr.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(o,i){this.writeVarint(o<<3|i)},realloc:function(o){for(var i=this.length||16;i<this.pos+o;)i*=2;if(i!==this.length){var l=new Uint8Array(i);l.set(this.buf),this.buf=l,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Xu(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Xu(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Xu(this.buf,-1&o,this.pos),Xu(this.buf,Math.floor(o*ZP),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Xu(this.buf,-1&o,this.pos),Xu(this.buf,Math.floor(o*ZP),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(i,l){var f,m;if(i>=0?(f=i%4294967296|0,m=i/4294967296|0):(m=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,m=m+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(y,b,P){P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,P.buf[P.pos]=127&(y>>>=7)}(f,0,l),function(y,b){var P=(7&y)<<4;b.buf[b.pos++]|=P|((y>>>=3)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y)))))}(m,l)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var i=this.pos;this.pos=function(f,m,y){for(var b,P,k=0;k<m.length;k++){if((b=m.charCodeAt(k))>55295&&b<57344){if(!P){b>56319||k+1===m.length?(f[y++]=239,f[y++]=191,f[y++]=189):P=b;continue}if(b<56320){f[y++]=239,f[y++]=191,f[y++]=189,P=b;continue}b=P-55296<<10|b-56320|65536,P=null}else P&&(f[y++]=239,f[y++]=191,f[y++]=189,P=null);b<128?f[y++]=b:(b<2048?f[y++]=b>>6|192:(b<65536?f[y++]=b>>12|224:(f[y++]=b>>18|240,f[y++]=b>>12&63|128),f[y++]=b>>6&63|128),f[y++]=63&b|128)}return y}(this.buf,o,this.pos);var l=this.pos-i;l>=128&&YP(i,l,this),this.pos=i-1,this.writeVarint(l),this.pos+=l},writeFloat:function(o){this.realloc(4),GP(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),GP(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var i=o.length;this.writeVarint(i),this.realloc(i);for(var l=0;l<i;l++)this.buf[this.pos++]=o[l]},writeRawMessage:function(o,i){this.pos++;var l=this.pos;o(i,this);var f=this.pos-l;f>=128&&YP(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeMessage:function(o,i,l){this.writeTag(o,fr.Bytes),this.writeRawMessage(i,l)},writePackedVarint:function(o,i){i.length&&this.writeMessage(o,o8,i)},writePackedSVarint:function(o,i){i.length&&this.writeMessage(o,s8,i)},writePackedBoolean:function(o,i){i.length&&this.writeMessage(o,u8,i)},writePackedFloat:function(o,i){i.length&&this.writeMessage(o,l8,i)},writePackedDouble:function(o,i){i.length&&this.writeMessage(o,c8,i)},writePackedFixed32:function(o,i){i.length&&this.writeMessage(o,d8,i)},writePackedSFixed32:function(o,i){i.length&&this.writeMessage(o,h8,i)},writePackedFixed64:function(o,i){i.length&&this.writeMessage(o,f8,i)},writePackedSFixed64:function(o,i){i.length&&this.writeMessage(o,p8,i)},writeBytesField:function(o,i){this.writeTag(o,fr.Bytes),this.writeBytes(i)},writeFixed32Field:function(o,i){this.writeTag(o,fr.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(o,i){this.writeTag(o,fr.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(o,i){this.writeTag(o,fr.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(o,i){this.writeTag(o,fr.Fixed64),this.writeSFixed64(i)},writeVarintField:function(o,i){this.writeTag(o,fr.Varint),this.writeVarint(i)},writeSVarintField:function(o,i){this.writeTag(o,fr.Varint),this.writeSVarint(i)},writeStringField:function(o,i){this.writeTag(o,fr.Bytes),this.writeString(i)},writeFloatField:function(o,i){this.writeTag(o,fr.Fixed32),this.writeFloat(i)},writeDoubleField:function(o,i){this.writeTag(o,fr.Fixed64),this.writeDouble(i)},writeBooleanField:function(o,i){this.writeVarintField(o,!!i)}};var Ax=v(HP);const Ix=3;function m8(o,i,l){o===1&&l.readMessage(g8,i)}function g8(o,i,l){if(o===3){const{id:f,bitmap:m,width:y,height:b,left:P,top:k,advance:M}=l.readMessage(y8,{});i.push({id:f,bitmap:new wf({width:y+2*Ix,height:b+2*Ix},m),metrics:{width:y,height:b,left:P,top:k,advance:M}})}}function y8(o,i,l){o===1?i.id=l.readVarint():o===2?i.bitmap=l.readBytes():o===3?i.width=l.readVarint():o===4?i.height=l.readVarint():o===5?i.left=l.readSVarint():o===6?i.top=l.readSVarint():o===7&&(i.advance=l.readVarint())}const JP=Ix;function QP(o){let i=0,l=0;for(const b of o)i+=b.w*b.h,l=Math.max(l,b.w);o.sort((b,P)=>P.h-b.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),l),h:1/0}];let m=0,y=0;for(const b of o)for(let P=f.length-1;P>=0;P--){const k=f[P];if(!(b.w>k.w||b.h>k.h)){if(b.x=k.x,b.y=k.y,y=Math.max(y,b.y+b.h),m=Math.max(m,b.x+b.w),b.w===k.w&&b.h===k.h){const M=f.pop();P<f.length&&(f[P]=M)}else b.h===k.h?(k.x+=b.w,k.w-=b.w):b.w===k.w?(k.y+=b.h,k.h-=b.h):(f.push({x:k.x+b.w,y:k.y,w:k.w-b.w,h:b.h}),k.y+=b.h,k.h-=b.h);break}}return{w:m,h:y,fill:i/(m*y)||0}}const ki=1;class Mx{constructor(i,{pixelRatio:l,version:f,stretchX:m,stretchY:y,content:b,textFitWidth:P,textFitHeight:k}){this.paddedRect=i,this.pixelRatio=l,this.stretchX=m,this.stretchY=y,this.content=b,this.version=f,this.textFitWidth=P,this.textFitHeight=k}get tl(){return[this.paddedRect.x+ki,this.paddedRect.y+ki]}get br(){return[this.paddedRect.x+this.paddedRect.w-ki,this.paddedRect.y+this.paddedRect.h-ki]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ki)/this.pixelRatio,(this.paddedRect.h-2*ki)/this.pixelRatio]}}class eT{constructor(i,l){const f={},m={};this.haveRenderCallbacks=[];const y=[];this.addImages(i,f,y),this.addImages(l,m,y);const{w:b,h:P}=QP(y),k=new ra({width:b||1,height:P||1});for(const M in i){const R=i[M],N=f[M].paddedRect;ra.copy(R.data,k,{x:0,y:0},{x:N.x+ki,y:N.y+ki},R.data)}for(const M in l){const R=l[M],N=m[M].paddedRect,H=N.x+ki,G=N.y+ki,J=R.data.width,re=R.data.height;ra.copy(R.data,k,{x:0,y:0},{x:H,y:G},R.data),ra.copy(R.data,k,{x:0,y:re-1},{x:H,y:G-1},{width:J,height:1}),ra.copy(R.data,k,{x:0,y:0},{x:H,y:G+re},{width:J,height:1}),ra.copy(R.data,k,{x:J-1,y:0},{x:H-1,y:G},{width:1,height:re}),ra.copy(R.data,k,{x:0,y:0},{x:H+J,y:G},{width:1,height:re})}this.image=k,this.iconPositions=f,this.patternPositions=m}addImages(i,l,f){for(const m in i){const y=i[m],b={x:0,y:0,w:y.data.width+2*ki,h:y.data.height+2*ki};f.push(b),l[m]=new Mx(b,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(i,l){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),l),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),l)}patchUpdatedImage(i,l,f){if(!i||!l||i.version===l.version)return;i.version=l.version;const[m,y]=i.tl;f.update(l.data,void 0,{x:m,y})}}var Ys;dt("ImagePosition",Mx),dt("ImageAtlas",eT),d.ah=void 0,(Ys=d.ah||(d.ah={}))[Ys.none=0]="none",Ys[Ys.horizontal=1]="horizontal",Ys[Ys.vertical=2]="vertical",Ys[Ys.horizontalOnly=3]="horizontalOnly";const Af=-17;class If{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,l){const f=new If;return f.scale=i||1,f.fontStack=l,f}static forImage(i){const l=new If;return l.imageName=i,l}}class Ju{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,l){const f=new Ju;for(let m=0;m<i.sections.length;m++){const y=i.sections[m];y.image?f.addImageSection(y):f.addTextSection(y,l)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let l="";for(let f=0;f<i.length;f++){const m=i.charCodeAt(f+1)||null,y=i.charCodeAt(f-1)||null;l+=m&&ig(m)&&!kf[i[f+1]]||y&&ig(y)&&!kf[i[f-1]]||!kf[i[f]]?i[f]:kf[i[f]]}return l}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&wg[this.text.charCodeAt(f)];f++)i++;let l=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&wg[this.text.charCodeAt(f)];f--)l--;this.text=this.text.substring(i,l),this.sectionIndex=this.sectionIndex.slice(i,l)}substring(i,l){const f=new Ju;return f.text=this.text.substring(i,l),f.sectionIndex=this.sectionIndex.slice(i,l),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,l)=>Math.max(i,this.sections[l].scale),0)}addTextSection(i,l){this.text+=i.text,this.sections.push(If.forText(i.scale,i.fontStack||l));const f=this.sections.length-1;for(let m=0;m<i.text.length;++m)this.sectionIndex.push(f)}addImageSection(i){const l=i.image?i.image.name:"";if(l.length===0)return void ge("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(If.forImage(l)),this.sectionIndex.push(this.sections.length-1)):ge("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function bg(o,i,l,f,m,y,b,P,k,M,R,N,H,G,J){const re=Ju.fromFeature(o,m);let le;N===d.ah.vertical&&re.verticalizePunctuation();const{processBidirectionalText:ye,processStyledBidirectionalText:Me}=yo;if(ye&&re.sections.length===1){le=[];const Ne=ye(re.toString(),Dx(re,M,y,i,f,G));for(const Ze of Ne){const it=new Ju;it.text=Ze,it.sections=re.sections;for(let Ct=0;Ct<Ze.length;Ct++)it.sectionIndex.push(0);le.push(it)}}else if(Me){le=[];const Ne=Me(re.text,re.sectionIndex,Dx(re,M,y,i,f,G));for(const Ze of Ne){const it=new Ju;it.text=Ze[0],it.sectionIndex=Ze[1],it.sections=re.sections,le.push(it)}}else le=function(Ne,Ze){const it=[],Ct=Ne.text;let ot=0;for(const nt of Ze)it.push(Ne.substring(ot,nt)),ot=nt;return ot<Ct.length&&it.push(Ne.substring(ot,Ct.length)),it}(re,Dx(re,M,y,i,f,G));const Se=[],Ae={positionedLines:Se,text:re.toString(),top:R[1],bottom:R[1],left:R[0],right:R[0],writingMode:N,iconsInText:!1,verticalizable:!1};return function(Ne,Ze,it,Ct,ot,nt,xt,ht,ut,He,bt,yt){let Dt=0,gr=Af,pr=0,gn=0;const Pa=ht==="right"?1:ht==="left"?0:.5;let Fn=0;for(const Wr of ot){Wr.trim();const yn=Wr.getMaxScale(),Zn=(yn-1)*cn,Bn={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[Fn]=Bn;const hi=Bn.positionedGlyphs;let Nn=0;if(!Wr.length()){gr+=nt,++Fn;continue}for(let Ai=0;Ai<Wr.length();Ai++){const rr=Wr.getSection(Ai),xr=Wr.getSectionIndex(Ai),Tr=Wr.getCharCode(Ai);let Oi=0,Fr=null,rd=null,bo=null,wo=cn;const Ta=!(ut===d.ah.horizontal||!bt&&!df(Tr)||bt&&(wg[Tr]||(Hr=Tr,st.Arabic(Hr)||st["Arabic Supplement"](Hr)||st["Arabic Extended-A"](Hr)||st["Arabic Presentation Forms-A"](Hr)||st["Arabic Presentation Forms-B"](Hr))));if(rr.imageName){const aa=Ct[rr.imageName];if(!aa)continue;bo=rr.imageName,Ne.iconsInText=Ne.iconsInText||!0,rd=aa.paddedRect;const Pn=aa.displaySize;rr.scale=rr.scale*cn/yt,Fr={width:Pn[0],height:Pn[1],left:ki,top:-JP,advance:Ta?Pn[1]:Pn[0]},Oi=Zn+(cn-Pn[1]*rr.scale),wo=Fr.advance;const Jo=Ta?Pn[0]*rr.scale-cn*yn:Pn[1]*rr.scale-cn*yn;Jo>0&&Jo>Nn&&(Nn=Jo)}else{const aa=it[rr.fontStack],Pn=aa&&aa[Tr];if(Pn&&Pn.rect)rd=Pn.rect,Fr=Pn.metrics;else{const Jo=Ze[rr.fontStack],Lf=Jo&&Jo[Tr];if(!Lf)continue;Fr=Lf.metrics}Oi=(yn-rr.scale)*cn}Ta?(Ne.verticalizable=!0,hi.push({glyph:Tr,imageName:bo,x:Dt,y:gr+Oi,vertical:Ta,scale:rr.scale,fontStack:rr.fontStack,sectionIndex:xr,metrics:Fr,rect:rd}),Dt+=wo*rr.scale+He):(hi.push({glyph:Tr,imageName:bo,x:Dt,y:gr+Oi,vertical:Ta,scale:rr.scale,fontStack:rr.fontStack,sectionIndex:xr,metrics:Fr,rect:rd}),Dt+=Fr.advance*rr.scale+He)}hi.length!==0&&(pr=Math.max(Dt-He,pr),b8(hi,0,hi.length-1,Pa,Nn)),Dt=0;const ia=nt*yn+Nn;Bn.lineOffset=Math.max(Nn,Zn),gr+=ia,gn=Math.max(ia,gn),++Fn}var Hr;const ci=gr-Af,{horizontalAlign:ui,verticalAlign:di}=$x(xt);(function(Wr,yn,Zn,Bn,hi,Nn,ia,Ai,rr){const xr=(yn-Zn)*hi;let Tr=0;Tr=Nn!==ia?-Ai*Bn-Af:(-Bn*rr+.5)*ia;for(const Oi of Wr)for(const Fr of Oi.positionedGlyphs)Fr.x+=xr,Fr.y+=Tr})(Ne.positionedLines,Pa,ui,di,pr,gn,nt,ci,ot.length),Ne.top+=-di*ci,Ne.bottom=Ne.top+ci,Ne.left+=-ui*pr,Ne.right=Ne.left+pr}(Ae,i,l,f,le,b,P,k,N,M,H,J),!function(Ne){for(const Ze of Ne)if(Ze.positionedGlyphs.length!==0)return!1;return!0}(Se)&&Ae}const wg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},v8={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},x8={40:!0};function tT(o,i,l,f,m,y){if(i.imageName){const b=f[i.imageName];return b?b.displaySize[0]*i.scale*cn/y+m:0}{const b=l[i.fontStack],P=b&&b[o];return P?P.metrics.advance*i.scale+m:0}}function rT(o,i,l,f){const m=Math.pow(o-i,2);return f?o<i?m/2:2*m:m+Math.abs(l)*l}function _8(o,i,l){let f=0;return o===10&&(f-=1e4),l&&(f+=150),o!==40&&o!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function nT(o,i,l,f,m,y){let b=null,P=rT(i,l,m,y);for(const k of f){const M=rT(i-k.x,l,m,y)+k.badness;M<=P&&(b=k,P=M)}return{index:o,x:i,priorBreak:b,badness:P}}function iT(o){return o?iT(o.priorBreak).concat(o.index):[]}function Dx(o,i,l,f,m,y){if(!o)return[];const b=[],P=function(N,H,G,J,re,le){let ye=0;for(let Me=0;Me<N.length();Me++){const Se=N.getSection(Me);ye+=tT(N.getCharCode(Me),Se,J,re,H,le)}return ye/Math.max(1,Math.ceil(ye/G))}(o,i,l,f,m,y),k=o.text.indexOf("​")>=0;let M=0;for(let N=0;N<o.length();N++){const H=o.getSection(N),G=o.getCharCode(N);if(wg[G]||(M+=tT(G,H,f,m,i,y)),N<o.length()-1){const J=!((R=G)<11904||!(st["Bopomofo Extended"](R)||st.Bopomofo(R)||st["CJK Compatibility Forms"](R)||st["CJK Compatibility Ideographs"](R)||st["CJK Compatibility"](R)||st["CJK Radicals Supplement"](R)||st["CJK Strokes"](R)||st["CJK Symbols and Punctuation"](R)||st["CJK Unified Ideographs Extension A"](R)||st["CJK Unified Ideographs"](R)||st["Enclosed CJK Letters and Months"](R)||st["Halfwidth and Fullwidth Forms"](R)||st.Hiragana(R)||st["Ideographic Description Characters"](R)||st["Kangxi Radicals"](R)||st["Katakana Phonetic Extensions"](R)||st.Katakana(R)||st["Vertical Forms"](R)||st["Yi Radicals"](R)||st["Yi Syllables"](R)));(v8[G]||J||H.imageName||N!==o.length()-2&&x8[o.getCharCode(N+1)])&&b.push(nT(N+1,M,P,b,_8(G,o.getCharCode(N+1),J&&k),!1))}}var R;return iT(nT(o.length(),M,P,b,0,!0))}function $x(o){let i=.5,l=.5;switch(o){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:i,verticalAlign:l}}function b8(o,i,l,f,m){if(!f&&!m)return;const y=o[l],b=(o[l].x+y.metrics.advance*y.scale)*f;for(let P=i;P<=l;P++)o[P].x-=b,o[P].y+=m}function w8(o,i,l){const{horizontalAlign:f,verticalAlign:m}=$x(l),y=i[0]-o.displaySize[0]*f,b=i[1]-o.displaySize[1]*m;return{image:o,top:b,bottom:b+o.displaySize[1],left:y,right:y+o.displaySize[0]}}function aT(o){var i,l;let f=o.left,m=o.top,y=o.right-f,b=o.bottom-m;const P=(i=o.image.textFitWidth)!==null&&i!==void 0?i:"stretchOrShrink",k=(l=o.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",M=(o.image.content[2]-o.image.content[0])/(o.image.content[3]-o.image.content[1]);if(k==="proportional"){if(P==="stretchOnly"&&y/b<M||P==="proportional"){const R=Math.ceil(b*M);f*=R/y,y=R}}else if(P==="proportional"&&k==="stretchOnly"&&M!==0&&y/b>M){const R=Math.ceil(y/M);m*=R/b,b=R}return{x1:f,y1:m,x2:f+y,y2:m+b}}function oT(o,i,l,f,m,y){const b=o.image;let P;if(b.content){const le=b.content,ye=b.pixelRatio||1;P=[le[0]/ye,le[1]/ye,b.displaySize[0]-le[2]/ye,b.displaySize[1]-le[3]/ye]}const k=i.left*y,M=i.right*y;let R,N,H,G;l==="width"||l==="both"?(G=m[0]+k-f[3],N=m[0]+M+f[1]):(G=m[0]+(k+M-b.displaySize[0])/2,N=G+b.displaySize[0]);const J=i.top*y,re=i.bottom*y;return l==="height"||l==="both"?(R=m[1]+J-f[0],H=m[1]+re+f[2]):(R=m[1]+(J+re-b.displaySize[1])/2,H=R+b.displaySize[1]),{image:b,top:R,right:N,bottom:H,left:G,collisionPadding:P}}const Mf=255,_o=128,Xs=Mf*_o;function sT(o,i){const{expression:l}=i;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new vr(o+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:m}=l;let y=0;for(;y<f.length&&f[y]<=o;)y++;y=Math.max(0,y-1);let b=y;for(;b<f.length&&f[b]<o+1;)b++;b=Math.min(f.length-1,b);const P=f[y],k=f[b];return l.kind==="composite"?{kind:"composite",minZoom:P,maxZoom:k,interpolationType:m}:{kind:"camera",minZoom:P,maxZoom:k,minSize:l.evaluate(new vr(P)),maxSize:l.evaluate(new vr(k)),interpolationType:m}}}function Rx(o,i,l){let f="never";const m=o.get(i);return m?f=m:o.get(l)&&(f="always"),f}const S8=qs.VectorTileFeature.types,P8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Sg(o,i,l,f,m,y,b,P,k,M,R,N,H){const G=P?Math.min(Xs,Math.round(P[0])):0,J=P?Math.min(Xs,Math.round(P[1])):0;o.emplaceBack(i,l,Math.round(32*f),Math.round(32*m),y,b,(G<<1)+(k?1:0),J,16*M,16*R,256*N,256*H)}function Lx(o,i,l){o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l)}function T8(o){for(const i of o.sections)if(hf(i.text))return!0;return!1}class zx{constructor(i){this.layoutVertexArray=new ta,this.indexArray=new mn,this.programConfigurations=i,this.segments=new ln,this.dynamicLayoutVertexArray=new vo,this.opacityVertexArray=new Hs,this.hasVisibleVertices=!1,this.placedSymbolArray=new Sr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,l,f,m){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,t8.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,r8.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,P8,!0),this.opacityVertexBuffer.itemSize=1),(f||m)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}dt("SymbolBuffers",zx);class Fx{constructor(i,l,f){this.layoutVertexArray=new i,this.layoutAttributes=l,this.indexArray=new f,this.segments=new ln,this.collisionVertexArray=new Ln}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,n8.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}dt("CollisionBuffers",Fx);class Qu{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(b=>b.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=mx([]),this.placementViewportMatrix=mx([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=sT(this.zoom,l["text-size"]),this.iconSizeData=sT(this.zoom,l["icon-size"]);const f=this.layers[0].layout,m=f.get("symbol-sort-key"),y=f.get("symbol-z-order");this.canOverlap=Rx(f,"text-overlap","text-allow-overlap")!=="never"||Rx(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(b=>d.ah[b])),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=i.sourceID}createArrays(){this.text=new zx(new dc(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new zx(new dc(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Pr,this.lineVertexArray=new si,this.symbolInstances=new Qi,this.textAnchorOffsets=new Dn}calculateGlyphDependencies(i,l,f,m,y){for(let b=0;b<i.length;b++)if(l[i.charCodeAt(b)]=!0,(f||m)&&y){const P=kf[i.charAt(b)];P&&(l[P.charCodeAt(0)]=!0)}}populate(i,l,f){const m=this.layers[0],y=m.layout,b=y.get("text-font"),P=y.get("text-field"),k=y.get("icon-image"),M=(P.value.kind!=="constant"||P.value.value instanceof Si&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(b.value.kind!=="constant"||b.value.value.length>0),R=k.value.kind!=="constant"||!!k.value.value||Object.keys(k.parameters).length>0,N=y.get("symbol-sort-key");if(this.features=[],!M&&!R)return;const H=l.iconDependencies,G=l.glyphDependencies,J=l.availableImages,re=new vr(this.zoom);for(const{feature:le,id:ye,index:Me,sourceLayerIndex:Se}of i){const Ae=m._featureFilter.needGeometry,Ne=fc(le,Ae);if(!m._featureFilter.filter(re,Ne,f))continue;let Ze,it;if(Ae||(Ne.geometry=hc(le)),M){const ot=m.getValueAndResolveTokens("text-field",Ne,f,J),nt=Si.factory(ot),xt=this.hasRTLText=this.hasRTLText||T8(nt);(!xt||yo.getRTLTextPluginStatus()==="unavailable"||xt&&yo.isParsed())&&(Ze=a8(nt,m,Ne))}if(R){const ot=m.getValueAndResolveTokens("icon-image",Ne,f,J);it=ot instanceof Fi?ot:Fi.fromString(ot)}if(!Ze&&!it)continue;const Ct=this.sortFeaturesByKey?N.evaluate(Ne,{},f):void 0;if(this.features.push({id:ye,text:Ze,icon:it,index:Me,sourceLayerIndex:Se,geometry:Ne.geometry,properties:le.properties,type:S8[le.type],sortKey:Ct}),it&&(H[it.name]=!0),Ze){const ot=b.evaluate(Ne,{},f).join(","),nt=y.get("text-rotation-alignment")!=="viewport"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(d.ah.vertical)>=0;for(const xt of Ze.sections)if(xt.image)H[xt.image.name]=!0;else{const ht=uf(Ze.toString()),ut=xt.fontStack||ot,He=G[ut]=G[ut]||{};this.calculateGlyphDependencies(xt.text,He,nt,this.allowVerticalPlacement,ht)}}}y.get("symbol-placement")==="line"&&(this.features=function(le){const ye={},Me={},Se=[];let Ae=0;function Ne(ot){Se.push(le[ot]),Ae++}function Ze(ot,nt,xt){const ht=Me[ot];return delete Me[ot],Me[nt]=ht,Se[ht].geometry[0].pop(),Se[ht].geometry[0]=Se[ht].geometry[0].concat(xt[0]),ht}function it(ot,nt,xt){const ht=ye[nt];return delete ye[nt],ye[ot]=ht,Se[ht].geometry[0].shift(),Se[ht].geometry[0]=xt[0].concat(Se[ht].geometry[0]),ht}function Ct(ot,nt,xt){const ht=xt?nt[0][nt[0].length-1]:nt[0][0];return`${ot}:${ht.x}:${ht.y}`}for(let ot=0;ot<le.length;ot++){const nt=le[ot],xt=nt.geometry,ht=nt.text?nt.text.toString():null;if(!ht){Ne(ot);continue}const ut=Ct(ht,xt),He=Ct(ht,xt,!0);if(ut in Me&&He in ye&&Me[ut]!==ye[He]){const bt=it(ut,He,xt),yt=Ze(ut,He,Se[bt].geometry);delete ye[ut],delete Me[He],Me[Ct(ht,Se[yt].geometry,!0)]=yt,Se[bt].geometry=null}else ut in Me?Ze(ut,He,xt):He in ye?it(ut,He,xt):(Ne(ot),ye[ut]=Ae-1,Me[He]=Ae-1)}return Se.filter(ot=>ot.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((le,ye)=>le.sortKey-ye.sortKey)}update(i,l,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,l,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,l,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,l){const f=this.lineVertexArray.length;if(i.segment!==void 0){let m=i.dist(l[i.segment+1]),y=i.dist(l[i.segment]);const b={};for(let P=i.segment+1;P<l.length;P++)b[P]={x:l[P].x,y:l[P].y,tileUnitDistanceFromAnchor:m},P<l.length-1&&(m+=l[P+1].dist(l[P]));for(let P=i.segment||0;P>=0;P--)b[P]={x:l[P].x,y:l[P].y,tileUnitDistanceFromAnchor:y},P>0&&(y+=l[P-1].dist(l[P]));for(let P=0;P<l.length;P++){const k=b[P];this.lineVertexArray.emplaceBack(k.x,k.y,k.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,l,f,m,y,b,P,k,M,R,N,H){const G=i.indexArray,J=i.layoutVertexArray,re=i.segments.prepareSegment(4*l.length,J,G,this.canOverlap?b.sortKey:void 0),le=this.glyphOffsetArray.length,ye=re.vertexLength,Me=this.allowVerticalPlacement&&P===d.ah.vertical?Math.PI/2:0,Se=b.text&&b.text.sections;for(let Ae=0;Ae<l.length;Ae++){const{tl:Ne,tr:Ze,bl:it,br:Ct,tex:ot,pixelOffsetTL:nt,pixelOffsetBR:xt,minFontScaleX:ht,minFontScaleY:ut,glyphOffset:He,isSDF:bt,sectionIndex:yt}=l[Ae],Dt=re.vertexLength,gr=He[1];Sg(J,k.x,k.y,Ne.x,gr+Ne.y,ot.x,ot.y,f,bt,nt.x,nt.y,ht,ut),Sg(J,k.x,k.y,Ze.x,gr+Ze.y,ot.x+ot.w,ot.y,f,bt,xt.x,nt.y,ht,ut),Sg(J,k.x,k.y,it.x,gr+it.y,ot.x,ot.y+ot.h,f,bt,nt.x,xt.y,ht,ut),Sg(J,k.x,k.y,Ct.x,gr+Ct.y,ot.x+ot.w,ot.y+ot.h,f,bt,xt.x,xt.y,ht,ut),Lx(i.dynamicLayoutVertexArray,k,Me),G.emplaceBack(Dt,Dt+1,Dt+2),G.emplaceBack(Dt+1,Dt+2,Dt+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(He[0]),Ae!==l.length-1&&yt===l[Ae+1].sectionIndex||i.programConfigurations.populatePaintArrays(J.length,b,b.index,{},H,Se&&Se[yt])}i.placedSymbolArray.emplaceBack(k.x,k.y,le,this.glyphOffsetArray.length-le,ye,M,R,k.segment,f?f[0]:0,f?f[1]:0,m[0],m[1],P,0,!1,0,N)}_addCollisionDebugVertex(i,l,f,m,y,b){return l.emplaceBack(0,0),i.emplaceBack(f.x,f.y,m,y,Math.round(b.x),Math.round(b.y))}addCollisionDebugVertices(i,l,f,m,y,b,P){const k=y.segments.prepareSegment(4,y.layoutVertexArray,y.indexArray),M=k.vertexLength,R=y.layoutVertexArray,N=y.collisionVertexArray,H=P.anchorX,G=P.anchorY;this._addCollisionDebugVertex(R,N,b,H,G,new T(i,l)),this._addCollisionDebugVertex(R,N,b,H,G,new T(f,l)),this._addCollisionDebugVertex(R,N,b,H,G,new T(f,m)),this._addCollisionDebugVertex(R,N,b,H,G,new T(i,m)),k.vertexLength+=4;const J=y.indexArray;J.emplaceBack(M,M+1),J.emplaceBack(M+1,M+2),J.emplaceBack(M+2,M+3),J.emplaceBack(M+3,M),k.primitiveLength+=4}addDebugCollisionBoxes(i,l,f,m){for(let y=i;y<l;y++){const b=this.collisionBoxArray.get(y);this.addCollisionDebugVertices(b.x1,b.y1,b.x2,b.y2,m?this.textCollisionBox:this.iconCollisionBox,b.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fx(Rn,KP.members,Dr),this.iconCollisionBox=new Fx(Rn,KP.members,Dr);for(let i=0;i<this.symbolInstances.length;i++){const l=this.symbolInstances.get(i);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(i,l,f,m,y,b,P,k,M){const R={};for(let N=l;N<f;N++){const H=i.get(N);R.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},R.textFeatureIndex=H.featureIndex;break}for(let N=m;N<y;N++){const H=i.get(N);R.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},R.verticalTextFeatureIndex=H.featureIndex;break}for(let N=b;N<P;N++){const H=i.get(N);R.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},R.iconFeatureIndex=H.featureIndex;break}for(let N=k;N<M;N++){const H=i.get(N);R.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},R.verticalIconFeatureIndex=H.featureIndex;break}return R}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,l){const f=i.placedSymbolArray.get(l),m=f.vertexStartIndex+4*f.numGlyphs;for(let y=f.vertexStartIndex;y<m;y+=4)i.indexArray.emplaceBack(y,y+1,y+2),i.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(i),f=Math.cos(i),m=[],y=[],b=[];for(let P=0;P<this.symbolInstances.length;++P){b.push(P);const k=this.symbolInstances.get(P);m.push(0|Math.round(l*k.anchorX+f*k.anchorY)),y.push(k.featureIndex)}return b.sort((P,k)=>m[P]-m[k]||y[k]-y[P]),b}addToSortKeyRanges(i,l){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===l?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const f=this.symbolInstances.get(l);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((m,y,b)=>{m>=0&&b.indexOf(m)===y&&this.addIndicesForPlacedSymbol(this.text,m)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let lT,cT;dt("SymbolBucket",Qu,{omit:["layers","collisionBoxArray","features","compareText"]}),Qu.MAX_GLYPHS=65535,Qu.addDynamicAttributes=Lx;var Bx={get paint(){return cT=cT||new p({"icon-opacity":new kt(je.paint_symbol["icon-opacity"]),"icon-color":new kt(je.paint_symbol["icon-color"]),"icon-halo-color":new kt(je.paint_symbol["icon-halo-color"]),"icon-halo-width":new kt(je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kt(je.paint_symbol["icon-halo-blur"]),"icon-translate":new _t(je.paint_symbol["icon-translate"]),"icon-translate-anchor":new _t(je.paint_symbol["icon-translate-anchor"]),"text-opacity":new kt(je.paint_symbol["text-opacity"]),"text-color":new kt(je.paint_symbol["text-color"],{runtimeType:Kn,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new kt(je.paint_symbol["text-halo-color"]),"text-halo-width":new kt(je.paint_symbol["text-halo-width"]),"text-halo-blur":new kt(je.paint_symbol["text-halo-blur"]),"text-translate":new _t(je.paint_symbol["text-translate"]),"text-translate-anchor":new _t(je.paint_symbol["text-translate-anchor"])})},get layout(){return lT=lT||new p({"symbol-placement":new _t(je.layout_symbol["symbol-placement"]),"symbol-spacing":new _t(je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new _t(je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kt(je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new _t(je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new _t(je.layout_symbol["icon-allow-overlap"]),"icon-overlap":new _t(je.layout_symbol["icon-overlap"]),"icon-ignore-placement":new _t(je.layout_symbol["icon-ignore-placement"]),"icon-optional":new _t(je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new _t(je.layout_symbol["icon-rotation-alignment"]),"icon-size":new kt(je.layout_symbol["icon-size"]),"icon-text-fit":new _t(je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new _t(je.layout_symbol["icon-text-fit-padding"]),"icon-image":new kt(je.layout_symbol["icon-image"]),"icon-rotate":new kt(je.layout_symbol["icon-rotate"]),"icon-padding":new kt(je.layout_symbol["icon-padding"]),"icon-keep-upright":new _t(je.layout_symbol["icon-keep-upright"]),"icon-offset":new kt(je.layout_symbol["icon-offset"]),"icon-anchor":new kt(je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new _t(je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new _t(je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new _t(je.layout_symbol["text-rotation-alignment"]),"text-field":new kt(je.layout_symbol["text-field"]),"text-font":new kt(je.layout_symbol["text-font"]),"text-size":new kt(je.layout_symbol["text-size"]),"text-max-width":new kt(je.layout_symbol["text-max-width"]),"text-line-height":new _t(je.layout_symbol["text-line-height"]),"text-letter-spacing":new kt(je.layout_symbol["text-letter-spacing"]),"text-justify":new kt(je.layout_symbol["text-justify"]),"text-radial-offset":new kt(je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new _t(je.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new kt(je.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new kt(je.layout_symbol["text-anchor"]),"text-max-angle":new _t(je.layout_symbol["text-max-angle"]),"text-writing-mode":new _t(je.layout_symbol["text-writing-mode"]),"text-rotate":new kt(je.layout_symbol["text-rotate"]),"text-padding":new _t(je.layout_symbol["text-padding"]),"text-keep-upright":new _t(je.layout_symbol["text-keep-upright"]),"text-transform":new kt(je.layout_symbol["text-transform"]),"text-offset":new kt(je.layout_symbol["text-offset"]),"text-allow-overlap":new _t(je.layout_symbol["text-allow-overlap"]),"text-overlap":new _t(je.layout_symbol["text-overlap"]),"text-ignore-placement":new _t(je.layout_symbol["text-ignore-placement"]),"text-optional":new _t(je.layout_symbol["text-optional"])})}};class uT{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:Fo,this.defaultValue=i}evaluate(i){if(i.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(i.formattedSection))return l.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}dt("FormatSectionOverride",uT,{omit:["defaultValue"]});class Pg extends _{constructor(i){super(i,Bx)}recalculate(i,l){if(super.recalculate(i,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const m=[];for(const y of f)m.indexOf(y)<0&&m.push(y);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,l,f,m){const y=this.layout.get(i).evaluate(l,{},f,m),b=this._unevaluatedLayout._values[i];return b.isDataDriven()||Au(b.value)||!y?y:function(P,k){return k.replace(/{([^{}]+)}/g,(M,R)=>P&&R in P?String(P[R]):"")}(l.properties,y)}createBucket(i){return new Qu(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of Bx.paint.overridableProperties){if(!Pg.hasPaintOverride(this.layout,i))continue;const l=this.paint.get(i),f=new uT(l),m=new qh(f,l.property.specification);let y=null;y=l.value.kind==="constant"||l.value.kind==="source"?new Yh("source",m):new Xh("composite",m,l.value.zoomStops),this.paint._values[i]=new Sa(l.property,y,l.parameters)}}_handleOverridablePaintPropertyUpdate(i,l,f){return!(!this.layout||l.isDataDriven()||f.isDataDriven())&&Pg.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,l){const f=i.get("text-field"),m=Bx.paint.properties[l];let y=!1;const b=P=>{for(const k of P)if(m.overrides&&m.overrides.hasOverride(k))return void(y=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Si)b(f.value.value.sections);else if(f.value.kind==="source"){const P=M=>{y||(M instanceof Bo&&rn(M.value)===Va?b(M.value.sections):M instanceof gu?b(M.sections):M.eachChild(P))},k=f.value;k._styleExpression&&P(k._styleExpression.expression)}return y}}let dT;var C8={get paint(){return dT=dT||new p({"background-color":new _t(je.paint_background["background-color"]),"background-pattern":new a(je.paint_background["background-pattern"]),"background-opacity":new _t(je.paint_background["background-opacity"])})}};class E8 extends _{constructor(i){super(i,C8)}}let hT;var k8={get paint(){return hT=hT||new p({"raster-opacity":new _t(je.paint_raster["raster-opacity"]),"raster-hue-rotate":new _t(je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new _t(je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new _t(je.paint_raster["raster-brightness-max"]),"raster-saturation":new _t(je.paint_raster["raster-saturation"]),"raster-contrast":new _t(je.paint_raster["raster-contrast"]),"raster-resampling":new _t(je.paint_raster["raster-resampling"]),"raster-fade-duration":new _t(je.paint_raster["raster-fade-duration"])})}};class A8 extends _{constructor(i){super(i,k8)}}class I8 extends _{constructor(i){super(i,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class M8{constructor(i){this._methodToThrottle=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Nx=63710088e-1;class Js{constructor(i,l){if(isNaN(i)||isNaN(l))throw new Error(`Invalid LngLat object: (${i}, ${l})`);if(this.lng=+i,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Js(fe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const l=Math.PI/180,f=this.lat*l,m=i.lat*l,y=Math.sin(f)*Math.sin(m)+Math.cos(f)*Math.cos(m)*Math.cos((i.lng-this.lng)*l);return Nx*Math.acos(Math.min(y,1))}static convert(i){if(i instanceof Js)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Js(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Js(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const fT=2*Math.PI*Nx;function pT(o){return fT*Math.cos(o*Math.PI/180)}function mT(o){return(180+o)/360}function gT(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function yT(o,i){return o/pT(i)}function Ox(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Tg{constructor(i,l,f=0){this.x=+i,this.y=+l,this.z=+f}static fromLngLat(i,l=0){const f=Js.convert(i);return new Tg(mT(f.lng),gT(f.lat),yT(l,f.lat))}toLngLat(){return new Js(360*this.x-180,Ox(this.y))}toAltitude(){return this.z*pT(Ox(this.y))}meterInMercatorCoordinateUnits(){return 1/fT*(i=Ox(this.y),1/Math.cos(i*Math.PI/180));var i}}function vT(o,i,l){var f=2*Math.PI*6378137/256/Math.pow(2,l);return[o*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class jx{constructor(i,l,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||l<0||l>=Math.pow(2,i))throw new Error(`x=${l}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=l,this.y=f,this.key=Df(0,i,i,l,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,l,f){const m=(b=this.y,P=this.z,k=vT(256*(y=this.x),256*(b=Math.pow(2,P)-b-1),P),M=vT(256*(y+1),256*(b+1),P),k[0]+","+k[1]+","+M[0]+","+M[1]);var y,b,P,k,M;const R=function(N,H,G){let J,re="";for(let le=N;le>0;le--)J=1<<le-1,re+=(H&J?1:0)+(G&J?2:0);return re}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,R).replace(/{bbox-epsg-3857}/g,m)}isChildOf(i){const l=this.z-i.z;return l>0&&i.x===this.x>>l&&i.y===this.y>>l}getTilePoint(i){const l=Math.pow(2,this.z);return new T((i.x*l-this.x)*nn,(i.y*l-this.y)*nn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class xT{constructor(i,l){this.wrap=i,this.canonical=l,this.key=Df(i,l.z,l.z,l.x,l.y)}}class na{constructor(i,l,f,m,y){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=l,this.canonical=new jx(f,+m,+y),this.key=Df(l,i,f,m,y)}clone(){return new na(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-i;return i>this.canonical.z?new na(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new na(i,this.wrap,i,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(i,l){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?Df(this.wrap*+l,i,this.canonical.z,this.canonical.x,this.canonical.y):Df(this.wrap*+l,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const l=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>l&&i.canonical.y===this.canonical.y>>l}children(i){if(this.overscaledZ>=i)return[new na(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,f=2*this.canonical.x,m=2*this.canonical.y;return[new na(l,this.wrap,l,f,m),new na(l,this.wrap,l,f+1,m),new na(l,this.wrap,l,f,m+1),new na(l,this.wrap,l,f+1,m+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new na(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new na(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new xT(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Tg(i.x-this.wrap,i.y))}}function Df(o,i,l,f,m){(o*=2)<0&&(o=-1*o-1);const y=1<<l;return(y*y*o+y*m+f).toString(36)+l.toString(36)+i.toString(36)}dt("CanonicalTileID",jx),dt("OverscaledTileID",na,{omit:["posMatrix"]});class _T{constructor(i,l,f,m=1,y=1,b=1,P=0){if(this.uid=i,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void ge(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;const k=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=y,this.blueFactor=b,this.baseShift=P;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let M=0;M<k;M++)this.data[this._idx(-1,M)]=this.data[this._idx(0,M)],this.data[this._idx(k,M)]=this.data[this._idx(k-1,M)],this.data[this._idx(M,-1)]=this.data[this._idx(M,0)],this.data[this._idx(M,k)]=this.data[this._idx(M,k-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(k,-1)]=this.data[this._idx(k-1,0)],this.data[this._idx(-1,k)]=this.data[this._idx(0,k-1)],this.data[this._idx(k,k)]=this.data[this._idx(k-1,k-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let M=0;M<k;M++)for(let R=0;R<k;R++){const N=this.get(M,R);N>this.max&&(this.max=N),N<this.min&&(this.min=N)}}get(i,l){const f=new Uint8Array(this.data.buffer),m=4*this._idx(i,l);return this.unpack(f[m],f[m+1],f[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,l){if(i<-1||i>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(i+1)}unpack(i,l,f){return i*this.redFactor+l*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,l,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,y=l*this.dim+this.dim,b=f*this.dim,P=f*this.dim+this.dim;switch(l){case-1:m=y-1;break;case 1:y=m+1}switch(f){case-1:b=P-1;break;case 1:P=b+1}const k=-l*this.dim,M=-f*this.dim;for(let R=b;R<P;R++)for(let N=m;N<y;N++)this.data[this._idx(N,R)]=i.data[this._idx(N+k,R+M)]}}dt("DEMData",_T);class bT{constructor(i){this._stringToNumber={},this._numberToString=[];for(let l=0;l<i.length;l++){const f=i[l];this._stringToNumber[f]=l,this._numberToString[l]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class wT{constructor(i,l,f,m,y){this.type="Feature",this._vectorTileFeature=i,i._z=l,i._x=f,i._y=m,this.properties=i.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(i[l]=this[l]);return i}}class ST{constructor(i,l){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new sc(nn,16,0),this.grid3D=new sc(nn,16,0),this.featureIndexArray=new ea,this.promoteId=l}insert(i,l,f,m,y,b){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,m,y);const k=b?this.grid3D:this.grid;for(let M=0;M<l.length;M++){const R=l[M],N=[1/0,1/0,-1/0,-1/0];for(let H=0;H<R.length;H++){const G=R[H];N[0]=Math.min(N[0],G.x),N[1]=Math.min(N[1],G.y),N[2]=Math.max(N[2],G.x),N[3]=Math.max(N[3],G.y)}N[0]<nn&&N[1]<nn&&N[2]>=0&&N[3]>=0&&k.insert(P,N[0],N[1],N[2],N[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new qs.VectorTile(new Ax(this.rawTileData)).layers,this.sourceLayerCoder=new bT(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,l,f,m){this.loadVTLayers();const y=i.params||{},b=nn/i.tileSize/i.scale,P=Jh(y.filter),k=i.queryGeometry,M=i.queryPadding*b,R=TT(k),N=this.grid.query(R.minX-M,R.minY-M,R.maxX+M,R.maxY+M),H=TT(i.cameraQueryGeometry),G=this.grid3D.query(H.minX-M,H.minY-M,H.maxX+M,H.maxY+M,(le,ye,Me,Se)=>function(Ae,Ne,Ze,it,Ct){for(const nt of Ae)if(Ne<=nt.x&&Ze<=nt.y&&it>=nt.x&&Ct>=nt.y)return!0;const ot=[new T(Ne,Ze),new T(Ne,Ct),new T(it,Ct),new T(it,Ze)];if(Ae.length>2){for(const nt of ot)if(Wu(Ae,nt))return!0}for(let nt=0;nt<Ae.length-1;nt++)if(dF(Ae[nt],Ae[nt+1],ot))return!0;return!1}(i.cameraQueryGeometry,le-M,ye-M,Me+M,Se+M));for(const le of G)N.push(le);N.sort(D8);const J={};let re;for(let le=0;le<N.length;le++){const ye=N[le];if(ye===re)continue;re=ye;const Me=this.featureIndexArray.get(ye);let Se=null;this.loadMatchingFeature(J,Me.bucketIndex,Me.sourceLayerIndex,Me.featureIndex,P,y.layers,y.availableImages,l,f,m,(Ae,Ne,Ze)=>(Se||(Se=hc(Ae)),Ne.queryIntersectsFeature(k,Ae,Ze,Se,this.z,i.transform,b,i.pixelPosMatrix)))}return J}loadMatchingFeature(i,l,f,m,y,b,P,k,M,R,N){const H=this.bucketLayerIDs[l];if(b&&!function(le,ye){for(let Me=0;Me<le.length;Me++)if(ye.indexOf(le[Me])>=0)return!0;return!1}(b,H))return;const G=this.sourceLayerCoder.decode(f),J=this.vtLayers[G].feature(m);if(y.needGeometry){const le=fc(J,!0);if(!y.filter(new vr(this.tileID.overscaledZ),le,this.tileID.canonical))return}else if(!y.filter(new vr(this.tileID.overscaledZ),J))return;const re=this.getId(J,G);for(let le=0;le<H.length;le++){const ye=H[le];if(b&&b.indexOf(ye)<0)continue;const Me=k[ye];if(!Me)continue;let Se={};re&&R&&(Se=R.getState(Me.sourceLayer||"_geojsonTileLayer",re));const Ae=we({},M[ye]);Ae.paint=PT(Ae.paint,Me.paint,J,Se,P),Ae.layout=PT(Ae.layout,Me.layout,J,Se,P);const Ne=!N||N(J,Me,Se);if(!Ne)continue;const Ze=new wT(J,this.z,this.x,this.y,re);Ze.layer=Ae;let it=i[ye];it===void 0&&(it=i[ye]=[]),it.push({featureIndex:m,feature:Ze,intersectionZ:Ne})}}lookupSymbolFeatures(i,l,f,m,y,b,P,k){const M={};this.loadVTLayers();const R=Jh(y);for(const N of i)this.loadMatchingFeature(M,f,m,N,R,b,P,k,l);return M}hasLayer(i){for(const l of this.bucketLayerIDs)for(const f of l)if(i===f)return!0;return!1}getId(i,l){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof f=="boolean"&&(f=Number(f))),f}}function PT(o,i,l,f,m){return me(o,(y,b)=>{const P=i instanceof Nu?i.get(b):null;return P&&P.evaluate?P.evaluate(l,f,m):P})}function TT(o){let i=1/0,l=1/0,f=-1/0,m=-1/0;for(const y of o)i=Math.min(i,y.x),l=Math.min(l,y.y),f=Math.max(f,y.x),m=Math.max(m,y.y);return{minX:i,minY:l,maxX:f,maxY:m}}function D8(o,i){return i-o}function CT(o,i,l,f,m){const y=[];for(let b=0;b<o.length;b++){const P=o[b];let k;for(let M=0;M<P.length-1;M++){let R=P[M],N=P[M+1];R.x<i&&N.x<i||(R.x<i?R=new T(i,R.y+(i-R.x)/(N.x-R.x)*(N.y-R.y))._round():N.x<i&&(N=new T(i,R.y+(i-R.x)/(N.x-R.x)*(N.y-R.y))._round()),R.y<l&&N.y<l||(R.y<l?R=new T(R.x+(l-R.y)/(N.y-R.y)*(N.x-R.x),l)._round():N.y<l&&(N=new T(R.x+(l-R.y)/(N.y-R.y)*(N.x-R.x),l)._round()),R.x>=f&&N.x>=f||(R.x>=f?R=new T(f,R.y+(f-R.x)/(N.x-R.x)*(N.y-R.y))._round():N.x>=f&&(N=new T(f,R.y+(f-R.x)/(N.x-R.x)*(N.y-R.y))._round()),R.y>=m&&N.y>=m||(R.y>=m?R=new T(R.x+(m-R.y)/(N.y-R.y)*(N.x-R.x),m)._round():N.y>=m&&(N=new T(R.x+(m-R.y)/(N.y-R.y)*(N.x-R.x),m)._round()),k&&R.equals(k[k.length-1])||(k=[R],y.push(k)),k.push(N)))))}}return y}dt("FeatureIndex",ST,{omit:["rawTileData","sourceLayerCoder"]});class Qs extends T{constructor(i,l,f,m){super(i,l),this.angle=f,m!==void 0&&(this.segment=m)}clone(){return new Qs(this.x,this.y,this.angle,this.segment)}}function ET(o,i,l,f,m){if(i.segment===void 0||l===0)return!0;let y=i,b=i.segment+1,P=0;for(;P>-l/2;){if(b--,b<0)return!1;P-=o[b].dist(y),y=o[b]}P+=o[b].dist(o[b+1]),b++;const k=[];let M=0;for(;P<l/2;){const R=o[b],N=o[b+1];if(!N)return!1;let H=o[b-1].angleTo(R)-R.angleTo(N);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:P,angleDelta:H}),M+=H;P-k[0].distance>f;)M-=k.shift().angleDelta;if(M>m)return!1;b++,P+=R.dist(N)}return!0}function kT(o){let i=0;for(let l=0;l<o.length-1;l++)i+=o[l].dist(o[l+1]);return i}function AT(o,i,l){return o?.6*i*l:0}function IT(o,i){return Math.max(o?o.right-o.left:0,i?i.right-i.left:0)}function $8(o,i,l,f,m,y){const b=AT(l,m,y),P=IT(l,f)*y;let k=0;const M=kT(o)/2;for(let R=0;R<o.length-1;R++){const N=o[R],H=o[R+1],G=N.dist(H);if(k+G>M){const J=(M-k)/G,re=Wn.number(N.x,H.x,J),le=Wn.number(N.y,H.y,J),ye=new Qs(re,le,H.angleTo(N),R);return ye._round(),!b||ET(o,ye,P,b,i)?ye:void 0}k+=G}}function R8(o,i,l,f,m,y,b,P,k){const M=AT(f,y,b),R=IT(f,m),N=R*b,H=o[0].x===0||o[0].x===k||o[0].y===0||o[0].y===k;return i-N<i/4&&(i=N+i/4),MT(o,H?i/2*P%i:(R/2+2*y)*b*P%i,i,M,l,N,H,!1,k)}function MT(o,i,l,f,m,y,b,P,k){const M=y/2,R=kT(o);let N=0,H=i-l,G=[];for(let J=0;J<o.length-1;J++){const re=o[J],le=o[J+1],ye=re.dist(le),Me=le.angleTo(re);for(;H+l<N+ye;){H+=l;const Se=(H-N)/ye,Ae=Wn.number(re.x,le.x,Se),Ne=Wn.number(re.y,le.y,Se);if(Ae>=0&&Ae<k&&Ne>=0&&Ne<k&&H-M>=0&&H+M<=R){const Ze=new Qs(Ae,Ne,Me,J);Ze._round(),f&&!ET(o,Ze,y,f,m)||G.push(Ze)}}N+=ye}return P||G.length||b||(G=MT(o,N/2,l,f,m,y,b,!0,k)),G}dt("Anchor",Qs);const ed=ki;function DT(o,i,l,f){const m=[],y=o.image,b=y.pixelRatio,P=y.paddedRect.w-2*ed,k=y.paddedRect.h-2*ed;let M={x1:o.left,y1:o.top,x2:o.right,y2:o.bottom};const R=y.stretchX||[[0,P]],N=y.stretchY||[[0,k]],H=(He,bt)=>He+bt[1]-bt[0],G=R.reduce(H,0),J=N.reduce(H,0),re=P-G,le=k-J;let ye=0,Me=G,Se=0,Ae=J,Ne=0,Ze=re,it=0,Ct=le;if(y.content&&f){const He=y.content,bt=He[2]-He[0],yt=He[3]-He[1];(y.textFitWidth||y.textFitHeight)&&(M=aT(o)),ye=Cg(R,0,He[0]),Se=Cg(N,0,He[1]),Me=Cg(R,He[0],He[2]),Ae=Cg(N,He[1],He[3]),Ne=He[0]-ye,it=He[1]-Se,Ze=bt-Me,Ct=yt-Ae}const ot=M.x1,nt=M.y1,xt=M.x2-ot,ht=M.y2-nt,ut=(He,bt,yt,Dt)=>{const gr=Eg(He.stretch-ye,Me,xt,ot),pr=kg(He.fixed-Ne,Ze,He.stretch,G),gn=Eg(bt.stretch-Se,Ae,ht,nt),Pa=kg(bt.fixed-it,Ct,bt.stretch,J),Fn=Eg(yt.stretch-ye,Me,xt,ot),Hr=kg(yt.fixed-Ne,Ze,yt.stretch,G),ci=Eg(Dt.stretch-Se,Ae,ht,nt),ui=kg(Dt.fixed-it,Ct,Dt.stretch,J),di=new T(gr,gn),Wr=new T(Fn,gn),yn=new T(Fn,ci),Zn=new T(gr,ci),Bn=new T(pr/b,Pa/b),hi=new T(Hr/b,ui/b),Nn=i*Math.PI/180;if(Nn){const rr=Math.sin(Nn),xr=Math.cos(Nn),Tr=[xr,-rr,rr,xr];di._matMult(Tr),Wr._matMult(Tr),Zn._matMult(Tr),yn._matMult(Tr)}const ia=He.stretch+He.fixed,Ai=bt.stretch+bt.fixed;return{tl:di,tr:Wr,bl:Zn,br:yn,tex:{x:y.paddedRect.x+ed+ia,y:y.paddedRect.y+ed+Ai,w:yt.stretch+yt.fixed-ia,h:Dt.stretch+Dt.fixed-Ai},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Bn,pixelOffsetBR:hi,minFontScaleX:Ze/b/xt,minFontScaleY:Ct/b/ht,isSDF:l}};if(f&&(y.stretchX||y.stretchY)){const He=$T(R,re,G),bt=$T(N,le,J);for(let yt=0;yt<He.length-1;yt++){const Dt=He[yt],gr=He[yt+1];for(let pr=0;pr<bt.length-1;pr++)m.push(ut(Dt,bt[pr],gr,bt[pr+1]))}}else m.push(ut({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:k+1}));return m}function Cg(o,i,l){let f=0;for(const m of o)f+=Math.max(i,Math.min(l,m[1]))-Math.max(i,Math.min(l,m[0]));return f}function $T(o,i,l){const f=[{fixed:-ed,stretch:0}];for(const[m,y]of o){const b=f[f.length-1];f.push({fixed:m-b.stretch,stretch:b.stretch}),f.push({fixed:m-b.stretch,stretch:b.stretch+(y-m)})}return f.push({fixed:i+ed,stretch:l}),f}function Eg(o,i,l,f){return o/i*l+f}function kg(o,i,l,f){return o-i*l/f}class Ag{constructor(i,l,f,m,y,b,P,k,M,R){var N;if(this.boxStartIndex=i.length,M){let H=b.top,G=b.bottom;const J=b.collisionPadding;J&&(H-=J[1],G+=J[3]);let re=G-H;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{const H=!((N=b.image)===null||N===void 0)&&N.content&&(b.image.textFitWidth||b.image.textFitHeight)?aT(b):{x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};H.y1=H.y1*P-k[0],H.y2=H.y2*P+k[2],H.x1=H.x1*P-k[3],H.x2=H.x2*P+k[1];const G=b.collisionPadding;if(G&&(H.x1-=G[0]*P,H.y1-=G[1]*P,H.x2+=G[2]*P,H.y2+=G[3]*P),R){const J=new T(H.x1,H.y1),re=new T(H.x2,H.y1),le=new T(H.x1,H.y2),ye=new T(H.x2,H.y2),Me=R*Math.PI/180;J._rotate(Me),re._rotate(Me),le._rotate(Me),ye._rotate(Me),H.x1=Math.min(J.x,re.x,le.x,ye.x),H.x2=Math.max(J.x,re.x,le.x,ye.x),H.y1=Math.min(J.y,re.y,le.y,ye.y),H.y2=Math.max(J.y,re.y,le.y,ye.y)}i.emplaceBack(l.x,l.y,H.x1,H.y1,H.x2,H.y2,f,m,y)}this.boxEndIndex=i.length}}class L8{constructor(i=[],l=z8){if(this.data=i,this.length=this.data.length,this.compare=l,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:l,compare:f}=this,m=l[i];for(;i>0;){const y=i-1>>1,b=l[y];if(f(m,b)>=0)break;l[i]=b,i=y}l[i]=m}_down(i){const{data:l,compare:f}=this,m=this.length>>1,y=l[i];for(;i<m;){let b=1+(i<<1),P=l[b];const k=b+1;if(k<this.length&&f(l[k],P)<0&&(b=k,P=l[k]),f(P,y)>=0)break;l[i]=P,i=b}l[i]=y}}function z8(o,i){return o<i?-1:o>i?1:0}function F8(o,i=1,l=!1){let f=1/0,m=1/0,y=-1/0,b=-1/0;const P=o[0];for(let G=0;G<P.length;G++){const J=P[G];(!G||J.x<f)&&(f=J.x),(!G||J.y<m)&&(m=J.y),(!G||J.x>y)&&(y=J.x),(!G||J.y>b)&&(b=J.y)}const k=Math.min(y-f,b-m);let M=k/2;const R=new L8([],B8);if(k===0)return new T(f,m);for(let G=f;G<y;G+=k)for(let J=m;J<b;J+=k)R.push(new td(G+M,J+M,M,o));let N=function(G){let J=0,re=0,le=0;const ye=G[0];for(let Me=0,Se=ye.length,Ae=Se-1;Me<Se;Ae=Me++){const Ne=ye[Me],Ze=ye[Ae],it=Ne.x*Ze.y-Ze.x*Ne.y;re+=(Ne.x+Ze.x)*it,le+=(Ne.y+Ze.y)*it,J+=3*it}return new td(re/J,le/J,0,G)}(o),H=R.length;for(;R.length;){const G=R.pop();(G.d>N.d||!N.d)&&(N=G,l&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,H)),G.max-N.d<=i||(M=G.h/2,R.push(new td(G.p.x-M,G.p.y-M,M,o)),R.push(new td(G.p.x+M,G.p.y-M,M,o)),R.push(new td(G.p.x-M,G.p.y+M,M,o)),R.push(new td(G.p.x+M,G.p.y+M,M,o)),H+=4)}return l&&(console.log(`num probes: ${H}`),console.log(`best distance: ${N.d}`)),N.p}function B8(o,i){return i.max-o.max}function td(o,i,l,f){this.p=new T(o,i),this.h=l,this.d=function(m,y){let b=!1,P=1/0;for(let k=0;k<y.length;k++){const M=y[k];for(let R=0,N=M.length,H=N-1;R<N;H=R++){const G=M[R],J=M[H];G.y>m.y!=J.y>m.y&&m.x<(J.x-G.x)*(m.y-G.y)/(J.y-G.y)+G.x&&(b=!b),P=Math.min(P,gP(m,G,J))}}return(b?1:-1)*Math.sqrt(P)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var zn;d.aq=void 0,(zn=d.aq||(d.aq={}))[zn.center=1]="center",zn[zn.left=2]="left",zn[zn.right=3]="right",zn[zn.top=4]="top",zn[zn.bottom=5]="bottom",zn[zn["top-left"]=6]="top-left",zn[zn["top-right"]=7]="top-right",zn[zn["bottom-left"]=8]="bottom-left",zn[zn["bottom-right"]=9]="bottom-right";const el=7,Vx=Number.POSITIVE_INFINITY;function RT(o,i){return i[1]!==Vx?function(l,f,m){let y=0,b=0;switch(f=Math.abs(f),m=Math.abs(m),l){case"top-right":case"top-left":case"top":b=m-el;break;case"bottom-right":case"bottom-left":case"bottom":b=-m+el}switch(l){case"top-right":case"bottom-right":case"right":y=-f;break;case"top-left":case"bottom-left":case"left":y=f}return[y,b]}(o,i[0],i[1]):function(l,f){let m=0,y=0;f<0&&(f=0);const b=f/Math.SQRT2;switch(l){case"top-right":case"top-left":y=b-el;break;case"bottom-right":case"bottom-left":y=-b+el;break;case"bottom":y=-f+el;break;case"top":y=f-el}switch(l){case"top-right":case"bottom-right":m=-b;break;case"top-left":case"bottom-left":m=b;break;case"left":m=f;break;case"right":m=-f}return[m,y]}(o,i[0])}function LT(o,i,l){var f;const m=o.layout,y=(f=m.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},l);if(y){const P=y.values,k=[];for(let M=0;M<P.length;M+=2){const R=k[M]=P[M],N=P[M+1].map(H=>H*cn);R.startsWith("top")?N[1]-=el:R.startsWith("bottom")&&(N[1]+=el),k[M+1]=N}return new ai(k)}const b=m.get("text-variable-anchor");if(b){let P;P=o._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(i,{},l)*cn,Vx]:m.get("text-offset").evaluate(i,{},l).map(M=>M*cn);const k=[];for(const M of b)k.push(M,RT(M,P));return new ai(k)}return null}function Ux(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function N8(o,i,l,f,m,y,b,P,k,M,R){let N=y.textMaxSize.evaluate(i,{});N===void 0&&(N=b);const H=o.layers[0].layout,G=H.get("icon-offset").evaluate(i,{},R),J=FT(l.horizontal),re=b/24,le=o.tilePixelRatio*re,ye=o.tilePixelRatio*N/24,Me=o.tilePixelRatio*P,Se=o.tilePixelRatio*H.get("symbol-spacing"),Ae=H.get("text-padding")*o.tilePixelRatio,Ne=function(He,bt,yt,Dt=1){const gr=He.get("icon-padding").evaluate(bt,{},yt),pr=gr&&gr.values;return[pr[0]*Dt,pr[1]*Dt,pr[2]*Dt,pr[3]*Dt]}(H,i,R,o.tilePixelRatio),Ze=H.get("text-max-angle")/180*Math.PI,it=H.get("text-rotation-alignment")!=="viewport"&&H.get("symbol-placement")!=="point",Ct=H.get("icon-rotation-alignment")==="map"&&H.get("symbol-placement")!=="point",ot=H.get("symbol-placement"),nt=Se/2,xt=H.get("icon-text-fit");let ht;f&&xt!=="none"&&(o.allowVerticalPlacement&&l.vertical&&(ht=oT(f,l.vertical,xt,H.get("icon-text-fit-padding"),G,re)),J&&(f=oT(f,J,xt,H.get("icon-text-fit-padding"),G,re)));const ut=(He,bt)=>{bt.x<0||bt.x>=nn||bt.y<0||bt.y>=nn||function(yt,Dt,gr,pr,gn,Pa,Fn,Hr,ci,ui,di,Wr,yn,Zn,Bn,hi,Nn,ia,Ai,rr,xr,Tr,Oi,Fr,rd){const bo=yt.addToLineVertexArray(Dt,gr);let wo,Ta,aa,Pn,Jo=0,Lf=0,jT=0,VT=0,Xx=-1,Jx=-1;const Qo={};let UT=Ku("");if(yt.allowVerticalPlacement&&pr.vertical){const qn=Hr.layout.get("text-rotate").evaluate(xr,{},Fr)+90;aa=new Ag(ci,Dt,ui,di,Wr,pr.vertical,yn,Zn,Bn,qn),Fn&&(Pn=new Ag(ci,Dt,ui,di,Wr,Fn,Nn,ia,Bn,qn))}if(gn){const qn=Hr.layout.get("icon-rotate").evaluate(xr,{}),oa=Hr.layout.get("icon-text-fit")!=="none",mc=DT(gn,qn,Oi,oa),Ya=Fn?DT(Fn,qn,Oi,oa):void 0;Ta=new Ag(ci,Dt,ui,di,Wr,gn,Nn,ia,!1,qn),Jo=4*mc.length;const gc=yt.iconSizeData;let So=null;gc.kind==="source"?(So=[_o*Hr.layout.get("icon-size").evaluate(xr,{})],So[0]>Xs&&ge(`${yt.layerIds[0]}: Value for "icon-size" is >= ${Mf}. Reduce your "icon-size".`)):gc.kind==="composite"&&(So=[_o*Tr.compositeIconSizes[0].evaluate(xr,{},Fr),_o*Tr.compositeIconSizes[1].evaluate(xr,{},Fr)],(So[0]>Xs||So[1]>Xs)&&ge(`${yt.layerIds[0]}: Value for "icon-size" is >= ${Mf}. Reduce your "icon-size".`)),yt.addSymbols(yt.icon,mc,So,rr,Ai,xr,d.ah.none,Dt,bo.lineStartIndex,bo.lineLength,-1,Fr),Xx=yt.icon.placedSymbolArray.length-1,Ya&&(Lf=4*Ya.length,yt.addSymbols(yt.icon,Ya,So,rr,Ai,xr,d.ah.vertical,Dt,bo.lineStartIndex,bo.lineLength,-1,Fr),Jx=yt.icon.placedSymbolArray.length-1)}const KT=Object.keys(pr.horizontal);for(const qn of KT){const oa=pr.horizontal[qn];if(!wo){UT=Ku(oa.text);const Ya=Hr.layout.get("text-rotate").evaluate(xr,{},Fr);wo=new Ag(ci,Dt,ui,di,Wr,oa,yn,Zn,Bn,Ya)}const mc=oa.positionedLines.length===1;if(jT+=zT(yt,Dt,oa,Pa,Hr,Bn,xr,hi,bo,pr.vertical?d.ah.horizontal:d.ah.horizontalOnly,mc?KT:[qn],Qo,Xx,Tr,Fr),mc)break}pr.vertical&&(VT+=zT(yt,Dt,pr.vertical,Pa,Hr,Bn,xr,hi,bo,d.ah.vertical,["vertical"],Qo,Jx,Tr,Fr));const V8=wo?wo.boxStartIndex:yt.collisionBoxArray.length,U8=wo?wo.boxEndIndex:yt.collisionBoxArray.length,K8=aa?aa.boxStartIndex:yt.collisionBoxArray.length,H8=aa?aa.boxEndIndex:yt.collisionBoxArray.length,W8=Ta?Ta.boxStartIndex:yt.collisionBoxArray.length,G8=Ta?Ta.boxEndIndex:yt.collisionBoxArray.length,Z8=Pn?Pn.boxStartIndex:yt.collisionBoxArray.length,q8=Pn?Pn.boxEndIndex:yt.collisionBoxArray.length;let qa=-1;const Mg=(qn,oa)=>qn&&qn.circleDiameter?Math.max(qn.circleDiameter,oa):oa;qa=Mg(wo,qa),qa=Mg(aa,qa),qa=Mg(Ta,qa),qa=Mg(Pn,qa);const HT=qa>-1?1:0;HT&&(qa*=rd/cn),yt.glyphOffsetArray.length>=Qu.MAX_GLYPHS&&ge("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),xr.sortKey!==void 0&&yt.addToSortKeyRanges(yt.symbolInstances.length,xr.sortKey);const Y8=LT(Hr,xr,Fr),[X8,J8]=function(qn,oa){const mc=qn.length,Ya=oa==null?void 0:oa.values;if((Ya==null?void 0:Ya.length)>0)for(let gc=0;gc<Ya.length;gc+=2){const So=Ya[gc+1];qn.emplaceBack(d.aq[Ya[gc]],So[0],So[1])}return[mc,qn.length]}(yt.textAnchorOffsets,Y8);yt.symbolInstances.emplaceBack(Dt.x,Dt.y,Qo.right>=0?Qo.right:-1,Qo.center>=0?Qo.center:-1,Qo.left>=0?Qo.left:-1,Qo.vertical||-1,Xx,Jx,UT,V8,U8,K8,H8,W8,G8,Z8,q8,ui,jT,VT,Jo,Lf,HT,0,yn,qa,X8,J8)}(o,bt,He,l,f,m,ht,o.layers[0],o.collisionBoxArray,i.index,i.sourceLayerIndex,o.index,le,[Ae,Ae,Ae,Ae],it,k,Me,Ne,Ct,G,i,y,M,R,b)};if(ot==="line")for(const He of CT(i.geometry,0,0,nn,nn)){const bt=R8(He,Se,Ze,l.vertical||J,f,24,ye,o.overscaling,nn);for(const yt of bt)J&&O8(o,J.text,nt,yt)||ut(He,yt)}else if(ot==="line-center"){for(const He of i.geometry)if(He.length>1){const bt=$8(He,Ze,l.vertical||J,f,24,ye);bt&&ut(He,bt)}}else if(i.type==="Polygon")for(const He of vu(i.geometry,0)){const bt=F8(He,16);ut(He[0],new Qs(bt.x,bt.y,0))}else if(i.type==="LineString")for(const He of i.geometry)ut(He,new Qs(He[0].x,He[0].y,0));else if(i.type==="Point")for(const He of i.geometry)for(const bt of He)ut([bt],new Qs(bt.x,bt.y,0))}function zT(o,i,l,f,m,y,b,P,k,M,R,N,H,G,J){const re=function(Me,Se,Ae,Ne,Ze,it,Ct,ot){const nt=Ne.layout.get("text-rotate").evaluate(it,{})*Math.PI/180,xt=[];for(const ht of Se.positionedLines)for(const ut of ht.positionedGlyphs){if(!ut.rect)continue;const He=ut.rect||{};let bt=JP+1,yt=!0,Dt=1,gr=0;const pr=(Ze||ot)&&ut.vertical,gn=ut.metrics.advance*ut.scale/2;if(ot&&Se.verticalizable&&(gr=ht.lineOffset/2-(ut.imageName?-(cn-ut.metrics.width*ut.scale)/2:(ut.scale-1)*cn)),ut.imageName){const rr=Ct[ut.imageName];yt=rr.sdf,Dt=rr.pixelRatio,bt=ki/Dt}const Pa=Ze?[ut.x+gn,ut.y]:[0,0];let Fn=Ze?[0,0]:[ut.x+gn+Ae[0],ut.y+Ae[1]-gr],Hr=[0,0];pr&&(Hr=Fn,Fn=[0,0]);const ci=ut.metrics.isDoubleResolution?2:1,ui=(ut.metrics.left-bt)*ut.scale-gn+Fn[0],di=(-ut.metrics.top-bt)*ut.scale+Fn[1],Wr=ui+He.w/ci*ut.scale/Dt,yn=di+He.h/ci*ut.scale/Dt,Zn=new T(ui,di),Bn=new T(Wr,di),hi=new T(ui,yn),Nn=new T(Wr,yn);if(pr){const rr=new T(-gn,gn-Af),xr=-Math.PI/2,Tr=cn/2-gn,Oi=new T(5-Af-Tr,-(ut.imageName?Tr:0)),Fr=new T(...Hr);Zn._rotateAround(xr,rr)._add(Oi)._add(Fr),Bn._rotateAround(xr,rr)._add(Oi)._add(Fr),hi._rotateAround(xr,rr)._add(Oi)._add(Fr),Nn._rotateAround(xr,rr)._add(Oi)._add(Fr)}if(nt){const rr=Math.sin(nt),xr=Math.cos(nt),Tr=[xr,-rr,rr,xr];Zn._matMult(Tr),Bn._matMult(Tr),hi._matMult(Tr),Nn._matMult(Tr)}const ia=new T(0,0),Ai=new T(0,0);xt.push({tl:Zn,tr:Bn,bl:hi,br:Nn,tex:He,writingMode:Se.writingMode,glyphOffset:Pa,sectionIndex:ut.sectionIndex,isSDF:yt,pixelOffsetTL:ia,pixelOffsetBR:Ai,minFontScaleX:0,minFontScaleY:0})}return xt}(0,l,P,m,y,b,f,o.allowVerticalPlacement),le=o.textSizeData;let ye=null;le.kind==="source"?(ye=[_o*m.layout.get("text-size").evaluate(b,{})],ye[0]>Xs&&ge(`${o.layerIds[0]}: Value for "text-size" is >= ${Mf}. Reduce your "text-size".`)):le.kind==="composite"&&(ye=[_o*G.compositeTextSizes[0].evaluate(b,{},J),_o*G.compositeTextSizes[1].evaluate(b,{},J)],(ye[0]>Xs||ye[1]>Xs)&&ge(`${o.layerIds[0]}: Value for "text-size" is >= ${Mf}. Reduce your "text-size".`)),o.addSymbols(o.text,re,ye,P,y,b,M,i,k.lineStartIndex,k.lineLength,H,J);for(const Me of R)N[Me]=o.text.placedSymbolArray.length-1;return 4*re.length}function FT(o){for(const i in o)return o[i];return null}function O8(o,i,l,f){const m=o.compareText;if(i in m){const y=m[i];for(let b=y.length-1;b>=0;b--)if(f.dist(y[b])<l)return!0}else m[i]=[];return m[i].push(f),!1}const BT=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Kx{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,f]=new Uint8Array(i,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=f>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const y=BT[15&f];if(!y)throw new Error("Unrecognized array type.");const[b]=new Uint16Array(i,2,1),[P]=new Uint32Array(i,4,1);return new Kx(P,b,y,i)}constructor(i,l=64,f=Float64Array,m){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const y=BT.indexOf(this.ArrayType),b=2*i*this.ArrayType.BYTES_PER_ELEMENT,P=i*this.IndexArrayType.BYTES_PER_ELEMENT,k=(8-P%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${f}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+P+k,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+b+P+k),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+P+k,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=i)}add(i,l){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=l,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Hx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,l,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:b,nodeSize:P}=this,k=[0,y.length-1,0],M=[];for(;k.length;){const R=k.pop()||0,N=k.pop()||0,H=k.pop()||0;if(N-H<=P){for(let le=H;le<=N;le++){const ye=b[2*le],Me=b[2*le+1];ye>=i&&ye<=f&&Me>=l&&Me<=m&&M.push(y[le])}continue}const G=H+N>>1,J=b[2*G],re=b[2*G+1];J>=i&&J<=f&&re>=l&&re<=m&&M.push(y[G]),(R===0?i<=J:l<=re)&&(k.push(H),k.push(G-1),k.push(1-R)),(R===0?f>=J:m>=re)&&(k.push(G+1),k.push(N),k.push(1-R))}return M}within(i,l,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:y,nodeSize:b}=this,P=[0,m.length-1,0],k=[],M=f*f;for(;P.length;){const R=P.pop()||0,N=P.pop()||0,H=P.pop()||0;if(N-H<=b){for(let le=H;le<=N;le++)OT(y[2*le],y[2*le+1],i,l)<=M&&k.push(m[le]);continue}const G=H+N>>1,J=y[2*G],re=y[2*G+1];OT(J,re,i,l)<=M&&k.push(m[G]),(R===0?i-f<=J:l-f<=re)&&(P.push(H),P.push(G-1),P.push(1-R)),(R===0?i+f>=J:l+f>=re)&&(P.push(G+1),P.push(N),P.push(1-R))}return k}}function Hx(o,i,l,f,m,y){if(m-f<=l)return;const b=f+m>>1;NT(o,i,b,f,m,y),Hx(o,i,l,f,b-1,1-y),Hx(o,i,l,b+1,m,1-y)}function NT(o,i,l,f,m,y){for(;m>f;){if(m-f>600){const M=m-f+1,R=l-f+1,N=Math.log(M),H=.5*Math.exp(2*N/3),G=.5*Math.sqrt(N*H*(M-H)/M)*(R-M/2<0?-1:1);NT(o,i,l,Math.max(f,Math.floor(l-R*H/M+G)),Math.min(m,Math.floor(l+(M-R)*H/M+G)),y)}const b=i[2*l+y];let P=f,k=m;for($f(o,i,f,l),i[2*m+y]>b&&$f(o,i,f,m);P<k;){for($f(o,i,P,k),P++,k--;i[2*P+y]<b;)P++;for(;i[2*k+y]>b;)k--}i[2*f+y]===b?$f(o,i,f,k):(k++,$f(o,i,k,m)),k<=l&&(f=k+1),l<=k&&(m=k-1)}}function $f(o,i,l,f){Wx(o,l,f),Wx(i,2*l,2*f),Wx(i,2*l+1,2*f+1)}function Wx(o,i,l){const f=o[i];o[i]=o[l],o[l]=f}function OT(o,i,l,f){const m=o-l,y=i-f;return m*m+y*y}var Gx;d.be=void 0,(Gx=d.be||(d.be={})).create="create",Gx.load="load",Gx.fullLoad="fullLoad";let Ig=null,Rf=[];const Zx=1e3/60,qx="loadTime",Yx="fullLoadTime",j8={mark(o){performance.mark(o)},frame(o){const i=o;Ig!=null&&Rf.push(i-Ig),Ig=i},clearMetrics(){Ig=null,Rf=[],performance.clearMeasures(qx),performance.clearMeasures(Yx);for(const o in d.be)performance.clearMarks(d.be[o])},getPerformanceMetrics(){performance.measure(qx,d.be.create,d.be.load),performance.measure(Yx,d.be.create,d.be.fullLoad);const o=performance.getEntriesByName(qx)[0].duration,i=performance.getEntriesByName(Yx)[0].duration,l=Rf.length,f=1/(Rf.reduce((y,b)=>y+b,0)/l/1e3),m=Rf.filter(y=>y>Zx).reduce((y,b)=>y+(b-Zx)/Zx,0);return{loadTime:o,fullLoadTime:i,fps:f,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};d.$=ln,d.A=Gu,d.B=function(o){if(Le==null){const i=o.navigator?o.navigator.userAgent:null;Le=!!o.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Le},d.C=class{constructor(o,i){this.target=o,this.mapId=i,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new M8(()=>this.process()),this.subscription=function(l,f,m,y){return l.addEventListener(f,m,!1),{unsubscribe:()=>{l.removeEventListener(f,m,!1)}}}(this.target,"message",l=>this.receive(l)),this.globalScope=Be(self)?o:window}registerMessageHandler(o,i){this.messageHandlers[o]=i}sendAsync(o,i){return new Promise((l,f)=>{const m=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[m]={resolve:l,reject:f},i&&i.signal.addEventListener("abort",()=>{delete this.resolveRejects[m];const P={id:m,type:"<cancel>",origin:location.origin,targetMapId:o.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},{once:!0});const y=[],b=Object.assign(Object.assign({},o),{id:m,sourceMapId:this.mapId,origin:location.origin,data:lc(o.data,y)});this.target.postMessage(b,{transfer:y})})}receive(o){const i=o.data,l=i.id;if(!(i.origin!=="file://"&&location.origin!=="file://"&&i.origin!==location.origin||i.targetMapId&&this.mapId!==i.targetMapId)){if(i.type==="<cancel>"){delete this.tasks[l];const f=this.abortControllers[l];return delete this.abortControllers[l],void(f&&f.abort())}if(Be(self)||i.mustQueue)return this.tasks[l]=i,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,i)}}process(){if(this.taskQueue.length===0)return;const o=this.taskQueue.shift(),i=this.tasks[o];delete this.tasks[o],this.taskQueue.length>0&&this.invoker.trigger(),i&&this.processTask(o,i)}processTask(o,i){return c(this,void 0,void 0,function*(){if(i.type==="<response>"){const m=this.resolveRejects[o];return delete this.resolveRejects[o],m?void(i.error?m.reject(wa(i.error)):m.resolve(wa(i.data))):void 0}if(!this.messageHandlers[i.type])return void this.completeTask(o,new Error(`Could not find a registered handler for ${i.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const l=wa(i.data),f=new AbortController;this.abortControllers[o]=f;try{const m=yield this.messageHandlers[i.type](i.sourceMapId,l,f);this.completeTask(o,null,m)}catch(m){this.completeTask(o,m)}})}completeTask(o,i,l){const f=[];delete this.abortControllers[o];const m={id:o,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:i?lc(i):null,data:lc(l,f)};this.target.postMessage(m,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},d.D=_t,d.E=Un,d.F=function(){var o=new Gu(16);return Gu!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},d.G=gt,d.H=function(o,i,l){var f,m,y,b,P,k,M,R,N,H,G,J,re=l[0],le=l[1],ye=l[2];return i===o?(o[12]=i[0]*re+i[4]*le+i[8]*ye+i[12],o[13]=i[1]*re+i[5]*le+i[9]*ye+i[13],o[14]=i[2]*re+i[6]*le+i[10]*ye+i[14],o[15]=i[3]*re+i[7]*le+i[11]*ye+i[15]):(m=i[1],y=i[2],b=i[3],P=i[4],k=i[5],M=i[6],R=i[7],N=i[8],H=i[9],G=i[10],J=i[11],o[0]=f=i[0],o[1]=m,o[2]=y,o[3]=b,o[4]=P,o[5]=k,o[6]=M,o[7]=R,o[8]=N,o[9]=H,o[10]=G,o[11]=J,o[12]=f*re+P*le+N*ye+i[12],o[13]=m*re+k*le+H*ye+i[13],o[14]=y*re+M*le+G*ye+i[14],o[15]=b*re+R*le+J*ye+i[15]),o},d.I=Mx,d.J=function(o,i,l){var f=l[0],m=l[1],y=l[2];return o[0]=i[0]*f,o[1]=i[1]*f,o[2]=i[2]*f,o[3]=i[3]*f,o[4]=i[4]*m,o[5]=i[5]*m,o[6]=i[6]*m,o[7]=i[7]*m,o[8]=i[8]*y,o[9]=i[9]*y,o[10]=i[10]*y,o[11]=i[11]*y,o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15],o},d.K=_P,d.L=function(o,i){const l={};for(let f=0;f<i.length;f++){const m=i[f];m in o&&(l[m]=o[m])}return l},d.M=Js,d.N=mT,d.O=gT,d.P=T,d.Q=na,d.R=ra,d.S=U,d.T=Us,d.U=F,d.V=Ve,d.W=nn,d.X=L,d.Y=Tg,d.Z=class extends te{},d._=c,d.a=ft,d.a$=function(o,i){return o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3],o[4]=i[4],o[5]=i[5],o[6]=i[6],o[7]=i[7],o[8]=i[8],o[9]=i[9],o[10]=i[10],o[11]=i[11],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15],o},d.a0=jx,d.a1=Xe,d.a2=o=>{const i=window.document.createElement("video");return i.muted=!0,new Promise(l=>{i.onloadstart=()=>{l(i)};for(const f of o){const m=window.document.createElement("source");zt(f)||(i.crossOrigin="Anonymous"),m.src=f,i.appendChild(m)}})},d.a3=function(){return Z++},d.a4=Ht,d.a5=Qu,d.a6=Jh,d.a7=fc,d.a8=vr,d.a9=wT,d.aA=function(o){if(o.type==="custom")return new I8(o);switch(o.type){case"background":return new E8(o);case"circle":return new pF(o);case"fill":return new MF(o);case"fill-extrusion":return new WF(o);case"heatmap":return new gF(o);case"hillshade":return new vF(o);case"line":return new e8(o);case"raster":return new A8(o);case"symbol":return new Pg(o)}},d.aB=se,d.aC=function(o,i){if(!o)return[{command:"setStyle",args:[i]}];let l=[];try{if(!Gt(o.version,i.version))return[{command:"setStyle",args:[i]}];Gt(o.center,i.center)||l.push({command:"setCenter",args:[i.center]}),Gt(o.zoom,i.zoom)||l.push({command:"setZoom",args:[i.zoom]}),Gt(o.bearing,i.bearing)||l.push({command:"setBearing",args:[i.bearing]}),Gt(o.pitch,i.pitch)||l.push({command:"setPitch",args:[i.pitch]}),Gt(o.sprite,i.sprite)||l.push({command:"setSprite",args:[i.sprite]}),Gt(o.glyphs,i.glyphs)||l.push({command:"setGlyphs",args:[i.glyphs]}),Gt(o.transition,i.transition)||l.push({command:"setTransition",args:[i.transition]}),Gt(o.light,i.light)||l.push({command:"setLight",args:[i.light]}),Gt(o.terrain,i.terrain)||l.push({command:"setTerrain",args:[i.terrain]}),Gt(o.sky,i.sky)||l.push({command:"setSky",args:[i.sky]}),Gt(o.projection,i.projection)||l.push({command:"setProjection",args:[i.projection]});const f={},m=[];(function(b,P,k,M){let R;for(R in P=P||{},b=b||{})Object.prototype.hasOwnProperty.call(b,R)&&(Object.prototype.hasOwnProperty.call(P,R)||uo(R,k,M));for(R in P)Object.prototype.hasOwnProperty.call(P,R)&&(Object.prototype.hasOwnProperty.call(b,R)?Gt(b[R],P[R])||(b[R].type==="geojson"&&P[R].type==="geojson"&&Oa(b,P,R)?yr(k,{command:"setGeoJSONSourceData",args:[R,P[R].data]}):zo(R,P,k,M)):Yi(R,P,k))})(o.sources,i.sources,m,f);const y=[];o.layers&&o.layers.forEach(b=>{"source"in b&&f[b.source]?l.push({command:"removeLayer",args:[b.id]}):y.push(b)}),l=l.concat(m),function(b,P,k){P=P||[];const M=(b=b||[]).map(ho),R=P.map(ho),N=b.reduce(Vr,{}),H=P.reduce(Vr,{}),G=M.slice(),J=Object.create(null);let re,le,ye,Me,Se;for(let Ae=0,Ne=0;Ae<M.length;Ae++)re=M[Ae],Object.prototype.hasOwnProperty.call(H,re)?Ne++:(yr(k,{command:"removeLayer",args:[re]}),G.splice(G.indexOf(re,Ne),1));for(let Ae=0,Ne=0;Ae<R.length;Ae++)re=R[R.length-1-Ae],G[G.length-1-Ae]!==re&&(Object.prototype.hasOwnProperty.call(N,re)?(yr(k,{command:"removeLayer",args:[re]}),G.splice(G.lastIndexOf(re,G.length-Ne),1)):Ne++,Me=G[G.length-Ae],yr(k,{command:"addLayer",args:[H[re],Me]}),G.splice(G.length-Ae,0,re),J[re]=!0);for(let Ae=0;Ae<R.length;Ae++)if(re=R[Ae],le=N[re],ye=H[re],!J[re]&&!Gt(le,ye))if(Gt(le.source,ye.source)&&Gt(le["source-layer"],ye["source-layer"])&&Gt(le.type,ye.type)){for(Se in Xi(le.layout,ye.layout,k,re,null,"setLayoutProperty"),Xi(le.paint,ye.paint,k,re,null,"setPaintProperty"),Gt(le.filter,ye.filter)||yr(k,{command:"setFilter",args:[re,ye.filter]}),Gt(le.minzoom,ye.minzoom)&&Gt(le.maxzoom,ye.maxzoom)||yr(k,{command:"setLayerZoomRange",args:[re,ye.minzoom,ye.maxzoom]}),le)Object.prototype.hasOwnProperty.call(le,Se)&&Se!=="layout"&&Se!=="paint"&&Se!=="filter"&&Se!=="metadata"&&Se!=="minzoom"&&Se!=="maxzoom"&&(Se.indexOf("paint.")===0?Xi(le[Se],ye[Se],k,re,Se.slice(6),"setPaintProperty"):Gt(le[Se],ye[Se])||yr(k,{command:"setLayerProperty",args:[re,Se,ye[Se]]}));for(Se in ye)Object.prototype.hasOwnProperty.call(ye,Se)&&!Object.prototype.hasOwnProperty.call(le,Se)&&Se!=="layout"&&Se!=="paint"&&Se!=="filter"&&Se!=="metadata"&&Se!=="minzoom"&&Se!=="maxzoom"&&(Se.indexOf("paint.")===0?Xi(le[Se],ye[Se],k,re,Se.slice(6),"setPaintProperty"):Gt(le[Se],ye[Se])||yr(k,{command:"setLayerProperty",args:[re,Se,ye[Se]]}))}else yr(k,{command:"removeLayer",args:[re]}),Me=G[G.lastIndexOf(re)+1],yr(k,{command:"addLayer",args:[ye,Me]})}(y,i.layers,l)}catch(f){console.warn("Unable to compute style diff:",f),l=[{command:"setStyle",args:[i]}]}return l},d.aD=function(o){const i=[],l=o.id;return l===void 0&&i.push({message:`layers.${l}: missing required property "id"`}),o.render===void 0&&i.push({message:`layers.${l}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&i.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),i},d.aE=function o(i,l){if(Array.isArray(i)){if(!Array.isArray(l)||i.length!==l.length)return!1;for(let f=0;f<i.length;f++)if(!o(i[f],l[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&l!==null){if(typeof l!="object"||Object.keys(i).length!==Object.keys(l).length)return!1;for(const f in i)if(!o(i[f],l[f]))return!1;return!0}return i===l},d.aF=me,d.aG=xe,d.aH=class extends uc{constructor(o,i){super(o,i),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},d.aI=ug,d.aJ=class extends uc{constructor(o,i){super(o,i),this.current=oF}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let i=1;i<16;i++)if(o[i]!==this.current[i]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},d.aK=cP,d.aL=class extends uc{constructor(o,i){super(o,i),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},d.aM=class extends uc{constructor(o,i){super(o,i),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},d.aN=uP,d.aO=function(o,i,l,f,m,y,b){var P=1/(i-l),k=1/(f-m),M=1/(y-b);return o[0]=-2*P,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*k,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*M,o[11]=0,o[12]=(i+l)*P,o[13]=(m+f)*k,o[14]=(b+y)*M,o[15]=1,o},d.aP=dr,d.aQ=fF,d.aR=class extends We{},d.aS=i8,d.aT=class extends lt{},d.aU=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},d.aV=TP,d.aW=Zo,d.aX=class extends at{},d.aY=mn,d.aZ=function(o,i){return o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]&&o[3]===i[3]&&o[4]===i[4]&&o[5]===i[5]&&o[6]===i[6]&&o[7]===i[7]&&o[8]===i[8]&&o[9]===i[9]&&o[10]===i[10]&&o[11]===i[11]&&o[12]===i[12]&&o[13]===i[13]&&o[14]===i[14]&&o[15]===i[15]},d.a_=function(o,i){var l=o[0],f=o[1],m=o[2],y=o[3],b=o[4],P=o[5],k=o[6],M=o[7],R=o[8],N=o[9],H=o[10],G=o[11],J=o[12],re=o[13],le=o[14],ye=o[15],Me=i[0],Se=i[1],Ae=i[2],Ne=i[3],Ze=i[4],it=i[5],Ct=i[6],ot=i[7],nt=i[8],xt=i[9],ht=i[10],ut=i[11],He=i[12],bt=i[13],yt=i[14],Dt=i[15];return Math.abs(l-Me)<=li*Math.max(1,Math.abs(l),Math.abs(Me))&&Math.abs(f-Se)<=li*Math.max(1,Math.abs(f),Math.abs(Se))&&Math.abs(m-Ae)<=li*Math.max(1,Math.abs(m),Math.abs(Ae))&&Math.abs(y-Ne)<=li*Math.max(1,Math.abs(y),Math.abs(Ne))&&Math.abs(b-Ze)<=li*Math.max(1,Math.abs(b),Math.abs(Ze))&&Math.abs(P-it)<=li*Math.max(1,Math.abs(P),Math.abs(it))&&Math.abs(k-Ct)<=li*Math.max(1,Math.abs(k),Math.abs(Ct))&&Math.abs(M-ot)<=li*Math.max(1,Math.abs(M),Math.abs(ot))&&Math.abs(R-nt)<=li*Math.max(1,Math.abs(R),Math.abs(nt))&&Math.abs(N-xt)<=li*Math.max(1,Math.abs(N),Math.abs(xt))&&Math.abs(H-ht)<=li*Math.max(1,Math.abs(H),Math.abs(ht))&&Math.abs(G-ut)<=li*Math.max(1,Math.abs(G),Math.abs(ut))&&Math.abs(J-He)<=li*Math.max(1,Math.abs(J),Math.abs(He))&&Math.abs(re-bt)<=li*Math.max(1,Math.abs(re),Math.abs(bt))&&Math.abs(le-yt)<=li*Math.max(1,Math.abs(le),Math.abs(yt))&&Math.abs(ye-Dt)<=li*Math.max(1,Math.abs(ye),Math.abs(Dt))},d.aa=function(o){const i={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,f,m,y)=>{const b=m||y;return i[f]=!b||b.toLowerCase(),""}),i["max-age"]){const l=parseInt(i["max-age"],10);isNaN(l)?delete i["max-age"]:i["max-age"]=l}return i},d.ab=function(o,i){const l=[];for(const f in o)f in i||l.push(f);return l},d.ac=ie,d.ad=function(o,i,l){var f=Math.sin(l),m=Math.cos(l),y=i[0],b=i[1],P=i[2],k=i[3],M=i[4],R=i[5],N=i[6],H=i[7];return i!==o&&(o[8]=i[8],o[9]=i[9],o[10]=i[10],o[11]=i[11],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15]),o[0]=y*m+M*f,o[1]=b*m+R*f,o[2]=P*m+N*f,o[3]=k*m+H*f,o[4]=M*m-y*f,o[5]=R*m-b*f,o[6]=N*m-P*f,o[7]=H*m-k*f,o},d.ae=function(o){var i=new Gu(16);return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],i[9]=o[9],i[10]=o[10],i[11]=o[11],i[12]=o[12],i[13]=o[13],i[14]=o[14],i[15]=o[15],i},d.af=pg,d.ag=function(o,i){let l=0,f=0;if(o.kind==="constant")f=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:m,minZoom:y,maxZoom:b}=o,P=m?ie(Pi.interpolationFactor(m,i,y,b),0,1):0;o.kind==="camera"?f=Wn.number(o.minSize,o.maxSize,P):l=P}return{uSizeT:l,uSize:f}},d.ai=function(o,{uSize:i,uSizeT:l},{lowerSize:f,upperSize:m}){return o.kind==="source"?f/_o:o.kind==="composite"?Wn.number(f/_o,m/_o,l):i},d.aj=Lx,d.ak=function(o,i,l,f){const m=i.y-o.y,y=i.x-o.x,b=f.y-l.y,P=f.x-l.x,k=b*y-P*m;if(k===0)return null;const M=(P*(o.y-l.y)-b*(o.x-l.x))/k;return new T(o.x+M*y,o.y+M*m)},d.al=CT,d.am=pP,d.an=mx,d.ao=function(o){let i=1/0,l=1/0,f=-1/0,m=-1/0;for(const y of o)i=Math.min(i,y.x),l=Math.min(l,y.y),f=Math.max(f,y.x),m=Math.max(m,y.y);return[i,l,f,m]},d.ap=cn,d.ar=Rx,d.as=function(o,i){var l=i[0],f=i[1],m=i[2],y=i[3],b=i[4],P=i[5],k=i[6],M=i[7],R=i[8],N=i[9],H=i[10],G=i[11],J=i[12],re=i[13],le=i[14],ye=i[15],Me=l*P-f*b,Se=l*k-m*b,Ae=l*M-y*b,Ne=f*k-m*P,Ze=f*M-y*P,it=m*M-y*k,Ct=R*re-N*J,ot=R*le-H*J,nt=R*ye-G*J,xt=N*le-H*re,ht=N*ye-G*re,ut=H*ye-G*le,He=Me*ut-Se*ht+Ae*xt+Ne*nt-Ze*ot+it*Ct;return He?(o[0]=(P*ut-k*ht+M*xt)*(He=1/He),o[1]=(m*ht-f*ut-y*xt)*He,o[2]=(re*it-le*Ze+ye*Ne)*He,o[3]=(H*Ze-N*it-G*Ne)*He,o[4]=(k*nt-b*ut-M*ot)*He,o[5]=(l*ut-m*nt+y*ot)*He,o[6]=(le*Ae-J*it-ye*Se)*He,o[7]=(R*it-H*Ae+G*Se)*He,o[8]=(b*ht-P*nt+M*Ct)*He,o[9]=(f*nt-l*ht-y*Ct)*He,o[10]=(J*Ze-re*Ae+ye*Me)*He,o[11]=(N*Ae-R*Ze-G*Me)*He,o[12]=(P*ot-b*xt-k*Ct)*He,o[13]=(l*xt-f*ot+m*Ct)*He,o[14]=(re*Se-J*Ne-le*Me)*He,o[15]=(R*Ne-N*Se+H*Me)*He,o):null},d.at=Ux,d.au=$x,d.av=Kx,d.aw=function(){const o={},i=je.$version;for(const l in je.$root){const f=je.$root[l];if(f.required){let m=null;m=l==="version"?i:f.type==="array"?[]:{},m!=null&&(o[l]=m)}}return o},d.ax=rg,d.ay=Pt,d.az=function(o){o=o.slice();const i=Object.create(null);for(let l=0;l<o.length;l++)i[o[l].id]=o[l];for(let l=0;l<o.length;l++)"ref"in o[l]&&(o[l]=kr(o[l],i[o[l].ref]));return o},d.b=ae,d.b0=function(o,i,l){return o[0]=i[0]*l[0],o[1]=i[1]*l[1],o[2]=i[2]*l[2],o[3]=i[3]*l[3],o},d.b1=function(o,i){return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]*i[3]},d.b2=fe,d.b3=xT,d.b4=yT,d.b5=function(o,i,l,f,m){var y,b=1/Math.tan(i/2);return o[0]=b/l,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=b,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,m!=null&&m!==1/0?(o[10]=(m+f)*(y=1/(f-m)),o[14]=2*m*f*y):(o[10]=-1,o[14]=-2*f),o},d.b6=function(o,i,l){var f=Math.sin(l),m=Math.cos(l),y=i[4],b=i[5],P=i[6],k=i[7],M=i[8],R=i[9],N=i[10],H=i[11];return i!==o&&(o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15]),o[4]=y*m+M*f,o[5]=b*m+R*f,o[6]=P*m+N*f,o[7]=k*m+H*f,o[8]=M*m-y*f,o[9]=R*m-b*f,o[10]=N*m-P*f,o[11]=H*m-k*f,o},d.b7=O,d.b8=ee,d.b9=function(o){return o*Math.PI/180},d.bA=Iu,d.bB=yo,d.ba=function(o,i){return o[0]=i[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=i[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},d.bb=class extends X{},d.bc=Nx,d.bd=j8,d.bf=Et,d.bg=function(o,i){ft.REGISTERED_PROTOCOLS[o]=i},d.bh=function(o){delete ft.REGISTERED_PROTOCOLS[o]},d.bi=function(o,i){const l={};for(let m=0;m<o.length;m++){const y=i&&i[o[m].id]||ox(o[m]);i&&(i[o[m].id]=y);let b=l[y];b||(b=l[y]=[]),b.push(o[m])}const f=[];for(const m in l)f.push(l[m]);return f},d.bj=dt,d.bk=bT,d.bl=ST,d.bm=eT,d.bn=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=nn/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const i=o.bucket.layers[0],l=i.layout,f=i._unevaluatedLayout._values,m={layoutIconSize:f["icon-size"].possiblyEvaluate(new vr(o.bucket.zoom+1),o.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new vr(o.bucket.zoom+1),o.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new vr(18))};if(o.bucket.textSizeData.kind==="composite"){const{minZoom:M,maxZoom:R}=o.bucket.textSizeData;m.compositeTextSizes=[f["text-size"].possiblyEvaluate(new vr(M),o.canonical),f["text-size"].possiblyEvaluate(new vr(R),o.canonical)]}if(o.bucket.iconSizeData.kind==="composite"){const{minZoom:M,maxZoom:R}=o.bucket.iconSizeData;m.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new vr(M),o.canonical),f["icon-size"].possiblyEvaluate(new vr(R),o.canonical)]}const y=l.get("text-line-height")*cn,b=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",P=l.get("text-keep-upright"),k=l.get("text-size");for(const M of o.bucket.features){const R=l.get("text-font").evaluate(M,{},o.canonical).join(","),N=k.evaluate(M,{},o.canonical),H=m.layoutTextSize.evaluate(M,{},o.canonical),G=m.layoutIconSize.evaluate(M,{},o.canonical),J={horizontal:{},vertical:void 0},re=M.text;let le,ye=[0,0];if(re){const Ae=re.toString(),Ne=l.get("text-letter-spacing").evaluate(M,{},o.canonical)*cn,Ze=lx(Ae)?Ne:0,it=l.get("text-anchor").evaluate(M,{},o.canonical),Ct=LT(i,M,o.canonical);if(!Ct){const ht=l.get("text-radial-offset").evaluate(M,{},o.canonical);ye=ht?RT(it,[ht*cn,Vx]):l.get("text-offset").evaluate(M,{},o.canonical).map(ut=>ut*cn)}let ot=b?"center":l.get("text-justify").evaluate(M,{},o.canonical);const nt=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(M,{},o.canonical)*cn:1/0,xt=()=>{o.bucket.allowVerticalPlacement&&uf(Ae)&&(J.vertical=bg(re,o.glyphMap,o.glyphPositions,o.imagePositions,R,nt,y,it,"left",Ze,ye,d.ah.vertical,!0,H,N))};if(!b&&Ct){const ht=new Set;if(ot==="auto")for(let He=0;He<Ct.values.length;He+=2)ht.add(Ux(Ct.values[He]));else ht.add(ot);let ut=!1;for(const He of ht)if(!J.horizontal[He])if(ut)J.horizontal[He]=J.horizontal[0];else{const bt=bg(re,o.glyphMap,o.glyphPositions,o.imagePositions,R,nt,y,"center",He,Ze,ye,d.ah.horizontal,!1,H,N);bt&&(J.horizontal[He]=bt,ut=bt.positionedLines.length===1)}xt()}else{ot==="auto"&&(ot=Ux(it));const ht=bg(re,o.glyphMap,o.glyphPositions,o.imagePositions,R,nt,y,it,ot,Ze,ye,d.ah.horizontal,!1,H,N);ht&&(J.horizontal[ot]=ht),xt(),uf(Ae)&&b&&P&&(J.vertical=bg(re,o.glyphMap,o.glyphPositions,o.imagePositions,R,nt,y,it,ot,Ze,ye,d.ah.vertical,!1,H,N))}}let Me=!1;if(M.icon&&M.icon.name){const Ae=o.imageMap[M.icon.name];Ae&&(le=w8(o.imagePositions[M.icon.name],l.get("icon-offset").evaluate(M,{},o.canonical),l.get("icon-anchor").evaluate(M,{},o.canonical)),Me=!!Ae.sdf,o.bucket.sdfIcons===void 0?o.bucket.sdfIcons=Me:o.bucket.sdfIcons!==Me&&ge("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ae.pixelRatio!==o.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(o.bucket.iconsNeedLinear=!0))}const Se=FT(J.horizontal)||J.vertical;o.bucket.iconsInText=!!Se&&Se.iconsInText,(Se||le)&&N8(o.bucket,M,J,le,o.imageMap,m,H,G,ye,Me,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},d.bo=Ex,d.bp=Px,d.bq=Cx,d.br=qs,d.bs=Ax,d.bt=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return o.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},d.bu=function(o,i,l,f,m){return c(this,void 0,void 0,function*(){if(F())try{return yield Ve(o,i,l,f,m)}catch{}return function(y,b,P,k,M){const R=y.width,N=y.height;Oe&&he||(Oe=new OffscreenCanvas(R,N),he=Oe.getContext("2d",{willReadFrequently:!0})),Oe.width=R,Oe.height=N,he.drawImage(y,0,0,R,N);const H=he.getImageData(b,P,k,M);return he.clearRect(0,0,R,N),H.data}(o,i,l,f,m)})},d.bv=_T,d.bw=v,d.bx=w,d.by=HP,d.bz=function(o){return o.message===ze},d.c=Je,d.d=o=>c(void 0,void 0,void 0,function*(){if(o.byteLength===0)return createImageBitmap(new ImageData(1,1));const i=new Blob([new Uint8Array(o)],{type:"image/png"});try{return createImageBitmap(i)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),d.e=we,d.f=o=>new Promise((i,l)=>{const f=new Image;f.onload=()=>{i(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=De})},f.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(o)],{type:"image/png"});f.src=o.byteLength?URL.createObjectURL(m):De}),d.g=mt,d.h=(o,i)=>At(we(o,{type:"json"}),i),d.i=Be,d.j=Yt,d.k=qt,d.l=(o,i)=>At(we(o,{type:"arrayBuffer"}),i),d.m=At,d.n=function(o){return new Ax(o).readFields(m8,[])},d.o=wf,d.p=QP,d.q=p,d.r=sx,d.s=zt,d.t=cf,d.u=st,d.v=je,d.w=ge,d.x=oc,d.y=function([o,i,l]){return i+=90,i*=Math.PI/180,l*=Math.PI/180,{x:o*Math.cos(i)*Math.sin(l),y:o*Math.sin(i)*Math.sin(l),z:o*Math.cos(l)}},d.z=Wn}),s("worker",["./shared"],function(d){class c{constructor(W){this.keyCache={},W&&this.replace(W)}replace(W){this._layerConfigs={},this._layers={},this.update(W,[])}update(W,q){for(const de of W){this._layerConfigs[de.id]=de;const Pe=this._layers[de.id]=d.aA(de);Pe._featureFilter=d.a6(Pe.filter),this.keyCache[de.id]&&delete this.keyCache[de.id]}for(const de of q)delete this.keyCache[de],delete this._layerConfigs[de],delete this._layers[de];this.familiesBySource={};const Q=d.bi(Object.values(this._layerConfigs),this.keyCache);for(const de of Q){const Pe=de.map(Ke=>this._layers[Ke.id]),Ee=Pe[0];if(Ee.visibility==="none")continue;const Ie=Ee.source||"";let be=this.familiesBySource[Ie];be||(be=this.familiesBySource[Ie]={});const Re=Ee.sourceLayer||"_geojsonTileLayer";let Ge=be[Re];Ge||(Ge=be[Re]=[]),Ge.push(Pe)}}}class v{constructor(W){const q={},Q=[];for(const Ie in W){const be=W[Ie],Re=q[Ie]={};for(const Ge in be){const Ke=be[+Ge];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Ue={x:0,y:0,w:Ke.bitmap.width+2,h:Ke.bitmap.height+2};Q.push(Ue),Re[Ge]={rect:Ue,metrics:Ke.metrics}}}const{w:de,h:Pe}=d.p(Q),Ee=new d.o({width:de||1,height:Pe||1});for(const Ie in W){const be=W[Ie];for(const Re in be){const Ge=be[+Re];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;const Ke=q[Ie][Re].rect;d.o.copy(Ge.bitmap,Ee,{x:0,y:0},{x:Ke.x+1,y:Ke.y+1},Ge.bitmap)}}this.image=Ee,this.positions=q}}d.bj("GlyphAtlas",v);class w{constructor(W){this.tileID=new d.Q(W.tileID.overscaledZ,W.tileID.wrap,W.tileID.canonical.z,W.tileID.canonical.x,W.tileID.canonical.y),this.uid=W.uid,this.zoom=W.zoom,this.pixelRatio=W.pixelRatio,this.tileSize=W.tileSize,this.source=W.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=W.showCollisionBoxes,this.collectResourceTiming=!!W.collectResourceTiming,this.returnDependencies=!!W.returnDependencies,this.promoteId=W.promoteId,this.inFlightDependencies=[]}parse(W,q,Q,de){return d._(this,void 0,void 0,function*(){this.status="parsing",this.data=W,this.collisionBoxArray=new d.a4;const Pe=new d.bk(Object.keys(W.layers).sort()),Ee=new d.bl(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Ie={},be={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Q},Re=q.familiesBySource[this.source];for(const jt in Re){const Ir=W.layers[jt];if(!Ir)continue;Ir.version===1&&d.w(`Vector tile source "${this.source}" layer "${jt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const on=Pe.encode(jt),ni=[];for(let wi=0;wi<Ir.length;wi++){const sn=Ir.feature(wi),Ms=Ee.getId(sn,jt);ni.push({feature:sn,id:Ms,index:wi,sourceLayerIndex:on})}for(const wi of Re[jt]){const sn=wi[0];sn.source!==this.source&&d.w(`layer.source = ${sn.source} does not equal this.source = ${this.source}`),sn.minzoom&&this.zoom<Math.floor(sn.minzoom)||sn.maxzoom&&this.zoom>=sn.maxzoom||sn.visibility!=="none"&&(S(wi,this.zoom,Q),(Ie[sn.id]=sn.createBucket({index:Ee.bucketLayerIDs.length,layers:wi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:on,sourceID:this.source})).populate(ni,be,this.tileID.canonical),Ee.bucketLayerIDs.push(wi.map(Ms=>Ms.id)))}}const Ge=d.aF(be.glyphDependencies,jt=>Object.keys(jt).map(Number));this.inFlightDependencies.forEach(jt=>jt==null?void 0:jt.abort()),this.inFlightDependencies=[];let Ke=Promise.resolve({});if(Object.keys(Ge).length){const jt=new AbortController;this.inFlightDependencies.push(jt),Ke=de.sendAsync({type:"GG",data:{stacks:Ge,source:this.source,tileID:this.tileID,type:"glyphs"}},jt)}const Ue=Object.keys(be.iconDependencies);let Tt=Promise.resolve({});if(Ue.length){const jt=new AbortController;this.inFlightDependencies.push(jt),Tt=de.sendAsync({type:"GI",data:{icons:Ue,source:this.source,tileID:this.tileID,type:"icons"}},jt)}const St=Object.keys(be.patternDependencies);let Zt=Promise.resolve({});if(St.length){const jt=new AbortController;this.inFlightDependencies.push(jt),Zt=de.sendAsync({type:"GI",data:{icons:St,source:this.source,tileID:this.tileID,type:"patterns"}},jt)}const[Rt,Jt,hr]=yield Promise.all([Ke,Tt,Zt]),br=new v(Rt),tn=new d.bm(Jt,hr);for(const jt in Ie){const Ir=Ie[jt];Ir instanceof d.a5?(S(Ir.layers,this.zoom,Q),d.bn({bucket:Ir,glyphMap:Rt,glyphPositions:br.positions,imageMap:Jt,imagePositions:tn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Ir.hasPattern&&(Ir instanceof d.bo||Ir instanceof d.bp||Ir instanceof d.bq)&&(S(Ir.layers,this.zoom,Q),Ir.addFeatures(be,this.tileID.canonical,tn.patternPositions))}return this.status="done",{buckets:Object.values(Ie).filter(jt=>!jt.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:tn,glyphMap:this.returnDependencies?Rt:null,iconMap:this.returnDependencies?Jt:null,glyphPositions:this.returnDependencies?br.positions:null}})}}function S(ce,W,q){const Q=new d.a8(W);for(const de of ce)de.recalculate(Q,q)}class T{constructor(W,q,Q){this.actor=W,this.layerIndex=q,this.availableImages=Q,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(W,q){return d._(this,void 0,void 0,function*(){const Q=yield d.l(W.request,q);try{return{vectorTile:new d.br.VectorTile(new d.bs(Q.data)),rawData:Q.data,cacheControl:Q.cacheControl,expires:Q.expires}}catch(de){const Pe=new Uint8Array(Q.data);let Ee=`Unable to parse the tile at ${W.request.url}, `;throw Ee+=Pe[0]===31&&Pe[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${de.message}`,new Error(Ee)}})}loadTile(W){return d._(this,void 0,void 0,function*(){const q=W.uid,Q=!!(W&&W.request&&W.request.collectResourceTiming)&&new d.bt(W.request),de=new w(W);this.loading[q]=de;const Pe=new AbortController;de.abort=Pe;try{const Ee=yield this.loadVectorTile(W,Pe);if(delete this.loading[q],!Ee)return null;const Ie=Ee.rawData,be={};Ee.expires&&(be.expires=Ee.expires),Ee.cacheControl&&(be.cacheControl=Ee.cacheControl);const Re={};if(Q){const Ke=Q.finish();Ke&&(Re.resourceTiming=JSON.parse(JSON.stringify(Ke)))}de.vectorTile=Ee.vectorTile;const Ge=de.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[q]=de,this.fetching[q]={rawTileData:Ie,cacheControl:be,resourceTiming:Re};try{const Ke=yield Ge;return d.e({rawTileData:Ie.slice(0)},Ke,be,Re)}finally{delete this.fetching[q]}}catch(Ee){throw delete this.loading[q],de.status="done",this.loaded[q]=de,Ee}})}reloadTile(W){return d._(this,void 0,void 0,function*(){const q=W.uid;if(!this.loaded||!this.loaded[q])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Q=this.loaded[q];if(Q.showCollisionBoxes=W.showCollisionBoxes,Q.status==="parsing"){const de=yield Q.parse(Q.vectorTile,this.layerIndex,this.availableImages,this.actor);let Pe;if(this.fetching[q]){const{rawTileData:Ee,cacheControl:Ie,resourceTiming:be}=this.fetching[q];delete this.fetching[q],Pe=d.e({rawTileData:Ee.slice(0)},de,Ie,be)}else Pe=de;return Pe}if(Q.status==="done"&&Q.vectorTile)return Q.parse(Q.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(W){return d._(this,void 0,void 0,function*(){const q=this.loading,Q=W.uid;q&&q[Q]&&q[Q].abort&&(q[Q].abort.abort(),delete q[Q])})}removeTile(W){return d._(this,void 0,void 0,function*(){this.loaded&&this.loaded[W.uid]&&delete this.loaded[W.uid]})}}class C{constructor(){this.loaded={}}loadTile(W){return d._(this,void 0,void 0,function*(){const{uid:q,encoding:Q,rawImageData:de,redFactor:Pe,greenFactor:Ee,blueFactor:Ie,baseShift:be}=W,Re=de.width+2,Ge=de.height+2,Ke=d.b(de)?new d.R({width:Re,height:Ge},yield d.bu(de,-1,-1,Re,Ge)):de,Ue=new d.bv(q,Ke,Q,Pe,Ee,Ie,be);return this.loaded=this.loaded||{},this.loaded[q]=Ue,Ue})}removeTile(W){const q=this.loaded,Q=W.uid;q&&q[Q]&&delete q[Q]}}function D(ce,W){if(ce.length!==0){B(ce[0],W);for(var q=1;q<ce.length;q++)B(ce[q],!W)}}function B(ce,W){for(var q=0,Q=0,de=0,Pe=ce.length,Ee=Pe-1;de<Pe;Ee=de++){var Ie=(ce[de][0]-ce[Ee][0])*(ce[Ee][1]+ce[de][1]),be=q+Ie;Q+=Math.abs(q)>=Math.abs(Ie)?q-be+Ie:Ie-be+q,q=be}q+Q>=0!=!!W&&ce.reverse()}var V=d.bw(function ce(W,q){var Q,de=W&&W.type;if(de==="FeatureCollection")for(Q=0;Q<W.features.length;Q++)ce(W.features[Q],q);else if(de==="GeometryCollection")for(Q=0;Q<W.geometries.length;Q++)ce(W.geometries[Q],q);else if(de==="Feature")ce(W.geometry,q);else if(de==="Polygon")D(W.coordinates,q);else if(de==="MultiPolygon")for(Q=0;Q<W.coordinates.length;Q++)D(W.coordinates[Q],q);return W});const Y=d.br.VectorTileFeature.prototype.toGeoJSON;var U={exports:{}},F=d.bx,O=d.br.VectorTileFeature,ee=ie;function ie(ce,W){this.options=W||{},this.features=ce,this.length=ce.length}function fe(ce,W){this.id=typeof ce.id=="number"?ce.id:void 0,this.type=ce.type,this.rawGeometry=ce.type===1?[ce.geometry]:ce.geometry,this.properties=ce.tags,this.extent=W||4096}ie.prototype.feature=function(ce){return new fe(this.features[ce],this.options.extent)},fe.prototype.loadGeometry=function(){var ce=this.rawGeometry;this.geometry=[];for(var W=0;W<ce.length;W++){for(var q=ce[W],Q=[],de=0;de<q.length;de++)Q.push(new F(q[de][0],q[de][1]));this.geometry.push(Q)}return this.geometry},fe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ce=this.geometry,W=1/0,q=-1/0,Q=1/0,de=-1/0,Pe=0;Pe<ce.length;Pe++)for(var Ee=ce[Pe],Ie=0;Ie<Ee.length;Ie++){var be=Ee[Ie];W=Math.min(W,be.x),q=Math.max(q,be.x),Q=Math.min(Q,be.y),de=Math.max(de,be.y)}return[W,Q,q,de]},fe.prototype.toGeoJSON=O.prototype.toGeoJSON;var we=d.by,Z=ee;function me(ce){var W=new we;return function(q,Q){for(var de in q.layers)Q.writeMessage(3,xe,q.layers[de])}(ce,W),W.finish()}function xe(ce,W){var q;W.writeVarintField(15,ce.version||1),W.writeStringField(1,ce.name||""),W.writeVarintField(5,ce.extent||4096);var Q={keys:[],values:[],keycache:{},valuecache:{}};for(q=0;q<ce.length;q++)Q.feature=ce.feature(q),W.writeMessage(2,se,Q);var de=Q.keys;for(q=0;q<de.length;q++)W.writeStringField(3,de[q]);var Pe=Q.values;for(q=0;q<Pe.length;q++)W.writeMessage(4,Le,Pe[q])}function se(ce,W){var q=ce.feature;q.id!==void 0&&W.writeVarintField(1,q.id),W.writeMessage(2,Te,ce),W.writeVarintField(3,q.type),W.writeMessage(4,Be,q)}function Te(ce,W){var q=ce.feature,Q=ce.keys,de=ce.values,Pe=ce.keycache,Ee=ce.valuecache;for(var Ie in q.properties){var be=q.properties[Ie],Re=Pe[Ie];if(be!==null){Re===void 0&&(Q.push(Ie),Pe[Ie]=Re=Q.length-1),W.writeVarint(Re);var Ge=typeof be;Ge!=="string"&&Ge!=="boolean"&&Ge!=="number"&&(be=JSON.stringify(be));var Ke=Ge+":"+be,Ue=Ee[Ke];Ue===void 0&&(de.push(be),Ee[Ke]=Ue=de.length-1),W.writeVarint(Ue)}}}function ge(ce,W){return(W<<3)+(7&ce)}function ve(ce){return ce<<1^ce>>31}function Be(ce,W){for(var q=ce.loadGeometry(),Q=ce.type,de=0,Pe=0,Ee=q.length,Ie=0;Ie<Ee;Ie++){var be=q[Ie],Re=1;Q===1&&(Re=be.length),W.writeVarint(ge(1,Re));for(var Ge=Q===3?be.length-1:be.length,Ke=0;Ke<Ge;Ke++){Ke===1&&Q!==1&&W.writeVarint(ge(2,Ge-1));var Ue=be[Ke].x-de,Tt=be[Ke].y-Pe;W.writeVarint(ve(Ue)),W.writeVarint(ve(Tt)),de+=Ue,Pe+=Tt}Q===3&&W.writeVarint(ge(7,1))}}function Le(ce,W){var q=typeof ce;q==="string"?W.writeStringField(1,ce):q==="boolean"?W.writeBooleanField(7,ce):q==="number"&&(ce%1!=0?W.writeDoubleField(3,ce):ce<0?W.writeSVarintField(6,ce):W.writeVarintField(5,ce))}U.exports=me,U.exports.fromVectorTileJs=me,U.exports.fromGeojsonVt=function(ce,W){W=W||{};var q={};for(var Q in ce)q[Q]=new Z(ce[Q].features,W),q[Q].name=Q,q[Q].version=W.version,q[Q].extent=W.extent;return me({layers:q})},U.exports.GeoJSONWrapper=Z;var ae=d.bw(U.exports);const De={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ce=>ce},Ve=Math.fround||(Oe=new Float32Array(1),ce=>(Oe[0]=+ce,Oe[0]));var Oe;const he=3,ze=5,Je=6;class ft{constructor(W){this.options=Object.assign(Object.create(De),W),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(W){const{log:q,minZoom:Q,maxZoom:de}=this.options;q&&console.time("total time");const Pe=`prepare ${W.length} points`;q&&console.time(Pe),this.points=W;const Ee=[];for(let be=0;be<W.length;be++){const Re=W[be];if(!Re.geometry)continue;const[Ge,Ke]=Re.geometry.coordinates,Ue=Ve(Et(Ge)),Tt=Ve(Pt(Ke));Ee.push(Ue,Tt,1/0,be,-1,1),this.options.reduce&&Ee.push(0)}let Ie=this.trees[de+1]=this._createTree(Ee);q&&console.timeEnd(Pe);for(let be=de;be>=Q;be--){const Re=+Date.now();Ie=this.trees[be]=this._createTree(this._cluster(Ie,be)),q&&console.log("z%d: %d clusters in %dms",be,Ie.numItems,+Date.now()-Re)}return q&&console.timeEnd("total time"),this}getClusters(W,q){let Q=((W[0]+180)%360+360)%360-180;const de=Math.max(-90,Math.min(90,W[1]));let Pe=W[2]===180?180:((W[2]+180)%360+360)%360-180;const Ee=Math.max(-90,Math.min(90,W[3]));if(W[2]-W[0]>=360)Q=-180,Pe=180;else if(Q>Pe){const Ke=this.getClusters([Q,de,180,Ee],q),Ue=this.getClusters([-180,de,Pe,Ee],q);return Ke.concat(Ue)}const Ie=this.trees[this._limitZoom(q)],be=Ie.range(Et(Q),Pt(Ee),Et(Pe),Pt(de)),Re=Ie.data,Ge=[];for(const Ke of be){const Ue=this.stride*Ke;Ge.push(Re[Ue+ze]>1?mt(Re,Ue,this.clusterProps):this.points[Re[Ue+he]])}return Ge}getChildren(W){const q=this._getOriginId(W),Q=this._getOriginZoom(W),de="No cluster with the specified id.",Pe=this.trees[Q];if(!Pe)throw new Error(de);const Ee=Pe.data;if(q*this.stride>=Ee.length)throw new Error(de);const Ie=this.options.radius/(this.options.extent*Math.pow(2,Q-1)),be=Pe.within(Ee[q*this.stride],Ee[q*this.stride+1],Ie),Re=[];for(const Ge of be){const Ke=Ge*this.stride;Ee[Ke+4]===W&&Re.push(Ee[Ke+ze]>1?mt(Ee,Ke,this.clusterProps):this.points[Ee[Ke+he]])}if(Re.length===0)throw new Error(de);return Re}getLeaves(W,q,Q){const de=[];return this._appendLeaves(de,W,q=q||10,Q=Q||0,0),de}getTile(W,q,Q){const de=this.trees[this._limitZoom(W)],Pe=Math.pow(2,W),{extent:Ee,radius:Ie}=this.options,be=Ie/Ee,Re=(Q-be)/Pe,Ge=(Q+1+be)/Pe,Ke={features:[]};return this._addTileFeatures(de.range((q-be)/Pe,Re,(q+1+be)/Pe,Ge),de.data,q,Q,Pe,Ke),q===0&&this._addTileFeatures(de.range(1-be/Pe,Re,1,Ge),de.data,Pe,Q,Pe,Ke),q===Pe-1&&this._addTileFeatures(de.range(0,Re,be/Pe,Ge),de.data,-1,Q,Pe,Ke),Ke.features.length?Ke:null}getClusterExpansionZoom(W){let q=this._getOriginZoom(W)-1;for(;q<=this.options.maxZoom;){const Q=this.getChildren(W);if(q++,Q.length!==1)break;W=Q[0].properties.cluster_id}return q}_appendLeaves(W,q,Q,de,Pe){const Ee=this.getChildren(q);for(const Ie of Ee){const be=Ie.properties;if(be&&be.cluster?Pe+be.point_count<=de?Pe+=be.point_count:Pe=this._appendLeaves(W,be.cluster_id,Q,de,Pe):Pe<de?Pe++:W.push(Ie),W.length===Q)break}return Pe}_createTree(W){const q=new d.av(W.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Q=0;Q<W.length;Q+=this.stride)q.add(W[Q],W[Q+1]);return q.finish(),q.data=W,q}_addTileFeatures(W,q,Q,de,Pe,Ee){for(const Ie of W){const be=Ie*this.stride,Re=q[be+ze]>1;let Ge,Ke,Ue;if(Re)Ge=gt(q,be,this.clusterProps),Ke=q[be],Ue=q[be+1];else{const Zt=this.points[q[be+he]];Ge=Zt.properties;const[Rt,Jt]=Zt.geometry.coordinates;Ke=Et(Rt),Ue=Pt(Jt)}const Tt={type:1,geometry:[[Math.round(this.options.extent*(Ke*Pe-Q)),Math.round(this.options.extent*(Ue*Pe-de))]],tags:Ge};let St;St=Re||this.options.generateId?q[be+he]:this.points[q[be+he]].id,St!==void 0&&(Tt.id=St),Ee.features.push(Tt)}}_limitZoom(W){return Math.max(this.options.minZoom,Math.min(Math.floor(+W),this.options.maxZoom+1))}_cluster(W,q){const{radius:Q,extent:de,reduce:Pe,minPoints:Ee}=this.options,Ie=Q/(de*Math.pow(2,q)),be=W.data,Re=[],Ge=this.stride;for(let Ke=0;Ke<be.length;Ke+=Ge){if(be[Ke+2]<=q)continue;be[Ke+2]=q;const Ue=be[Ke],Tt=be[Ke+1],St=W.within(be[Ke],be[Ke+1],Ie),Zt=be[Ke+ze];let Rt=Zt;for(const Jt of St){const hr=Jt*Ge;be[hr+2]>q&&(Rt+=be[hr+ze])}if(Rt>Zt&&Rt>=Ee){let Jt,hr=Ue*Zt,br=Tt*Zt,tn=-1;const jt=((Ke/Ge|0)<<5)+(q+1)+this.points.length;for(const Ir of St){const on=Ir*Ge;if(be[on+2]<=q)continue;be[on+2]=q;const ni=be[on+ze];hr+=be[on]*ni,br+=be[on+1]*ni,be[on+4]=jt,Pe&&(Jt||(Jt=this._map(be,Ke,!0),tn=this.clusterProps.length,this.clusterProps.push(Jt)),Pe(Jt,this._map(be,on)))}be[Ke+4]=jt,Re.push(hr/Rt,br/Rt,1/0,jt,-1,Rt),Pe&&Re.push(tn)}else{for(let Jt=0;Jt<Ge;Jt++)Re.push(be[Ke+Jt]);if(Rt>1)for(const Jt of St){const hr=Jt*Ge;if(!(be[hr+2]<=q)){be[hr+2]=q;for(let br=0;br<Ge;br++)Re.push(be[hr+br])}}}}return Re}_getOriginId(W){return W-this.points.length>>5}_getOriginZoom(W){return(W-this.points.length)%32}_map(W,q,Q){if(W[q+ze]>1){const Ee=this.clusterProps[W[q+Je]];return Q?Object.assign({},Ee):Ee}const de=this.points[W[q+he]].properties,Pe=this.options.map(de);return Q&&Pe===de?Object.assign({},Pe):Pe}}function mt(ce,W,q){return{type:"Feature",id:ce[W+he],properties:gt(ce,W,q),geometry:{type:"Point",coordinates:[(Q=ce[W],360*(Q-.5)),At(ce[W+1])]}};var Q}function gt(ce,W,q){const Q=ce[W+ze],de=Q>=1e4?`${Math.round(Q/1e3)}k`:Q>=1e3?Math.round(Q/100)/10+"k":Q,Pe=ce[W+Je],Ee=Pe===-1?{}:Object.assign({},q[Pe]);return Object.assign(Ee,{cluster:!0,cluster_id:ce[W+he],point_count:Q,point_count_abbreviated:de})}function Et(ce){return ce/360+.5}function Pt(ce){const W=Math.sin(ce*Math.PI/180),q=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return q<0?0:q>1?1:q}function At(ce){const W=(180-360*ce)*Math.PI/180;return 360*Math.atan(Math.exp(W))/Math.PI-90}function zt(ce,W,q,Q){for(var de,Pe=Q,Ee=q-W>>1,Ie=q-W,be=ce[W],Re=ce[W+1],Ge=ce[q],Ke=ce[q+1],Ue=W+3;Ue<q;Ue+=3){var Tt=Nt(ce[Ue],ce[Ue+1],be,Re,Ge,Ke);if(Tt>Pe)de=Ue,Pe=Tt;else if(Tt===Pe){var St=Math.abs(Ue-Ee);St<Ie&&(de=Ue,Ie=St)}}Pe>Q&&(de-W>3&&zt(ce,W,de,Q),ce[de+2]=Pe,q-de>3&&zt(ce,de,q,Q))}function Nt(ce,W,q,Q,de,Pe){var Ee=de-q,Ie=Pe-Q;if(Ee!==0||Ie!==0){var be=((ce-q)*Ee+(W-Q)*Ie)/(Ee*Ee+Ie*Ie);be>1?(q=de,Q=Pe):be>0&&(q+=Ee*be,Q+=Ie*be)}return(Ee=ce-q)*Ee+(Ie=W-Q)*Ie}function ar(ce,W,q,Q){var de={id:ce===void 0?null:ce,type:W,geometry:q,tags:Q,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Pe){var Ee=Pe.geometry,Ie=Pe.type;if(Ie==="Point"||Ie==="MultiPoint"||Ie==="LineString")qt(Pe,Ee);else if(Ie==="Polygon"||Ie==="MultiLineString")for(var be=0;be<Ee.length;be++)qt(Pe,Ee[be]);else if(Ie==="MultiPolygon")for(be=0;be<Ee.length;be++)for(var Re=0;Re<Ee[be].length;Re++)qt(Pe,Ee[be][Re])}(de),de}function qt(ce,W){for(var q=0;q<W.length;q+=3)ce.minX=Math.min(ce.minX,W[q]),ce.minY=Math.min(ce.minY,W[q+1]),ce.maxX=Math.max(ce.maxX,W[q]),ce.maxY=Math.max(ce.maxY,W[q+1])}function Yt(ce,W,q,Q){if(W.geometry){var de=W.geometry.coordinates,Pe=W.geometry.type,Ee=Math.pow(q.tolerance/((1<<q.maxZoom)*q.extent),2),Ie=[],be=W.id;if(q.promoteId?be=W.properties[q.promoteId]:q.generateId&&(be=Q||0),Pe==="Point")Un(de,Ie);else if(Pe==="MultiPoint")for(var Re=0;Re<de.length;Re++)Un(de[Re],Ie);else if(Pe==="LineString")je(de,Ie,Ee,!1);else if(Pe==="MultiLineString"){if(q.lineMetrics){for(Re=0;Re<de.length;Re++)je(de[Re],Ie=[],Ee,!1),ce.push(ar(be,"LineString",Ie,W.properties));return}ri(de,Ie,Ee,!1)}else if(Pe==="Polygon")ri(de,Ie,Ee,!0);else{if(Pe!=="MultiPolygon"){if(Pe==="GeometryCollection"){for(Re=0;Re<W.geometry.geometries.length;Re++)Yt(ce,{id:be,geometry:W.geometry.geometries[Re],properties:W.properties},q,Q);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Re=0;Re<de.length;Re++){var Ge=[];ri(de[Re],Ge,Ee,!0),Ie.push(Ge)}}ce.push(ar(be,Pe,Ie,W.properties))}}function Un(ce,W){W.push(kr(ce[0])),W.push(Gt(ce[1])),W.push(0)}function je(ce,W,q,Q){for(var de,Pe,Ee=0,Ie=0;Ie<ce.length;Ie++){var be=kr(ce[Ie][0]),Re=Gt(ce[Ie][1]);W.push(be),W.push(Re),W.push(0),Ie>0&&(Ee+=Q?(de*Re-be*Pe)/2:Math.sqrt(Math.pow(be-de,2)+Math.pow(Re-Pe,2))),de=be,Pe=Re}var Ge=W.length-3;W[2]=1,zt(W,0,Ge,q),W[Ge+2]=1,W.size=Math.abs(Ee),W.start=0,W.end=W.size}function ri(ce,W,q,Q){for(var de=0;de<ce.length;de++){var Pe=[];je(ce[de],Pe,q,Q),W.push(Pe)}}function kr(ce){return ce/360+.5}function Gt(ce){var W=Math.sin(ce*Math.PI/180),q=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return q<0?0:q>1?1:q}function yr(ce,W,q,Q,de,Pe,Ee,Ie){if(Q/=W,Pe>=(q/=W)&&Ee<Q)return ce;if(Ee<q||Pe>=Q)return null;for(var be=[],Re=0;Re<ce.length;Re++){var Ge=ce[Re],Ke=Ge.geometry,Ue=Ge.type,Tt=de===0?Ge.minX:Ge.minY,St=de===0?Ge.maxX:Ge.maxY;if(Tt>=q&&St<Q)be.push(Ge);else if(!(St<q||Tt>=Q)){var Zt=[];if(Ue==="Point"||Ue==="MultiPoint")Yi(Ke,Zt,q,Q,de);else if(Ue==="LineString")uo(Ke,Zt,q,Q,de,!1,Ie.lineMetrics);else if(Ue==="MultiLineString")Oa(Ke,Zt,q,Q,de,!1);else if(Ue==="Polygon")Oa(Ke,Zt,q,Q,de,!0);else if(Ue==="MultiPolygon")for(var Rt=0;Rt<Ke.length;Rt++){var Jt=[];Oa(Ke[Rt],Jt,q,Q,de,!0),Jt.length&&Zt.push(Jt)}if(Zt.length){if(Ie.lineMetrics&&Ue==="LineString"){for(Rt=0;Rt<Zt.length;Rt++)be.push(ar(Ge.id,Ue,Zt[Rt],Ge.tags));continue}Ue!=="LineString"&&Ue!=="MultiLineString"||(Zt.length===1?(Ue="LineString",Zt=Zt[0]):Ue="MultiLineString"),Ue!=="Point"&&Ue!=="MultiPoint"||(Ue=Zt.length===3?"Point":"MultiPoint"),be.push(ar(Ge.id,Ue,Zt,Ge.tags))}}}return be.length?be:null}function Yi(ce,W,q,Q,de){for(var Pe=0;Pe<ce.length;Pe+=3){var Ee=ce[Pe+de];Ee>=q&&Ee<=Q&&(W.push(ce[Pe]),W.push(ce[Pe+1]),W.push(ce[Pe+2]))}}function uo(ce,W,q,Q,de,Pe,Ee){for(var Ie,be,Re=zo(ce),Ge=de===0?ho:Vr,Ke=ce.start,Ue=0;Ue<ce.length-3;Ue+=3){var Tt=ce[Ue],St=ce[Ue+1],Zt=ce[Ue+2],Rt=ce[Ue+3],Jt=ce[Ue+4],hr=de===0?Tt:St,br=de===0?Rt:Jt,tn=!1;Ee&&(Ie=Math.sqrt(Math.pow(Tt-Rt,2)+Math.pow(St-Jt,2))),hr<q?br>q&&(be=Ge(Re,Tt,St,Rt,Jt,q),Ee&&(Re.start=Ke+Ie*be)):hr>Q?br<Q&&(be=Ge(Re,Tt,St,Rt,Jt,Q),Ee&&(Re.start=Ke+Ie*be)):Xi(Re,Tt,St,Zt),br<q&&hr>=q&&(be=Ge(Re,Tt,St,Rt,Jt,q),tn=!0),br>Q&&hr<=Q&&(be=Ge(Re,Tt,St,Rt,Jt,Q),tn=!0),!Pe&&tn&&(Ee&&(Re.end=Ke+Ie*be),W.push(Re),Re=zo(ce)),Ee&&(Ke+=Ie)}var jt=ce.length-3;Tt=ce[jt],St=ce[jt+1],Zt=ce[jt+2],(hr=de===0?Tt:St)>=q&&hr<=Q&&Xi(Re,Tt,St,Zt),jt=Re.length-3,Pe&&jt>=3&&(Re[jt]!==Re[0]||Re[jt+1]!==Re[1])&&Xi(Re,Re[0],Re[1],Re[2]),Re.length&&W.push(Re)}function zo(ce){var W=[];return W.size=ce.size,W.start=ce.start,W.end=ce.end,W}function Oa(ce,W,q,Q,de,Pe){for(var Ee=0;Ee<ce.length;Ee++)uo(ce[Ee],W,q,Q,de,Pe,!1)}function Xi(ce,W,q,Q){ce.push(W),ce.push(q),ce.push(Q)}function ho(ce,W,q,Q,de,Pe){var Ee=(Pe-W)/(Q-W);return ce.push(Pe),ce.push(q+(de-q)*Ee),ce.push(1),Ee}function Vr(ce,W,q,Q,de,Pe){var Ee=(Pe-q)/(de-q);return ce.push(W+(Q-W)*Ee),ce.push(Pe),ce.push(1),Ee}function Xe(ce,W){for(var q=[],Q=0;Q<ce.length;Q++){var de,Pe=ce[Q],Ee=Pe.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")de=en(Pe.geometry,W);else if(Ee==="MultiLineString"||Ee==="Polygon"){de=[];for(var Ie=0;Ie<Pe.geometry.length;Ie++)de.push(en(Pe.geometry[Ie],W))}else if(Ee==="MultiPolygon")for(de=[],Ie=0;Ie<Pe.geometry.length;Ie++){for(var be=[],Re=0;Re<Pe.geometry[Ie].length;Re++)be.push(en(Pe.geometry[Ie][Re],W));de.push(be)}q.push(ar(Pe.id,Ee,de,Pe.tags))}return q}function en(ce,W){var q=[];q.size=ce.size,ce.start!==void 0&&(q.start=ce.start,q.end=ce.end);for(var Q=0;Q<ce.length;Q+=3)q.push(ce[Q]+W,ce[Q+1],ce[Q+2]);return q}function An(ce,W){if(ce.transformed)return ce;var q,Q,de,Pe=1<<ce.z,Ee=ce.x,Ie=ce.y;for(q=0;q<ce.features.length;q++){var be=ce.features[q],Re=be.geometry,Ge=be.type;if(be.geometry=[],Ge===1)for(Q=0;Q<Re.length;Q+=2)be.geometry.push(Is(Re[Q],Re[Q+1],W,Pe,Ee,Ie));else for(Q=0;Q<Re.length;Q++){var Ke=[];for(de=0;de<Re[Q].length;de+=2)Ke.push(Is(Re[Q][de],Re[Q][de+1],W,Pe,Ee,Ie));be.geometry.push(Ke)}}return ce.transformed=!0,ce}function Is(ce,W,q,Q,de,Pe){return[Math.round(q*(ce*Q-de)),Math.round(q*(W*Q-Pe))]}function Fo(ce,W,q,Q,de){for(var Pe=W===de.maxZoom?0:de.tolerance/((1<<W)*de.extent),Ee={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:q,y:Q,z:W,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ie=0;Ie<ce.length;Ie++){Ee.numFeatures++,Qe(Ee,ce[Ie],Pe,de);var be=ce[Ie].minX,Re=ce[Ie].minY,Ge=ce[Ie].maxX,Ke=ce[Ie].maxY;be<Ee.minX&&(Ee.minX=be),Re<Ee.minY&&(Ee.minY=Re),Ge>Ee.maxX&&(Ee.maxX=Ge),Ke>Ee.maxY&&(Ee.maxY=Ke)}return Ee}function Qe(ce,W,q,Q){var de=W.geometry,Pe=W.type,Ee=[];if(Pe==="Point"||Pe==="MultiPoint")for(var Ie=0;Ie<de.length;Ie+=3)Ee.push(de[Ie]),Ee.push(de[Ie+1]),ce.numPoints++,ce.numSimplified++;else if(Pe==="LineString")Kt(Ee,de,ce,q,!1,!1);else if(Pe==="MultiLineString"||Pe==="Polygon")for(Ie=0;Ie<de.length;Ie++)Kt(Ee,de[Ie],ce,q,Pe==="Polygon",Ie===0);else if(Pe==="MultiPolygon")for(var be=0;be<de.length;be++){var Re=de[be];for(Ie=0;Ie<Re.length;Ie++)Kt(Ee,Re[Ie],ce,q,!0,Ie===0)}if(Ee.length){var Ge=W.tags||null;if(Pe==="LineString"&&Q.lineMetrics){for(var Ke in Ge={},W.tags)Ge[Ke]=W.tags[Ke];Ge.mapbox_clip_start=de.start/de.size,Ge.mapbox_clip_end=de.end/de.size}var Ue={geometry:Ee,type:Pe==="Polygon"||Pe==="MultiPolygon"?3:Pe==="LineString"||Pe==="MultiLineString"?2:1,tags:Ge};W.id!==null&&(Ue.id=W.id),ce.features.push(Ue)}}function Kt(ce,W,q,Q,de,Pe){var Ee=Q*Q;if(Q>0&&W.size<(de?Ee:Q))q.numPoints+=W.length/3;else{for(var Ie=[],be=0;be<W.length;be+=3)(Q===0||W[be+2]>Ee)&&(q.numSimplified++,Ie.push(W[be]),Ie.push(W[be+1])),q.numPoints++;de&&function(Re,Ge){for(var Ke=0,Ue=0,Tt=Re.length,St=Tt-2;Ue<Tt;St=Ue,Ue+=2)Ke+=(Re[Ue]-Re[St])*(Re[Ue+1]+Re[St+1]);if(Ke>0===Ge)for(Ue=0,Tt=Re.length;Ue<Tt/2;Ue+=2){var Zt=Re[Ue],Rt=Re[Ue+1];Re[Ue]=Re[Tt-2-Ue],Re[Ue+1]=Re[Tt-1-Ue],Re[Tt-2-Ue]=Zt,Re[Tt-1-Ue]=Rt}}(Ie,Pe),ce.push(Ie)}}function Ft(ce,W){var q=(W=this.options=function(de,Pe){for(var Ee in Pe)de[Ee]=Pe[Ee];return de}(Object.create(this.options),W)).debug;if(q&&console.time("preprocess data"),W.maxZoom<0||W.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(W.promoteId&&W.generateId)throw new Error("promoteId and generateId cannot be used together.");var Q=function(de,Pe){var Ee=[];if(de.type==="FeatureCollection")for(var Ie=0;Ie<de.features.length;Ie++)Yt(Ee,de.features[Ie],Pe,Ie);else Yt(Ee,de.type==="Feature"?de:{geometry:de},Pe);return Ee}(ce,W);this.tiles={},this.tileCoords=[],q&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",W.indexMaxZoom,W.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Q=function(de,Pe){var Ee=Pe.buffer/Pe.extent,Ie=de,be=yr(de,1,-1-Ee,Ee,0,-1,2,Pe),Re=yr(de,1,1-Ee,2+Ee,0,-1,2,Pe);return(be||Re)&&(Ie=yr(de,1,-Ee,1+Ee,0,-1,2,Pe)||[],be&&(Ie=Xe(be,1).concat(Ie)),Re&&(Ie=Ie.concat(Xe(Re,-1)))),Ie}(Q,W),Q.length&&this.splitTile(Q,0,0,0),q&&(Q.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Kn(ce,W,q){return 32*((1<<ce)*q+W)+ce}function Hn(ce,W){return W?ce.properties[W]:ce.id}function Ot(ce,W){if(ce==null)return!0;if(ce.type==="Feature")return Hn(ce,W)!=null;if(ce.type==="FeatureCollection"){const q=new Set;for(const Q of ce.features){const de=Hn(Q,W);if(de==null||q.has(de))return!1;q.add(de)}return!0}return!1}function ja(ce,W){const q=new Map;if(ce!=null)if(ce.type==="Feature")q.set(Hn(ce,W),ce);else for(const Q of ce.features)q.set(Hn(Q,W),Q);return q}Ft.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ft.prototype.splitTile=function(ce,W,q,Q,de,Pe,Ee){for(var Ie=[ce,W,q,Q],be=this.options,Re=be.debug;Ie.length;){Q=Ie.pop(),q=Ie.pop(),W=Ie.pop(),ce=Ie.pop();var Ge=1<<W,Ke=Kn(W,q,Q),Ue=this.tiles[Ke];if(!Ue&&(Re>1&&console.time("creation"),Ue=this.tiles[Ke]=Fo(ce,W,q,Q,be),this.tileCoords.push({z:W,x:q,y:Q}),Re)){Re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",W,q,Q,Ue.numFeatures,Ue.numPoints,Ue.numSimplified),console.timeEnd("creation"));var Tt="z"+W;this.stats[Tt]=(this.stats[Tt]||0)+1,this.total++}if(Ue.source=ce,de){if(W===be.maxZoom||W===de)continue;var St=1<<de-W;if(q!==Math.floor(Pe/St)||Q!==Math.floor(Ee/St))continue}else if(W===be.indexMaxZoom||Ue.numPoints<=be.indexMaxPoints)continue;if(Ue.source=null,ce.length!==0){Re>1&&console.time("clipping");var Zt,Rt,Jt,hr,br,tn,jt=.5*be.buffer/be.extent,Ir=.5-jt,on=.5+jt,ni=1+jt;Zt=Rt=Jt=hr=null,br=yr(ce,Ge,q-jt,q+on,0,Ue.minX,Ue.maxX,be),tn=yr(ce,Ge,q+Ir,q+ni,0,Ue.minX,Ue.maxX,be),ce=null,br&&(Zt=yr(br,Ge,Q-jt,Q+on,1,Ue.minY,Ue.maxY,be),Rt=yr(br,Ge,Q+Ir,Q+ni,1,Ue.minY,Ue.maxY,be),br=null),tn&&(Jt=yr(tn,Ge,Q-jt,Q+on,1,Ue.minY,Ue.maxY,be),hr=yr(tn,Ge,Q+Ir,Q+ni,1,Ue.minY,Ue.maxY,be),tn=null),Re>1&&console.timeEnd("clipping"),Ie.push(Zt||[],W+1,2*q,2*Q),Ie.push(Rt||[],W+1,2*q,2*Q+1),Ie.push(Jt||[],W+1,2*q+1,2*Q),Ie.push(hr||[],W+1,2*q+1,2*Q+1)}}},Ft.prototype.getTile=function(ce,W,q){var Q=this.options,de=Q.extent,Pe=Q.debug;if(ce<0||ce>24)return null;var Ee=1<<ce,Ie=Kn(ce,W=(W%Ee+Ee)%Ee,q);if(this.tiles[Ie])return An(this.tiles[Ie],de);Pe>1&&console.log("drilling down to z%d-%d-%d",ce,W,q);for(var be,Re=ce,Ge=W,Ke=q;!be&&Re>0;)Re--,Ge=Math.floor(Ge/2),Ke=Math.floor(Ke/2),be=this.tiles[Kn(Re,Ge,Ke)];return be&&be.source?(Pe>1&&console.log("found parent tile z%d-%d-%d",Re,Ge,Ke),Pe>1&&console.time("drilling down"),this.splitTile(be.source,Re,Ge,Ke,ce,W,q),Pe>1&&console.timeEnd("drilling down"),this.tiles[Ie]?An(this.tiles[Ie],de):null):null};class Va extends T{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(W,q){return d._(this,void 0,void 0,function*(){const Q=W.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const de=this._geoJSONIndex.getTile(Q.z,Q.x,Q.y);if(!de)return null;const Pe=new class{constructor(Ie){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.W,this.length=Ie.length,this._features=Ie}feature(Ie){return new class{constructor(be){this._feature=be,this.extent=d.W,this.type=be.type,this.properties=be.tags,"id"in be&&!isNaN(be.id)&&(this.id=parseInt(be.id,10))}loadGeometry(){if(this._feature.type===1){const be=[];for(const Re of this._feature.geometry)be.push([new d.P(Re[0],Re[1])]);return be}{const be=[];for(const Re of this._feature.geometry){const Ge=[];for(const Ke of Re)Ge.push(new d.P(Ke[0],Ke[1]));be.push(Ge)}return be}}toGeoJSON(be,Re,Ge){return Y.call(this,be,Re,Ge)}}(this._features[Ie])}}(de.features);let Ee=ae(Pe);return Ee.byteOffset===0&&Ee.byteLength===Ee.buffer.byteLength||(Ee=new Uint8Array(Ee)),{vectorTile:Pe,rawData:Ee.buffer}})}loadData(W){return d._(this,void 0,void 0,function*(){var q;(q=this._pendingRequest)===null||q===void 0||q.abort();const Q=!!(W&&W.request&&W.request.collectResourceTiming)&&new d.bt(W.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(W,this._pendingRequest),this._geoJSONIndex=W.cluster?new ft(function({superclusterOptions:Pe,clusterProperties:Ee}){if(!Ee||!Pe)return Pe;const Ie={},be={},Re={accumulated:null,zoom:0},Ge={properties:null},Ke=Object.keys(Ee);for(const Ue of Ke){const[Tt,St]=Ee[Ue],Zt=d.bA(St),Rt=d.bA(typeof Tt=="string"?[Tt,["accumulated"],["get",Ue]]:Tt);Ie[Ue]=Zt.value,be[Ue]=Rt.value}return Pe.map=Ue=>{Ge.properties=Ue;const Tt={};for(const St of Ke)Tt[St]=Ie[St].evaluate(Re,Ge);return Tt},Pe.reduce=(Ue,Tt)=>{Ge.properties=Tt;for(const St of Ke)Re.accumulated=Ue[St],Ue[St]=be[St].evaluate(Re,Ge)},Pe}(W)).load((yield this._pendingData).features):new Ft(yield this._pendingData,W.geojsonVtOptions),this.loaded={};const de={};if(Q){const Pe=Q.finish();Pe&&(de.resourceTiming={},de.resourceTiming[W.source]=JSON.parse(JSON.stringify(Pe)))}return de}catch(de){if(delete this._pendingRequest,d.bz(de))return{abandoned:!0};throw de}})}getData(){return d._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(W){const q=this.loaded;return q&&q[W.uid]?super.reloadTile(W):this.loadTile(W)}loadAndProcessGeoJSON(W,q){return d._(this,void 0,void 0,function*(){let Q=yield this.loadGeoJSON(W,q);if(delete this._pendingRequest,typeof Q!="object")throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`);if(V(Q,!0),W.filter){const de=d.bA(W.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(de.result==="error")throw new Error(de.value.map(Ee=>`${Ee.key}: ${Ee.message}`).join(", "));Q={type:"FeatureCollection",features:Q.features.filter(Ee=>de.value.evaluate({zoom:0},Ee))}}return Q})}loadGeoJSON(W,q){return d._(this,void 0,void 0,function*(){const{promoteId:Q}=W;if(W.request){const de=yield d.h(W.request,q);return this._dataUpdateable=Ot(de.data,Q)?ja(de.data,Q):void 0,de.data}if(typeof W.data=="string")try{const de=JSON.parse(W.data);return this._dataUpdateable=Ot(de,Q)?ja(de,Q):void 0,de}catch{throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`)}if(!W.dataDiff)throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${W.source}`);return function(de,Pe,Ee){var Ie,be,Re,Ge;if(Pe.removeAll&&de.clear(),Pe.remove)for(const Ke of Pe.remove)de.delete(Ke);if(Pe.add)for(const Ke of Pe.add){const Ue=Hn(Ke,Ee);Ue!=null&&de.set(Ue,Ke)}if(Pe.update)for(const Ke of Pe.update){let Ue=de.get(Ke.id);if(Ue==null)continue;const Tt=!Ke.removeAllProperties&&(((Ie=Ke.removeProperties)===null||Ie===void 0?void 0:Ie.length)>0||((be=Ke.addOrUpdateProperties)===null||be===void 0?void 0:be.length)>0);if((Ke.newGeometry||Ke.removeAllProperties||Tt)&&(Ue=Object.assign({},Ue),de.set(Ke.id,Ue),Tt&&(Ue.properties=Object.assign({},Ue.properties))),Ke.newGeometry&&(Ue.geometry=Ke.newGeometry),Ke.removeAllProperties)Ue.properties={};else if(((Re=Ke.removeProperties)===null||Re===void 0?void 0:Re.length)>0)for(const St of Ke.removeProperties)Object.prototype.hasOwnProperty.call(Ue.properties,St)&&delete Ue.properties[St];if(((Ge=Ke.addOrUpdateProperties)===null||Ge===void 0?void 0:Ge.length)>0)for(const{key:St,value:Zt}of Ke.addOrUpdateProperties)Ue.properties[St]=Zt}}(this._dataUpdateable,W.dataDiff,Q),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(W){return d._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(W){return this._geoJSONIndex.getClusterExpansionZoom(W.clusterId)}getClusterChildren(W){return this._geoJSONIndex.getChildren(W.clusterId)}getClusterLeaves(W){return this._geoJSONIndex.getLeaves(W.clusterId,W.limit,W.offset)}}class pn{constructor(W){this.self=W,this.actor=new d.C(W),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(q,Q)=>{if(this.externalWorkerSourceTypes[q])throw new Error(`Worker source with name "${q}" already registered.`);this.externalWorkerSourceTypes[q]=Q},this.self.addProtocol=d.bg,this.self.removeProtocol=d.bh,this.self.registerRTLTextPlugin=q=>{if(d.bB.isParsed())throw new Error("RTL text plugin already registered.");d.bB.setMethods(q)},this.actor.registerMessageHandler("LDT",(q,Q)=>this._getDEMWorkerSource(q,Q.source).loadTile(Q)),this.actor.registerMessageHandler("RDT",(q,Q)=>d._(this,void 0,void 0,function*(){this._getDEMWorkerSource(q,Q.source).removeTile(Q)})),this.actor.registerMessageHandler("GCEZ",(q,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(q,Q.type,Q.source).getClusterExpansionZoom(Q)})),this.actor.registerMessageHandler("GCC",(q,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(q,Q.type,Q.source).getClusterChildren(Q)})),this.actor.registerMessageHandler("GCL",(q,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(q,Q.type,Q.source).getClusterLeaves(Q)})),this.actor.registerMessageHandler("LD",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).loadData(Q)),this.actor.registerMessageHandler("GD",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).getData()),this.actor.registerMessageHandler("LT",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).loadTile(Q)),this.actor.registerMessageHandler("RT",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).reloadTile(Q)),this.actor.registerMessageHandler("AT",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).abortTile(Q)),this.actor.registerMessageHandler("RMT",(q,Q)=>this._getWorkerSource(q,Q.type,Q.source).removeTile(Q)),this.actor.registerMessageHandler("RS",(q,Q)=>d._(this,void 0,void 0,function*(){if(!this.workerSources[q]||!this.workerSources[q][Q.type]||!this.workerSources[q][Q.type][Q.source])return;const de=this.workerSources[q][Q.type][Q.source];delete this.workerSources[q][Q.type][Q.source],de.removeSource!==void 0&&de.removeSource(Q)})),this.actor.registerMessageHandler("RM",q=>d._(this,void 0,void 0,function*(){delete this.layerIndexes[q],delete this.availableImages[q],delete this.workerSources[q],delete this.demWorkerSources[q]})),this.actor.registerMessageHandler("SR",(q,Q)=>d._(this,void 0,void 0,function*(){this.referrer=Q})),this.actor.registerMessageHandler("SRPS",(q,Q)=>this._syncRTLPluginState(q,Q)),this.actor.registerMessageHandler("IS",(q,Q)=>d._(this,void 0,void 0,function*(){this.self.importScripts(Q)})),this.actor.registerMessageHandler("SI",(q,Q)=>this._setImages(q,Q)),this.actor.registerMessageHandler("UL",(q,Q)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(q).update(Q.layers,Q.removedIds)})),this.actor.registerMessageHandler("SL",(q,Q)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(q).replace(Q)}))}_setImages(W,q){return d._(this,void 0,void 0,function*(){this.availableImages[W]=q;for(const Q in this.workerSources[W]){const de=this.workerSources[W][Q];for(const Pe in de)de[Pe].availableImages=q}})}_syncRTLPluginState(W,q){return d._(this,void 0,void 0,function*(){if(d.bB.isParsed())return d.bB.getState();if(q.pluginStatus!=="loading")return d.bB.setState(q),q;const Q=q.pluginURL;if(this.self.importScripts(Q),d.bB.isParsed()){const de={pluginStatus:"loaded",pluginURL:Q};return d.bB.setState(de),de}throw d.bB.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Q}`)})}_getAvailableImages(W){let q=this.availableImages[W];return q||(q=[]),q}_getLayerIndex(W){let q=this.layerIndexes[W];return q||(q=this.layerIndexes[W]=new c),q}_getWorkerSource(W,q,Q){if(this.workerSources[W]||(this.workerSources[W]={}),this.workerSources[W][q]||(this.workerSources[W][q]={}),!this.workerSources[W][q][Q]){const de={sendAsync:(Pe,Ee)=>(Pe.targetMapId=W,this.actor.sendAsync(Pe,Ee))};switch(q){case"vector":this.workerSources[W][q][Q]=new T(de,this._getLayerIndex(W),this._getAvailableImages(W));break;case"geojson":this.workerSources[W][q][Q]=new Va(de,this._getLayerIndex(W),this._getAvailableImages(W));break;default:this.workerSources[W][q][Q]=new this.externalWorkerSourceTypes[q](de,this._getLayerIndex(W),this._getAvailableImages(W))}}return this.workerSources[W][q][Q]}_getDEMWorkerSource(W,q){return this.demWorkerSources[W]||(this.demWorkerSources[W]={}),this.demWorkerSources[W][q]||(this.demWorkerSources[W][q]=new C),this.demWorkerSources[W][q]}}return d.i(self)&&(self.worker=new pn(self)),pn}),s("index",["exports","./shared"],function(d,c){var v="4.4.1";let w,S;const T={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:x=>new Promise((a,u)=>{const p=requestAnimationFrame(a);x.signal.addEventListener("abort",()=>{cancelAnimationFrame(p),u(c.c())})}),getImageData(x,a=0){return this.getImageCanvasContext(x).getImageData(-a,-a,x.width+2*a,x.height+2*a)},getImageCanvasContext(x){const a=window.document.createElement("canvas"),u=a.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return a.width=x.width,a.height=x.height,u.drawImage(x,0,0,x.width,x.height),u},resolveURL:x=>(w||(w=document.createElement("a")),w.href=x,w.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(S==null&&(S=matchMedia("(prefers-reduced-motion: reduce)")),S.matches)}};class C{static testProp(a){if(!C.docStyle)return a[0];for(let u=0;u<a.length;u++)if(a[u]in C.docStyle)return a[u];return a[0]}static create(a,u,p){const g=window.document.createElement(a);return u!==void 0&&(g.className=u),p&&p.appendChild(g),g}static createNS(a,u){return window.document.createElementNS(a,u)}static disableDrag(){C.docStyle&&C.selectProp&&(C.userSelect=C.docStyle[C.selectProp],C.docStyle[C.selectProp]="none")}static enableDrag(){C.docStyle&&C.selectProp&&(C.docStyle[C.selectProp]=C.userSelect)}static setTransform(a,u){a.style[C.transformProp]=u}static addEventListener(a,u,p,g={}){a.addEventListener(u,p,"passive"in g?g:g.capture)}static removeEventListener(a,u,p,g={}){a.removeEventListener(u,p,"passive"in g?g:g.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",C.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",C.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",C.suppressClickInternal,!0)},0)}static getScale(a){const u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}static getPoint(a,u,p){const g=u.boundingClientRect;return new c.P((p.clientX-g.left)/u.x-a.clientLeft,(p.clientY-g.top)/u.y-a.clientTop)}static mousePos(a,u){const p=C.getScale(a);return C.getPoint(a,p,u)}static touchPos(a,u){const p=[],g=C.getScale(a);for(let _=0;_<u.length;_++)p.push(C.getPoint(a,g,u[_]));return p}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}C.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,C.selectProp=C.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),C.transformProp=C.testProp(["transform","WebkitTransform"]);const D={supported:!1,testSupport:function(x){!Y&&V&&(U?F(x):B=x)}};let B,V,Y=!1,U=!1;function F(x){const a=x.createTexture();x.bindTexture(x.TEXTURE_2D,a);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,V),x.isContextLost())return;D.supported=!0}catch{}x.deleteTexture(a),Y=!0}var O;typeof document<"u"&&(V=document.createElement("img"),V.onload=()=>{B&&F(B),B=null,U=!0},V.onerror=()=>{Y=!0,B=null},V.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let a,u,p,g;x.resetRequestQueue=()=>{a=[],u=0,p=0,g={}},x.addThrottleControl=I=>{const L=p++;return g[L]=I,L},x.removeThrottleControl=I=>{delete g[I],E()},x.getImage=(I,L,K=!0)=>new Promise((j,X)=>{D.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),c.e(I,{type:"image"}),a.push({abortController:L,requestParameters:I,supportImageRefresh:K,state:"queued",onError:te=>{X(te)},onSuccess:te=>{j(te)}}),E()});const _=I=>c._(this,void 0,void 0,function*(){I.state="running";const{requestParameters:L,supportImageRefresh:K,onError:j,onSuccess:X,abortController:te}=I,ne=K===!1&&!c.i(self)&&!c.g(L.url)&&(!L.headers||Object.keys(L.headers).reduce((_e,Ce)=>_e&&Ce==="accept",!0));u++;const pe=ne?A(L,te):c.m(L,te);try{const _e=yield pe;delete I.abortController,I.state="completed",_e.data instanceof HTMLImageElement||c.b(_e.data)?X(_e):_e.data&&X({data:yield(oe=_e.data,typeof createImageBitmap=="function"?c.d(oe):c.f(oe)),cacheControl:_e.cacheControl,expires:_e.expires})}catch(_e){delete I.abortController,j(_e)}finally{u--,E()}var oe}),E=()=>{const I=(()=>{for(const L of Object.keys(g))if(g[L]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let L=u;L<I&&a.length>0;L++){const K=a.shift();K.abortController.signal.aborted?L--:_(K)}},A=(I,L)=>new Promise((K,j)=>{const X=new Image,te=I.url,ne=I.credentials;ne&&ne==="include"?X.crossOrigin="use-credentials":(ne&&ne==="same-origin"||!c.s(te))&&(X.crossOrigin="anonymous"),L.signal.addEventListener("abort",()=>{X.src="",j(c.c())}),X.fetchPriority="high",X.onload=()=>{X.onerror=X.onload=null,K({data:X})},X.onerror=()=>{X.onerror=X.onload=null,L.signal.aborted||j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},X.src=te})}(O||(O={})),O.resetRequestQueue();class ee{constructor(a){this._transformRequestFn=a}transformRequest(a,u){return this._transformRequestFn&&this._transformRequestFn(a,u)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function ie(x){var a=new c.A(3);return a[0]=x[0],a[1]=x[1],a[2]=x[2],a}var fe,we=function(x,a,u){return x[0]=a[0]-u[0],x[1]=a[1]-u[1],x[2]=a[2]-u[2],x};fe=new c.A(3),c.A!=Float32Array&&(fe[0]=0,fe[1]=0,fe[2]=0);var Z=function(x){var a=x[0],u=x[1];return a*a+u*u};function me(x){const a=[];if(typeof x=="string")a.push({id:"default",url:x});else if(x&&x.length>0){const u=[];for(const{id:p,url:g}of x){const _=`${p}${g}`;u.indexOf(_)===-1&&(u.push(_),a.push({id:p,url:g}))}}return a}function xe(x,a,u){const p=x.split("?");return p[0]+=`${a}${u}`,p.join("?")}(function(){var x=new c.A(2);c.A!=Float32Array&&(x[0]=0,x[1]=0)})();class se{constructor(a,u,p,g){this.context=a,this.format=p,this.texture=a.gl.createTexture(),this.update(u,g)}update(a,u,p){const{width:g,height:_}=a,E=!(this.size&&this.size[0]===g&&this.size[1]===_||p),{context:A}=this,{gl:I}=A;if(this.useMipmap=!!(u&&u.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),A.pixelStoreUnpackFlipY.set(!1),A.pixelStoreUnpack.set(1),A.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!u||u.premultiply!==!1)),E)this.size=[g,_],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||c.b(a)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,a):I.texImage2D(I.TEXTURE_2D,0,this.format,g,_,0,this.format,I.UNSIGNED_BYTE,a.data);else{const{x:L,y:K}=p||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||c.b(a)?I.texSubImage2D(I.TEXTURE_2D,0,L,K,I.RGBA,I.UNSIGNED_BYTE,a):I.texSubImage2D(I.TEXTURE_2D,0,L,K,g,_,I.RGBA,I.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D)}bind(a,u,p){const{context:g}=this,{gl:_}=g;_.bindTexture(_.TEXTURE_2D,this.texture),p!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=_.LINEAR),a!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,a),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,p||a),this.filter=a),u!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,u),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function Te(x){const{userImage:a}=x;return!!(a&&a.render&&a.render())&&(x.data.replace(new Uint8Array(a.data.buffer)),!0)}class ge extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:u,promiseResolve:p}of this.requestors)p(this._getImagesForIds(u));this.requestors=[]}}getImage(a){const u=this.images[a];if(u&&!u.data&&u.spriteData){const p=u.spriteData;u.data=new c.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),u.spriteData=null}return u}addImage(a,u){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,u)&&(this.images[a]=u)}_validate(a,u){let p=!0;const g=u.data||u.spriteData;return this._validateStretch(u.stretchX,g&&g.width)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "stretchX" value`))),p=!1),this._validateStretch(u.stretchY,g&&g.height)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "stretchY" value`))),p=!1),this._validateContent(u.content,u)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "content" value`))),p=!1),p}_validateStretch(a,u){if(!a)return!0;let p=0;for(const g of a){if(g[0]<p||g[1]<g[0]||u<g[1])return!1;p=g[1]}return!0}_validateContent(a,u){if(!a)return!0;if(a.length!==4)return!1;const p=u.spriteData,g=p&&p.width||u.data.width,_=p&&p.height||u.data.height;return!(a[0]<0||g<a[0]||a[1]<0||_<a[1]||a[2]<0||g<a[2]||a[3]<0||_<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,u,p=!0){const g=this.getImage(a);if(p&&(g.data.width!==u.data.width||g.data.height!==u.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=g.version+1,this.images[a]=u,this.updatedImages[a]=!0}removeImage(a){const u=this.images[a];delete this.images[a],delete this.patterns[a],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((u,p)=>{let g=!0;if(!this.isLoaded())for(const _ of a)this.images[_]||(g=!1);this.isLoaded()||g?u(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:u})})}_getImagesForIds(a){const u={};for(const p of a){let g=this.getImage(p);g||(this.fire(new c.k("styleimagemissing",{id:p})),g=this.getImage(p)),g?u[p]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,stretchX:g.stretchX,stretchY:g.stretchY,content:g.content,textFitWidth:g.textFitWidth,textFitHeight:g.textFitHeight,hasRenderCallback:!!(g.userImage&&g.userImage.render)}:c.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return u}getPixelSize(){const{width:a,height:u}=this.atlasImage;return{width:a,height:u}}getPattern(a){const u=this.patterns[a],p=this.getImage(a);if(!p)return null;if(u&&u.position.version===p.version)return u.position;if(u)u.position.version=p.version;else{const g={w:p.data.width+2,h:p.data.height+2,x:0,y:0},_=new c.I(g,p);this.patterns[a]={bin:g,position:_}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const u=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new se(a,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const _ in this.patterns)a.push(this.patterns[_].bin);const{w:u,h:p}=c.p(a),g=this.atlasImage;g.resize({width:u||1,height:p||1});for(const _ in this.patterns){const{bin:E}=this.patterns[_],A=E.x+1,I=E.y+1,L=this.getImage(_).data,K=L.width,j=L.height;c.R.copy(L,g,{x:0,y:0},{x:A,y:I},{width:K,height:j}),c.R.copy(L,g,{x:0,y:j-1},{x:A,y:I-1},{width:K,height:1}),c.R.copy(L,g,{x:0,y:0},{x:A,y:I+j},{width:K,height:1}),c.R.copy(L,g,{x:K-1,y:0},{x:A-1,y:I},{width:1,height:j}),c.R.copy(L,g,{x:0,y:0},{x:A+K,y:I},{width:1,height:j})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const u of a){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const p=this.getImage(u);p||c.w(`Image with ID: "${u}" was not found`),Te(p)&&this.updateImage(u,p)}}}const ve=1e20;function Be(x,a,u,p,g,_,E,A,I){for(let L=a;L<a+p;L++)Le(x,u*_+L,_,g,E,A,I);for(let L=u;L<u+g;L++)Le(x,L*_+a,1,p,E,A,I)}function Le(x,a,u,p,g,_,E){_[0]=0,E[0]=-ve,E[1]=ve,g[0]=x[a];for(let A=1,I=0,L=0;A<p;A++){g[A]=x[a+A*u];const K=A*A;do{const j=_[I];L=(g[A]-g[j]+K-j*j)/(A-j)/2}while(L<=E[I]&&--I>-1);I++,_[I]=A,E[I]=L,E[I+1]=ve}for(let A=0,I=0;A<p;A++){for(;E[I+1]<A;)I++;const L=_[I],K=A-L;x[a+A*u]=g[L]+K*K}}class ae{constructor(a,u){this.requestManager=a,this.localIdeographFontFamily=u,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return c._(this,void 0,void 0,function*(){const u=[];for(const _ in a)for(const E of a[_])u.push(this._getAndCacheGlyphsPromise(_,E));const p=yield Promise.all(u),g={};for(const{stack:_,id:E,glyph:A}of p)g[_]||(g[_]={}),g[_][E]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics};return g})}_getAndCacheGlyphsPromise(a,u){return c._(this,void 0,void 0,function*(){let p=this.entries[a];p||(p=this.entries[a]={glyphs:{},requests:{},ranges:{}});let g=p.glyphs[u];if(g!==void 0)return{stack:a,id:u,glyph:g};if(g=this._tinySDF(p,a,u),g)return p.glyphs[u]=g,{stack:a,id:u,glyph:g};const _=Math.floor(u/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[_])return{stack:a,id:u,glyph:g};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[_]){const A=ae.loadGlyphRange(a,_,this.url,this.requestManager);p.requests[_]=A}const E=yield p.requests[_];for(const A in E)this._doesCharSupportLocalGlyph(+A)||(p.glyphs[+A]=E[+A]);return p.ranges[_]=!0,{stack:a,id:u,glyph:E[u]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(c.u["CJK Unified Ideographs"](a)||c.u["Hangul Syllables"](a)||c.u.Hiragana(a)||c.u.Katakana(a))}_tinySDF(a,u,p){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(p))return;let _=a.tinySDF;if(!_){let A="400";/bold/i.test(u)?A="900":/medium/i.test(u)?A="500":/light/i.test(u)&&(A="200"),_=a.tinySDF=new ae.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:A})}const E=_.draw(String.fromCharCode(p));return{id:p,bitmap:new c.o({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}ae.loadGlyphRange=function(x,a,u,p){return c._(this,void 0,void 0,function*(){const g=256*a,_=g+255,E=p.transformRequest(u.replace("{fontstack}",x).replace("{range}",`${g}-${_}`),"Glyphs"),A=yield c.l(E,new AbortController);if(!A||!A.data)throw new Error(`Could not load glyph range. range: ${a}, ${g}-${_}`);const I={};for(const L of c.n(A.data))I[L.id]=L;return I})},ae.TinySDF=class{constructor({fontSize:x=24,buffer:a=3,radius:u=8,cutoff:p=.25,fontFamily:g="sans-serif",fontWeight:_="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=p,this.radius=u;const A=this.size=x+4*a,I=this._createCanvas(A),L=this.ctx=I.getContext("2d",{willReadFrequently:!0});L.font=`${E} ${_} ${x}px ${g}`,L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(A*A),this.gridInner=new Float64Array(A*A),this.f=new Float64Array(A),this.z=new Float64Array(A+1),this.v=new Uint16Array(A)}_createCanvas(x){const a=document.createElement("canvas");return a.width=a.height=x,a}draw(x){const{width:a,actualBoundingBoxAscent:u,actualBoundingBoxDescent:p,actualBoundingBoxLeft:g,actualBoundingBoxRight:_}=this.ctx.measureText(x),E=Math.ceil(u),A=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-g))),I=Math.min(this.size-this.buffer,E+Math.ceil(p)),L=A+2*this.buffer,K=I+2*this.buffer,j=Math.max(L*K,0),X=new Uint8ClampedArray(j),te={data:X,width:L,height:K,glyphWidth:A,glyphHeight:I,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(A===0||I===0)return te;const{ctx:ne,buffer:pe,gridInner:oe,gridOuter:_e}=this;ne.clearRect(pe,pe,A,I),ne.fillText(x,pe,pe+E);const Ce=ne.getImageData(pe,pe,A,I);_e.fill(ve,0,j),oe.fill(0,0,j);for(let ue=0;ue<I;ue++)for(let ke=0;ke<A;ke++){const $e=Ce.data[4*(ue*A+ke)+3]/255;if($e===0)continue;const Fe=(ue+pe)*L+ke+pe;if($e===1)_e[Fe]=0,oe[Fe]=ve;else{const We=.5-$e;_e[Fe]=We>0?We*We:0,oe[Fe]=We<0?We*We:0}}Be(_e,0,0,L,K,L,this.f,this.v,this.z),Be(oe,pe,pe,A,I,L,this.f,this.v,this.z);for(let ue=0;ue<j;ue++){const ke=Math.sqrt(_e[ue])-Math.sqrt(oe[ue]);X[ue]=Math.round(255-255*(ke/this.radius+this.cutoff))}return te}};class De{constructor(){this.specification=c.v.light.position}possiblyEvaluate(a,u){return c.y(a.expression.evaluate(u))}interpolate(a,u,p){return{x:c.z.number(a.x,u.x,p),y:c.z.number(a.y,u.y,p),z:c.z.number(a.z,u.z,p)}}}let Ve;class Oe extends c.E{constructor(a){super(),Ve=Ve||new c.q({anchor:new c.D(c.v.light.anchor),position:new De,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.T(Ve),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,u={}){if(!this._validate(c.r,a,u))for(const p in a){const g=a[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),g):this._transitionable.setValue(p,g)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,p){return(!p||p.validate!==!1)&&c.t(this,a.call(c.x,{value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}class he{constructor(a,u){this.width=a,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,u){const p=a.join(",")+String(u);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(a,u)),this.dashEntry[p]}getDashRanges(a,u,p){const g=[];let _=a.length%2==1?-a[a.length-1]*p:0,E=a[0]*p,A=!0;g.push({left:_,right:E,isDash:A,zeroLength:a[0]===0});let I=a[0];for(let L=1;L<a.length;L++){A=!A;const K=a[L];_=I*p,I+=K,E=I*p,g.push({left:_,right:E,isDash:A,zeroLength:K===0})}return g}addRoundDash(a,u,p){const g=u/2;for(let _=-p;_<=p;_++){const E=this.width*(this.nextRow+p+_);let A=0,I=a[A];for(let L=0;L<this.width;L++){L/I.right>1&&(I=a[++A]);const K=Math.abs(L-I.left),j=Math.abs(L-I.right),X=Math.min(K,j);let te;const ne=_/p*(g+1);if(I.isDash){const pe=g-Math.abs(ne);te=Math.sqrt(X*X+pe*pe)}else te=g-Math.sqrt(X*X+ne*ne);this.data[E+L]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(a){for(let A=a.length-1;A>=0;--A){const I=a[A],L=a[A+1];I.zeroLength?a.splice(A,1):L&&L.isDash===I.isDash&&(L.left=I.left,a.splice(A,1))}const u=a[0],p=a[a.length-1];u.isDash===p.isDash&&(u.left=p.left-this.width,p.right=u.right+this.width);const g=this.width*this.nextRow;let _=0,E=a[_];for(let A=0;A<this.width;A++){A/E.right>1&&(E=a[++_]);const I=Math.abs(A-E.left),L=Math.abs(A-E.right),K=Math.min(I,L);this.data[g+A]=Math.max(0,Math.min(255,(E.isDash?K:-K)+128))}}addDash(a,u){const p=u?7:0,g=2*p+1;if(this.nextRow+g>this.height)return c.w("LineAtlas out of space"),null;let _=0;for(let A=0;A<a.length;A++)_+=a[A];if(_!==0){const A=this.width/_,I=this.getDashRanges(a,this.width,A);u?this.addRoundDash(I,A,p):this.addRegularDash(I)}const E={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:_};return this.nextRow+=g,this.dirty=!0,E}bind(a){const u=a.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}const ze="maplibre_preloaded_worker_pool";class Je{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Je.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ze]}numActive(){return Object.keys(this.active).length}}const ft=Math.floor(T.hardwareConcurrency/2);let mt,gt;function Et(){return mt||(mt=new Je),mt}Je.workerCount=c.B(globalThis)?Math.max(Math.min(ft,3),1):1;class Pt{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=u;const p=this.workerPool.acquire(u);for(let g=0;g<p.length;g++){const _=new c.C(p[g],u);_.name=`Worker ${g}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,u){const p=[];for(const g of this.actors)p.push(g.sendAsync({type:a,data:u}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(u=>{u.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,u){for(const p of this.actors)p.registerMessageHandler(a,u)}}function At(){return gt||(gt=new Pt(Et(),c.G),gt.registerMessageHandler("GR",(x,a,u)=>c.m(a,u))),gt}function zt(x,a){const u=c.F();return c.H(u,u,[1,1,0]),c.J(u,u,[.5*x.width,.5*x.height,1]),c.K(u,u,x.calculatePosMatrix(a.toUnwrapped()))}function Nt(x,a,u,p,g,_){const E=function(j,X,te){if(j)for(const ne of j){const pe=X[ne];if(pe&&pe.source===te&&pe.type==="fill-extrusion")return!0}else for(const ne in X){const pe=X[ne];if(pe.source===te&&pe.type==="fill-extrusion")return!0}return!1}(g&&g.layers,a,x.id),A=_.maxPitchScaleFactor(),I=x.tilesIn(p,A,E);I.sort(ar);const L=[];for(const j of I)L.push({wrappedTileID:j.tileID.wrapped().key,queryResults:j.tile.queryRenderedFeatures(a,u,x._state,j.queryGeometry,j.cameraQueryGeometry,j.scale,g,_,A,zt(x.transform,j.tileID))});const K=function(j){const X={},te={};for(const ne of j){const pe=ne.queryResults,oe=ne.wrappedTileID,_e=te[oe]=te[oe]||{};for(const Ce in pe){const ue=pe[Ce],ke=_e[Ce]=_e[Ce]||{},$e=X[Ce]=X[Ce]||[];for(const Fe of ue)ke[Fe.featureIndex]||(ke[Fe.featureIndex]=!0,$e.push(Fe))}}return X}(L);for(const j in K)K[j].forEach(X=>{const te=X.feature,ne=x.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ne});return K}function ar(x,a){const u=x.tileID,p=a.tileID;return u.overscaledZ-p.overscaledZ||u.canonical.y-p.canonical.y||u.wrap-p.wrap||u.canonical.x-p.canonical.x}function qt(x,a,u){return c._(this,void 0,void 0,function*(){let p=x;if(x.url?p=(yield c.h(a.transformRequest(x.url,"Source"),u)).data:yield T.frameAsync(u),!p)return null;const g=c.L(c.e(p,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(g.vectorLayerIds=p.vector_layers.map(_=>_.id)),g})}class Yt{constructor(a,u){a&&(u?this.setSouthWest(a).setNorthEast(u):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof c.M?new c.M(a.lng,a.lat):c.M.convert(a),this}setSouthWest(a){return this._sw=a instanceof c.M?new c.M(a.lng,a.lat):c.M.convert(a),this}extend(a){const u=this._sw,p=this._ne;let g,_;if(a instanceof c.M)g=a,_=a;else{if(!(a instanceof Yt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(Yt.convert(a)):this.extend(c.M.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(c.M.convert(a)):this;if(g=a._sw,_=a._ne,!g||!_)return this}return u||p?(u.lng=Math.min(g.lng,u.lng),u.lat=Math.min(g.lat,u.lat),p.lng=Math.max(_.lng,p.lng),p.lat=Math.max(_.lat,p.lat)):(this._sw=new c.M(g.lng,g.lat),this._ne=new c.M(_.lng,_.lat)),this}getCenter(){return new c.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.M(this.getWest(),this.getNorth())}getSouthEast(){return new c.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:u,lat:p}=c.M.convert(a);let g=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&g}static convert(a){return a instanceof Yt?a:a&&new Yt(a)}static fromLngLat(a,u=0){const p=360*u/40075017,g=p/Math.cos(Math.PI/180*a.lat);return new Yt(new c.M(a.lng-g,a.lat-p),new c.M(a.lng+g,a.lat+p))}}class Un{constructor(a,u,p){this.bounds=Yt.convert(this.validateBounds(a)),this.minzoom=u||0,this.maxzoom=p||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const u=Math.pow(2,a.z),p=Math.floor(c.N(this.bounds.getWest())*u),g=Math.floor(c.O(this.bounds.getNorth())*u),_=Math.ceil(c.N(this.bounds.getEast())*u),E=Math.ceil(c.O(this.bounds.getSouth())*u);return a.x>=p&&a.x<_&&a.y>=g&&a.y<E}}class je extends c.E{constructor(a,u,p,g){if(super(),this.id=a,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.L(u,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const a=yield qt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(c.e(this,a),a.bounds&&(this.tileBounds=new Un(a.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new c.j(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(u,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let g="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((_,E)=>{a.reloadPromise={resolve:_,reject:E}})}else a.actor=this.dispatcher.getActor(),g="LT";a.abortController=new AbortController;try{const _=yield a.actor.sendAsync({type:g,data:p},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,_)}catch(_){if(delete a.abortController,a.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,u){if(u&&u.resourceTiming&&(a.resourceTiming=u.resourceTiming),u&&this.map._refreshExpiredTiles&&a.setExpiryData(u),a.loadVectorData(u,this.map.painter),a.reloadPromise){const p=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(p.resolve).catch(p.reject)}}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ri extends c.E{constructor(a,u,p,g){super(),this.id=a,this.dispatcher=p,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},u),c.e(this,c.L(u,["url","scheme","tileSize"]))}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const a=yield qt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(c.e(this,a),a.bounds&&(this.tileBounds=new Un(a.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new c.j(a))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return c.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{const p=yield O.getImage(this.map._requestManager.transformRequest(u,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&a.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const g=this.map.painter.context,_=g.gl,E=p.data;a.texture=this.map.painter.getTileTexture(E.width),a.texture?a.texture.update(E,{useMipmap:!0}):(a.texture=new se(g,E,_.RGBA,{useMipmap:!0}),a.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),g.extTextureFilterAnisotropic&&_.texParameterf(_.TEXTURE_2D,g.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,g.extTextureFilterAnisotropicMax)),a.state="loaded"}}catch(p){if(delete a.abortController,a.aborted)a.state="unloaded";else if(p)throw a.state="errored",p}})}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class kr extends ri{constructor(a,u,p,g){super(a,u,p,g),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(u,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{const g=yield O.getImage(p,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(g&&g.data){const _=g.data;this.map._refreshExpiredTiles&&g.cacheControl&&g.expires&&a.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});const E=c.b(_)&&c.S()?_:yield this.readImageNow(_),A={type:this.type,uid:a.uid,source:this.id,rawImageData:E,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();const I=yield a.actor.sendAsync({type:"LDT",data:A});a.dem=I,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(g){if(delete a.abortController,a.aborted)a.state="unloaded";else if(g)throw a.state="errored",g}})}readImageNow(a){return c._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&c.U()){const u=a.width+2,p=a.height+2;try{return new c.R({width:u,height:p},yield c.V(a,-1,-1,u,p))}catch{}}return T.getImageData(a,1)})}_getNeighboringTiles(a){const u=a.canonical,p=Math.pow(2,u.z),g=(u.x-1+p)%p,_=u.x===0?a.wrap-1:a.wrap,E=(u.x+1+p)%p,A=u.x+1===p?a.wrap+1:a.wrap,I={};return I[new c.Q(a.overscaledZ,_,u.z,g,u.y).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y).key]={backfilled:!1},u.y>0&&(I[new c.Q(a.overscaledZ,_,u.z,g,u.y-1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,a.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y-1).key]={backfilled:!1}),u.y+1<p&&(I[new c.Q(a.overscaledZ,_,u.z,g,u.y+1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,a.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y+1).key]={backfilled:!1}),I}unloadTile(a){return c._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Gt extends c.E{constructor(a,u,p,g){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(g),this._data=u.data,this._options=c.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId;const _=c.W/this.tileSize;this.workerOptions=c.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:(u.buffer!==void 0?u.buffer:128)*_,tolerance:(u.tolerance!==void 0?u.tolerance:.375)*_,extent:c.W,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:u.clusterMaxZoom!==void 0?u.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,u.clusterMinPoints||2),extent:c.W,radius:(u.clusterRadius||50)*_,log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return c._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return c._(this,void 0,void 0,function*(){const a=c.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,u,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:u,offset:p}})}_updateWorkerData(a){return c._(this,void 0,void 0,function*(){const u=c.e({type:this.type},this.workerOptions);a?u.dataDiff=a:typeof this._data=="string"?(u.request=this.map._requestManager.transformRequest(T.resolveURL(this._data),"Source"),u.request.collectResourceTiming=this._collectResourceTiming):u.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:u});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new c.k("dataabort",{dataType:"source"}));let g=null;p.resourceTiming&&p.resourceTiming[this.id]&&(g=p.resourceTiming[this.id].slice(0));const _={dataType:"source"};this._collectResourceTiming&&g&&g.length>0&&c.e(_,{resourceTiming:g}),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"metadata"}))),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new c.k("dataabort",{dataType:"source"}));this.fire(new c.j(p))}})}loaded(){return this._pendingLoads===0}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.actor?"RT":"LT";a.actor=this.actor;const p={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.abortController=new AbortController;const g=yield this.actor.sendAsync({type:u,data:p},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(g,this.map.painter,u==="RT")})}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var yr=c.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Yi extends c.E{constructor(a,u,p,g){super(),this.id=a,this.dispatcher=p,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=u}load(a){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const u=yield O.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,u&&u.data&&(this.image=u.data,a&&(this.coordinates=a),this._finishLoading())}catch(u){this._request=null,this._loaded=!0,this.fire(new c.j(u))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;const u=a.map(c.Y.fromLngLat);this.tileID=function(g){let _=1/0,E=1/0,A=-1/0,I=-1/0;for(const X of g)_=Math.min(_,X.x),E=Math.min(E,X.y),A=Math.max(A,X.x),I=Math.max(I,X.y);const L=Math.max(A-_,I-E),K=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),j=Math.pow(2,K);return new c.a0(K,Math.floor((_+A)/2*j),Math.floor((E+I)/2*j))}(u),this.minzoom=this.maxzoom=this.tileID.z;const p=u.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new c.Z,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,c.W,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,c.W),this._boundsArray.emplaceBack(p[2].x,p[2].y,c.W,c.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,u=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new se(a,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let p=!1;for(const g in this.tiles){const _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return c._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class uo extends Yi{constructor(a,u,p,g){super(a,u,p,g),this.roundZoom=!0,this.type="video",this.options=u}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1;const a=this.options;this.urls=[];for(const u of a.urls)this.urls.push(this.map._requestManager.transformRequest(u,"Source").url);try{const u=yield c.a2(this.urls);if(this._loaded=!0,!u)return;this.video=u,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(u){this.fire(new c.j(u))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const u=this.video.seekable;a<u.start(0)||a>u.end(0)?this.fire(new c.j(new c.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const a=this.map.painter.context,u=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),u.texSubImage2D(u.TEXTURE_2D,0,0,0,u.RGBA,u.UNSIGNED_BYTE,this.video)):(this.texture=new se(a,this.video,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let p=!1;for(const g in this.tiles){const _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class zo extends Yi{constructor(a,u,p,g){super(a,u,p,g),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(E=>typeof E!="number"))||this.fire(new c.j(new c.a1(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.j(new c.a1(`sources.${a}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new c.j(new c.a1(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new c.j(new c.a1(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.j(new c.a1(`sources.${a}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}load(){return c._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new se(u,this.canvas,p.RGBA,{premultiply:!0});let g=!1;for(const _ in this.tiles){const E=this.tiles[_];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture,g=!0)}g&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const Oa={},Xi=x=>{switch(x){case"geojson":return Gt;case"image":return Yi;case"raster":return ri;case"raster-dem":return kr;case"vector":return je;case"video":return uo;case"canvas":return zo}return Oa[x]},ho="RTLPluginLoaded";class Vr extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=At()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(u=>{throw this.status="error",u})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return c._(this,arguments,void 0,function*(u,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=T.resolveURL(u),!this.url)throw new Error(`requested url ${u} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return c._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.k(ho))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Xe=null;function en(){return Xe||(Xe=new Vr),Xe}class An{constructor(a,u){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=c.a3(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const u=a+this.timeAdded;u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,u,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(g,_){const E={};if(!_)return E;for(const A of g){const I=A.layerIds.map(L=>_.getLayer(L)).filter(Boolean);if(I.length!==0){A.layers=I,A.stateDependentLayerIds&&(A.stateDependentLayers=A.stateDependentLayerIds.map(L=>I.filter(K=>K.id===L)[0]));for(const L of I)E[L.id]=A}}return E}(a.buckets,u.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof c.a5){if(this.hasSymbolBuckets=!0,!p)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof c.a5&&_.hasRTLText){this.hasRTLText=!0,en().lazyLoad();break}}this.queryPadding=0;for(const g in this.buckets){const _=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(g).queryRadius(_))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new c.a4}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const p in this.buckets){const g=this.buckets[p];g.uploadPending()&&g.upload(a)}const u=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new se(a,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new se(a,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,u,p,g,_,E,A,I,L,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:_,scale:E,tileSize:this.tileSize,pixelPosMatrix:K,transform:I,params:A,queryPadding:this.queryPadding*L},a,u,p):{}}querySourceFeatures(a,u){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const g=p.loadVTLayers(),_=u&&u.sourceLayer?u.sourceLayer:"",E=g._geojsonTileLayer||g[_];if(!E)return;const A=c.a6(u&&u.filter),{z:I,x:L,y:K}=this.tileID.canonical,j={z:I,x:L,y:K};for(let X=0;X<E.length;X++){const te=E.feature(X);if(A.needGeometry){const oe=c.a7(te,!0);if(!A.filter(new c.a8(this.tileID.overscaledZ),oe,this.tileID.canonical))continue}else if(!A.filter(new c.a8(this.tileID.overscaledZ),te))continue;const ne=p.getId(te,_),pe=new c.a9(te,I,L,K,ne);pe.tile=j,a.push(pe)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const u=this.expirationTime;if(a.cacheControl){const p=c.aa(a.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const p=Date.now();let g=!1;if(this.expirationTime>p)g=!1;else if(u)if(this.expirationTime<u)g=!0;else{const _=this.expirationTime-u;_?this.expirationTime=p+Math.max(_,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!u.style.hasLayer(g))continue;const _=this.buckets[g],E=_.layers[0].sourceLayer||"_geojsonTileLayer",A=p[E],I=a[E];if(!A||!I||Object.keys(I).length===0)continue;_.update(I,A,this.imageAtlas&&this.imageAtlas.patternPositions||{});const L=u&&u.style&&u.style.getLayer(g);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<T.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=T.now()+a}setDependencies(a,u){const p={};for(const g of u)p[g]=!0;this.dependencies[a]=p}hasDependency(a,u){for(const p of a){const g=this.dependencies[p];if(g){for(const _ of u)if(g[_])return!0}}return!1}}class Is{constructor(a,u){this.max=a,this.onRemove=u,this.reset()}reset(){for(const a in this.data)for(const u of this.data[a])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(a,u,p){const g=a.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const _={value:u,timeout:void 0};if(p!==void 0&&(_.timeout=setTimeout(()=>{this.remove(a,_)},p)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const u=this.data[a].shift();return u.timeout&&clearTimeout(u.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),u.value}getByKey(a){const u=this.data[a];return u?u[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,u){if(!this.has(a))return this;const p=a.wrapped().key,g=u===void 0?0:this.data[p].indexOf(u),_=this.data[p][g];return this.data[p].splice(g,1),_.timeout&&clearTimeout(_.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(_.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(a){const u=[];for(const p in this.data)for(const g of this.data[p])a(g.value)||u.push(g);for(const p of u)this.remove(p.value.tileID,p)}}class Fo{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,u,p){const g=String(u);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][g]=this.stateChanges[a][g]||{},c.e(this.stateChanges[a][g],p),this.deletedStates[a]===null){this.deletedStates[a]={};for(const _ in this.state[a])_!==g&&(this.deletedStates[a][_]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][g]===null){this.deletedStates[a][g]={};for(const _ in this.state[a][g])p[_]||(this.deletedStates[a][g][_]=null)}else for(const _ in p)this.deletedStates[a]&&this.deletedStates[a][g]&&this.deletedStates[a][g][_]===null&&delete this.deletedStates[a][g][_]}removeFeatureState(a,u,p){if(this.deletedStates[a]===null)return;const g=String(u);if(this.deletedStates[a]=this.deletedStates[a]||{},p&&u!==void 0)this.deletedStates[a][g]!==null&&(this.deletedStates[a][g]=this.deletedStates[a][g]||{},this.deletedStates[a][g][p]=null);else if(u!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][g])for(p in this.deletedStates[a][g]={},this.stateChanges[a][g])this.deletedStates[a][g][p]=null;else this.deletedStates[a][g]=null;else this.deletedStates[a]=null}getState(a,u){const p=String(u),g=c.e({},(this.state[a]||{})[p],(this.stateChanges[a]||{})[p]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const _=this.deletedStates[a][u];if(_===null)return{};for(const E in _)delete g[E]}return g}initializeTileState(a,u){a.setFeatureState(this.state,u)}coalesceChanges(a,u){const p={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const _={};for(const E in this.stateChanges[g])this.state[g][E]||(this.state[g][E]={}),c.e(this.state[g][E],this.stateChanges[g][E]),_[E]=this.state[g][E];p[g]=_}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const _={};if(this.deletedStates[g]===null)for(const E in this.state[g])_[E]={},this.state[g][E]={};else for(const E in this.deletedStates[g]){if(this.deletedStates[g][E]===null)this.state[g][E]={};else for(const A of Object.keys(this.deletedStates[g][E]))delete this.state[g][E][A];_[E]=this.state[g][E]}p[g]=p[g]||{},c.e(p[g],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const g in a)a[g].setFeatureState(p,u)}}class Qe extends c.E{constructor(a,u,p){super(),this.id=a,this.dispatcher=p,this.on("data",g=>this._dataHandler(g)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,_,E,A)=>{const I=new(Xi(_.type))(g,_,E,A);if(I.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${I.id}`);return I})(a,u,p,this),this._tiles={},this._cache=new Is(0,g=>this._unloadTile(g)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Fo,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const u=this._tiles[a];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,u,p){return c._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,u,p)}catch(g){a.state="errored",g.status!==404?this._source.fire(new c.j(g,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new c.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const p=this._tiles[u];p.upload(a),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Kt).map(a=>a.key)}getRenderableIds(a){const u=[];for(const p in this._tiles)this._isIdRenderable(p,a)&&u.push(this._tiles[p]);return a?u.sort((p,g)=>{const _=p.tileID,E=g.tileID,A=new c.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),I=new c.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-E.overscaledZ||I.y-A.y||I.x-A.x}).map(p=>p.tileID.key):u.map(p=>p.tileID).sort(Kt).map(p=>p.key)}hasRenderableParent(a){const u=this.findLoadedParent(a,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(a,u){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(u||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,u){return c._(this,void 0,void 0,function*(){const p=this._tiles[a];p&&(p.state!=="loading"&&(p.state=u),yield this._loadTile(p,a,u))})}_tileLoaded(a,u,p){a.timeAdded=T.now(),p==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(u,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new c.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const u=this.getRenderableIds();for(let g=0;g<u.length;g++){const _=u[g];if(a.neighboringTiles&&a.neighboringTiles[_]){const E=this.getTileByID(_);p(a,E),p(E,a)}}function p(g,_){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let E=_.tileID.canonical.x-g.tileID.canonical.x;const A=_.tileID.canonical.y-g.tileID.canonical.y,I=Math.pow(2,g.tileID.canonical.z),L=_.tileID.key;E===0&&A===0||Math.abs(A)>1||(Math.abs(E)>1&&(Math.abs(E+I)===1?E+=I:Math.abs(E-I)===1&&(E-=I)),_.dem&&g.dem&&(g.dem.backfillBorder(_.dem,E,A),g.neighboringTiles&&g.neighboringTiles[L]&&(g.neighboringTiles[L].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,u,p,g){for(const _ in this._tiles){let E=this._tiles[_];if(g[_]||!E.hasData()||E.tileID.overscaledZ<=u||E.tileID.overscaledZ>p)continue;let A=E.tileID;for(;E&&E.tileID.overscaledZ>u+1;){const L=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[L.key],E&&E.hasData()&&(A=L)}let I=A;for(;I.overscaledZ>u;)if(I=I.scaledTo(I.overscaledZ-1),a[I.key]){g[A.key]=A;break}}}findLoadedParent(a,u){if(a.key in this._loadedParentTiles){const p=this._loadedParentTiles[a.key];return p&&p.tileID.overscaledZ>=u?p:null}for(let p=a.overscaledZ-1;p>=u;p--){const g=a.scaledTo(p),_=this._getLoadedTile(g);if(_)return _}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){const u=this._tiles[a.key];return u&&u.hasData()?u:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const u=Math.ceil(a.width/this._source.tileSize)+1,p=Math.ceil(a.height/this._source.tileSize)+1,g=Math.floor(u*p*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)}handleWrapJump(a){const u=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,u){const p={};for(const g in this._tiles){const _=this._tiles[g];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+u),p[_.tileID.key]=_}this._tiles=p;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}_updateCoveredAndRetainedTiles(a,u,p,g,_,E){const A={},I={},L=Object.keys(a),K=T.now();for(const j of L){const X=a[j],te=this._tiles[j];if(!te||te.fadeEndTime!==0&&te.fadeEndTime<=K)continue;const ne=this.findLoadedParent(X,u),pe=this.findLoadedSibling(X),oe=ne||pe||null;oe&&(this._addTile(oe.tileID),A[oe.tileID.key]=oe.tileID),I[j]=X}this._retainLoadedChildren(I,g,p,a);for(const j in A)a[j]||(this._coveredTiles[j]=!0,a[j]=A[j]);if(E){const j={},X={};for(const te of _)this._tiles[te.key].hasData()?j[te.key]=te:X[te.key]=te;for(const te in X){const ne=X[te].children(this._source.maxzoom);this._tiles[ne[0].key]&&this._tiles[ne[1].key]&&this._tiles[ne[2].key]&&this._tiles[ne[3].key]&&(j[ne[0].key]=a[ne[0].key]=ne[0],j[ne[1].key]=a[ne[1].key]=ne[1],j[ne[2].key]=a[ne[2].key]=ne[2],j[ne[3].key]=a[ne[3].key]=ne[3],delete X[te])}for(const te in X){const ne=X[te],pe=this.findLoadedParent(ne,this._source.minzoom),oe=this.findLoadedSibling(ne),_e=pe||oe||null;if(_e){j[_e.tileID.key]=a[_e.tileID.key]=_e.tileID;for(const Ce in j)j[Ce].isChildOf(_e.tileID)&&delete j[Ce]}}for(const te in this._tiles)j[te]||(this._coveredTiles[te]=!0)}}update(a,u){if(!this._sourceLoaded||this._paused)return;let p;this.transform=a,this.terrain=u,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(K=>new c.Q(K.canonical.z,K.wrap,K.canonical.z,K.canonical.x,K.canonical.y)):(p=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u}),this._source.hasTile&&(p=p.filter(K=>this._source.hasTile(K)))):p=[];const g=a.coveringZoomLevel(this._source),_=Math.max(g-Qe.maxOverzooming,this._source.minzoom),E=Math.max(g+Qe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const K={};for(const j of p)if(j.canonical.z>this._source.minzoom){const X=j.scaledTo(j.canonical.z-1);K[X.key]=X;const te=j.scaledTo(Math.max(this._source.minzoom,Math.min(j.canonical.z,5)));K[te.key]=te}p=p.concat(Object.values(K))}const A=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,A&&this.fire(new c.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const I=this._updateRetainedTiles(p,g);Ft(this._source.type)&&this._updateCoveredAndRetainedTiles(I,_,E,g,p,u);for(const K in I)this._tiles[K].clearFadeHold();const L=c.ab(this._tiles,I);for(const K of L){const j=this._tiles[K];j.hasSymbolBuckets&&!j.holdingForFade()?j.setHoldDuration(this.map._fadeDuration):j.hasSymbolBuckets&&!j.symbolFadeFinished()||this._removeTile(K)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,u){var p;const g={},_={},E=Math.max(u-Qe.maxOverzooming,this._source.minzoom),A=Math.max(u+Qe.maxUnderzooming,this._source.minzoom),I={};for(const L of a){const K=this._addTile(L);g[L.key]=L,K.hasData()||u<this._source.maxzoom&&(I[L.key]=L)}this._retainLoadedChildren(I,u,A,g);for(const L of a){let K=this._tiles[L.key];if(K.hasData())continue;if(u+1>this._source.maxzoom){const X=L.children(this._source.maxzoom)[0],te=this.getTile(X);if(te&&te.hasData()){g[X.key]=X;continue}}else{const X=L.children(this._source.maxzoom);if(g[X[0].key]&&g[X[1].key]&&g[X[2].key]&&g[X[3].key])continue}let j=K.wasRequested();for(let X=L.overscaledZ-1;X>=E;--X){const te=L.scaledTo(X);if(_[te.key])break;if(_[te.key]=!0,K=this.getTile(te),!K&&j&&(K=this._addTile(te)),K){const ne=K.hasData();if((ne||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||j)&&(g[te.key]=te),j=K.wasRequested(),ne)break}}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const u=[];let p,g=this._tiles[a].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){p=this._loadedParentTiles[g.key];break}u.push(g.key);const _=g.scaledTo(g.overscaledZ-1);if(p=this._getLoadedTile(_),p)break;g=_}for(const _ of u)this._loadedParentTiles[_]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const a in this._tiles){const u=this._tiles[a].tileID,p=this._getLoadedTile(u);this._loadedSiblingTiles[u.key]=p}}_addTile(a){let u=this._tiles[a.key];if(u)return u;u=this._cache.getAndRemove(a),u&&(this._setTileReloadTimer(a.key,u),u.tileID=a,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,u)));const p=u;return u||(u=new An(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(u,a.key,u.state)),u.uses++,this._tiles[a.key]=u,p||this._source.fire(new c.k("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(a,u){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const p=u.getExpiryTimeout();p&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},p))}_removeTile(a){const u=this._tiles[a];u&&(u.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}_dataHandler(a){const u=a.sourceDataType;a.dataType==="source"&&u==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&u==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,u,p){const g=[],_=this.transform;if(!_)return g;const E=p?_.getCameraQueryGeometry(a):a,A=a.map(ne=>_.pointCoordinate(ne,this.terrain)),I=E.map(ne=>_.pointCoordinate(ne,this.terrain)),L=this.getIds();let K=1/0,j=1/0,X=-1/0,te=-1/0;for(const ne of I)K=Math.min(K,ne.x),j=Math.min(j,ne.y),X=Math.max(X,ne.x),te=Math.max(te,ne.y);for(let ne=0;ne<L.length;ne++){const pe=this._tiles[L[ne]];if(pe.holdingForFade())continue;const oe=pe.tileID,_e=Math.pow(2,_.zoom-pe.tileID.overscaledZ),Ce=u*pe.queryPadding*c.W/pe.tileSize/_e,ue=[oe.getTilePoint(new c.Y(K,j)),oe.getTilePoint(new c.Y(X,te))];if(ue[0].x-Ce<c.W&&ue[0].y-Ce<c.W&&ue[1].x+Ce>=0&&ue[1].y+Ce>=0){const ke=A.map(Fe=>oe.getTilePoint(Fe)),$e=I.map(Fe=>oe.getTilePoint(Fe));g.push({tile:pe,tileID:oe,queryGeometry:ke,cameraQueryGeometry:$e,scale:_e})}}return g}getVisibleCoordinates(a){const u=this.getRenderableIds(a).map(p=>this._tiles[p].tileID);for(const p of u)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return u}hasTransition(){if(this._source.hasTransition())return!0;if(Ft(this._source.type)){const a=T.now();for(const u in this._tiles)if(this._tiles[u].fadeEndTime>=a)return!0}return!1}setFeatureState(a,u,p){this._state.updateState(a=a||"_geojsonTileLayer",u,p)}removeFeatureState(a,u,p){this._state.removeFeatureState(a=a||"_geojsonTileLayer",u,p)}getFeatureState(a,u){return this._state.getState(a=a||"_geojsonTileLayer",u)}setDependencies(a,u,p){const g=this._tiles[a];g&&g.setDependencies(u,p)}reloadTilesForDependencies(a,u){for(const p in this._tiles)this._tiles[p].hasDependency(a,u)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(a,u))}}function Kt(x,a){const u=Math.abs(2*x.wrap)-+(x.wrap<0),p=Math.abs(2*a.wrap)-+(a.wrap<0);return x.overscaledZ-a.overscaledZ||p-u||a.canonical.y-x.canonical.y||a.canonical.x-x.canonical.x}function Ft(x){return x==="raster"||x==="image"||x==="video"}Qe.maxOverzooming=10,Qe.maxUnderzooming=3;class Kn{constructor(a,u){this.reset(a,u)}reset(a,u){this.points=a||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=c.ac(a,0,1);let u=1,p=this._distances[u];const g=a*this.paddedLength+this.padding;for(;p<g&&u<this._distances.length;)p=this._distances[++u];const _=u-1,E=this._distances[_],A=p-E,I=A>0?(g-E)/A:0;return this.points[_].mult(1-I).add(this.points[u].mult(I))}}function Hn(x,a){let u=!0;return x==="always"||x!=="never"&&a!=="never"||(u=!1),u}class Ot{constructor(a,u,p){const g=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(a/p),this.yCellCount=Math.ceil(u/p);for(let E=0;E<this.xCellCount*this.yCellCount;E++)g.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=u,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,u,p,g,_){this._forEachCell(u,p,g,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(u),this.bboxes.push(p),this.bboxes.push(g),this.bboxes.push(_)}insertCircle(a,u,p,g){this._forEachCell(u-g,p-g,u+g,p+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(u),this.circles.push(p),this.circles.push(g)}_insertBoxCell(a,u,p,g,_,E){this.boxCells[_].push(E)}_insertCircleCell(a,u,p,g,_,E){this.circleCells[_].push(E)}_query(a,u,p,g,_,E,A){if(p<0||a>this.width||g<0||u>this.height)return[];const I=[];if(a<=0&&u<=0&&this.width<=p&&this.height<=g){if(_)return[{key:null,x1:a,y1:u,x2:p,y2:g}];for(let L=0;L<this.boxKeys.length;L++)I.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){const K=this.circles[3*L],j=this.circles[3*L+1],X=this.circles[3*L+2];I.push({key:this.circleKeys[L],x1:K-X,y1:j-X,x2:K+X,y2:j+X})}}else this._forEachCell(a,u,p,g,this._queryCell,I,{hitTest:_,overlapMode:E,seenUids:{box:{},circle:{}}},A);return I}query(a,u,p,g){return this._query(a,u,p,g,!1,null)}hitTest(a,u,p,g,_,E){return this._query(a,u,p,g,!0,_,E).length>0}hitTestCircle(a,u,p,g,_){const E=a-p,A=a+p,I=u-p,L=u+p;if(A<0||E>this.width||L<0||I>this.height)return!1;const K=[];return this._forEachCell(E,I,A,L,this._queryCellCircle,K,{hitTest:!0,overlapMode:g,circle:{x:a,y:u,radius:p},seenUids:{box:{},circle:{}}},_),K.length>0}_queryCell(a,u,p,g,_,E,A,I){const{seenUids:L,hitTest:K,overlapMode:j}=A,X=this.boxCells[_];if(X!==null){const ne=this.bboxes;for(const pe of X)if(!L.box[pe]){L.box[pe]=!0;const oe=4*pe,_e=this.boxKeys[pe];if(a<=ne[oe+2]&&u<=ne[oe+3]&&p>=ne[oe+0]&&g>=ne[oe+1]&&(!I||I(_e))&&(!K||!Hn(j,_e.overlapMode))&&(E.push({key:_e,x1:ne[oe],y1:ne[oe+1],x2:ne[oe+2],y2:ne[oe+3]}),K))return!0}}const te=this.circleCells[_];if(te!==null){const ne=this.circles;for(const pe of te)if(!L.circle[pe]){L.circle[pe]=!0;const oe=3*pe,_e=this.circleKeys[pe];if(this._circleAndRectCollide(ne[oe],ne[oe+1],ne[oe+2],a,u,p,g)&&(!I||I(_e))&&(!K||!Hn(j,_e.overlapMode))){const Ce=ne[oe],ue=ne[oe+1],ke=ne[oe+2];if(E.push({key:_e,x1:Ce-ke,y1:ue-ke,x2:Ce+ke,y2:ue+ke}),K)return!0}}}return!1}_queryCellCircle(a,u,p,g,_,E,A,I){const{circle:L,seenUids:K,overlapMode:j}=A,X=this.boxCells[_];if(X!==null){const ne=this.bboxes;for(const pe of X)if(!K.box[pe]){K.box[pe]=!0;const oe=4*pe,_e=this.boxKeys[pe];if(this._circleAndRectCollide(L.x,L.y,L.radius,ne[oe+0],ne[oe+1],ne[oe+2],ne[oe+3])&&(!I||I(_e))&&!Hn(j,_e.overlapMode))return E.push(!0),!0}}const te=this.circleCells[_];if(te!==null){const ne=this.circles;for(const pe of te)if(!K.circle[pe]){K.circle[pe]=!0;const oe=3*pe,_e=this.circleKeys[pe];if(this._circlesCollide(ne[oe],ne[oe+1],ne[oe+2],L.x,L.y,L.radius)&&(!I||I(_e))&&!Hn(j,_e.overlapMode))return E.push(!0),!0}}}_forEachCell(a,u,p,g,_,E,A,I){const L=this._convertToXCellCoord(a),K=this._convertToYCellCoord(u),j=this._convertToXCellCoord(p),X=this._convertToYCellCoord(g);for(let te=L;te<=j;te++)for(let ne=K;ne<=X;ne++)if(_.call(this,a,u,p,g,this.xCellCount*ne+te,E,A,I))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,u,p,g,_,E){const A=g-a,I=_-u,L=p+E;return L*L>A*A+I*I}_circleAndRectCollide(a,u,p,g,_,E,A){const I=(E-g)/2,L=Math.abs(a-(g+I));if(L>I+p)return!1;const K=(A-_)/2,j=Math.abs(u-(_+K));if(j>K+p)return!1;if(L<=I||j<=K)return!0;const X=L-I,te=j-K;return X*X+te*te<=p*p}}function ja(x,a,u,p,g){const _=c.F();return a?(c.J(_,_,[1/g,1/g,1]),u||c.ad(_,_,p.angle)):c.K(_,p.labelPlaneMatrix,x),_}function Va(x,a,u,p,g){if(a){const _=c.ae(x);return c.J(_,_,[g,g,1]),u||c.ad(_,_,-p.angle),_}return p.glCoordMatrix}function pn(x,a,u){let p;u?(p=[x.x,x.y,u(x.x,x.y),1],c.af(p,p,a)):(p=[x.x,x.y,0,1],function(_,E,A){const I=E[0],L=E[1];_[0]=A[0]*I+A[4]*L+A[12],_[1]=A[1]*I+A[5]*L+A[13],_[3]=A[3]*I+A[7]*L+A[15]}(p,p,a));const g=p[3];return{point:new c.P(p[0]/g,p[1]/g),signedDistanceFromCamera:g,isOccluded:!1}}function ce(x,a){return .5+x/a*.5}function W(x,a){return x.x>=-a[0]&&x.x<=a[0]&&x.y>=-a[1]&&x.y<=a[1]}function q(x,a,u,p,g,_,E,A,I,L,K,j,X,te,ne){const pe=p?x.textSizeData:x.iconSizeData,oe=c.ag(pe,u.transform.zoom),_e=[256/u.width*2+1,256/u.height*2+1],Ce=p?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;Ce.clear();const ue=x.lineVertexArray,ke=p?x.text.placedSymbolArray:x.icon.placedSymbolArray,$e=u.transform.width/u.transform.height;let Fe=!1;for(let We=0;We<ke.length;We++){const qe=ke.get(We);if(qe.hidden||qe.writingMode===c.ah.vertical&&!Fe){Tt(qe.numGlyphs,Ce);continue}Fe=!1;const lt=pn(new c.P(qe.anchorX,qe.anchorY),a,ne);if(!W(lt.point,_e)){Tt(qe.numGlyphs,Ce);continue}const ct=ce(u.transform.cameraToCenterDistance,lt.signedDistanceFromCamera),Ye=c.ai(pe,oe,qe),et=E?Ye/ct:Ye*ct,pt={getElevation:ne,labelPlaneMatrix:g,lineVertexArray:ue,pitchWithMap:E,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:L,tileAnchorPoint:new c.P(qe.anchorX,qe.anchorY),unwrappedTileID:K,width:j,height:X,translation:te},Lt=Pe(pt,qe,et,!1,A,a,_,x.glyphOffsetArray,Ce,$e,I);Fe=Lt.useVertical,(Lt.notEnoughRoom||Fe||Lt.needsFlipping&&Pe(pt,qe,et,!0,A,a,_,x.glyphOffsetArray,Ce,$e,I).notEnoughRoom)&&Tt(qe.numGlyphs,Ce)}p?x.text.dynamicLayoutVertexBuffer.updateData(Ce):x.icon.dynamicLayoutVertexBuffer.updateData(Ce)}function Q(x,a,u,p,g,_,E,A){const I=_.glyphStartIndex+_.numGlyphs,L=_.lineStartIndex,K=_.lineStartIndex+_.lineLength,j=a.getoffsetX(_.glyphStartIndex),X=a.getoffsetX(I-1),te=Ke(x*j,u,p,g,_.segment,L,K,A,E);if(!te)return null;const ne=Ke(x*X,u,p,g,_.segment,L,K,A,E);return ne?A.projectionCache.anyProjectionOccluded?null:{first:te,last:ne}:null}function de(x,a,u,p){return x===c.ah.horizontal&&Math.abs(u.y-a.y)>Math.abs(u.x-a.x)*p?{useVertical:!0}:(x===c.ah.vertical?a.y<u.y:a.x>u.x)?{needsFlipping:!0}:null}function Pe(x,a,u,p,g,_,E,A,I,L,K){const j=u/24,X=a.lineOffsetX*j,te=a.lineOffsetY*j;let ne;if(a.numGlyphs>1){const pe=a.glyphStartIndex+a.numGlyphs,oe=a.lineStartIndex,_e=a.lineStartIndex+a.lineLength,Ce=Q(j,A,X,te,p,a,K,x);if(!Ce)return{notEnoughRoom:!0};const ue=pn(Ce.first.point,E,x.getElevation).point,ke=pn(Ce.last.point,E,x.getElevation).point;if(g&&!p){const $e=de(a.writingMode,ue,ke,L);if($e)return $e}ne=[Ce.first];for(let $e=a.glyphStartIndex+1;$e<pe-1;$e++)ne.push(Ke(j*A.getoffsetX($e),X,te,p,a.segment,oe,_e,x,K));ne.push(Ce.last)}else{if(g&&!p){const oe=pn(x.tileAnchorPoint,_,x.getElevation).point,_e=a.lineStartIndex+a.segment+1,Ce=new c.P(x.lineVertexArray.getx(_e),x.lineVertexArray.gety(_e)),ue=pn(Ce,_,x.getElevation),ke=ue.signedDistanceFromCamera>0?ue.point:function(Fe,We,qe,lt,ct,Ye){return Ee(Fe,We,qe,1,ct,Ye)}(x.tileAnchorPoint,Ce,oe,0,_,x),$e=de(a.writingMode,oe,ke,L);if($e)return $e}const pe=Ke(j*A.getoffsetX(a.glyphStartIndex),X,te,p,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,x,K);if(!pe||x.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ne=[pe]}for(const pe of ne)c.aj(I,pe.point,pe.angle);return{}}function Ee(x,a,u,p,g,_){const E=x.add(x.sub(a)._unit()),A=g!==void 0?pn(E,g,_.getElevation).point:be(E.x,E.y,_).point,I=u.sub(A);return u.add(I._mult(p/I.mag()))}function Ie(x,a,u){const p=a.projectionCache;if(p.projections[x])return p.projections[x];const g=new c.P(a.lineVertexArray.getx(x),a.lineVertexArray.gety(x)),_=be(g.x,g.y,a);if(_.signedDistanceFromCamera>0)return p.projections[x]=_.point,p.anyProjectionOccluded=p.anyProjectionOccluded||_.isOccluded,_.point;const E=x-u.direction;return function(A,I,L,K,j){return Ee(A,I,L,K,void 0,j)}(u.distanceFromAnchor===0?a.tileAnchorPoint:new c.P(a.lineVertexArray.getx(E),a.lineVertexArray.gety(E)),g,u.previousVertex,u.absOffsetX-u.distanceFromAnchor+1,a)}function be(x,a,u){const p=x+u.translation[0],g=a+u.translation[1];let _;return!u.pitchWithMap&&u.projection.useSpecialProjectionForSymbols?(_=u.projection.projectTileCoordinates(p,g,u.unwrappedTileID,u.getElevation),_.point.x=(.5*_.point.x+.5)*u.width,_.point.y=(.5*-_.point.y+.5)*u.height):(_=pn(new c.P(p,g),u.labelPlaneMatrix,u.getElevation),_.isOccluded=!1),_}function Re(x,a,u){return x._unit()._perp()._mult(a*u)}function Ge(x,a,u,p,g,_,E,A,I){if(A.projectionCache.offsets[x])return A.projectionCache.offsets[x];const L=u.add(a);if(x+I.direction<p||x+I.direction>=g)return A.projectionCache.offsets[x]=L,L;const K=Ie(x+I.direction,A,I),j=Re(K.sub(u),E,I.direction),X=u.add(j),te=K.add(j);return A.projectionCache.offsets[x]=c.ak(_,L,X,te)||L,A.projectionCache.offsets[x]}function Ke(x,a,u,p,g,_,E,A,I){const L=p?x-a:x+a;let K=L>0?1:-1,j=0;p&&(K*=-1,j=Math.PI),K<0&&(j+=Math.PI);let X,te=K>0?_+g:_+g+1;A.projectionCache.cachedAnchorPoint?X=A.projectionCache.cachedAnchorPoint:(X=be(A.tileAnchorPoint.x,A.tileAnchorPoint.y,A).point,A.projectionCache.cachedAnchorPoint=X);let ne,pe,oe=X,_e=X,Ce=0,ue=0;const ke=Math.abs(L),$e=[];let Fe;for(;Ce+ue<=ke;){if(te+=K,te<_||te>=E)return null;Ce+=ue,_e=oe,pe=ne;const lt={absOffsetX:ke,direction:K,distanceFromAnchor:Ce,previousVertex:_e};if(oe=Ie(te,A,lt),u===0)$e.push(_e),Fe=oe.sub(_e);else{let ct;const Ye=oe.sub(_e);ct=Ye.mag()===0?Re(Ie(te+K,A,lt).sub(oe),u,K):Re(Ye,u,K),pe||(pe=_e.add(ct)),ne=Ge(te,ct,oe,_,E,pe,u,A,lt),$e.push(pe),Fe=ne.sub(pe)}ue=Fe.mag()}const We=Fe._mult((ke-Ce)/ue)._add(pe||_e),qe=j+Math.atan2(oe.y-_e.y,oe.x-_e.x);return $e.push(We),{point:We,angle:I?qe:0,path:$e}}const Ue=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Tt(x,a){for(let u=0;u<x;u++){const p=a.length;a.resize(p+4),a.float32.set(Ue,3*p)}}const St=100;class Zt{constructor(a,u,p=new Ot(a.width+200,a.height+200,25),g=new Ot(a.width+200,a.height+200,25)){this.transform=a,this.mapProjection=u,this.grid=p,this.ignoredGrid=g,this.pitchFactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+St,this.screenBottomBoundary=a.height+St,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,u,p,g,_,E,A,I,L,K,j){const X=a.anchorPointX+I[0],te=a.anchorPointY+I[1],ne=this.projectAndGetPerspectiveRatio(g,X,te,_,K),pe=this._projectCollisionBox(a,p,g,_,E,A,I,ne,K,j),[oe,_e,Ce,ue]=pe.box;return this.mapProjection.useSpecialProjectionForSymbols&&(E?pe.allPointsOccluded:this.mapProjection.isOccluded(X,te,_))||ne.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(oe,_e,Ce,ue)||u!=="always"&&this.grid.hitTest(oe,_e,Ce,ue,u,L)?{box:[oe,_e,Ce,ue],placeable:!1,offscreen:!1}:{box:[oe,_e,Ce,ue],placeable:!0,offscreen:this.isOffscreen(oe,_e,Ce,ue)}}placeCollisionCircles(a,u,p,g,_,E,A,I,L,K,j,X,te,ne,pe,oe){const _e=[],Ce=new c.P(u.anchorX,u.anchorY),ue=this.getPerspectiveRatio(E,Ce.x,Ce.y,A,oe),ke=(j?_/ue:_*ue)/c.ap,$e={getElevation:oe,labelPlaneMatrix:I,lineVertexArray:p,pitchWithMap:j,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:Ce,unwrappedTileID:A,width:this.transform.width,height:this.transform.height,translation:pe},Fe=Q(ke,g,u.lineOffsetX*ke,u.lineOffsetY*ke,!1,u,!1,$e);let We=!1,qe=!1,lt=!0;if(Fe){const ct=.5*te*ue+ne,Ye=new c.P(-100,-100),et=new c.P(this.screenRightBoundary,this.screenBottomBoundary),pt=new Kn,Lt=Fe.first,rt=Fe.last;let at=[];for(let Ht=Lt.path.length-1;Ht>=1;Ht--)at.push(Lt.path[Ht]);for(let Ht=1;Ht<rt.path.length;Ht++)at.push(rt.path[Ht]);const It=2.5*ct;if(L){const Ht=this.projectPathToScreenSpace(at,$e,L);at=Ht.some(Xt=>Xt.signedDistanceFromCamera<=0)?[]:Ht.map(Xt=>Xt.point)}let wr=[];if(at.length>0){const Ht=at[0].clone(),Xt=at[0].clone();for(let Sr=1;Sr<at.length;Sr++)Ht.x=Math.min(Ht.x,at[Sr].x),Ht.y=Math.min(Ht.y,at[Sr].y),Xt.x=Math.max(Xt.x,at[Sr].x),Xt.y=Math.max(Xt.y,at[Sr].y);wr=Ht.x>=Ye.x&&Xt.x<=et.x&&Ht.y>=Ye.y&&Xt.y<=et.y?[at]:Xt.x<Ye.x||Ht.x>et.x||Xt.y<Ye.y||Ht.y>et.y?[]:c.al([at],Ye.x,Ye.y,et.x,et.y)}for(const Ht of wr){pt.reset(Ht,.25*ct);let Xt=0;Xt=pt.length<=.5*ct?1:Math.ceil(pt.paddedLength/It)+1;for(let Sr=0;Sr<Xt;Sr++){const Mn=Sr/Math.max(Xt-1,1),Qi=pt.lerp(Mn),Pr=Qi.x+St,si=Qi.y+St;_e.push(Pr,si,ct,0);const Gn=Pr-ct,Dn=si-ct,$n=Pr+ct,ea=si+ct;if(lt=lt&&this.isOffscreen(Gn,Dn,$n,ea),qe=qe||this.isInsideGrid(Gn,Dn,$n,ea),a!=="always"&&this.grid.hitTestCircle(Pr,si,ct,a,X)&&(We=!0,!K))return{circles:[],offscreen:!1,collisionDetected:We}}}}return{circles:!K&&We||!qe||ue<this.perspectiveRatioCutoff?[]:_e,offscreen:lt,collisionDetected:We}}projectPathToScreenSpace(a,u,p){return a.map(g=>pn(g,p,u.getElevation))}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let p=1/0,g=1/0,_=-1/0,E=-1/0;for(const K of a){const j=new c.P(K.x+St,K.y+St);p=Math.min(p,j.x),g=Math.min(g,j.y),_=Math.max(_,j.x),E=Math.max(E,j.y),u.push(j)}const A=this.grid.query(p,g,_,E).concat(this.ignoredGrid.query(p,g,_,E)),I={},L={};for(const K of A){const j=K.key;if(I[j.bucketInstanceId]===void 0&&(I[j.bucketInstanceId]={}),I[j.bucketInstanceId][j.featureIndex])continue;const X=[new c.P(K.x1,K.y1),new c.P(K.x2,K.y1),new c.P(K.x2,K.y2),new c.P(K.x1,K.y2)];c.am(u,X)&&(I[j.bucketInstanceId][j.featureIndex]=!0,L[j.bucketInstanceId]===void 0&&(L[j.bucketInstanceId]=[]),L[j.bucketInstanceId].push(j.featureIndex))}return L}insertCollisionBox(a,u,p,g,_,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:_,collisionGroupID:E,overlapMode:u},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,u,p,g,_,E){const A=p?this.ignoredGrid:this.grid,I={bucketInstanceId:g,featureIndex:_,collisionGroupID:E,overlapMode:u};for(let L=0;L<a.length;L+=4)A.insertCircle(I,a[L],a[L+1],a[L+2])}projectAndGetPerspectiveRatio(a,u,p,g,_){const E=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(u,p,g,_):pn(new c.P(u,p),a,_);return{point:new c.P((E.point.x+1)/2*this.transform.width+St,(1-E.point.y)/2*this.transform.height+St),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5,isOccluded:E.isOccluded,signedDistanceFromCamera:E.signedDistanceFromCamera}}getPerspectiveRatio(a,u,p,g,_){const E=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(u,p,g,_):pn(new c.P(u,p),a,_);return .5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5}isOffscreen(a,u,p,g){return p<St||a>=this.screenRightBoundary||g<St||u>this.screenBottomBoundary}isInsideGrid(a,u,p,g){return p>=0&&a<this.gridRightBoundary&&g>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const a=c.an([]);return c.H(a,a,[-100,-100,0]),a}_projectCollisionBox(a,u,p,g,_,E,A,I,L,K){const j=u*I.perspectiveRatio;let X=new c.P(1,0),te=new c.P(0,1);const ne=new c.P(a.anchorPointX+A[0],a.anchorPointY+A[1]);if(E&&!_){const ct=this.projectAndGetPerspectiveRatio(p,ne.x+1,ne.y,g,L).point.sub(I.point).unit(),Ye=Math.atan(ct.y/ct.x)+(ct.x<0?Math.PI:0),et=Math.sin(Ye),pt=Math.cos(Ye);X=new c.P(pt,et),te=new c.P(-et,pt)}else if(!E&&_){const ct=-this.transform.angle,Ye=Math.sin(ct),et=Math.cos(ct);X=new c.P(et,Ye),te=new c.P(-Ye,et)}let pe=I.point,oe=j;if(_){pe=ne;const ct=this.transform.zoom-Math.floor(this.transform.zoom);oe=Math.pow(2,-ct),oe*=this.mapProjection.getPitchedTextCorrection(this.transform,ne,g),K||(oe*=c.ac(.5+I.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}K&&(pe=pe.add(X.mult(K.x*oe)).add(te.mult(K.y*oe)));const _e=a.x1*oe,Ce=a.x2*oe,ue=(_e+Ce)/2,ke=a.y1*oe,$e=a.y2*oe,Fe=(ke+$e)/2,We=[{offsetX:_e,offsetY:ke},{offsetX:ue,offsetY:ke},{offsetX:Ce,offsetY:ke},{offsetX:Ce,offsetY:Fe},{offsetX:Ce,offsetY:$e},{offsetX:ue,offsetY:$e},{offsetX:_e,offsetY:$e},{offsetX:_e,offsetY:Fe}];let qe=[];for(const{offsetX:ct,offsetY:Ye}of We)qe.push(new c.P(pe.x+X.x*ct+te.x*Ye,pe.y+X.y*ct+te.y*Ye));let lt=!1;if(_){const ct=qe.map(Ye=>this.projectAndGetPerspectiveRatio(p,Ye.x,Ye.y,g,L));lt=ct.some(Ye=>!Ye.isOccluded),qe=ct.map(Ye=>Ye.point)}else lt=!0;return{box:c.ao(qe),allPointsOccluded:!lt}}}function Rt(x,a,u){return a*(c.W/(x.tileSize*Math.pow(2,u-x.tileID.overscaledZ)))}class Jt{constructor(a,u,p,g){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?u:-u))):g&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class hr{constructor(a,u,p,g,_){this.text=new Jt(a?a.text:null,u,p,_),this.icon=new Jt(a?a.icon:null,u,g,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class br{constructor(a,u,p){this.text=a,this.icon=u,this.skipFade=p}}class tn{constructor(){this.invProjMatrix=c.F(),this.viewportMatrix=c.F(),this.circles=[]}}class jt{constructor(a,u,p,g,_){this.bucketInstanceId=a,this.featureIndex=u,this.sourceLayerIndex=p,this.bucketIndex=g,this.tileID=_}}class Ir{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const u=++this.maxGroupID;this.collisionGroups[a]={ID:u,predicate:p=>p.collisionGroupID===u}}return this.collisionGroups[a]}}function on(x,a,u,p,g){const{horizontalAlign:_,verticalAlign:E}=c.au(x);return new c.P(-(_-.5)*a+p[0]*g,-(E-.5)*u+p[1]*g)}class ni{constructor(a,u,p,g,_,E){this.transform=a.clone(),this.terrain=p,this.collisionIndex=new Zt(this.transform,u),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new Ir(_),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){const u=this.terrain;return u?(p,g)=>u.getElevation(a,p,g):null}getBucketParts(a,u,p,g){const _=p.getBucket(u),E=p.latestFeatureIndex;if(!_||!E||u.id!==_.layerIds[0])return;const A=p.collisionBoxArray,I=_.layers[0].layout,L=_.layers[0].paint,K=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),j=p.tileSize/c.W,X=p.tileID.toUnwrapped(),te=this.transform.calculatePosMatrix(X),ne=I.get("text-pitch-alignment")==="map",pe=I.get("text-rotation-alignment")==="map",oe=Rt(p,1,this.transform.zoom),_e=this.collisionIndex.mapProjection.translatePosition(this.transform,p,L.get("text-translate"),L.get("text-translate-anchor")),Ce=this.collisionIndex.mapProjection.translatePosition(this.transform,p,L.get("icon-translate"),L.get("icon-translate-anchor")),ue=ja(te,ne,pe,this.transform,oe);let ke=null;if(ne){const Fe=Va(te,ne,pe,this.transform,oe);ke=c.K([],this.transform.labelPlaneMatrix,Fe)}this.retainedQueryData[_.bucketInstanceId]=new jt(_.bucketInstanceId,E,_.sourceLayerIndex,_.index,p.tileID);const $e={bucket:_,layout:I,translationText:_e,translationIcon:Ce,posMatrix:te,unwrappedTileID:X,textLabelPlaneMatrix:ue,labelToScreenMatrix:ke,scale:K,textPixelRatio:j,holdingForFade:p.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:c.ag(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(g)for(const Fe of _.sortKeyRanges){const{sortKey:We,symbolInstanceStart:qe,symbolInstanceEnd:lt}=Fe;a.push({sortKey:We,symbolInstanceStart:qe,symbolInstanceEnd:lt,parameters:$e})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:$e})}attemptAnchorPlacement(a,u,p,g,_,E,A,I,L,K,j,X,te,ne,pe,oe,_e,Ce,ue){const ke=c.aq[a.textAnchor],$e=[a.textOffset0,a.textOffset1],Fe=on(ke,p,g,$e,_),We=this.collisionIndex.placeCollisionBox(u,X,I,L,K,A,E,oe,j.predicate,ue,Fe);if((!Ce||this.collisionIndex.placeCollisionBox(Ce,X,I,L,K,A,E,_e,j.predicate,ue,Fe).placeable)&&We.placeable){let qe;if(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(qe=this.prevPlacement.variableOffsets[te.crossTileID].anchor),te.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[te.crossTileID]={textOffset:$e,width:p,height:g,anchor:ke,textBoxScale:_,prevAnchor:qe},this.markUsedJustification(ne,ke,te,pe),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,pe,te),this.placedOrientations[te.crossTileID]=pe),{shift:Fe,placedGlyphBoxes:We}}}placeLayerBucketPart(a,u,p){const{bucket:g,layout:_,translationText:E,translationIcon:A,posMatrix:I,unwrappedTileID:L,textLabelPlaneMatrix:K,labelToScreenMatrix:j,textPixelRatio:X,holdingForFade:te,collisionBoxArray:ne,partiallyEvaluatedTextSize:pe,collisionGroup:oe}=a.parameters,_e=_.get("text-optional"),Ce=_.get("icon-optional"),ue=c.ar(_,"text-overlap","text-allow-overlap"),ke=ue==="always",$e=c.ar(_,"icon-overlap","icon-allow-overlap"),Fe=$e==="always",We=_.get("text-rotation-alignment")==="map",qe=_.get("text-pitch-alignment")==="map",lt=_.get("icon-text-fit")!=="none",ct=_.get("symbol-z-order")==="viewport-y",Ye=ke&&(Fe||!g.hasIconData()||Ce),et=Fe&&(ke||!g.hasTextData()||_e);!g.collisionArrays&&ne&&g.deserializeCollisionBoxes(ne);const pt=this._getTerrainElevationFunc(this.retainedQueryData[g.bucketInstanceId].tileID),Lt=(rt,at,It)=>{var wr,Ht;if(u[rt.crossTileID])return;if(te)return void(this.placements[rt.crossTileID]=new br(!1,!1,!1));let Xt=!1,Sr=!1,Mn=!0,Qi=null,Pr={box:null,placeable:!1,offscreen:null},si={box:null,placeable:!1,offscreen:null},Gn=null,Dn=null,$n=null,ea=0,Zo=0,Ou=0;at.textFeatureIndex?ea=at.textFeatureIndex:rt.useRuntimeCollisionCircles&&(ea=rt.featureIndex),at.verticalTextFeatureIndex&&(Zo=at.verticalTextFeatureIndex);const Ks=at.textBox;if(Ks){const Sn=Rn=>{let Ln=c.ah.horizontal;if(g.allowVerticalPlacement&&!Rn&&this.prevPlacement){const mn=this.prevPlacement.placedOrientations[rt.crossTileID];mn&&(this.placedOrientations[rt.crossTileID]=mn,Ln=mn,this.markUsedOrientation(g,Ln,rt))}return Ln},ta=(Rn,Ln)=>{if(g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&at.verticalTextBox){for(const mn of g.writingModes)if(mn===c.ah.vertical?(Pr=Ln(),si=Pr):Pr=Rn(),Pr&&Pr.placeable)break}else Pr=Rn()},vo=rt.textAnchorOffsetStartIndex,Hs=rt.textAnchorOffsetEndIndex;if(Hs===vo){const Rn=(Ln,mn)=>{const Dr=this.collisionIndex.placeCollisionBox(Ln,ue,X,I,L,qe,We,E,oe.predicate,pt);return Dr&&Dr.placeable&&(this.markUsedOrientation(g,mn,rt),this.placedOrientations[rt.crossTileID]=mn),Dr};ta(()=>Rn(Ks,c.ah.horizontal),()=>{const Ln=at.verticalTextBox;return g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&Ln?Rn(Ln,c.ah.vertical):{box:null,offscreen:null}}),Sn(Pr&&Pr.placeable)}else{let Rn=c.aq[(Ht=(wr=this.prevPlacement)===null||wr===void 0?void 0:wr.variableOffsets[rt.crossTileID])===null||Ht===void 0?void 0:Ht.anchor];const Ln=(Dr,Ws,mf)=>{const ln=Dr.x2-Dr.x1,sg=Dr.y2-Dr.y1,Vu=rt.textBoxScale,Uu=lt&&$e==="never"?Ws:null;let xo=null,lg=ue==="never"?1:2,gf="never";Rn&&lg++;for(let yf=0;yf<lg;yf++){for(let vf=vo;vf<Hs;vf++){const Ku=g.textAnchorOffsets.get(vf);if(Rn&&Ku.textAnchor!==Rn)continue;const Gs=this.attemptAnchorPlacement(Ku,Dr,ln,sg,Vu,We,qe,X,I,L,oe,gf,rt,g,mf,E,A,Uu,pt);if(Gs&&(xo=Gs.placedGlyphBoxes,xo&&xo.placeable))return Xt=!0,Qi=Gs.shift,xo}Rn?Rn=null:gf=ue}return p&&!xo&&(xo={box:this.collisionIndex.placeCollisionBox(Ks,"always",X,I,L,qe,We,E,oe.predicate,pt,new c.P(0,0)).box,offscreen:!1,placeable:!1}),xo};ta(()=>Ln(Ks,at.iconBox,c.ah.horizontal),()=>{const Dr=at.verticalTextBox;return g.allowVerticalPlacement&&(!Pr||!Pr.placeable)&&rt.numVerticalGlyphVertices>0&&Dr?Ln(Dr,at.verticalIconBox,c.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Pr&&(Xt=Pr.placeable,Mn=Pr.offscreen);const mn=Sn(Pr&&Pr.placeable);if(!Xt&&this.prevPlacement){const Dr=this.prevPlacement.variableOffsets[rt.crossTileID];Dr&&(this.variableOffsets[rt.crossTileID]=Dr,this.markUsedJustification(g,Dr.anchor,rt,mn))}}}if(Gn=Pr,Xt=Gn&&Gn.placeable,Mn=Gn&&Gn.offscreen,rt.useRuntimeCollisionCircles){const Sn=g.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),ta=c.ai(g.textSizeData,pe,Sn),vo=_.get("text-padding");Dn=this.collisionIndex.placeCollisionCircles(ue,Sn,g.lineVertexArray,g.glyphOffsetArray,ta,I,L,K,j,p,qe,oe.predicate,rt.collisionCircleDiameter,vo,E,pt),Dn.circles.length&&Dn.collisionDetected&&!p&&c.w("Collisions detected, but collision boxes are not shown"),Xt=ke||Dn.circles.length>0&&!Dn.collisionDetected,Mn=Mn&&Dn.offscreen}if(at.iconFeatureIndex&&(Ou=at.iconFeatureIndex),at.iconBox){const Sn=ta=>this.collisionIndex.placeCollisionBox(ta,$e,X,I,L,qe,We,A,oe.predicate,pt,lt&&Qi?Qi:void 0);si&&si.placeable&&at.verticalIconBox?($n=Sn(at.verticalIconBox),Sr=$n.placeable):($n=Sn(at.iconBox),Sr=$n.placeable),Mn=Mn&&$n.offscreen}const qo=_e||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,ju=Ce||rt.numIconVertices===0;qo||ju?ju?qo||(Sr=Sr&&Xt):Xt=Sr&&Xt:Sr=Xt=Sr&&Xt;const pf=Sr&&$n.placeable;if(Xt&&Gn.placeable&&this.collisionIndex.insertCollisionBox(Gn.box,ue,_.get("text-ignore-placement"),g.bucketInstanceId,si&&si.placeable&&Zo?Zo:ea,oe.ID),pf&&this.collisionIndex.insertCollisionBox($n.box,$e,_.get("icon-ignore-placement"),g.bucketInstanceId,Ou,oe.ID),Dn&&Xt&&this.collisionIndex.insertCollisionCircles(Dn.circles,ue,_.get("text-ignore-placement"),g.bucketInstanceId,ea,oe.ID),p&&this.storeCollisionData(g.bucketInstanceId,It,at,Gn,$n,Dn),rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new br(Xt||Ye,Sr||et,Mn||g.justReloaded),u[rt.crossTileID]=!0};if(ct){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=g.getSortedSymbolIndexes(this.transform.angle);for(let at=rt.length-1;at>=0;--at){const It=rt[at];Lt(g.symbolInstances.get(It),g.collisionArrays[It],It)}}else for(let rt=a.symbolInstanceStart;rt<a.symbolInstanceEnd;rt++)Lt(g.symbolInstances.get(rt),g.collisionArrays[rt],rt);if(p&&g.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[g.bucketInstanceId];c.as(rt.invProjMatrix,I),rt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}storeCollisionData(a,u,p,g,_,E){if(p.textBox||p.iconBox){let A,I;this.collisionBoxArrays.has(a)?A=this.collisionBoxArrays.get(a):(A=new Map,this.collisionBoxArrays.set(a,A)),A.has(u)?I=A.get(u):(I={text:null,icon:null},A.set(u,I)),p.textBox&&(I.text=g.box),p.iconBox&&(I.icon=_.box)}if(E){let A=this.collisionCircleArrays[a];A===void 0&&(A=this.collisionCircleArrays[a]=new tn);for(let I=0;I<E.circles.length;I+=4)A.circles.push(E.circles[I+0]),A.circles.push(E.circles[I+1]),A.circles.push(E.circles[I+2]),A.circles.push(E.collisionDetected?1:0)}}markUsedJustification(a,u,p,g){let _;_=g===c.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[c.at(u)];const E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const A of E)A>=0&&(a.text.placedSymbolArray.get(A).crossTileID=_>=0&&A!==_?0:p.crossTileID)}markUsedOrientation(a,u,p){const g=u===c.ah.horizontal||u===c.ah.horizontalOnly?u:0,_=u===c.ah.vertical?u:0,E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const A of E)a.text.placedSymbolArray.get(A).placedOrientation=g;p.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let p=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const g=u?u.symbolFadeChange(a):1,_=u?u.opacities:{},E=u?u.variableOffsets:{},A=u?u.placedOrientations:{};for(const I in this.placements){const L=this.placements[I],K=_[I];K?(this.opacities[I]=new hr(K,g,L.text,L.icon),p=p||L.text!==K.text.placed||L.icon!==K.icon.placed):(this.opacities[I]=new hr(null,g,L.text,L.icon,L.skipFade),p=p||L.text||L.icon)}for(const I in _){const L=_[I];if(!this.opacities[I]){const K=new hr(L,g,!1,!1);K.isHidden()||(this.opacities[I]=K,p=p||L.text.placed||L.icon.placed)}}for(const I in E)this.variableOffsets[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.variableOffsets[I]=E[I]);for(const I in A)this.placedOrientations[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.placedOrientations[I]=A[I]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:a)}updateLayerOpacities(a,u){const p={};for(const g of u){const _=g.getBucket(a);_&&g.latestFeatureIndex&&a.id===_.layerIds[0]&&this.updateBucketOpacities(_,g.tileID,p,g.collisionBoxArray)}}updateBucketOpacities(a,u,p,g){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const _=a.layers[0],E=_.layout,A=new hr(null,0,!1,!1,!0),I=E.get("text-allow-overlap"),L=E.get("icon-allow-overlap"),K=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),j=E.get("text-rotation-alignment")==="map",X=E.get("text-pitch-alignment")==="map",te=E.get("icon-text-fit")!=="none",ne=new hr(null,0,I&&(L||!a.hasIconData()||E.get("icon-optional")),L&&(I||!a.hasTextData()||E.get("text-optional")),!0);!a.collisionArrays&&g&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(g);const pe=(_e,Ce,ue)=>{for(let ke=0;ke<Ce/4;ke++)_e.opacityVertexArray.emplaceBack(ue);_e.hasVisibleVertices=_e.hasVisibleVertices||ue!==Kl},oe=this.collisionBoxArrays.get(a.bucketInstanceId);for(let _e=0;_e<a.symbolInstances.length;_e++){const Ce=a.symbolInstances.get(_e),{numHorizontalGlyphVertices:ue,numVerticalGlyphVertices:ke,crossTileID:$e}=Ce;let Fe=this.opacities[$e];p[$e]?Fe=A:Fe||(Fe=ne,this.opacities[$e]=Fe),p[$e]=!0;const We=Ce.numIconVertices>0,qe=this.placedOrientations[Ce.crossTileID],lt=qe===c.ah.vertical,ct=qe===c.ah.horizontal||qe===c.ah.horizontalOnly;if(ue>0||ke>0){const et=ii(Fe.text);pe(a.text,ue,lt?Kl:et),pe(a.text,ke,ct?Kl:et);const pt=Fe.text.isHidden();[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(at=>{at>=0&&(a.text.placedSymbolArray.get(at).hidden=pt||lt?1:0)}),Ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(Ce.verticalPlacedTextSymbolIndex).hidden=pt||ct?1:0);const Lt=this.variableOffsets[Ce.crossTileID];Lt&&this.markUsedJustification(a,Lt.anchor,Ce,qe);const rt=this.placedOrientations[Ce.crossTileID];rt&&(this.markUsedJustification(a,"left",Ce,rt),this.markUsedOrientation(a,rt,Ce))}if(We){const et=ii(Fe.icon),pt=!(te&&Ce.verticalPlacedIconSymbolIndex&&lt);Ce.placedIconSymbolIndex>=0&&(pe(a.icon,Ce.numIconVertices,pt?et:Kl),a.icon.placedSymbolArray.get(Ce.placedIconSymbolIndex).hidden=Fe.icon.isHidden()),Ce.verticalPlacedIconSymbolIndex>=0&&(pe(a.icon,Ce.numVerticalIconVertices,pt?Kl:et),a.icon.placedSymbolArray.get(Ce.verticalPlacedIconSymbolIndex).hidden=Fe.icon.isHidden())}const Ye=oe&&oe.has(_e)?oe.get(_e):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const et=a.collisionArrays[_e];if(et){let pt=new c.P(0,0);if(et.textBox||et.verticalTextBox){let Lt=!0;if(K){const rt=this.variableOffsets[$e];rt?(pt=on(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),j&&pt._rotate(X?this.transform.angle:-this.transform.angle)):Lt=!1}if(et.textBox||et.verticalTextBox){let rt;et.textBox&&(rt=lt),et.verticalTextBox&&(rt=ct),wi(a.textCollisionBox.collisionVertexArray,Fe.text.placed,!Lt||rt,Ye.text,pt.x,pt.y)}}if(et.iconBox||et.verticalIconBox){const Lt=!!(!ct&&et.verticalIconBox);let rt;et.iconBox&&(rt=Lt),et.verticalIconBox&&(rt=!Lt),wi(a.iconCollisionBox.collisionVertexArray,Fe.icon.placed,rt,Ye.icon,te?pt.x:0,te?pt.y:0)}}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const _e=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=_e.invProjMatrix,a.placementViewportMatrix=_e.viewportMatrix,a.collisionCircleArray=_e.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,u){const p=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*p>a}setStale(){this.stale=!0}}function wi(x,a,u,p,g,_){p&&p.length!==0||(p=[0,0,0,0]);const E=p[0]-St,A=p[1]-St,I=p[2]-St,L=p[3]-St;x.emplaceBack(a?1:0,u?1:0,g||0,_||0,E,A),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,I,A),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,I,L),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,E,L)}const sn=Math.pow(2,25),Ms=Math.pow(2,24),V0=Math.pow(2,17),dr=Math.pow(2,16),Ch=Math.pow(2,9),Eh=Math.pow(2,8),Si=Math.pow(2,1);function ii(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;const a=x.placed?1:0,u=Math.floor(127*x.opacity);return u*sn+a*Ms+u*V0+a*dr+u*Ch+a*Eh+u*Si+a}const Kl=0;function ai(){return{isOccluded:(x,a,u)=>!1,getPitchedTextCorrection:(x,a,u)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(x,a,u,p){throw new Error("Not implemented.")},translatePosition:(x,a,u,p)=>function(g,_,E,A,I=!1){if(!E[0]&&!E[1])return[0,0];const L=I?A==="map"?g.angle:0:A==="viewport"?-g.angle:0;if(L){const K=Math.sin(L),j=Math.cos(L);E=[E[0]*j-E[1]*K,E[0]*K+E[1]*j]}return[I?E[0]:Rt(_,E[0],g.zoom),I?E[1]:Rt(_,E[1],g.zoom)]}(x,a,u,p),getCircleRadiusCorrection:x=>1}}class Fi{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,u,p,g,_){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(u.getBucketParts(E,g,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((A,I)=>A.sortKey-I.sortKey));this._currentPartIndex<E.length;)if(u.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,_())return!0;return!1}}class Pm{constructor(a,u,p,g,_,E,A,I){this.placement=new ni(a,ai(),u,E,A,I),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(a,u,p){const g=T.now(),_=()=>!this._forceFullPlacement&&T.now()-g>2;for(;this._currentPlacementIndex>=0;){const E=u[a[this._currentPlacementIndex]],A=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=A)&&(!E.maxzoom||E.maxzoom>A)){if(this._inProgressLayer||(this._inProgressLayer=new Fi(E)),this._inProgressLayer.continuePlacement(p[E.source],this.placement,this._showCollisionBoxes,E,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Ua=512/c.W/2;class rn{constructor(a,u,p){this.tileID=a,this.bucketInstanceId=p,this._symbolsByKey={};const g=new Map;for(let _=0;_<u.length;_++){const E=u.get(_),A=E.key,I=g.get(A);I?I.push(E):g.set(A,[E])}for(const[_,E]of g){const A={positions:E.map(I=>({x:Math.floor(I.anchorX*Ua),y:Math.floor(I.anchorY*Ua)})),crossTileIDs:E.map(I=>I.crossTileID)};if(A.positions.length>128){const I=new c.av(A.positions.length,16,Uint16Array);for(const{x:L,y:K}of A.positions)I.add(L,K);I.finish(),delete A.positions,A.index=I}this._symbolsByKey[_]=A}}getScaledCoordinates(a,u){const{x:p,y:g,z:_}=this.tileID.canonical,{x:E,y:A,z:I}=u.canonical,L=Ua/Math.pow(2,I-_),K=(A*c.W+a.anchorY)*L,j=g*c.W*Ua;return{x:Math.floor((E*c.W+a.anchorX)*L-p*c.W*Ua),y:Math.floor(K-j)}}findMatches(a,u,p){const g=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let _=0;_<a.length;_++){const E=a.get(_);if(E.crossTileID)continue;const A=this._symbolsByKey[E.key];if(!A)continue;const I=this.getScaledCoordinates(E,u);if(A.index){const L=A.index.range(I.x-g,I.y-g,I.x+g,I.y+g).sort();for(const K of L){const j=A.crossTileIDs[K];if(!p[j]){p[j]=!0,E.crossTileID=j;break}}}else if(A.positions)for(let L=0;L<A.positions.length;L++){const K=A.positions[L],j=A.crossTileIDs[L];if(Math.abs(K.x-I.x)<=g&&Math.abs(K.y-I.y)<=g&&!p[j]){p[j]=!0,E.crossTileID=j;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class Hl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Bo{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const u=Math.round((a-this.lng)/360);if(u!==0)for(const p in this.indexes){const g=this.indexes[p],_={};for(const E in g){const A=g[E];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+u),_[A.tileID.key]=A}this.indexes[p]=_}this.lng=a}addBucket(a,u,p){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let _=0;_<u.symbolInstances.length;_++)u.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const g=this.usedCrossTileIDs[a.overscaledZ];for(const _ in this.indexes){const E=this.indexes[_];if(Number(_)>a.overscaledZ)for(const A in E){const I=E[A];I.tileID.isChildOf(a)&&I.findMatches(u.symbolInstances,a,g)}else{const A=E[a.scaledTo(Number(_)).key];A&&A.findMatches(u.symbolInstances,a,g)}}for(let _=0;_<u.symbolInstances.length;_++){const E=u.symbolInstances.get(_);E.crossTileID||(E.crossTileID=p.generate(),g[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new rn(a,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(a,u){for(const p of u.getCrossTileIDsLists())for(const g of p)delete this.usedCrossTileIDs[a][g]}removeStaleBuckets(a){let u=!1;for(const p in this.indexes){const g=this.indexes[p];for(const _ in g)a[g[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,g[_]),delete g[_],u=!0)}return u}}class Ur{constructor(){this.layerIndexes={},this.crossTileIDs=new Hl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,u,p){let g=this.layerIndexes[a.id];g===void 0&&(g=this.layerIndexes[a.id]=new Bo);let _=!1;const E={};g.handleWrapJump(p);for(const A of u){const I=A.getBucket(a);I&&a.id===I.layerIds[0]&&(I.bucketInstanceId||(I.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(A.tileID,I,this.crossTileIDs)&&(_=!0),E[I.bucketInstanceId]=!0)}return g.removeStaleBuckets(E)&&(_=!0),_}pruneUnusedLayers(a){const u={};a.forEach(p=>{u[p]=!0});for(const p in this.layerIndexes)u[p]||delete this.layerIndexes[p]}}const No=(x,a)=>c.t(x,a&&a.filter(u=>u.identifier!=="source.canvas")),Ji=c.aw();class lu extends c.E{constructor(a,u={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const g=this.sourceCaches[p].getSource().type;g!=="vector"&&g!=="geojson"||this.sourceCaches[p].reload()}},this.map=a,this.dispatcher=new Pt(Et(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(p,g)=>this.getGlyphs(p,g)),this.dispatcher.registerMessageHandler("GI",(p,g)=>this.getImages(p,g)),this.imageManager=new ge,this.imageManager.setEventedParent(this),this.glyphManager=new ae(a._requestManager,u.localIdeographFontFamily),this.lineAtlas=new he(256,512),this.crossTileSymbolIndex=new Ur,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",c.ay()),en().on(ho,this._rtlPluginLoaded),this.on("data",p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const g=this.sourceCaches[p.sourceId];if(!g)return;const _=g.getSource();if(_&&_.vectorLayerIds)for(const E in this._layers){const A=this._layers[E];A.source===_.id&&this._validateLayer(A)}})}loadURL(a,u={},p){this.fire(new c.k("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;const g=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController,c.h(g,this._loadStyleRequest).then(_=>{this._loadStyleRequest=null,this._load(_.data,u,p)}).catch(_=>{this._loadStyleRequest=null,_&&this.fire(new c.j(_))})}loadJSON(a,u={},p){this.fire(new c.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,T.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,u.validate=u.validate!==!1,this._load(a,u,p)}).catch(()=>{})}loadEmpty(){this.fire(new c.k("dataloading",{dataType:"style"})),this._load(Ji,{validate:!1})}_load(a,u,p){var g;const _=u.transformStyle?u.transformStyle(p,a):a;if(!u.validate||!No(this,c.x(_))){this._loaded=!0,this.stylesheet=_;for(const E in _.sources)this.addSource(E,_.sources[E],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Oe(this.stylesheet.light),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new c.k("data",{dataType:"style"})),this.fire(new c.k("style.load"))}}_createLayers(){const a=c.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(u=>u.id),this._layers={},this._serializedLayers=null;for(const u of a){const p=c.aA(u);p.setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=p}}_loadSprite(a,u=!1,p=void 0){let g;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,E,A,I){return c._(this,void 0,void 0,function*(){const L=me(_),K=A>1?"@2x":"",j={},X={};for(const{id:te,url:ne}of L){const pe=E.transformRequest(xe(ne,K,".json"),"SpriteJSON");j[te]=c.h(pe,I);const oe=E.transformRequest(xe(ne,K,".png"),"SpriteImage");X[te]=O.getImage(oe,I)}return yield Promise.all([...Object.values(j),...Object.values(X)]),function(te,ne){return c._(this,void 0,void 0,function*(){const pe={};for(const oe in te){pe[oe]={};const _e=T.getImageCanvasContext((yield ne[oe]).data),Ce=(yield te[oe]).data;for(const ue in Ce){const{width:ke,height:$e,x:Fe,y:We,sdf:qe,pixelRatio:lt,stretchX:ct,stretchY:Ye,content:et,textFitWidth:pt,textFitHeight:Lt}=Ce[ue];pe[oe][ue]={data:null,pixelRatio:lt,sdf:qe,stretchX:ct,stretchY:Ye,content:et,textFitWidth:pt,textFitHeight:Lt,spriteData:{width:ke,height:$e,x:Fe,y:We,context:_e}}}}return pe})}(j,X)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(const E in _){this._spritesImagesIds[E]=[];const A=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(I=>!(I in _)):[];for(const I of A)this.imageManager.removeImage(I),this._changedImages[I]=!0;for(const I in _[E]){const L=E==="default"?I:`${E}:${I}`;this._spritesImagesIds[E].push(L),L in this.imageManager.images?this.imageManager.updateImage(L,_[E][I],!1):this.imageManager.addImage(L,_[E][I]),u&&(this._changedImages[L]=!0)}}}).catch(_=>{this._spriteRequest=null,g=_,this.fire(new c.j(g))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"})),p&&p(g)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}_validateLayer(a){const u=this.sourceCaches[a.source];if(!u)return;const p=a.sourceLayer;if(!p)return;const g=u.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(p)===-1)&&this.fire(new c.j(new Error(`Source layer "${p}" does not exist on source "${g.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const u=this._serializedAllLayers();if(!a||a.length===0)return Object.values(u);const p=[];for(const g of a)u[g]&&p.push(u[g]);return p}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const u=Object.keys(this._layers);for(const p of u){const g=this._layers[p];g.type!=="custom"&&(a[p]=g.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const u=this._changed;if(u){const g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(g.length||_.length)&&this._updateWorkerLayers(g,_);for(const E in this._updatedSources){const A=this._updatedSources[E];if(A==="reload")this._reloadSource(E);else{if(A!=="clear")throw new Error(`Invalid action ${A}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const p={};for(const g in this.sourceCaches){const _=this.sourceCaches[g];p[g]=_.used,_.used=!1}for(const g of this._order){const _=this._layers[g];_.recalculate(a,this._availableImages),!_.isHidden(a.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const g in p){const _=this.sourceCaches[g];!!p[g]!=!!_.used&&_.fire(new c.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(a),this.z=a.zoom,u&&this.fire(new c.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,u){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,u={}){var p;this._checkLoaded();const g=this.serialize();if(a=u.transformStyle?u.transformStyle(g,a):a,((p=u.validate)===null||p===void 0||p)&&No(this,c.x(a)))return!1;(a=c.aB(a)).layers=c.az(a.layers);const _=c.aC(g,a),E=this._getOperationsToPerform(_);if(E.unimplemented.length>0)throw new Error(`Unimplemented: ${E.unimplemented.join(", ")}.`);if(E.operations.length===0)return!1;for(const A of E.operations)A();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){const u=[],p=[];for(const g of a)switch(g.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":u.push(()=>this.addLayer.apply(this,g.args));break;case"removeLayer":u.push(()=>this.removeLayer.apply(this,g.args));break;case"setPaintProperty":u.push(()=>this.setPaintProperty.apply(this,g.args));break;case"setLayoutProperty":u.push(()=>this.setLayoutProperty.apply(this,g.args));break;case"setFilter":u.push(()=>this.setFilter.apply(this,g.args));break;case"addSource":u.push(()=>this.addSource.apply(this,g.args));break;case"removeSource":u.push(()=>this.removeSource.apply(this,g.args));break;case"setLayerZoomRange":u.push(()=>this.setLayerZoomRange.apply(this,g.args));break;case"setLight":u.push(()=>this.setLight.apply(this,g.args));break;case"setGeoJSONSourceData":u.push(()=>this.setGeoJSONSourceData.apply(this,g.args));break;case"setGlyphs":u.push(()=>this.setGlyphs.apply(this,g.args));break;case"setSprite":u.push(()=>this.setSprite.apply(this,g.args));break;case"setTerrain":u.push(()=>this.map.setTerrain.apply(this,g.args));break;case"setTransition":u.push(()=>{});break;default:p.push(g.command)}return{operations:u,unimplemented:p}}addImage(a,u){if(this.getImage(a))return this.fire(new c.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,u),this._afterImageUpdated(a)}updateImage(a,u){this.imageManager.updateImage(a,u)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new c.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,u,p={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(c.x.source,`sources.${a}`,u,null,p))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const g=this.sourceCaches[a]=new Qe(a,u,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:a})),g.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===a)return this.fire(new c.j(new Error(`Source "${a}" cannot be removed while layer "${p}" is using it.`)));const u=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],u.fire(new c.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,u){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const p=this.sourceCaches[a].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(u),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,u,p={}){this._checkLoaded();const g=a.id;if(this.getLayer(g))return void this.fire(new c.j(new Error(`Layer "${g}" already exists on this map.`)));let _;if(a.type==="custom"){if(No(this,c.aD(a)))return;_=c.aA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(g,a.source),a=c.aB(a),a=c.e(a,{source:g})),this._validate(c.x.layer,`layers.${g}`,a,{arrayIndex:-1},p))return;_=c.aA(a),this._validateLayer(_),_.setEventedParent(this,{layer:{id:g}})}const E=u?this._order.indexOf(u):this._order.length;if(u&&E===-1)this.fire(new c.j(new Error(`Cannot add layer "${g}" before non-existing layer "${u}".`)));else{if(this._order.splice(E,0,g),this._layerOrderChanged=!0,this._layers[g]=_,this._removedLayers[g]&&_.source&&_.type!=="custom"){const A=this._removedLayers[g];delete this._removedLayers[g],A.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(a,u){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new c.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===u)return;const p=this._order.indexOf(a);this._order.splice(p,1);const g=u?this._order.indexOf(u):this._order.length;u&&g===-1?this.fire(new c.j(new Error(`Cannot move layer "${a}" before non-existing layer "${u}".`))):(this._order.splice(g,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const u=this._layers[a];if(!u)return void this.fire(new c.j(new Error(`Cannot remove non-existing layer "${a}".`)));u.setEventedParent(null);const p=this._order.indexOf(a);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=u,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],u.onRemove&&u.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,u,p){this._checkLoaded();const g=this.getLayer(a);g?g.minzoom===u&&g.maxzoom===p||(u!=null&&(g.minzoom=u),p!=null&&(g.maxzoom=p),this._updateLayer(g)):this.fire(new c.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,u,p={}){this._checkLoaded();const g=this.getLayer(a);if(g){if(!c.aE(g.filter,u))return u==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(c.x.filter,`layers.${g.id}.filter`,u,null,p)||(g.filter=c.aB(u),this._updateLayer(g)))}else this.fire(new c.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return c.aB(this.getLayer(a).filter)}setLayoutProperty(a,u,p,g={}){this._checkLoaded();const _=this.getLayer(a);_?c.aE(_.getLayoutProperty(u),p)||(_.setLayoutProperty(u,p,g),this._updateLayer(_)):this.fire(new c.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,u){const p=this.getLayer(a);if(p)return p.getLayoutProperty(u);this.fire(new c.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,u,p,g={}){this._checkLoaded();const _=this.getLayer(a);_?c.aE(_.getPaintProperty(u),p)||(_.setPaintProperty(u,p,g)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new c.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,u){return this.getLayer(a).getPaintProperty(u)}setFeatureState(a,u){this._checkLoaded();const p=a.source,g=a.sourceLayer,_=this.sourceCaches[p];if(_===void 0)return void this.fire(new c.j(new Error(`The source '${p}' does not exist in the map's style.`)));const E=_.getSource().type;E==="geojson"&&g?this.fire(new c.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||g?(a.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(g,a.id,u)):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,u){this._checkLoaded();const p=a.source,g=this.sourceCaches[p];if(g===void 0)return void this.fire(new c.j(new Error(`The source '${p}' does not exist in the map's style.`)));const _=g.getSource().type,E=_==="vector"?a.sourceLayer:void 0;_!=="vector"||E?u&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new c.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(E,a.id,u):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const u=a.source,p=a.sourceLayer,g=this.sourceCaches[u];if(g!==void 0)return g.getSource().type!=="vector"||p?(a.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(p,a.id)):void this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.j(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=c.aF(this.sourceCaches,_=>_.serialize()),u=this._serializeByIds(this._order),p=this.map.getTerrain()||void 0,g=this.stylesheet;return c.aG({version:g.version,name:g.name,metadata:g.metadata,light:g.light,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:a,layers:u,terrain:p},_=>_!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const u=E=>this._layers[E].type==="fill-extrusion",p={},g=[];for(let E=this._order.length-1;E>=0;E--){const A=this._order[E];if(u(A)){p[A]=E;for(const I of a){const L=I[A];if(L)for(const K of L)g.push(K)}}}g.sort((E,A)=>A.intersectionZ-E.intersectionZ);const _=[];for(let E=this._order.length-1;E>=0;E--){const A=this._order[E];if(u(A))for(let I=g.length-1;I>=0;I--){const L=g[I].feature;if(p[L.layer.id]<E)break;_.push(L),g.pop()}else for(const I of a){const L=I[A];if(L)for(const K of L)_.push(K.feature)}}return _}queryRenderedFeatures(a,u,p){u&&u.filter&&this._validate(c.x.filter,"queryRenderedFeatures.filter",u.filter,null,u);const g={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new c.j(new Error("parameters.layers must be an Array."))),[];for(const A of u.layers){const I=this._layers[A];if(!I)return this.fire(new c.j(new Error(`The layer '${A}' does not exist in the map's style and cannot be queried for features.`))),[];g[I.source]=!0}}const _=[];u.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const A in this.sourceCaches)u.layers&&!g[A]||_.push(Nt(this.sourceCaches[A],this._layers,E,a,u,p));return this.placement&&_.push(function(A,I,L,K,j,X,te){const ne={},pe=X.queryRenderedSymbols(K),oe=[];for(const _e of Object.keys(pe).map(Number))oe.push(te[_e]);oe.sort(ar);for(const _e of oe){const Ce=_e.featureIndex.lookupSymbolFeatures(pe[_e.bucketInstanceId],I,_e.bucketIndex,_e.sourceLayerIndex,j.filter,j.layers,j.availableImages,A);for(const ue in Ce){const ke=ne[ue]=ne[ue]||[],$e=Ce[ue];$e.sort((Fe,We)=>{const qe=_e.featureSortOrder;if(qe){const lt=qe.indexOf(Fe.featureIndex);return qe.indexOf(We.featureIndex)-lt}return We.featureIndex-Fe.featureIndex});for(const Fe of $e)ke.push(Fe)}}for(const _e in ne)ne[_e].forEach(Ce=>{const ue=Ce.feature,ke=L[A[_e].source].getFeatureState(ue.layer["source-layer"],ue.id);ue.source=ue.layer.source,ue.layer["source-layer"]&&(ue.sourceLayer=ue.layer["source-layer"]),ue.state=ke});return ne}(this._layers,E,this.sourceCaches,a,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(a,u){u&&u.filter&&this._validate(c.x.filter,"querySourceFeatures.filter",u.filter,null,u);const p=this.sourceCaches[a];return p?function(g,_){const E=g.getRenderableIds().map(L=>g.getTileByID(L)),A=[],I={};for(let L=0;L<E.length;L++){const K=E[L],j=K.tileID.canonical.key;I[j]||(I[j]=!0,K.querySourceFeatures(A,_))}return A}(p,u):[]}getLight(){return this.light.getLight()}setLight(a,u={}){this._checkLoaded();const p=this.light.getLight();let g=!1;for(const E in a)if(!c.aE(a[E],p[E])){g=!0;break}if(!g)return;const _={now:T.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,u),this.light.updateTransitions(_)}_validate(a,u,p,g,_={}){return(!_||_.validate!==!1)&&No(this,a.call(c.x,c.e({key:u,style:this.serialize(),value:p,styleSpec:c.v},g)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),en().off(ho,this._rtlPluginLoaded);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const p=this.sourceCaches[u];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const u in this.sourceCaches)this.sourceCaches[u].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,u,p,g,_=!1){let E=!1,A=!1;const I={};for(const L of this._order){const K=this._layers[L];if(K.type!=="symbol")continue;if(!I[K.source]){const X=this.sourceCaches[K.source];I[K.source]=X.getRenderableIds(!0).map(te=>X.getTileByID(te)).sort((te,ne)=>ne.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ne.tileID)?-1:1))}const j=this.crossTileSymbolIndex.addLayer(K,I[K.source],a.center.lng);E=E||j}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(T.now(),a.zoom))&&(this.pauseablePlacement=new Pm(a,this.map.terrain,this._order,_,u,p,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,I),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(T.now()),A=!0),E&&this.pauseablePlacement.placement.setStale()),A||E)for(const L of this._order){const K=this._layers[L];K.type==="symbol"&&this.placement.updateLayerOpacities(K,I[K.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(T.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,u){return c._(this,void 0,void 0,function*(){const p=yield this.imageManager.getImages(u.icons);this._updateTilesForChangedImages();const g=this.sourceCaches[u.source];return g&&g.setDependencies(u.tileID.key,u.type,u.icons),p})}getGlyphs(a,u){return c._(this,void 0,void 0,function*(){const p=yield this.glyphManager.getGlyphs(u.stacks),g=this.sourceCaches[u.source];return g&&g.setDependencies(u.tileID.key,u.type,[""]),p})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,u={}){this._checkLoaded(),a&&this._validate(c.x.glyphs,"glyphs",a,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,u,p={},g){this._checkLoaded();const _=[{id:a,url:u}],E=[...me(this.stylesheet.sprite),..._];this._validate(c.x.sprite,"sprite",E,null,p)||(this.stylesheet.sprite=E,this._loadSprite(_,!0,g))}removeSprite(a){this._checkLoaded();const u=me(this.stylesheet.sprite);if(u.find(p=>p.id===a)){if(this._spritesImagesIds[a])for(const p of this._spritesImagesIds[a])this.imageManager.removeImage(p),this._changedImages[p]=!0;u.splice(u.findIndex(p=>p.id===a),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}else this.fire(new c.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return me(this.stylesheet.sprite)}setSprite(a,u={},p){this._checkLoaded(),a&&this._validate(c.x.sprite,"sprite",a,null,u)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,p):(this._unloadSprite(),p&&p(null)))}}var ba=c.X([{name:"a_pos",type:"Int16",components:2}]),kh="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ds={prelude:or(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:or(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:or(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:or(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:or("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:or(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:or(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:or("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:or("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:or("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:or(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:or(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:or(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:or(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:or(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:or(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:or(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:or(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:or(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:or(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:or(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:or(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:or(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:or(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:or(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:or(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:or("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",kh),terrainDepth:or("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",kh),terrainCoords:or("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",kh)};function or(x,a){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=a.match(/attribute ([\w]+) ([\w]+)/g),g=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=_?_.concat(g):g,A={};return{fragmentSource:x=x.replace(u,(I,L,K,j,X)=>(A[X]=!0,L==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${K} ${j} ${X};
#else
uniform ${K} ${j} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${K} ${j} ${X} = u_${X};
#endif
`)),vertexSource:a=a.replace(u,(I,L,K,j,X)=>{const te=j==="float"?"vec2":"vec4",ne=X.match(/color/)?"color":te;return A[X]?L==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${K} ${te} a_${X};
varying ${K} ${j} ${X};
#else
uniform ${K} ${j} u_${X};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${K} ${j} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${ne}(a_${X}, u_${X}_t);
#else
    ${K} ${j} ${X} = u_${X};
#endif
`:L==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${K} ${te} a_${X};
#else
uniform ${K} ${j} u_${X};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${K} ${j} ${X} = a_${X};
#else
    ${K} ${j} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${K} ${j} ${X} = unpack_mix_${ne}(a_${X}, u_${X}_t);
#else
    ${K} ${j} ${X} = u_${X};
#endif
`}),staticAttributes:p,staticUniforms:E}}class cu{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,u,p,g,_,E,A,I,L){this.context=a;let K=this.boundPaintVertexBuffers.length!==g.length;for(let j=0;!K&&j<g.length;j++)this.boundPaintVertexBuffers[j]!==g[j]&&(K=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==p||K||this.boundIndexBuffer!==_||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==A||this.boundDynamicVertexBuffer2!==I||this.boundDynamicVertexBuffer3!==L?this.freshBind(u,p,g,_,E,A,I,L):(a.bindVertexArray.set(this.vao),A&&A.bind(),_&&_.dynamicDraw&&_.bind(),I&&I.bind(),L&&L.bind())}freshBind(a,u,p,g,_,E,A,I){const L=a.numAttributes,K=this.context,j=K.gl;this.vao&&this.destroy(),this.vao=K.createVertexArray(),K.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=g,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=A,this.boundDynamicVertexBuffer3=I,u.enableAttributes(j,a);for(const X of p)X.enableAttributes(j,a);E&&E.enableAttributes(j,a),A&&A.enableAttributes(j,a),I&&I.enableAttributes(j,a),u.bind(),u.setVertexAttribPointers(j,a,_);for(const X of p)X.bind(),X.setVertexAttribPointers(j,a,_);E&&(E.bind(),E.setVertexAttribPointers(j,a,_)),g&&g.bind(),A&&(A.bind(),A.setVertexAttribPointers(j,a,_)),I&&(I.bind(),I.setVertexAttribPointers(j,a,_)),K.currentNumAttributes=L}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function $s(x){const a=[];for(let u=0;u<x.length;u++){if(x[u]===null)continue;const p=x[u].split(" ");a.push(p.pop())}return a}class Ah{constructor(a,u,p,g,_,E){const A=a.gl;this.program=A.createProgram();const I=$s(u.staticAttributes),L=p?p.getBinderAttributes():[],K=I.concat(L),j=Ds.prelude.staticUniforms?$s(Ds.prelude.staticUniforms):[],X=u.staticUniforms?$s(u.staticUniforms):[],te=p?p.getBinderUniforms():[],ne=j.concat(X).concat(te),pe=[];for(const Fe of ne)pe.indexOf(Fe)<0&&pe.push(Fe);const oe=p?p.defines():[];_&&oe.push("#define OVERDRAW_INSPECTOR;"),E&&oe.push("#define TERRAIN3D;");const _e=oe.concat(Ds.prelude.fragmentSource,u.fragmentSource).join(`
`),Ce=oe.concat(Ds.prelude.vertexSource,u.vertexSource).join(`
`),ue=A.createShader(A.FRAGMENT_SHADER);if(A.isContextLost())return void(this.failedToCreate=!0);if(A.shaderSource(ue,_e),A.compileShader(ue),!A.getShaderParameter(ue,A.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${A.getShaderInfoLog(ue)}`);A.attachShader(this.program,ue);const ke=A.createShader(A.VERTEX_SHADER);if(A.isContextLost())return void(this.failedToCreate=!0);if(A.shaderSource(ke,Ce),A.compileShader(ke),!A.getShaderParameter(ke,A.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${A.getShaderInfoLog(ke)}`);A.attachShader(this.program,ke),this.attributes={};const $e={};this.numAttributes=K.length;for(let Fe=0;Fe<this.numAttributes;Fe++)K[Fe]&&(A.bindAttribLocation(this.program,Fe,K[Fe]),this.attributes[K[Fe]]=Fe);if(A.linkProgram(this.program),!A.getProgramParameter(this.program,A.LINK_STATUS))throw new Error(`Program failed to link: ${A.getProgramInfoLog(this.program)}`);A.deleteShader(ke),A.deleteShader(ue);for(let Fe=0;Fe<pe.length;Fe++){const We=pe[Fe];if(We&&!$e[We]){const qe=A.getUniformLocation(this.program,We);qe&&($e[We]=qe)}}this.fixedUniforms=g(a,$e),this.terrainUniforms=((Fe,We)=>({u_depth:new c.aH(Fe,We.u_depth),u_terrain:new c.aH(Fe,We.u_terrain),u_terrain_dim:new c.aI(Fe,We.u_terrain_dim),u_terrain_matrix:new c.aJ(Fe,We.u_terrain_matrix),u_terrain_unpack:new c.aK(Fe,We.u_terrain_unpack),u_terrain_exaggeration:new c.aI(Fe,We.u_terrain_exaggeration)}))(a,$e),this.binderUniforms=p?p.getUniforms(a,$e):[]}draw(a,u,p,g,_,E,A,I,L,K,j,X,te,ne,pe,oe,_e,Ce){const ue=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(p),a.setStencilMode(g),a.setColorMode(_),a.setCullFace(E),I){a.activeTexture.set(ue.TEXTURE2),ue.bindTexture(ue.TEXTURE_2D,I.depthTexture),a.activeTexture.set(ue.TEXTURE3),ue.bindTexture(ue.TEXTURE_2D,I.texture);for(const $e in this.terrainUniforms)this.terrainUniforms[$e].set(I[$e])}for(const $e in this.fixedUniforms)this.fixedUniforms[$e].set(A[$e]);pe&&pe.setUniforms(a,this.binderUniforms,te,{zoom:ne});let ke=0;switch(u){case ue.LINES:ke=2;break;case ue.TRIANGLES:ke=3;break;case ue.LINE_STRIP:ke=1}for(const $e of X.get()){const Fe=$e.vaos||($e.vaos={});(Fe[L]||(Fe[L]=new cu)).bind(a,this,K,pe?pe.getPaintVertexBuffers():[],j,$e.vertexOffset,oe,_e,Ce),ue.drawElements(u,$e.primitiveLength*ke,ue.UNSIGNED_SHORT,$e.primitiveOffset*ke*2)}}}function uu(x,a,u){const p=1/Rt(u,1,a.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),_=u.tileSize*Math.pow(2,a.transform.tileZoom)/g,E=_*(u.tileID.canonical.x+u.tileID.wrap*g),A=_*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[p,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[E>>16,A>>16],u_pixel_coord_lower:[65535&E,65535&A]}}const Wl=(x,a,u,p)=>{const g=a.style.light,_=g.properties.get("position"),E=[_.x,_.y,_.z],A=function(){var L=new c.A(9);return c.A!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[5]=0,L[6]=0,L[7]=0),L[0]=1,L[4]=1,L[8]=1,L}();g.properties.get("anchor")==="viewport"&&function(L,K){var j=Math.sin(K),X=Math.cos(K);L[0]=X,L[1]=j,L[2]=0,L[3]=-j,L[4]=X,L[5]=0,L[6]=0,L[7]=0,L[8]=1}(A,-a.transform.angle),function(L,K,j){var X=K[0],te=K[1],ne=K[2];L[0]=X*j[0]+te*j[3]+ne*j[6],L[1]=X*j[1]+te*j[4]+ne*j[7],L[2]=X*j[2]+te*j[5]+ne*j[8]}(E,E,A);const I=g.properties.get("color");return{u_matrix:x,u_lightpos:E,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[I.r,I.g,I.b],u_vertical_gradient:+u,u_opacity:p}},Ih=(x,a,u,p,g,_,E)=>c.e(Wl(x,a,u,p),uu(_,a,E),{u_height_factor:-Math.pow(2,g.overscaledZ)/E.tileSize/8}),du=x=>({u_matrix:x}),Gl=(x,a,u,p)=>c.e(du(x),uu(u,a,p)),hu=(x,a)=>({u_matrix:x,u_world:a}),Zl=(x,a,u,p,g)=>c.e(Gl(x,a,u,p),{u_world:g}),U0=(x,a,u,p)=>{const g=x.transform;let _,E;if(p.paint.get("circle-pitch-alignment")==="map"){const A=Rt(u,1,g.zoom);_=!0,E=[A,A]}else _=!1,E=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:x.translatePosMatrix(a.posMatrix,u,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:E}},K0=(x,a,u)=>({u_matrix:x,u_inv_matrix:a,u_camera_to_center_distance:u.cameraToCenterDistance,u_viewport_size:[u.width,u.height]}),Mh=(x,a,u=1)=>({u_matrix:x,u_color:a,u_overlay:0,u_overlay_scale:u}),Tm=x=>({u_matrix:x}),Oo=(x,a,u,p)=>({u_matrix:x,u_extrude_scale:Rt(a,1,u),u_intensity:p});function fu(x,a){const u=Math.pow(2,a.canonical.z),p=a.canonical.y;return[new c.Y(0,p/u).toLngLat().lat,new c.Y(0,(p+1)/u).toLngLat().lat]}const Wn=(x,a,u,p)=>{const g=x.transform;return{u_matrix:Rh(x,a,u,p),u_ratio:1/Rt(a,1,g.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},Pi=(x,a,u,p,g)=>c.e(Wn(x,a,u,g),{u_image:0,u_image_height:p}),Dh=(x,a,u,p,g)=>{const _=x.transform,E=$h(a,_);return{u_matrix:Rh(x,a,u,g),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Rt(a,1,_.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[E,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},pu=(x,a,u,p,g,_)=>{const E=x.lineAtlas,A=$h(a,x.transform),I=u.layout.get("line-cap")==="round",L=E.getDash(p.from,I),K=E.getDash(p.to,I),j=L.width*g.fromScale,X=K.width*g.toScale;return c.e(Wn(x,a,u,_),{u_patternscale_a:[A/j,-L.height/2],u_patternscale_b:[A/X,-K.height/2],u_sdfgamma:E.width/(256*Math.min(j,X)*x.pixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:K.y,u_mix:g.t})};function $h(x,a){return 1/Rt(x,1,a.tileZoom)}function Rh(x,a,u,p){return x.translatePosMatrix(p?p.posMatrix:a.tileID.posMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const Rs=(x,a,u,p,g)=>{return{u_matrix:x,u_tl_parent:a,u_scale_parent:u,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(E=g.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:H0(g.paint.get("raster-hue-rotate"))};var _,E};function H0(x){x*=Math.PI/180;const a=Math.sin(x),u=Math.cos(x);return[(2*u+1)/3,(-Math.sqrt(3)*a-u+1)/3,(Math.sqrt(3)*a-u+1)/3]}const Cm=(x,a,u,p,g,_,E,A,I,L,K,j,X,te)=>{const ne=E.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:ne.cameraToCenterDistance,u_pitch:ne.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:ne.width/ne.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:I,u_coord_matrix:L,u_is_text:+j,u_pitch_with_map:+p,u_is_along_line:g,u_is_variable_anchor:_,u_texsize:X,u_texture:0,u_translation:K,u_pitched_scale:te}},Em=(x,a,u,p,g,_,E,A,I,L,K,j,X,te,ne)=>{const pe=E.transform;return c.e(Cm(x,a,u,p,g,_,E,A,I,L,K,j,X,ne),{u_gamma_scale:p?Math.cos(pe._pitch)*pe.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:+te})},W0=(x,a,u,p,g,_,E,A,I,L,K,j,X,te)=>c.e(Em(x,a,u,p,g,_,E,A,I,L,K,!0,j,!0,te),{u_texsize_icon:X,u_texture_icon:1}),G0=(x,a,u)=>({u_matrix:x,u_opacity:a,u_color:u}),Z0=(x,a,u,p,g,_)=>c.e(function(E,A,I,L){const K=I.imageManager.getPattern(E.from.toString()),j=I.imageManager.getPattern(E.to.toString()),{width:X,height:te}=I.imageManager.getPixelSize(),ne=Math.pow(2,L.tileID.overscaledZ),pe=L.tileSize*Math.pow(2,I.transform.tileZoom)/ne,oe=pe*(L.tileID.canonical.x+L.tileID.wrap*ne),_e=pe*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:K.tl,u_pattern_br_a:K.br,u_pattern_tl_b:j.tl,u_pattern_br_b:j.br,u_texsize:[X,te],u_mix:A.t,u_pattern_size_a:K.displaySize,u_pattern_size_b:j.displaySize,u_scale_a:A.fromScale,u_scale_b:A.toScale,u_tile_units_to_pixels:1/Rt(L,1,I.transform.tileZoom),u_pixel_coord_upper:[oe>>16,_e>>16],u_pixel_coord_lower:[65535&oe,65535&_e]}}(p,_,u,g),{u_matrix:x,u_opacity:a}),mu={fillExtrusion:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_lightpos:new c.aL(x,a.u_lightpos),u_lightintensity:new c.aI(x,a.u_lightintensity),u_lightcolor:new c.aL(x,a.u_lightcolor),u_vertical_gradient:new c.aI(x,a.u_vertical_gradient),u_opacity:new c.aI(x,a.u_opacity)}),fillExtrusionPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_lightpos:new c.aL(x,a.u_lightpos),u_lightintensity:new c.aI(x,a.u_lightintensity),u_lightcolor:new c.aL(x,a.u_lightcolor),u_vertical_gradient:new c.aI(x,a.u_vertical_gradient),u_height_factor:new c.aI(x,a.u_height_factor),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade),u_opacity:new c.aI(x,a.u_opacity)}),fill:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix)}),fillPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),fillOutline:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world)}),fillOutlinePattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),circle:(x,a)=>({u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_scale_with_map:new c.aH(x,a.u_scale_with_map),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_extrude_scale:new c.aM(x,a.u_extrude_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_matrix:new c.aJ(x,a.u_matrix)}),collisionBox:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_pixel_extrude_scale:new c.aM(x,a.u_pixel_extrude_scale)}),collisionCircle:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_inv_matrix:new c.aJ(x,a.u_inv_matrix),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_viewport_size:new c.aM(x,a.u_viewport_size)}),debug:(x,a)=>({u_color:new c.aN(x,a.u_color),u_matrix:new c.aJ(x,a.u_matrix),u_overlay:new c.aH(x,a.u_overlay),u_overlay_scale:new c.aI(x,a.u_overlay_scale)}),clippingMask:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix)}),heatmap:(x,a)=>({u_extrude_scale:new c.aI(x,a.u_extrude_scale),u_intensity:new c.aI(x,a.u_intensity),u_matrix:new c.aJ(x,a.u_matrix)}),heatmapTexture:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world),u_image:new c.aH(x,a.u_image),u_color_ramp:new c.aH(x,a.u_color_ramp),u_opacity:new c.aI(x,a.u_opacity)}),hillshade:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_latrange:new c.aM(x,a.u_latrange),u_light:new c.aM(x,a.u_light),u_shadow:new c.aN(x,a.u_shadow),u_highlight:new c.aN(x,a.u_highlight),u_accent:new c.aN(x,a.u_accent)}),hillshadePrepare:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_dimension:new c.aM(x,a.u_dimension),u_zoom:new c.aI(x,a.u_zoom),u_unpack:new c.aK(x,a.u_unpack)}),line:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels)}),lineGradient:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_image:new c.aH(x,a.u_image),u_image_height:new c.aI(x,a.u_image_height)}),linePattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texsize:new c.aM(x,a.u_texsize),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_image:new c.aH(x,a.u_image),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),lineSDF:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_patternscale_a:new c.aM(x,a.u_patternscale_a),u_patternscale_b:new c.aM(x,a.u_patternscale_b),u_sdfgamma:new c.aI(x,a.u_sdfgamma),u_image:new c.aH(x,a.u_image),u_tex_y_a:new c.aI(x,a.u_tex_y_a),u_tex_y_b:new c.aI(x,a.u_tex_y_b),u_mix:new c.aI(x,a.u_mix)}),raster:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_tl_parent:new c.aM(x,a.u_tl_parent),u_scale_parent:new c.aI(x,a.u_scale_parent),u_buffer_scale:new c.aI(x,a.u_buffer_scale),u_fade_t:new c.aI(x,a.u_fade_t),u_opacity:new c.aI(x,a.u_opacity),u_image0:new c.aH(x,a.u_image0),u_image1:new c.aH(x,a.u_image1),u_brightness_low:new c.aI(x,a.u_brightness_low),u_brightness_high:new c.aI(x,a.u_brightness_high),u_saturation_factor:new c.aI(x,a.u_saturation_factor),u_contrast_factor:new c.aI(x,a.u_contrast_factor),u_spin_weights:new c.aL(x,a.u_spin_weights)}),symbolIcon:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texture:new c.aH(x,a.u_texture),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),symbolSDF:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texture:new c.aH(x,a.u_texture),u_gamma_scale:new c.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_is_halo:new c.aH(x,a.u_is_halo),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),symbolTextAndIcon:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texsize_icon:new c.aM(x,a.u_texsize_icon),u_texture:new c.aH(x,a.u_texture),u_texture_icon:new c.aH(x,a.u_texture_icon),u_gamma_scale:new c.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_is_halo:new c.aH(x,a.u_is_halo),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),background:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_opacity:new c.aI(x,a.u_opacity),u_color:new c.aN(x,a.u_color)}),backgroundPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_opacity:new c.aI(x,a.u_opacity),u_image:new c.aH(x,a.u_image),u_pattern_tl_a:new c.aM(x,a.u_pattern_tl_a),u_pattern_br_a:new c.aM(x,a.u_pattern_br_a),u_pattern_tl_b:new c.aM(x,a.u_pattern_tl_b),u_pattern_br_b:new c.aM(x,a.u_pattern_br_b),u_texsize:new c.aM(x,a.u_texsize),u_mix:new c.aI(x,a.u_mix),u_pattern_size_a:new c.aM(x,a.u_pattern_size_a),u_pattern_size_b:new c.aM(x,a.u_pattern_size_b),u_scale_a:new c.aI(x,a.u_scale_a),u_scale_b:new c.aI(x,a.u_scale_b),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_tile_units_to_pixels:new c.aI(x,a.u_tile_units_to_pixels)}),terrain:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texture:new c.aH(x,a.u_texture),u_ele_delta:new c.aI(x,a.u_ele_delta)}),terrainDepth:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ele_delta:new c.aI(x,a.u_ele_delta)}),terrainCoords:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texture:new c.aH(x,a.u_texture),u_terrain_coords_id:new c.aI(x,a.u_terrain_coords_id),u_ele_delta:new c.aI(x,a.u_ele_delta)})};class Lh{constructor(a,u,p){this.context=a;const g=a.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const gu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class zh{constructor(a,u,p,g){this.length=u.length,this.attributes=p,this.itemSize=u.bytesPerElement,this.dynamicDraw=g,this.context=a;const _=a.gl;this.buffer=_.createBuffer(),a.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,u){for(let p=0;p<this.attributes.length;p++){const g=u.attributes[this.attributes[p].name];g!==void 0&&a.enableVertexAttribArray(g)}}setVertexAttribPointers(a,u,p){for(let g=0;g<this.attributes.length;g++){const _=this.attributes[g],E=u.attributes[_.name];E!==void 0&&a.vertexAttribPointer(E,_.components,a[gu[_.type]],!1,this.itemSize,_.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const ql=new WeakMap;function Ti(x){var a;if(ql.has(x))return ql.get(x);{const u=(a=x.getParameter(x.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return ql.set(x,u),u}}class sr{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Fh extends sr{getDefault(){return c.aP.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Yl extends sr{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Xl extends sr{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class q0 extends sr{getDefault(){return[!0,!0,!0,!0]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class yu extends sr{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Y0 extends sr{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class Ls extends sr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const u=this.current;(a.func!==u.func||a.ref!==u.ref||a.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class X0 extends sr{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class km extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=a,this.dirty=!1}}class J0 extends sr{getDefault(){return[0,1]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class Am extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=a,this.dirty=!1}}class Bh extends sr{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Im extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.BLEND):u.disable(u.BLEND),this.current=a,this.dirty=!1}}class Mm extends sr{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Dm extends sr{getDefault(){return c.aP.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class $m extends sr{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class jo extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=a,this.dirty=!1}}class Rm extends sr{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class Q0 extends sr{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class ex extends sr{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Lm extends sr{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class Jl extends sr{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class tx extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class vu extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class rx extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class nx extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class zm extends sr{getDefault(){return null}set(a){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Fm extends sr{getDefault(){return null}set(a){var u;if(a===this.current&&!this.dirty)return;const p=this.gl;Ti(p)?p.bindVertexArray(a):(u=p.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class Bm extends sr{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class Nh extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Nm extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class zs extends sr{constructor(a,u){super(a),this.context=a,this.parent=u}getDefault(){return null}}class Ka extends zs{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Oh extends zs{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class jh extends zs{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Vh{constructor(a,u,p,g,_){this.context=a,this.width=u,this.height=p;const E=a.gl,A=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Ka(a,A),g)this.depthAttachment=_?new jh(a,A):new Oh(a,A);else if(_)throw new Error("Stencil cannot be set without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,u=this.colorAttachment.get();if(u&&a.deleteTexture(u),this.depthAttachment){const p=this.depthAttachment.get();p&&a.deleteRenderbuffer(p)}a.deleteFramebuffer(this.framebuffer)}}class Kr{constructor(a,u,p){this.blendFunction=a,this.blendColor=u,this.mask=p}}Kr.Replace=[1,0],Kr.disabled=new Kr(Kr.Replace,c.aP.transparent,[!1,!1,!1,!1]),Kr.unblended=new Kr(Kr.Replace,c.aP.transparent,[!0,!0,!0,!0]),Kr.alphaBlended=new Kr([1,771],c.aP.transparent,[!0,!0,!0,!0]);class Uh{constructor(a){var u,p;if(this.gl=a,this.clearColor=new Fh(this),this.clearDepth=new Yl(this),this.clearStencil=new Xl(this),this.colorMask=new q0(this),this.depthMask=new yu(this),this.stencilMask=new Y0(this),this.stencilFunc=new Ls(this),this.stencilOp=new X0(this),this.stencilTest=new km(this),this.depthRange=new J0(this),this.depthTest=new Am(this),this.depthFunc=new Bh(this),this.blend=new Im(this),this.blendFunc=new Mm(this),this.blendColor=new Dm(this),this.blendEquation=new $m(this),this.cullFace=new jo(this),this.cullFaceSide=new Rm(this),this.frontFace=new Q0(this),this.program=new ex(this),this.activeTexture=new Lm(this),this.viewport=new Jl(this),this.bindFramebuffer=new tx(this),this.bindRenderbuffer=new vu(this),this.bindTexture=new rx(this),this.bindVertexBuffer=new nx(this),this.bindElementBuffer=new zm(this),this.bindVertexArray=new Fm(this),this.pixelStoreUnpack=new Bm(this),this.pixelStoreUnpackPremultiplyAlpha=new Nh(this),this.pixelStoreUnpackFlipY=new Nm(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),Ti(a)){this.HALF_FLOAT=a.HALF_FLOAT;const g=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=a.RGBA16F)!==null&&u!==void 0?u:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(p=a.RGB16F)!==null&&p!==void 0?p:g==null?void 0:g.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const g=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,u){return new Lh(this,a,u)}createVertexBuffer(a,u,p){return new zh(this,a,u,p)}createRenderbuffer(a,u,p){const g=this.gl,_=g.createRenderbuffer();return this.bindRenderbuffer.set(_),g.renderbufferStorage(g.RENDERBUFFER,a,u,p),this.bindRenderbuffer.set(null),_}createFramebuffer(a,u,p,g){return new Vh(this,a,u,p,g)}clear({color:a,depth:u,stencil:p}){const g=this.gl;let _=0;a&&(_|=g.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(_|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),p!==void 0&&(_|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),g.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){c.aE(a.blendFunction,Kr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return Ti(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var u;return Ti(this.gl)?this.gl.deleteVertexArray(a):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class Wt{constructor(a,u,p){this.func=a,this.mask=u,this.range=p}}Wt.ReadOnly=!1,Wt.ReadWrite=!0,Wt.disabled=new Wt(519,Wt.ReadOnly,[0,1]);const Ql=7680;class Mr{constructor(a,u,p,g,_,E){this.test=a,this.ref=u,this.mask=p,this.fail=g,this.depthFail=_,this.pass=E}}Mr.disabled=new Mr({func:519,mask:0},0,0,Ql,Ql,Ql);class Ar{constructor(a,u,p){this.enable=a,this.mode=u,this.frontFace=p}}let xu;function Om(x,a,u,p,g){const _=x.context,E=_.gl,A=x.useProgram("collisionBox"),I=[];let L=0,K=0;for(let _e=0;_e<p.length;_e++){const Ce=p[_e],ue=a.getTile(Ce).getBucket(u);if(!ue)continue;const ke=g?ue.textCollisionBox:ue.iconCollisionBox,$e=ue.collisionCircleArray;if($e.length>0){const Fe=c.F();c.aQ(Fe,ue.placementInvProjMatrix,x.transform.glCoordMatrix),c.aQ(Fe,Fe,ue.placementViewportMatrix),I.push({circleArray:$e,circleOffset:K,transform:Ce.posMatrix,invTransform:Fe,coord:Ce}),L+=$e.length/4,K=L}ke&&A.draw(_,E.LINES,Wt.disabled,Mr.disabled,x.colorModeForRenderPass(),Ar.disabled,{u_matrix:Ce.posMatrix,u_pixel_extrude_scale:[1/(j=x.transform).width,1/j.height]},x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ce),u.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,null,x.transform.zoom,null,null,ke.collisionVertexBuffer)}var j;if(!g||!I.length)return;const X=x.useProgram("collisionCircle"),te=new c.aR;te.resize(4*L),te._trim();let ne=0;for(const _e of I)for(let Ce=0;Ce<_e.circleArray.length/4;Ce++){const ue=4*Ce,ke=_e.circleArray[ue+0],$e=_e.circleArray[ue+1],Fe=_e.circleArray[ue+2],We=_e.circleArray[ue+3];te.emplace(ne++,ke,$e,Fe,We,0),te.emplace(ne++,ke,$e,Fe,We,1),te.emplace(ne++,ke,$e,Fe,We,2),te.emplace(ne++,ke,$e,Fe,We,3)}(!xu||xu.length<2*L)&&(xu=function(_e){const Ce=2*_e,ue=new c.aT;ue.resize(Ce),ue._trim();for(let ke=0;ke<Ce;ke++){const $e=6*ke;ue.uint16[$e+0]=4*ke+0,ue.uint16[$e+1]=4*ke+1,ue.uint16[$e+2]=4*ke+2,ue.uint16[$e+3]=4*ke+2,ue.uint16[$e+4]=4*ke+3,ue.uint16[$e+5]=4*ke+0}return ue}(L));const pe=_.createIndexBuffer(xu,!0),oe=_.createVertexBuffer(te,c.aS.members,!0);for(const _e of I){const Ce=K0(_e.transform,_e.invTransform,x.transform);X.draw(_,E.TRIANGLES,Wt.disabled,Mr.disabled,x.colorModeForRenderPass(),Ar.disabled,Ce,x.style.map.terrain&&x.style.map.terrain.getTerrainData(_e.coord),u.id,oe,pe,c.$.simpleSegment(0,2*_e.circleOffset,_e.circleArray.length,_e.circleArray.length/2),null,x.transform.zoom,null,null,null)}oe.destroy(),pe.destroy()}Ar.disabled=new Ar(!1,1029,2305),Ar.backCCW=new Ar(!0,1029,2305);const Kh=c.an(new Float32Array(16));function ix(x,a,u,p,g,_){const{horizontalAlign:E,verticalAlign:A}=c.au(x);return new c.P((-(E-.5)*a/g+p[0])*_,(-(A-.5)*u/g+p[1])*_)}function jm(x,a,u,p,g,_){const E=a.tileAnchorPoint.add(new c.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let A=p.mult(_);return u||(A=A.rotate(-g)),pn(E.add(A),a.labelPlaneMatrix,a.getElevation).point}if(u){const A=be(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(x),I=Math.atan(A.y/A.x)+(A.x<0?Math.PI:0);return x.add(p.rotate(I))}return x.add(p)}function _u(x,a,u,p,g,_,E,A,I,L,K,j,X,te){const ne=x.text.placedSymbolArray,pe=x.text.dynamicLayoutVertexArray,oe=x.icon.dynamicLayoutVertexArray,_e={};pe.clear();for(let Ce=0;Ce<ne.length;Ce++){const ue=ne.get(Ce),ke=ue.hidden||!ue.crossTileID||x.allowVerticalPlacement&&!ue.placedOrientation?null:p[ue.crossTileID];if(ke){const $e=new c.P(ue.anchorX,ue.anchorY),Fe={getElevation:te,width:g.width,height:g.height,labelPlaneMatrix:_,lineVertexArray:null,pitchWithMap:u,projection:K,projectionCache:null,tileAnchorPoint:$e,translation:j,unwrappedTileID:X},We=u?pn($e,E,te):be($e.x,$e.y,Fe),qe=ce(g.cameraToCenterDistance,We.signedDistanceFromCamera);let lt=c.ai(x.textSizeData,I,ue)*qe/c.ap;u&&(lt*=x.tilePixelRatio/A);const{width:ct,height:Ye,anchor:et,textOffset:pt,textBoxScale:Lt}=ke,rt=ix(et,ct,Ye,pt,Lt,lt),at=K.getPitchedTextCorrection(g,$e.add(new c.P(j[0],j[1])),X),It=jm(We.point,Fe,a,rt,g.angle,at),wr=x.allowVerticalPlacement&&ue.placedOrientation===c.ah.vertical?Math.PI/2:0;for(let Ht=0;Ht<ue.numGlyphs;Ht++)c.aj(pe,It,wr);L&&ue.associatedIconIndex>=0&&(_e[ue.associatedIconIndex]={shiftedAnchor:It,angle:wr})}else Tt(ue.numGlyphs,pe)}if(L){oe.clear();const Ce=x.icon.placedSymbolArray;for(let ue=0;ue<Ce.length;ue++){const ke=Ce.get(ue);if(ke.hidden)Tt(ke.numGlyphs,oe);else{const $e=_e[ue];if($e)for(let Fe=0;Fe<ke.numGlyphs;Fe++)c.aj(oe,$e.shiftedAnchor,$e.angle);else Tt(ke.numGlyphs,oe)}}x.icon.dynamicLayoutVertexBuffer.updateData(oe)}x.text.dynamicLayoutVertexBuffer.updateData(pe)}function bu(x,a,u){return u.iconsInText&&a?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function ec(x,a,u,p,g,_,E,A,I,L,K,j){const X=x.context,te=X.gl,ne=x.transform,pe=ai(),oe=A==="map",_e=I==="map",Ce=A!=="viewport"&&u.layout.get("symbol-placement")!=="point",ue=oe&&!_e&&!Ce,ke=!_e&&Ce,$e=!u.layout.get("symbol-sort-key").isConstant();let Fe=!1;const We=x.depthModeForSublayer(0,Wt.ReadOnly),qe=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),lt=[],ct=pe.getCircleRadiusCorrection(ne);for(const Ye of p){const et=a.getTile(Ye),pt=et.getBucket(u);if(!pt)continue;const Lt=g?pt.text:pt.icon;if(!Lt||!Lt.segments.get().length||!Lt.hasVisibleVertices)continue;const rt=Lt.programConfigurations.get(u.id),at=g||pt.sdfIcons,It=g?pt.textSizeData:pt.iconSizeData,wr=_e||ne.pitch!==0,Ht=x.useProgram(bu(at,g,pt),rt),Xt=c.ag(It,ne.zoom),Sr=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ye);let Mn,Qi,Pr,si,Gn=[0,0],Dn=null;if(g)Qi=et.glyphAtlasTexture,Pr=te.LINEAR,Mn=et.glyphAtlasTexture.size,pt.iconsInText&&(Gn=et.imageAtlasTexture.size,Dn=et.imageAtlasTexture,si=wr||x.options.rotating||x.options.zooming||It.kind==="composite"||It.kind==="camera"?te.LINEAR:te.NEAREST);else{const Dr=u.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;Qi=et.imageAtlasTexture,Pr=at||x.options.rotating||x.options.zooming||Dr||wr?te.LINEAR:te.NEAREST,Mn=et.imageAtlasTexture.size}const $n=Rt(et,1,x.transform.zoom),ea=ke?Ye.posMatrix:Kh,Zo=ja(ea,_e,oe,x.transform,$n),Ou=Va(ea,_e,oe,x.transform,$n),Ks=Va(Ye.posMatrix,_e,oe,x.transform,$n),qo=pe.translatePosition(x.transform,et,_,E),ju=qe&&pt.hasTextData(),pf=u.layout.get("icon-text-fit")!=="none"&&ju&&pt.hasIconData();if(Ce){const Dr=x.style.map.terrain?(mf,ln)=>x.style.map.terrain.getElevation(Ye,mf,ln):null,Ws=u.layout.get("text-rotation-alignment")==="map";q(pt,Ye.posMatrix,x,g,Zo,Ks,_e,L,Ws,pe,Ye.toUnwrapped(),ne.width,ne.height,qo,Dr)}const Sn=Ye.posMatrix,ta=g&&qe||pf,vo=Ce||ta?Kh:Zo,Hs=Ou,Rn=at&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ln;Ln=at?pt.iconsInText?W0(It.kind,Xt,ue,_e,Ce,ta,x,Sn,vo,Hs,qo,Mn,Gn,ct):Em(It.kind,Xt,ue,_e,Ce,ta,x,Sn,vo,Hs,qo,g,Mn,!0,ct):Cm(It.kind,Xt,ue,_e,Ce,ta,x,Sn,vo,Hs,qo,g,Mn,ct);const mn={program:Ht,buffers:Lt,uniformValues:Ln,atlasTexture:Qi,atlasTextureIcon:Dn,atlasInterpolation:Pr,atlasInterpolationIcon:si,isSDF:at,hasHalo:Rn};if($e&&pt.canOverlap){Fe=!0;const Dr=Lt.segments.get();for(const Ws of Dr)lt.push({segments:new c.$([Ws]),sortKey:Ws.sortKey,state:mn,terrainData:Sr})}else lt.push({segments:Lt.segments,sortKey:0,state:mn,terrainData:Sr})}Fe&&lt.sort((Ye,et)=>Ye.sortKey-et.sortKey);for(const Ye of lt){const et=Ye.state;if(X.activeTexture.set(te.TEXTURE0),et.atlasTexture.bind(et.atlasInterpolation,te.CLAMP_TO_EDGE),et.atlasTextureIcon&&(X.activeTexture.set(te.TEXTURE1),et.atlasTextureIcon&&et.atlasTextureIcon.bind(et.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),et.isSDF){const pt=et.uniformValues;et.hasHalo&&(pt.u_is_halo=1,wu(et.buffers,Ye.segments,u,x,et.program,We,K,j,pt,Ye.terrainData)),pt.u_is_halo=0}wu(et.buffers,Ye.segments,u,x,et.program,We,K,j,et.uniformValues,Ye.terrainData)}}function wu(x,a,u,p,g,_,E,A,I,L){const K=p.context;g.draw(K,K.gl.TRIANGLES,_,E,A,Ar.disabled,I,L,u.id,x.layoutVertexBuffer,x.indexBuffer,a,u.paint,p.transform.zoom,x.programConfigurations.get(u.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function fo(x,a,u,p,g){if(!u||!p||!p.imageAtlas)return;const _=p.imageAtlas.patternPositions;let E=_[u.to.toString()],A=_[u.from.toString()];if(!E&&A&&(E=A),!A&&E&&(A=E),!E||!A){const I=g.getPaintProperty(a);E=_[I],A=_[I]}E&&A&&x.setConstantPatternPositions(E,A)}function Vo(x,a,u,p,g,_,E){const A=x.context.gl,I="fill-pattern",L=u.paint.get(I),K=L&&L.constantOr(1),j=u.getCrossfadeParameters();let X,te,ne,pe,oe;E?(te=K&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=A.LINES):(te=K?"fillPattern":"fill",X=A.TRIANGLES);const _e=L.constantOr(null);for(const Ce of p){const ue=a.getTile(Ce);if(K&&!ue.patternsLoaded())continue;const ke=ue.getBucket(u);if(!ke)continue;const $e=ke.programConfigurations.get(u.id),Fe=x.useProgram(te,$e),We=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ce);K&&(x.context.activeTexture.set(A.TEXTURE0),ue.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),$e.updatePaintBuffers(j)),fo($e,I,_e,ue,u);const qe=We?Ce:null,lt=x.translatePosMatrix(qe?qe.posMatrix:Ce.posMatrix,ue,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(E){pe=ke.indexBuffer2,oe=ke.segments2;const ct=[A.drawingBufferWidth,A.drawingBufferHeight];ne=te==="fillOutlinePattern"&&K?Zl(lt,x,j,ue,ct):hu(lt,ct)}else pe=ke.indexBuffer,oe=ke.segments,ne=K?Gl(lt,x,j,ue):du(lt);Fe.draw(x.context,X,g,x.stencilModeForClipping(Ce),_,Ar.disabled,ne,We,u.id,ke.layoutVertexBuffer,pe,oe,u.paint,x.transform.zoom,$e)}}function oi(x,a,u,p,g,_,E){const A=x.context,I=A.gl,L="fill-extrusion-pattern",K=u.paint.get(L),j=K.constantOr(1),X=u.getCrossfadeParameters(),te=u.paint.get("fill-extrusion-opacity"),ne=K.constantOr(null);for(const pe of p){const oe=a.getTile(pe),_e=oe.getBucket(u);if(!_e)continue;const Ce=x.style.map.terrain&&x.style.map.terrain.getTerrainData(pe),ue=_e.programConfigurations.get(u.id),ke=x.useProgram(j?"fillExtrusionPattern":"fillExtrusion",ue);j&&(x.context.activeTexture.set(I.TEXTURE0),oe.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),ue.updatePaintBuffers(X)),fo(ue,L,ne,oe,u);const $e=x.translatePosMatrix(pe.posMatrix,oe,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Fe=u.paint.get("fill-extrusion-vertical-gradient"),We=j?Ih($e,x,Fe,te,pe,X,oe):Wl($e,x,Fe,te);ke.draw(A,A.gl.TRIANGLES,g,_,E,Ar.backCCW,We,Ce,u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,u.paint,x.transform.zoom,ue,x.style.map.terrain&&_e.centroidVertexBuffer)}}function Vm(x,a,u,p,g,_,E){const A=x.context,I=A.gl,L=u.fbo;if(!L)return;const K=x.useProgram("hillshade"),j=x.style.map.terrain&&x.style.map.terrain.getTerrainData(a);A.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,L.colorAttachment.get()),K.draw(A,I.TRIANGLES,g,_,E,Ar.disabled,((X,te,ne,pe)=>{const oe=ne.paint.get("hillshade-shadow-color"),_e=ne.paint.get("hillshade-highlight-color"),Ce=ne.paint.get("hillshade-accent-color");let ue=ne.paint.get("hillshade-illumination-direction")*(Math.PI/180);ne.paint.get("hillshade-illumination-anchor")==="viewport"&&(ue-=X.transform.angle);const ke=!X.options.moving;return{u_matrix:pe?pe.posMatrix:X.transform.calculatePosMatrix(te.tileID.toUnwrapped(),ke),u_image:0,u_latrange:fu(0,te.tileID),u_light:[ne.paint.get("hillshade-exaggeration"),ue],u_shadow:oe,u_highlight:_e,u_accent:Ce}})(x,u,p,j?a:null),j,p.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function Um(x,a,u,p,g,_){const E=x.context,A=E.gl,I=a.dem;if(I&&I.data){const L=I.dim,K=I.stride,j=I.getPixels();if(E.activeTexture.set(A.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||x.getTileTexture(K),a.demTexture){const te=a.demTexture;te.update(j,{premultiply:!1}),te.bind(A.NEAREST,A.CLAMP_TO_EDGE)}else a.demTexture=new se(E,j,A.RGBA,{premultiply:!1}),a.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE);E.activeTexture.set(A.TEXTURE0);let X=a.fbo;if(!X){const te=new se(E,{width:L,height:L,data:null},A.RGBA);te.bind(A.LINEAR,A.CLAMP_TO_EDGE),X=a.fbo=E.createFramebuffer(L,L,!0,!1),X.colorAttachment.set(te.texture)}E.bindFramebuffer.set(X.framebuffer),E.viewport.set([0,0,L,L]),x.useProgram("hillshadePrepare").draw(E,A.TRIANGLES,p,g,_,Ar.disabled,((te,ne)=>{const pe=ne.stride,oe=c.F();return c.aO(oe,0,c.W,-c.W,0,0,1),c.H(oe,oe,[0,-c.W,0]),{u_matrix:oe,u_image:1,u_dimension:[pe,pe],u_zoom:te.overscaledZ,u_unpack:ne.getUnpackVector()}})(a.tileID,I),null,u.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function Hh(x,a,u,p,g,_){const E=p.paint.get("raster-fade-duration");if(!_&&E>0){const A=T.now(),I=(A-x.timeAdded)/E,L=a?(A-a.timeAdded)/E:-1,K=u.getSource(),j=g.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),X=!a||Math.abs(a.tileID.overscaledZ-j)>Math.abs(x.tileID.overscaledZ-j),te=X&&x.refreshedUponExpiration?1:c.ac(X?I:1-L,0,1);return x.refreshedUponExpiration&&I>=1&&(x.refreshedUponExpiration=!1),a?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const Uo=new c.aP(1,0,0,1),Su=new c.aP(0,1,0,1),Pu=new c.aP(0,0,1,1),tc=new c.aP(1,0,1,1),Tu=new c.aP(0,1,1,1);function Wh(x,a,u,p){Ha(x,0,a+u/2,x.transform.width,u,p)}function Ko(x,a,u,p){Ha(x,a-u/2,0,u,x.transform.height,p)}function Ha(x,a,u,p,g,_){const E=x.context,A=E.gl;A.enable(A.SCISSOR_TEST),A.scissor(a*x.pixelRatio,u*x.pixelRatio,p*x.pixelRatio,g*x.pixelRatio),E.clear({color:_}),A.disable(A.SCISSOR_TEST)}function Km(x,a,u){const p=x.context,g=p.gl,_=u.posMatrix,E=x.useProgram("debug"),A=Wt.disabled,I=Mr.disabled,L=x.colorModeForRenderPass(),K="$debug",j=x.style.map.terrain&&x.style.map.terrain.getTerrainData(u);p.activeTexture.set(g.TEXTURE0);const X=a.getTileByID(u.key).latestRawTileData,te=Math.floor((X&&X.byteLength||0)/1024),ne=a.getTile(u).tileSize,pe=512/Math.min(ne,512)*(u.overscaledZ/x.transform.zoom)*.5;let oe=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(oe+=` => ${u.overscaledZ}`),function(_e,Ce){_e.initDebugOverlayCanvas();const ue=_e.debugOverlayCanvas,ke=_e.context.gl,$e=_e.debugOverlayCanvas.getContext("2d");$e.clearRect(0,0,ue.width,ue.height),$e.shadowColor="white",$e.shadowBlur=2,$e.lineWidth=1.5,$e.strokeStyle="white",$e.textBaseline="top",$e.font="bold 36px Open Sans, sans-serif",$e.fillText(Ce,5,5),$e.strokeText(Ce,5,5),_e.debugOverlayTexture.update(ue),_e.debugOverlayTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE)}(x,`${oe} ${te}kB`),E.draw(p,g.TRIANGLES,A,I,Kr.alphaBlended,Ar.disabled,Mh(_,c.aP.transparent,pe),null,K,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),E.draw(p,g.LINE_STRIP,A,I,L,Ar.disabled,Mh(_,c.aP.red),j,K,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function Cu(x,a,u){const p=x.context,g=p.gl,_=x.colorModeForRenderPass(),E=new Wt(g.LEQUAL,Wt.ReadWrite,x.depthRangeFor3D),A=x.useProgram("terrain"),I=a.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,x.width,x.height]);for(const L of u){const K=x.renderToTexture.getTexture(L),j=a.getTerrainData(L.tileID);p.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,K.texture);const X={u_matrix:x.transform.calculatePosMatrix(L.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(x.transform.zoom)};A.draw(p,g.TRIANGLES,E,Mr.disabled,_,Ar.backCCW,X,j,"terrain",I.vertexBuffer,I.indexBuffer,I.segments)}}class tr{constructor(a,u){this.context=new Uh(a),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Qe.maxUnderzooming+Qe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ur}resize(a,u,p){if(this.width=Math.floor(a*p),this.height=Math.floor(u*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const a=this.context,u=new c.aW;u.emplaceBack(0,0),u.emplaceBack(c.W,0),u.emplaceBack(0,c.W),u.emplaceBack(c.W,c.W),this.tileExtentBuffer=a.createVertexBuffer(u,ba.members),this.tileExtentSegments=c.$.simpleSegment(0,0,4,2);const p=new c.aW;p.emplaceBack(0,0),p.emplaceBack(c.W,0),p.emplaceBack(0,c.W),p.emplaceBack(c.W,c.W),this.debugBuffer=a.createVertexBuffer(p,ba.members),this.debugSegments=c.$.simpleSegment(0,0,4,5);const g=new c.Z;g.emplaceBack(0,0,0,0),g.emplaceBack(c.W,0,c.W,0),g.emplaceBack(0,c.W,0,c.W),g.emplaceBack(c.W,c.W,c.W,c.W),this.rasterBoundsBuffer=a.createVertexBuffer(g,yr.members),this.rasterBoundsSegments=c.$.simpleSegment(0,0,4,2);const _=new c.aW;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(_,ba.members),this.viewportSegments=c.$.simpleSegment(0,0,4,2);const E=new c.aX;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const A=new c.aY;A.emplaceBack(0,1,2),A.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(A);const I=this.context.gl;this.stencilClearMode=new Mr({func:I.ALWAYS,mask:0},0,255,I.ZERO,I.ZERO,I.ZERO)}clearStencil(){const a=this.context,u=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=c.F();c.aO(p,0,this.width,this.height,0,0,1),c.J(p,p,[u.drawingBufferWidth,u.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,u.TRIANGLES,Wt.disabled,this.stencilClearMode,Kr.disabled,Ar.disabled,Tm(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,u){if(this.currentStencilSource===a.source||!a.isTileClipped()||!u||!u.length)return;this.currentStencilSource=a.source;const p=this.context,g=p.gl;this.nextStencilID+u.length>256&&this.clearStencil(),p.setColorMode(Kr.disabled),p.setDepthMode(Wt.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of u){const A=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,I=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);_.draw(p,g.TRIANGLES,Wt.disabled,new Mr({func:g.ALWAYS,mask:0},A,255,g.KEEP,g.KEEP,g.REPLACE),Kr.disabled,Ar.disabled,Tm(E.posMatrix),I,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,u=this.context.gl;return new Mr({func:u.NOTEQUAL,mask:255},a,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(a){const u=this.context.gl;return new Mr({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(a){const u=this.context.gl,p=a.sort((E,A)=>A.overscaledZ-E.overscaledZ),g=p[p.length-1].overscaledZ,_=p[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const E={};for(let A=0;A<_;A++)E[A+g]=new Mr({func:u.GEQUAL,mask:255},A+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=_,[E,p]}return[{[g]:Mr.disabled},p]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Kr([a.CONSTANT_COLOR,a.ONE],new c.aP(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Kr.unblended:Kr.alphaBlended}depthModeForSublayer(a,u,p){if(!this.opaquePassEnabledForLayer())return Wt.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Wt(p||this.context.gl.LEQUAL,u,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,u){this.style=a,this.options=u,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(T.now()),this.imageManager.beginFrame();const p=this.style._order,g=this.style.sourceCaches,_={},E={},A={};for(const I in g){const L=g[I];L.used&&L.prepare(this.context),_[I]=L.getVisibleCoordinates(),E[I]=_[I].slice().reverse(),A[I]=L.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let I=0;I<p.length;I++)if(this.style._layers[p[I]].is3D()){this.opaquePassCutoff=I;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const I of p){const L=this.style._layers[I];if(!L.hasOffscreenPass()||L.isHidden(this.transform.zoom))continue;const K=E[L.source];(L.type==="custom"||K.length)&&this.renderLayer(this,g[L.source],L,K)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?c.aP.black:c.aP.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const I=this.style._layers[p[this.currentLayer]],L=g[I.source],K=_[I.source];this._renderTileClippingMasks(I,K),this.renderLayer(this,L,I,K)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const I=this.style._layers[p[this.currentLayer]],L=g[I.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(I))continue;const K=(I.type==="symbol"?A:E)[I.source];this._renderTileClippingMasks(I,_[I.source]),this.renderLayer(this,L,I,K)}if(this.options.showTileBoundaries){const I=function(L,K){let j=null;const X=Object.values(L._layers).flatMap(oe=>oe.source&&!oe.isHidden(K)?[L.sourceCaches[oe.source]]:[]),te=X.filter(oe=>oe.getSource().type==="vector"),ne=X.filter(oe=>oe.getSource().type!=="vector"),pe=oe=>{(!j||j.getSource().maxzoom<oe.getSource().maxzoom)&&(j=oe)};return te.forEach(oe=>pe(oe)),j||ne.forEach(oe=>pe(oe)),j}(this.style,this.transform.zoom);I&&function(L,K,j){for(let X=0;X<j.length;X++)Km(L,K,j[X])}(this,I,I.getVisibleCoordinates())}this.options.showPadding&&function(I){const L=I.transform.padding;Wh(I,I.transform.height-(L.top||0),3,Uo),Wh(I,L.bottom||0,3,Su),Ko(I,L.left||0,3,Pu),Ko(I,I.transform.width-(L.right||0),3,tc);const K=I.transform.centerPoint;(function(j,X,te,ne){Ha(j,X-1,te-10,2,20,ne),Ha(j,X-10,te-1,20,2,ne)})(I,K.x,I.transform.height-K.y,Tu)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;const u=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let g=this.terrainFacilitator.dirty;g||(g=a?!c.aZ(u,p):!c.a_(u,p)),g||(g=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),g&&(c.a$(u,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,E){const A=_.context,I=A.gl,L=Kr.unblended,K=new Wt(I.LEQUAL,Wt.ReadWrite,[0,1]),j=E.getTerrainMesh(),X=E.sourceCache.getRenderableTiles(),te=_.useProgram("terrainDepth");A.bindFramebuffer.set(E.getFramebuffer("depth").framebuffer),A.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),A.clear({color:c.aP.transparent,depth:1});for(const ne of X){const pe=E.getTerrainData(ne.tileID),oe={u_matrix:_.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),u_ele_delta:E.getMeshFrameDelta(_.transform.zoom)};te.draw(A,I.TRIANGLES,K,Mr.disabled,L,Ar.backCCW,oe,pe,"terrain",j.vertexBuffer,j.indexBuffer,j.segments)}A.bindFramebuffer.set(null),A.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,E){const A=_.context,I=A.gl,L=Kr.unblended,K=new Wt(I.LEQUAL,Wt.ReadWrite,[0,1]),j=E.getTerrainMesh(),X=E.getCoordsTexture(),te=E.sourceCache.getRenderableTiles(),ne=_.useProgram("terrainCoords");A.bindFramebuffer.set(E.getFramebuffer("coords").framebuffer),A.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),A.clear({color:c.aP.transparent,depth:1}),E.coordsIndex=[];for(const pe of te){const oe=E.getTerrainData(pe.tileID);A.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,X.texture);const _e={u_matrix:_.transform.calculatePosMatrix(pe.tileID.toUnwrapped()),u_terrain_coords_id:(255-E.coordsIndex.length)/255,u_texture:0,u_ele_delta:E.getMeshFrameDelta(_.transform.zoom)};ne.draw(A,I.TRIANGLES,K,Mr.disabled,L,Ar.backCCW,_e,oe,"terrain",j.vertexBuffer,j.indexBuffer,j.segments),E.coordsIndex.push(pe.tileID.key)}A.bindFramebuffer.set(null),A.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(a,u,p,g){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(g||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(_,E,A,I,L){if(_.renderPass!=="translucent")return;const K=Mr.disabled,j=_.colorModeForRenderPass();(A._unevaluatedLayout.hasValue("text-variable-anchor")||A._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,te,ne,pe,oe,_e,Ce,ue,ke){const $e=te.transform,Fe=ai(),We=oe==="map",qe=_e==="map";for(const lt of X){const ct=pe.getTile(lt),Ye=ct.getBucket(ne);if(!Ye||!Ye.text||!Ye.text.segments.get().length)continue;const et=c.ag(Ye.textSizeData,$e.zoom),pt=Rt(ct,1,te.transform.zoom),Lt=ja(lt.posMatrix,qe,We,te.transform,pt),rt=ne.layout.get("icon-text-fit")!=="none"&&Ye.hasIconData();if(et){const at=Math.pow(2,$e.zoom-ct.tileID.overscaledZ),It=te.style.map.terrain?(Ht,Xt)=>te.style.map.terrain.getElevation(lt,Ht,Xt):null,wr=Fe.translatePosition($e,ct,Ce,ue);_u(Ye,We,qe,ke,$e,Lt,lt.posMatrix,at,et,rt,Fe,wr,lt.toUnwrapped(),It)}}}(I,_,A,E,A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),L),A.paint.get("icon-opacity").constantOr(1)!==0&&ec(_,E,A,I,!1,A.paint.get("icon-translate"),A.paint.get("icon-translate-anchor"),A.layout.get("icon-rotation-alignment"),A.layout.get("icon-pitch-alignment"),A.layout.get("icon-keep-upright"),K,j),A.paint.get("text-opacity").constantOr(1)!==0&&ec(_,E,A,I,!0,A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),A.layout.get("text-keep-upright"),K,j),E.map.showCollisionBoxes&&(Om(_,E,A,I,!0),Om(_,E,A,I,!1))})(a,u,p,g,this.style.placement.variableOffsets);break;case"circle":(function(_,E,A,I){if(_.renderPass!=="translucent")return;const L=A.paint.get("circle-opacity"),K=A.paint.get("circle-stroke-width"),j=A.paint.get("circle-stroke-opacity"),X=!A.layout.get("circle-sort-key").isConstant();if(L.constantOr(1)===0&&(K.constantOr(1)===0||j.constantOr(1)===0))return;const te=_.context,ne=te.gl,pe=_.depthModeForSublayer(0,Wt.ReadOnly),oe=Mr.disabled,_e=_.colorModeForRenderPass(),Ce=[];for(let ue=0;ue<I.length;ue++){const ke=I[ue],$e=E.getTile(ke),Fe=$e.getBucket(A);if(!Fe)continue;const We=Fe.programConfigurations.get(A.id),qe=_.useProgram("circle",We),lt=Fe.layoutVertexBuffer,ct=Fe.indexBuffer,Ye=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ke),et={programConfiguration:We,program:qe,layoutVertexBuffer:lt,indexBuffer:ct,uniformValues:U0(_,ke,$e,A),terrainData:Ye};if(X){const pt=Fe.segments.get();for(const Lt of pt)Ce.push({segments:new c.$([Lt]),sortKey:Lt.sortKey,state:et})}else Ce.push({segments:Fe.segments,sortKey:0,state:et})}X&&Ce.sort((ue,ke)=>ue.sortKey-ke.sortKey);for(const ue of Ce){const{programConfiguration:ke,program:$e,layoutVertexBuffer:Fe,indexBuffer:We,uniformValues:qe,terrainData:lt}=ue.state;$e.draw(te,ne.TRIANGLES,pe,oe,_e,Ar.disabled,qe,lt,A.id,Fe,We,ue.segments,A.paint,_.transform.zoom,ke)}})(a,u,p,g);break;case"heatmap":(function(_,E,A,I){if(A.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const L=_.context,K=L.gl,j=Mr.disabled,X=new Kr([K.ONE,K.ONE],c.aP.transparent,[!0,!0,!0,!0]);(function(te,ne,pe){const oe=te.gl;te.activeTexture.set(oe.TEXTURE1),te.viewport.set([0,0,ne.width/4,ne.height/4]);let _e=pe.heatmapFbo;if(_e)oe.bindTexture(oe.TEXTURE_2D,_e.colorAttachment.get()),te.bindFramebuffer.set(_e.framebuffer);else{const Ce=oe.createTexture();oe.bindTexture(oe.TEXTURE_2D,Ce),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MAG_FILTER,oe.LINEAR),_e=pe.heatmapFbo=te.createFramebuffer(ne.width/4,ne.height/4,!1,!1),function(ue,ke,$e,Fe){var We,qe;const lt=ue.gl,ct=(We=ue.HALF_FLOAT)!==null&&We!==void 0?We:lt.UNSIGNED_BYTE,Ye=(qe=ue.RGBA16F)!==null&&qe!==void 0?qe:lt.RGBA;lt.texImage2D(lt.TEXTURE_2D,0,Ye,ke.width/4,ke.height/4,0,lt.RGBA,ct,null),Fe.colorAttachment.set($e)}(te,ne,Ce,_e)}})(L,_,A),L.clear({color:c.aP.transparent});for(let te=0;te<I.length;te++){const ne=I[te];if(E.hasRenderableParent(ne))continue;const pe=E.getTile(ne),oe=pe.getBucket(A);if(!oe)continue;const _e=oe.programConfigurations.get(A.id),Ce=_.useProgram("heatmap",_e),{zoom:ue}=_.transform;Ce.draw(L,K.TRIANGLES,Wt.disabled,j,X,Ar.disabled,Oo(ne.posMatrix,pe,ue,A.paint.get("heatmap-intensity")),null,A.id,oe.layoutVertexBuffer,oe.indexBuffer,oe.segments,A.paint,_.transform.zoom,_e)}L.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(L,K){const j=L.context,X=j.gl,te=K.heatmapFbo;if(!te)return;j.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,te.colorAttachment.get()),j.activeTexture.set(X.TEXTURE1);let ne=K.colorRampTexture;ne||(ne=K.colorRampTexture=new se(j,K.colorRamp,X.RGBA)),ne.bind(X.LINEAR,X.CLAMP_TO_EDGE),L.useProgram("heatmapTexture").draw(j,X.TRIANGLES,Wt.disabled,Mr.disabled,L.colorModeForRenderPass(),Ar.disabled,((pe,oe,_e,Ce)=>{const ue=c.F();c.aO(ue,0,pe.width,pe.height,0,0,1);const ke=pe.context.gl;return{u_matrix:ue,u_world:[ke.drawingBufferWidth,ke.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:oe.paint.get("heatmap-opacity")}})(L,K),null,K.id,L.viewportBuffer,L.quadTriangleIndexBuffer,L.viewportSegments,K.paint,L.transform.zoom)}(_,A))})(a,u,p,g);break;case"line":(function(_,E,A,I){if(_.renderPass!=="translucent")return;const L=A.paint.get("line-opacity"),K=A.paint.get("line-width");if(L.constantOr(1)===0||K.constantOr(1)===0)return;const j=_.depthModeForSublayer(0,Wt.ReadOnly),X=_.colorModeForRenderPass(),te=A.paint.get("line-dasharray"),ne=A.paint.get("line-pattern"),pe=ne.constantOr(1),oe=A.paint.get("line-gradient"),_e=A.getCrossfadeParameters(),Ce=pe?"linePattern":te?"lineSDF":oe?"lineGradient":"line",ue=_.context,ke=ue.gl;let $e=!0;for(const Fe of I){const We=E.getTile(Fe);if(pe&&!We.patternsLoaded())continue;const qe=We.getBucket(A);if(!qe)continue;const lt=qe.programConfigurations.get(A.id),ct=_.context.program.get(),Ye=_.useProgram(Ce,lt),et=$e||Ye.program!==ct,pt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Fe),Lt=ne.constantOr(null);if(Lt&&We.imageAtlas){const It=We.imageAtlas,wr=It.patternPositions[Lt.to.toString()],Ht=It.patternPositions[Lt.from.toString()];wr&&Ht&&lt.setConstantPatternPositions(wr,Ht)}const rt=pt?Fe:null,at=pe?Dh(_,We,A,_e,rt):te?pu(_,We,A,te,_e,rt):oe?Pi(_,We,A,qe.lineClipsArray.length,rt):Wn(_,We,A,rt);if(pe)ue.activeTexture.set(ke.TEXTURE0),We.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),lt.updatePaintBuffers(_e);else if(te&&(et||_.lineAtlas.dirty))ue.activeTexture.set(ke.TEXTURE0),_.lineAtlas.bind(ue);else if(oe){const It=qe.gradients[A.id];let wr=It.texture;if(A.gradientVersion!==It.version){let Ht=256;if(A.stepInterpolant){const Xt=E.getSource().maxzoom,Sr=Fe.canonical.z===Xt?Math.ceil(1<<_.transform.maxZoom-Fe.canonical.z):1;Ht=c.ac(c.aU(qe.maxLineLength/c.W*1024*Sr),256,ue.maxTextureSize)}It.gradient=c.aV({expression:A.gradientExpression(),evaluationKey:"lineProgress",resolution:Ht,image:It.gradient||void 0,clips:qe.lineClipsArray}),It.texture?It.texture.update(It.gradient):It.texture=new se(ue,It.gradient,ke.RGBA),It.version=A.gradientVersion,wr=It.texture}ue.activeTexture.set(ke.TEXTURE0),wr.bind(A.stepInterpolant?ke.NEAREST:ke.LINEAR,ke.CLAMP_TO_EDGE)}Ye.draw(ue,ke.TRIANGLES,j,_.stencilModeForClipping(Fe),X,Ar.disabled,at,pt,A.id,qe.layoutVertexBuffer,qe.indexBuffer,qe.segments,A.paint,_.transform.zoom,lt,qe.layoutVertexBuffer2),$e=!1}})(a,u,p,g);break;case"fill":(function(_,E,A,I){const L=A.paint.get("fill-color"),K=A.paint.get("fill-opacity");if(K.constantOr(1)===0)return;const j=_.colorModeForRenderPass(),X=A.paint.get("fill-pattern"),te=_.opaquePassEnabledForLayer()&&!X.constantOr(1)&&L.constantOr(c.aP.transparent).a===1&&K.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===te){const ne=_.depthModeForSublayer(1,_.renderPass==="opaque"?Wt.ReadWrite:Wt.ReadOnly);Vo(_,E,A,I,ne,j,!1)}if(_.renderPass==="translucent"&&A.paint.get("fill-antialias")){const ne=_.depthModeForSublayer(A.getPaintProperty("fill-outline-color")?2:0,Wt.ReadOnly);Vo(_,E,A,I,ne,j,!0)}})(a,u,p,g);break;case"fill-extrusion":(function(_,E,A,I){const L=A.paint.get("fill-extrusion-opacity");if(L!==0&&_.renderPass==="translucent"){const K=new Wt(_.context.gl.LEQUAL,Wt.ReadWrite,_.depthRangeFor3D);if(L!==1||A.paint.get("fill-extrusion-pattern").constantOr(1))oi(_,E,A,I,K,Mr.disabled,Kr.disabled),oi(_,E,A,I,K,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const j=_.colorModeForRenderPass();oi(_,E,A,I,K,Mr.disabled,j)}}})(a,u,p,g);break;case"hillshade":(function(_,E,A,I){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const L=_.context,K=_.depthModeForSublayer(0,Wt.ReadOnly),j=_.colorModeForRenderPass(),[X,te]=_.renderPass==="translucent"?_.stencilConfigForOverlap(I):[{},I];for(const ne of te){const pe=E.getTile(ne);pe.needsHillshadePrepare!==void 0&&pe.needsHillshadePrepare&&_.renderPass==="offscreen"?Um(_,pe,A,K,Mr.disabled,j):_.renderPass==="translucent"&&Vm(_,ne,pe,A,K,X[ne.overscaledZ],j)}L.viewport.set([0,0,_.width,_.height])})(a,u,p,g);break;case"raster":(function(_,E,A,I){if(_.renderPass!=="translucent"||A.paint.get("raster-opacity")===0||!I.length)return;const L=_.context,K=L.gl,j=E.getSource(),X=_.useProgram("raster"),te=_.colorModeForRenderPass(),[ne,pe]=j instanceof Yi?[{},I]:_.stencilConfigForOverlap(I),oe=pe[pe.length-1].overscaledZ,_e=!_.options.moving;for(const Ce of pe){const ue=_.depthModeForSublayer(Ce.overscaledZ-oe,A.paint.get("raster-opacity")===1?Wt.ReadWrite:Wt.ReadOnly,K.LESS),ke=E.getTile(Ce);ke.registerFadeDuration(A.paint.get("raster-fade-duration"));const $e=E.findLoadedParent(Ce,0),Fe=E.findLoadedSibling(Ce),We=Hh(ke,$e||Fe||null,E,A,_.transform,_.style.map.terrain);let qe,lt;const ct=A.paint.get("raster-resampling")==="nearest"?K.NEAREST:K.LINEAR;L.activeTexture.set(K.TEXTURE0),ke.texture.bind(ct,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),L.activeTexture.set(K.TEXTURE1),$e?($e.texture.bind(ct,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),qe=Math.pow(2,$e.tileID.overscaledZ-ke.tileID.overscaledZ),lt=[ke.tileID.canonical.x*qe%1,ke.tileID.canonical.y*qe%1]):ke.texture.bind(ct,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST);const Ye=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ce),et=Ye?Ce:null,pt=et?et.posMatrix:_.transform.calculatePosMatrix(Ce.toUnwrapped(),_e),Lt=Rs(pt,lt||[0,0],qe||1,We,A);j instanceof Yi?X.draw(L,K.TRIANGLES,ue,Mr.disabled,te,Ar.disabled,Lt,Ye,A.id,j.boundsBuffer,_.quadTriangleIndexBuffer,j.boundsSegments):X.draw(L,K.TRIANGLES,ue,ne[Ce.overscaledZ],te,Ar.disabled,Lt,Ye,A.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(a,u,p,g);break;case"background":(function(_,E,A,I){const L=A.paint.get("background-color"),K=A.paint.get("background-opacity");if(K===0)return;const j=_.context,X=j.gl,te=_.transform,ne=te.tileSize,pe=A.paint.get("background-pattern");if(_.isPatternMissing(pe))return;const oe=!pe&&L.a===1&&K===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==oe)return;const _e=Mr.disabled,Ce=_.depthModeForSublayer(0,oe==="opaque"?Wt.ReadWrite:Wt.ReadOnly),ue=_.colorModeForRenderPass(),ke=_.useProgram(pe?"backgroundPattern":"background"),$e=I||te.coveringTiles({tileSize:ne,terrain:_.style.map.terrain});pe&&(j.activeTexture.set(X.TEXTURE0),_.imageManager.bind(_.context));const Fe=A.getCrossfadeParameters();for(const We of $e){const qe=I?We.posMatrix:_.transform.calculatePosMatrix(We.toUnwrapped()),lt=pe?Z0(qe,K,_,pe,{tileID:We,tileSize:ne},Fe):G0(qe,K,L),ct=_.style.map.terrain&&_.style.map.terrain.getTerrainData(We);ke.draw(j,X.TRIANGLES,Ce,_e,ue,Ar.disabled,lt,ct,A.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(a,0,p,g);break;case"custom":(function(_,E,A){const I=_.context,L=A.implementation;if(_.renderPass==="offscreen"){const K=L.prerender;K&&(_.setCustomLayerDefaults(),I.setColorMode(_.colorModeForRenderPass()),K.call(L,I.gl,_.transform.customLayerMatrix()),I.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),I.setColorMode(_.colorModeForRenderPass()),I.setStencilMode(Mr.disabled);const K=L.renderingMode==="3d"?new Wt(_.context.gl.LEQUAL,Wt.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Wt.ReadOnly);I.setDepthMode(K),L.render(I.gl,_.transform.customLayerMatrix()),I.setDirty(),_.setBaseState(),I.bindFramebuffer.set(null)}})(a,0,p)}}translatePosMatrix(a,u,p,g,_){if(!p[0]&&!p[1])return a;const E=_?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(E){const L=Math.sin(E),K=Math.cos(E);p=[p[0]*K-p[1]*L,p[0]*L+p[1]*K]}const A=[_?p[0]:Rt(u,p[0],this.transform.zoom),_?p[1]:Rt(u,p[1],this.transform.zoom),0],I=new Float32Array(16);return c.H(I,a,A),I}saveTileTexture(a){const u=this._tileTextures[a.size[0]];u?u.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const u=this._tileTextures[a];return u&&u.length>0?u.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const u=this.imageManager.getPattern(a.from.toString()),p=this.imageManager.getPattern(a.to.toString());return!u||!p}useProgram(a,u){this.cache=this.cache||{};const p=a+(u?u.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new Ah(this.context,Ds[a],u,mu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new se(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:u}=this.context.gl;return this.width!==a||this.height!==u}}class Fs{constructor(a,u){this.points=a,this.planes=u}static fromInvProjectionMatrix(a,u,p){const g=Math.pow(2,p),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const I=1/(A=c.af([],A,a))[3]/u*g;return c.b0(A,A,[I,I,1/A[3],I])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const I=function(X,te){var ne=te[0],pe=te[1],oe=te[2],_e=ne*ne+pe*pe+oe*oe;return _e>0&&(_e=1/Math.sqrt(_e)),X[0]=te[0]*_e,X[1]=te[1]*_e,X[2]=te[2]*_e,X}([],function(X,te,ne){var pe=te[0],oe=te[1],_e=te[2],Ce=ne[0],ue=ne[1],ke=ne[2];return X[0]=oe*ke-_e*ue,X[1]=_e*Ce-pe*ke,X[2]=pe*ue-oe*Ce,X}([],we([],_[A[0]],_[A[1]]),we([],_[A[2]],_[A[1]]))),L=-((K=I)[0]*(j=_[A[1]])[0]+K[1]*j[1]+K[2]*j[2]);var K,j;return I.concat(L)});return new Fs(_,E)}}class Eu{constructor(a,u){this.min=a,this.max=u,this.center=function(p,g,_){return p[0]=.5*g[0],p[1]=.5*g[1],p[2]=.5*g[2],p}([],function(p,g,_){return p[0]=g[0]+_[0],p[1]=g[1]+_[1],p[2]=g[2]+_[2],p}([],this.min,this.max))}quadrant(a){const u=[a%2==0,a<2],p=ie(this.min),g=ie(this.max);for(let _=0;_<u.length;_++)p[_]=u[_]?this.min[_]:this.center[_],g[_]=u[_]?this.center[_]:this.max[_];return g[2]=this.max[2],new Eu(p,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const u=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let g=0;g<a.planes.length;g++){const _=a.planes[g];let E=0;for(let A=0;A<u.length;A++)c.b1(_,u[A])>=0&&E++;if(E===0)return 0;E!==u.length&&(p=!1)}if(p)return 2;for(let g=0;g<3;g++){let _=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let A=0;A<a.points.length;A++){const I=a.points[A][g]-this.min[g];_=Math.min(_,I),E=Math.max(E,I)}if(E<0||_>this.max[g]-this.min[g])return 0}return 1}}class rc{constructor(a=0,u=0,p=0,g=0){if(isNaN(a)||a<0||isNaN(u)||u<0||isNaN(p)||p<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=u,this.left=p,this.right=g}interpolate(a,u,p){return u.top!=null&&a.top!=null&&(this.top=c.z.number(a.top,u.top,p)),u.bottom!=null&&a.bottom!=null&&(this.bottom=c.z.number(a.bottom,u.bottom,p)),u.left!=null&&a.left!=null&&(this.left=c.z.number(a.left,u.left,p)),u.right!=null&&a.right!=null&&(this.right=c.z.number(a.right,u.right,p)),this}getCenter(a,u){const p=c.ac((this.left+a-this.right)/2,0,a),g=c.ac((this.top+u-this.bottom)/2,0,u);return new c.P(p,g)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new rc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Bs=85.051129;class Gh{constructor(a,u,p,g,_){this.tileSize=512,this._renderWorldCopies=_===void 0||!!_,this._minZoom=a||0,this._maxZoom=u||22,this._minPitch=p??0,this._maxPitch=g??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new rc,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const a=new Gh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this.minElevationForCurrentTile=a.minElevationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const u=-c.b2(a,-180,180)*Math.PI/180;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=function(){var p=new c.A(4);return c.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,g,_){var E=g[0],A=g[1],I=g[2],L=g[3],K=Math.sin(_),j=Math.cos(_);p[0]=E*j+I*K,p[1]=A*j+L*K,p[2]=E*-K+I*j,p[3]=A*-K+L*j}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const u=c.ac(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const u=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this.tileZoom=Math.max(0,Math.floor(u)),this.scale=this.zoomScale(u),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,u,p){this._unmodified=!1,this._edgeInsets.interpolate(a,u,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const u=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(a){const u=[new c.b3(0,a)];if(this._renderWorldCopies){const p=this.pointCoordinate(new c.P(0,0)),g=this.pointCoordinate(new c.P(this.width,0)),_=this.pointCoordinate(new c.P(this.width,this.height)),E=this.pointCoordinate(new c.P(0,this.height)),A=Math.floor(Math.min(p.x,g.x,_.x,E.x)),I=Math.floor(Math.max(p.x,g.x,_.x,E.x)),L=1;for(let K=A-L;K<=I+L;K++)K!==0&&u.push(new c.b3(K,a))}return u}coveringTiles(a){var u,p;let g=this.coveringZoomLevel(a);const _=g;if(a.minzoom!==void 0&&g<a.minzoom)return[];a.maxzoom!==void 0&&g>a.maxzoom&&(g=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),A=c.Y.fromLngLat(this.center),I=Math.pow(2,g),L=[I*E.x,I*E.y,0],K=[I*A.x,I*A.y,0],j=Fs.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,g);let X=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=g);const te=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,ne=ue=>({aabb:new Eu([ue*I,0,0],[(ue+1)*I,I,0]),zoom:0,x:0,y:0,wrap:ue,fullyVisible:!1}),pe=[],oe=[],_e=g,Ce=a.reparseOverscaled?_:g;if(this._renderWorldCopies)for(let ue=1;ue<=3;ue++)pe.push(ne(-ue)),pe.push(ne(ue));for(pe.push(ne(0));pe.length>0;){const ue=pe.pop(),ke=ue.x,$e=ue.y;let Fe=ue.fullyVisible;if(!Fe){const Ye=ue.aabb.intersects(j);if(Ye===0)continue;Fe=Ye===2}const We=a.terrain?L:K,qe=ue.aabb.distanceX(We),lt=ue.aabb.distanceY(We),ct=Math.max(Math.abs(qe),Math.abs(lt));if(ue.zoom===_e||ct>te+(1<<_e-ue.zoom)-2&&ue.zoom>=X){const Ye=_e-ue.zoom,et=L[0]-.5-(ke<<Ye),pt=L[1]-.5-($e<<Ye);oe.push({tileID:new c.Q(ue.zoom===_e?Ce:ue.zoom,ue.wrap,ue.zoom,ke,$e),distanceSq:Z([K[0]-.5-ke,K[1]-.5-$e]),tileDistanceToCamera:Math.sqrt(et*et+pt*pt)})}else for(let Ye=0;Ye<4;Ye++){const et=(ke<<1)+Ye%2,pt=($e<<1)+(Ye>>1),Lt=ue.zoom+1;let rt=ue.aabb.quadrant(Ye);if(a.terrain){const at=new c.Q(Lt,ue.wrap,Lt,et,pt),It=a.terrain.getMinMaxElevation(at),wr=(u=It.minElevation)!==null&&u!==void 0?u:this.elevation,Ht=(p=It.maxElevation)!==null&&p!==void 0?p:this.elevation;rt=new Eu([rt.min[0],rt.min[1],wr],[rt.max[0],rt.max[1],Ht])}pe.push({aabb:rt,zoom:Lt,x:et,y:pt,wrap:ue.wrap,fullyVisible:Fe})}}return oe.sort((ue,ke)=>ue.distanceSq-ke.distanceSq).map(ue=>ue.tileID)}resize(a,u){this.width=a,this.height=u,this.pixelsToGLUnits=[2/a,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const u=c.ac(a.lat,-85.051129,Bs);return new c.P(c.N(a.lng)*this.worldSize,c.O(u)*this.worldSize)}unproject(a){return new c.Y(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const u=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,g=this.pointLocation(this.centerPoint,a),_=a.getElevationForLngLatZoom(g,this.tileZoom);if(!(this.elevation-_))return;const E=p+u-_,A=Math.cos(this._pitch)*this.cameraToCenterDistance/E/c.b4(1,g.lat),I=this.scaleZoom(A/this.tileSize);this._elevation=_,this._center=g,this.zoom=I}setLocationAtPoint(a,u){const p=this.pointCoordinate(u),g=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(a),E=new c.Y(_.x-(p.x-g.x),_.y-(p.y-g.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,u){return u?this.coordinatePoint(this.locationCoordinate(a),u.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,u){return this.coordinateLocation(this.pointCoordinate(a,u))}locationCoordinate(a){return c.Y.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,u){if(u){const X=u.pointCoordinate(a);if(X!=null)return X}const p=[a.x,a.y,0,1],g=[a.x,a.y,1,1];c.af(p,p,this.pixelMatrixInverse),c.af(g,g,this.pixelMatrixInverse);const _=p[3],E=g[3],A=p[1]/_,I=g[1]/E,L=p[2]/_,K=g[2]/E,j=L===K?0:(0-L)/(K-L);return new c.Y(c.z.number(p[0]/_,g[0]/E,j)/this.worldSize,c.z.number(A,I,j)/this.worldSize)}coordinatePoint(a,u=0,p=this.pixelMatrix){const g=[a.x*this.worldSize,a.y*this.worldSize,u,1];return c.af(g,g,p),new c.P(g[0]/g[3],g[1]/g[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new Yt().extend(this.pointLocation(new c.P(0,a))).extend(this.pointLocation(new c.P(this.width,a))).extend(this.pointLocation(new c.P(this.width,this.height))).extend(this.pointLocation(new c.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Yt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Bs])}calculatePosMatrix(a,u=!1){const p=a.key,g=u?this._alignedPosMatrixCache:this._posMatrixCache;if(g[p])return g[p];const _=a.canonical,E=this.worldSize/this.zoomScale(_.z),A=_.x+Math.pow(2,_.z)*a.wrap,I=c.an(new Float64Array(16));return c.H(I,I,[A*E,_.y*E,0]),c.J(I,I,[E/c.W,E/c.W,1]),c.K(I,u?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,I),g[p]=new Float32Array(I),g[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(a,u){u=c.ac(+u,this.minZoom,this.maxZoom);const p={center:new c.M(a.lng,a.lat),zoom:u};let g=this.lngRange;if(!this._renderWorldCopies&&g===null){const ue=179.9999999999;g=[-ue,ue]}const _=this.tileSize*this.zoomScale(p.zoom);let E=0,A=_,I=0,L=_,K=0,j=0;const{x:X,y:te}=this.size;if(this.latRange){const ue=this.latRange;E=c.O(ue[1])*_,A=c.O(ue[0])*_,A-E<te&&(K=te/(A-E))}g&&(I=c.b2(c.N(g[0])*_,0,_),L=c.b2(c.N(g[1])*_,0,_),L<I&&(L+=_),L-I<X&&(j=X/(L-I)));const{x:ne,y:pe}=this.project.call({worldSize:_},a);let oe,_e;const Ce=Math.max(j||0,K||0);if(Ce){const ue=new c.P(j?(L+I)/2:ne,K?(A+E)/2:pe);return p.center=this.unproject.call({worldSize:_},ue).wrap(),p.zoom+=this.scaleZoom(Ce),p}if(this.latRange){const ue=te/2;pe-ue<E&&(_e=E+ue),pe+ue>A&&(_e=A-ue)}if(g){const ue=(I+L)/2;let ke=ne;this._renderWorldCopies&&(ke=c.b2(ne,ue-_/2,ue+_/2));const $e=X/2;ke-$e<I&&(oe=I+$e),ke+$e>L&&(oe=L-$e)}if(oe!==void 0||_e!==void 0){const ue=new c.P(oe??ne,_e??pe);p.center=this.unproject.call({worldSize:_},ue).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this._unmodified,{center:u,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=u,this.zoom=p,this._unmodified=a,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,u=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.b4(1,this.center.lat)*this.worldSize;let g=c.an(new Float64Array(16));c.J(g,g,[this.width/2,-this.height/2,1]),c.H(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=c.an(new Float64Array(16)),c.J(g,g,[1,-1,1]),c.H(g,g,[-1,-1,0]),c.J(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this.minElevationForCurrentTile),A=_-E*this._pixelPerMeter/Math.cos(this._pitch),I=E<0?A:_,L=Math.PI/2+this._pitch,K=this._fov*(.5+a.y/this.height),j=Math.sin(K)*I/Math.sin(c.ac(Math.PI-L-K,.01,Math.PI-.01)),X=this.getHorizon(),te=2*Math.atan(X/this.cameraToCenterDistance)*(.5+a.y/(2*X)),ne=Math.sin(te)*I/Math.sin(c.ac(Math.PI-L-te,.01,Math.PI-.01)),pe=Math.min(j,ne),oe=1.01*(Math.cos(Math.PI/2-this._pitch)*pe+I),_e=this.height/50;g=new Float64Array(16),c.b5(g,this._fov,this.width/this.height,_e,oe),g[8]=2*-a.x/this.width,g[9]=2*a.y/this.height,c.J(g,g,[1,-1,1]),c.H(g,g,[0,0,-this.cameraToCenterDistance]),c.b6(g,g,this._pitch),c.ad(g,g,this.angle),c.H(g,g,[-u,-p,0]),this.mercatorMatrix=c.J([],g,[this.worldSize,this.worldSize,this.worldSize]),c.J(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.K(new Float64Array(16),this.labelPlaneMatrix,g),c.H(g,g,[0,0,-this.elevation]),this.modelViewProjectionMatrix=g,this.invModelViewProjectionMatrix=c.as([],g),this.pixelMatrix3D=c.K(new Float64Array(16),this.labelPlaneMatrix,g);const Ce=this.width%2/2,ue=this.height%2/2,ke=Math.cos(this.angle),$e=Math.sin(this.angle),Fe=u-Math.round(u)+ke*Ce+$e*ue,We=p-Math.round(p)+ke*ue+$e*Ce,qe=new Float64Array(g);if(c.H(qe,qe,[Fe>.5?Fe-1:Fe,We>.5?We-1:We,0]),this.alignedModelViewProjectionMatrix=qe,g=c.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new c.P(0,0)),u=[a.x*this.worldSize,a.y*this.worldSize,0,1];return c.af(u,u,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,a))}getCameraQueryGeometry(a){const u=this.getCameraPoint();if(a.length===1)return[a[0],u];{let p=u.x,g=u.y,_=u.x,E=u.y;for(const A of a)p=Math.min(p,A.x),g=Math.min(g,A.y),_=Math.max(_,A.x),E=Math.max(E,A.y);return[new c.P(p,g),new c.P(_,g),new c.P(_,E),new c.P(p,E),new c.P(p,g)]}}lngLatToCameraDepth(a,u){const p=this.locationCoordinate(a),g=[p.x*this.worldSize,p.y*this.worldSize,u,1];return c.af(g,g,this.modelViewProjectionMatrix),g[2]/g[3]}}function Hm(x,a){let u,p=!1,g=null,_=null;const E=()=>{g=null,p&&(x.apply(_,u),g=setTimeout(E,a),p=!1)};return(...A)=>(p=!0,_=this,u=A,g||E(),g)}class Zh{constructor(a){this._getCurrentHash=()=>{const u=window.location.hash.replace("#","");if(this._hashName){let p;return u.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(p=g)}),(p&&p[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{const u=this._getCurrentHash();if(u.length>=3&&!u.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:p,pitch:+(u[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}},this._updateHash=Hm(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const u=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,g=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,g),E=Math.round(u.lng*_)/_,A=Math.round(u.lat*_)/_,I=this._map.getBearing(),L=this._map.getPitch();let K="";if(K+=a?`/${E}/${A}/${p}`:`${p}/${A}/${E}`,(I||L)&&(K+="/"+Math.round(10*I)/10),L&&(K+=`/${Math.round(L)}`),this._hashName){const j=this._hashName;let X=!1;const te=window.location.hash.slice(1).split("&").map(ne=>{const pe=ne.split("=")[0];return pe===j?(X=!0,`${pe}=${K}`):ne}).filter(ne=>ne);return X||te.push(`${j}=${K}`),`#${te.join("&")}`}return`#${K}`}}const ku={linearity:.3,easing:c.b7(0,0,.3,1)},qh=c.e({deceleration:2500,maxSpeed:1400},ku),Au=c.e({deceleration:20,maxSpeed:1400},ku),Iu=c.e({deceleration:1e3,maxSpeed:360},ku),Yh=c.e({deceleration:1e3,maxSpeed:90},ku);class Xh{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:T.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,u=T.now();for(;a.length>0&&u-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)u.zoom+=_.zoomDelta||0,u.bearing+=_.bearingDelta||0,u.pitch+=_.pitchDelta||0,_.panDelta&&u.pan._add(_.panDelta),_.around&&(u.around=_.around),_.pinchAround&&(u.pinchAround=_.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(u.pan.mag()){const _=Ho(u.pan.mag(),p,c.e({},qh,a||{}));g.offset=u.pan.mult(_.amount/u.pan.mag()),g.center=this._map.transform.center,nc(g,_)}if(u.zoom){const _=Ho(u.zoom,p,Au);g.zoom=this._map.transform.zoom+_.amount,nc(g,_)}if(u.bearing){const _=Ho(u.bearing,p,Iu);g.bearing=this._map.transform.bearing+c.ac(_.amount,-179,179),nc(g,_)}if(u.pitch){const _=Ho(u.pitch,p,Yh);g.pitch=this._map.transform.pitch+_.amount,nc(g,_)}if(g.zoom||g.bearing){const _=u.pinchAround===void 0?u.around:u.pinchAround;g.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),c.e(g,{noMoveStart:!0})}}function nc(x,a){(!x.duration||x.duration<a.duration)&&(x.duration=a.duration,x.easing=a.easing)}function Ho(x,a,u){const{maxSpeed:p,linearity:g,deceleration:_}=u,E=c.ac(x*g/(a/1e3),-p,p),A=Math.abs(E)/(_*g);return{easing:u.easing,duration:1e3*A,amount:E*(A/2)}}class In extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p,g={}){const _=C.mousePos(u.getCanvas(),p),E=u.unproject(_);super(a,c.e({point:_,lngLat:E,originalEvent:p},g)),this._defaultPrevented=!1,this.target=u}}class Wo extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p){const g=a==="touchend"?p.changedTouches:p.touches,_=C.touchPos(u.getCanvasContainer(),g),E=_.map(I=>u.unproject(I)),A=_.reduce((I,L,K,j)=>I.add(L.div(j.length)),new c.P(0,0));super(a,{points:_,point:A,lngLats:E,lngLat:u.unproject(A),originalEvent:p}),this._defaultPrevented=!1}}class Wm extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p){super(a,{originalEvent:p}),this._defaultPrevented=!1}}class Jh{constructor(a,u){this._map=a,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Wm(a.type,this._map,a))}mousedown(a,u){return this._mousedownPos=u,this._firePreventable(new In(a.type,this._map,a))}mouseup(a){this._map.fire(new In(a.type,this._map,a))}click(a,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new In(a.type,this._map,a))}dblclick(a){return this._firePreventable(new In(a.type,this._map,a))}mouseover(a){this._map.fire(new In(a.type,this._map,a))}mouseout(a){this._map.fire(new In(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Wo(a.type,this._map,a))}touchmove(a){this._map.fire(new Wo(a.type,this._map,a))}touchend(a){this._map.fire(new Wo(a.type,this._map,a))}touchcancel(a){this._map.fire(new Wo(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ax{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new In(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new In("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new In(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ns{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(c.P.convert(a),this._map.terrain)}}class ic{constructor(a,u){this._map=a,this._tr=new Ns(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,u){this.isEnabled()&&a.shiftKey&&a.button===0&&(C.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(a,u){if(!this._active)return;const p=u;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=p,this._box||(this._box=C.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const _=Math.min(g.x,p.x),E=Math.max(g.x,p.x),A=Math.min(g.y,p.y),I=Math.max(g.y,p.y);C.setTransform(this._box,`translate(${_}px,${A}px)`),this._box.style.width=E-_+"px",this._box.style.height=I-A+"px"}mouseupWindow(a,u){if(!this._active||a.button!==0)return;const p=this._startPos,g=u;if(this.reset(),C.suppressClick(),p.x!==g.x||p.y!==g.y)return this._map.fire(new c.k("boxzoomend",{originalEvent:a})),{cameraAnimation:_=>_.fitScreenCoordinates(p,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,u){return this._map.fire(new c.k(a,{originalEvent:u}))}}function ac(x,a){if(x.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${a.length}`);const u={};for(let p=0;p<x.length;p++)u[x[p].identifier]=a[p];return u}class Gm{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,u,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),p.length===this.numTouches&&(this.centroid=function(g){const _=new c.P(0,0);for(const E of g)_._add(E);return _.div(g.length)}(u),this.touches=ac(p,u)))}touchmove(a,u,p){if(this.aborted||!this.centroid)return;const g=ac(p,u);for(const _ in this.touches){const E=g[_];(!E||E.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(a,u,p){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class Mu{constructor(a){this.singleTap=new Gm(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,u,p){this.singleTap.touchstart(a,u,p)}touchmove(a,u,p){this.singleTap.touchmove(a,u,p)}touchend(a,u,p){const g=this.singleTap.touchend(a,u,p);if(g){const _=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(g)<30;if(_&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class Du{constructor(a){this._tr=new Ns(a),this._zoomIn=new Mu({numTouches:1,numTaps:2}),this._zoomOut=new Mu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,u,p){this._zoomIn.touchstart(a,u,p),this._zoomOut.touchstart(a,u,p)}touchmove(a,u,p){this._zoomIn.touchmove(a,u,p),this._zoomOut.touchmove(a,u,p)}touchend(a,u,p){const g=this._zoomIn.touchend(a,u,p),_=this._zoomOut.touchend(a,u,p),E=this._tr;return g?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(g)},{originalEvent:a})}):_?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(_)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Go{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const u=this._moveFunction(...a);if(u.bearingDelta||u.pitchDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(a,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=u.length?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,u){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const g=u.length?u[0]:u;return!this._moved&&g.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(p,g))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&C.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const ox={0:1,2:2};class $u{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const u=C.mouseButton(a);this._eventButton=u}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(u,p){const g=ox[p];return u.buttons===void 0||(u.buttons&g)!==g}(a,this._eventButton)}isValidEndEvent(a){return C.mouseButton(a)===this._eventButton}}class zr{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const Wa=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=a=>{a.preventDefault()}},Ci=({enable:x,clickTolerance:a,bearingDegreesPerPixelMoved:u=.8})=>{const p=new $u({checkCorrectEvent:g=>C.mouseButton(g)===0&&g.ctrlKey||C.mouseButton(g)===2});return new Go({clickTolerance:a,move:(g,_)=>({bearingDelta:(_.x-g.x)*u}),moveStateManager:p,enable:x,assignEvents:Wa})},Ru=({enable:x,clickTolerance:a,pitchDegreesPerPixelMoved:u=-.5})=>{const p=new $u({checkCorrectEvent:g=>C.mouseButton(g)===0&&g.ctrlKey||C.mouseButton(g)===2});return new Go({clickTolerance:a,move:(g,_)=>({pitchDelta:(_.y-g.y)*u}),moveStateManager:p,enable:x,assignEvents:Wa})};class Qh{constructor(a,u){this._clickTolerance=a.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(a,u,p){return this._calculateTransform(a,u,p)}touchmove(a,u,p){if(this._active&&!(p.length<this.minTouchs()))return a.preventDefault(),this._calculateTransform(a,u,p)}touchend(a,u,p){this._calculateTransform(a,u,p),this._active&&p.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,u,p){p.length>0&&(this._active=!0);const g=ac(p,u),_=new c.P(0,0),E=new c.P(0,0);let A=0;for(const L in g){const K=g[L],j=this._touches[L];j&&(_._add(K),E._add(K.sub(j)),A++,g[L]=K)}if(this._touches=g,A<this.minTouchs()||!E.mag())return;const I=E.div(A);return this._sum._add(I),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(A),panDelta:I}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Lu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,u,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([u[0],u[1]]))}touchmove(a,u,p){if(!this._firstTwoTouches)return;a.preventDefault();const[g,_]=this._firstTwoTouches,E=Ga(p,u,g),A=Ga(p,u,_);if(!E||!A)return;const I=this._aroundCenter?null:E.add(A).div(2);return this._move([E,A],I,a)}touchend(a,u,p){if(!this._firstTwoTouches)return;const[g,_]=this._firstTwoTouches,E=Ga(p,u,g),A=Ga(p,u,_);E&&A||(this._active&&C.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Ga(x,a,u){for(let p=0;p<x.length;p++)if(x[p].identifier===u)return a[p]}function Os(x,a){return Math.log(x/a)/Math.LN2}class zu extends Lu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,u){const p=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Os(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Os(this._distance,p),pinchAround:u}}}function ef(x,a){return 180*x.angleWith(a)/Math.PI}class tf extends Lu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,u,p){const g=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ef(this._vector,g),pinchAround:u}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const u=25/(Math.PI*this._minDiameter)*360,p=ef(a,this._startVector);return Math.abs(p)<u}}function Fu(x){return Math.abs(x.y)>Math.abs(x.x)}class rf extends Lu{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,u,p){super.touchstart(a,u,p),this._currentTouchCount=p.length}_start(a){this._lastPoints=a,Fu(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,u,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const g=a[0].sub(this._lastPoints[0]),_=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,_,p.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(g.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(a,u,p){if(this._valid!==void 0)return this._valid;const g=a.mag()>=2,_=u.mag()>=2;if(!g&&!_)return;if(!g||!_)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const E=a.y>0==u.y>0;return Fu(a)&&Fu(u)&&E}}const Zm={panStep:100,bearingStep:15,pitchStep:10};class po{constructor(a){this._tr=new Ns(a);const u=Zm;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let u=0,p=0,g=0,_=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:a.shiftKey?p=-1:(a.preventDefault(),_=-1);break;case 39:a.shiftKey?p=1:(a.preventDefault(),_=1);break;case 38:a.shiftKey?g=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?g=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(p=0,g=0),{cameraAnimation:A=>{const I=this._tr;A.easeTo({duration:300,easeId:"keyboardHandler",easing:qm,zoom:u?Math.round(I.zoom)+u*(a.shiftKey?2:1):I.zoom,bearing:I.bearing+p*this._bearingStep,pitch:I.pitch+g*this._pitchStep,offset:[-_*this._panStep,-E*this._panStep],center:I.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function qm(x){return x*(2-x)}const nf=4.000244140625;class af{constructor(a,u){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=a,this._tr=new Ns(a),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!a[this._map.cooperativeGestures._bypassKey])return;let u=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const p=T.now(),g=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,u!==0&&u%nf==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(g*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),a.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=a,this._delta-=u,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=C.mousePos(this._map.getCanvas(),a),p=this._tr;this._around=u.y>p.transform.height/2-p.transform.getHorizon()?c.M.convert(this._aroundCenter?p.center:p.unproject(u)):c.M.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const A=this._type==="wheel"&&Math.abs(this._delta)>nf?this._wheelZoomRate:this._defaultZoomRate;let I=2/(1+Math.exp(-Math.abs(this._delta*A)));this._delta<0&&I!==0&&(I=1/I);const L=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(L*I))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,p=this._startZoom,g=this._easing;let _,E=!1;if(this._type==="wheel"&&p&&g){const A=Math.min((T.now()-this._lastWheelEventTime)/200,1),I=g(A);_=c.z.number(p,u,I),A<1?this._frameId||(this._frameId=!0):E=!0}else _=u,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:_-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let u=c.b8;if(this._prevEase){const p=this._prevEase,g=(T.now()-p.start)/p.duration,_=p.easing(g+.01)-p.easing(g),E=.27/Math.sqrt(_*_+1e-4)*.01,A=Math.sqrt(.0729-E*E);u=c.b7(E,A,.25,1)}return this._prevEase={start:T.now(),duration:a,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class of{constructor(a,u){this._clickZoom=a,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ym{constructor(a){this._tr=new Ns(a),this.reset()}reset(){this._active=!1}dblclick(a,u){return a.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xm{constructor(){this._tap=new Mu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,u,p){if(!this._swipePoint)if(this._tapTime){const g=u[0],_=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(g)<30;_&&E?p.length>0&&(this._swipePoint=g,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(a,u,p)}touchmove(a,u,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const g=u[0],_=g.y-this._swipePoint.y;return this._swipePoint=g,a.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(a,u,p)}touchend(a,u,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const g=this._tap.touchend(a,u,p);g&&(this._tapTime=a.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sf{constructor(a,u,p){this._el=a,this._mousePan=u,this._touchPan=p}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class js{constructor(a,u,p){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=u,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class lf{constructor(a,u,p,g){this._el=a,this._touchZoom=u,this._touchRotate=p,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Bi{constructor(a,u){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=u,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=C.create("div","maplibregl-cooperative-gesture-screen",a);let u=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(u=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),g=document.createElement("div");g.className="maplibregl-desktop-message",g.textContent=u,this._container.appendChild(g);const _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=p,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(C.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(a){this._onCooperativeGesture(a.touches.length===1)}wheel(a){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!a[this._bypassKey])}_onCooperativeGesture(a){this._enabled&&a&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Ei=x=>x.zoom||x.drag||x.pitch||x.rotate;class Jm extends c.k{}function Ni(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class oc{constructor(a,u){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,_)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=g.type==="renderFrame"?void 0:g,A={needsRenderFrame:!1},I={},L={},K=g.touches,j=K?this._getMapTouches(K):void 0,X=j?C.touchPos(this._map.getCanvas(),j):C.mousePos(this._map.getCanvas(),g);for(const{handlerName:pe,handler:oe,allowed:_e}of this._handlers){if(!oe.isEnabled())continue;let Ce;this._blockedByActive(L,_e,pe)?oe.reset():oe[_||g.type]&&(Ce=oe[_||g.type](g,X,j),this.mergeHandlerResult(A,I,Ce,pe,E),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()),(Ce||oe.isActive())&&(L[pe]=oe)}const te={};for(const pe in this._previousActiveHandlers)L[pe]||(te[pe]=E);this._previousActiveHandlers=L,(Object.keys(te).length||Ni(A))&&(this._changes.push([A,I,te]),this._triggerRenderFrame()),(Object.keys(L).length||Ni(A))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ne}=A;ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ne(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Xh(a),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,_,E]of this._listeners)C.addEventListener(g,_,g===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,u,p]of this._listeners)C.removeEventListener(a,u,a===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(a){const u=this._map,p=u.getCanvasContainer();this._add("mapEvent",new Jh(u,a));const g=u.boxZoom=new ic(u,a);this._add("boxZoom",g),a.interactive&&a.boxZoom&&g.enable();const _=u.cooperativeGestures=new Bi(u,a.cooperativeGestures);this._add("cooperativeGestures",_),a.cooperativeGestures&&_.enable();const E=new Du(u),A=new Ym(u);u.doubleClickZoom=new of(A,E),this._add("tapZoom",E),this._add("clickZoom",A),a.interactive&&a.doubleClickZoom&&u.doubleClickZoom.enable();const I=new Xm;this._add("tapDragZoom",I);const L=u.touchPitch=new rf(u);this._add("touchPitch",L),a.interactive&&a.touchPitch&&u.touchPitch.enable(a.touchPitch);const K=Ci(a),j=Ru(a);u.dragRotate=new js(a,K,j),this._add("mouseRotate",K,["mousePitch"]),this._add("mousePitch",j,["mouseRotate"]),a.interactive&&a.dragRotate&&u.dragRotate.enable();const X=(({enable:Ce,clickTolerance:ue})=>{const ke=new $u({checkCorrectEvent:$e=>C.mouseButton($e)===0&&!$e.ctrlKey});return new Go({clickTolerance:ue,move:($e,Fe)=>({around:Fe,panDelta:Fe.sub($e)}),activateOnStart:!0,moveStateManager:ke,enable:Ce,assignEvents:Wa})})(a),te=new Qh(a,u);u.dragPan=new sf(p,X,te),this._add("mousePan",X),this._add("touchPan",te,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&u.dragPan.enable(a.dragPan);const ne=new tf,pe=new zu;u.touchZoomRotate=new lf(p,pe,ne,I),this._add("touchRotate",ne,["touchPan","touchZoom"]),this._add("touchZoom",pe,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&u.touchZoomRotate.enable(a.touchZoomRotate);const oe=u.scrollZoom=new af(u,()=>this._triggerRenderFrame());this._add("scrollZoom",oe,["mousePan"]),a.interactive&&a.scrollZoom&&u.scrollZoom.enable(a.scrollZoom);const _e=u.keyboard=new po(u);this._add("keyboard",_e),a.interactive&&a.keyboard&&u.keyboard.enable(),this._add("blockableMapEvent",new ax(u))}_add(a,u,p){this._handlers.push({handlerName:a,handler:u,allowed:p}),this._handlersById[a]=u}stop(a){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ei(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,u,p){for(const g in a)if(g!==p&&(!u||u.indexOf(g)<0))return!0;return!1}_getMapTouches(a){const u=[];for(const p of a)this._el.contains(p.target)&&u.push(p);return u}mergeHandlerResult(a,u,p,g,_){if(!p)return;c.e(a,p);const E={handlerName:g,originalEvent:p.originalEvent||_};p.zoomDelta!==void 0&&(u.zoom=E),p.panDelta!==void 0&&(u.drag=E),p.pitchDelta!==void 0&&(u.pitch=E),p.bearingDelta!==void 0&&(u.rotate=E)}_applyChanges(){const a={},u={},p={};for(const[g,_,E]of this._changes)g.panDelta&&(a.panDelta=(a.panDelta||new c.P(0,0))._add(g.panDelta)),g.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(a.around=g.around),g.pinchAround!==void 0&&(a.pinchAround=g.pinchAround),g.noInertia&&(a.noInertia=g.noInertia),c.e(u,_),c.e(p,E);this._updateMapTransform(a,u,p),this._changes=[]}_updateMapTransform(a,u,p){const g=this._map,_=g._getTransformForUpdate(),E=g.terrain;if(!(Ni(a)||E&&this._terrainMovement))return this._fireEvents(u,p,!0);let{panDelta:A,zoomDelta:I,bearingDelta:L,pitchDelta:K,around:j,pinchAround:X}=a;X!==void 0&&(j=X),g._stop(!0),j=j||g.transform.centerPoint;const te=_.pointLocation(A?j.sub(A):j);L&&(_.bearing+=L),K&&(_.pitch+=K),I&&(_.zoom+=I),E?this._terrainMovement||!u.drag&&!u.zoom?u.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(A)):_.setLocationAtPoint(te,j):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(te,j)):_.setLocationAtPoint(te,j),g._applyUpdatedTransform(_),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(u,p,!0)}_fireEvents(a,u,p){const g=Ei(this._eventsInProgress),_=Ei(a),E={};for(const j in a){const{originalEvent:X}=a[j];this._eventsInProgress[j]||(E[`${j}start`]=X),this._eventsInProgress[j]=a[j]}!g&&_&&this._fireEvent("movestart",_.originalEvent);for(const j in E)this._fireEvent(j,E[j]);_&&this._fireEvent("move",_.originalEvent);for(const j in a){const{originalEvent:X}=a[j];this._fireEvent(j,X)}const A={};let I;for(const j in this._eventsInProgress){const{handlerName:X,originalEvent:te}=this._eventsInProgress[j];this._handlersById[X].isActive()||(delete this._eventsInProgress[j],I=u[X]||te,A[`${j}end`]=I)}for(const j in A)this._fireEvent(j,A[j]);const L=Ei(this._eventsInProgress),K=(g||_)&&!L;if(K&&this._terrainMovement&&(this._map._elevationFreeze=!1,this._terrainMovement=!1,this._map.transform.recalculateZoom(this._map.terrain)),p&&K){this._updatingCamera=!0;const j=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),X=te=>te!==0&&-this._bearingSnap<te&&te<this._bearingSnap;!j||!j.essential&&T.prefersReducedMotion?(this._map.fire(new c.k("moveend",{originalEvent:I})),X(this._map.getBearing())&&this._map.resetNorth()):(X(j.bearing||this._map.getBearing())&&(j.bearing=0),j.freezeElevation=!0,this._map.easeTo(j,{originalEvent:I})),this._updatingCamera=!1}}_fireEvent(a,u){this._map.fire(new c.k(a,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Jm("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class sx extends c.E{constructor(a,u){super(),this._renderFrameCallback=()=>{const p=Math.min((T.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=u.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new c.M(this.transform.center.lng,this.transform.center.lat)}setCenter(a,u){return this.jumpTo({center:a},u)}panBy(a,u,p){return a=c.P.convert(a).mult(-1),this.panTo(this.transform.center,c.e({offset:a},u),p)}panTo(a,u,p){return this.easeTo(c.e({center:a},u),p)}getZoom(){return this.transform.zoom}setZoom(a,u){return this.jumpTo({zoom:a},u),this}zoomTo(a,u,p){return this.easeTo(c.e({zoom:a},u),p)}zoomIn(a,u){return this.zoomTo(this.getZoom()+1,a,u),this}zoomOut(a,u){return this.zoomTo(this.getZoom()-1,a,u),this}getBearing(){return this.transform.bearing}setBearing(a,u){return this.jumpTo({bearing:a},u),this}getPadding(){return this.transform.padding}setPadding(a,u){return this.jumpTo({padding:a},u),this}rotateTo(a,u,p){return this.easeTo(c.e({bearing:a},u),p)}resetNorth(a,u){return this.rotateTo(0,c.e({duration:1e3},a),u),this}resetNorthPitch(a,u){return this.easeTo(c.e({bearing:0,pitch:0,duration:1e3},a),u),this}snapToNorth(a,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,u):this}getPitch(){return this.transform.pitch}setPitch(a,u){return this.jumpTo({pitch:a},u),this}cameraForBounds(a,u){a=Yt.convert(a);const p=u&&u.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),p,u)}_cameraForBoxAndBearing(a,u,p,g){const _={top:0,bottom:0,right:0,left:0};if(typeof(g=c.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Ye=g.padding;g.padding={top:Ye,bottom:Ye,right:Ye,left:Ye}}g.padding=c.e(_,g.padding);const E=this.transform,A=E.padding,I=new Yt(a,u),L=E.project(I.getNorthWest()),K=E.project(I.getNorthEast()),j=E.project(I.getSouthEast()),X=E.project(I.getSouthWest()),te=c.b9(-p),ne=L.rotate(te),pe=K.rotate(te),oe=j.rotate(te),_e=X.rotate(te),Ce=new c.P(Math.max(ne.x,pe.x,_e.x,oe.x),Math.max(ne.y,pe.y,_e.y,oe.y)),ue=new c.P(Math.min(ne.x,pe.x,_e.x,oe.x),Math.min(ne.y,pe.y,_e.y,oe.y)),ke=Ce.sub(ue),$e=(E.width-(A.left+A.right+g.padding.left+g.padding.right))/ke.x,Fe=(E.height-(A.top+A.bottom+g.padding.top+g.padding.bottom))/ke.y;if(Fe<0||$e<0)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const We=Math.min(E.scaleZoom(E.scale*Math.min($e,Fe)),g.maxZoom),qe=c.P.convert(g.offset),lt=new c.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(c.b9(p)),ct=qe.add(lt).mult(E.scale/E.zoomScale(We));return{center:E.unproject(L.add(j).div(2).sub(ct)),zoom:We,bearing:p}}fitBounds(a,u,p){return this._fitInternal(this.cameraForBounds(a,u),u,p)}fitScreenCoordinates(a,u,p,g,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.P.convert(a)),this.transform.pointLocation(c.P.convert(u)),p,g),g,_)}_fitInternal(a,u,p){return a?(delete(u=c.e(a,u)).padding,u.linear?this.easeTo(u,p):this.flyTo(u,p)):this}jumpTo(a,u){this.stop();const p=this._getTransformForUpdate();let g=!1,_=!1,E=!1;return"zoom"in a&&p.zoom!==+a.zoom&&(g=!0,p.zoom=+a.zoom),a.center!==void 0&&(p.center=c.M.convert(a.center)),"bearing"in a&&p.bearing!==+a.bearing&&(_=!0,p.bearing=+a.bearing),"pitch"in a&&p.pitch!==+a.pitch&&(E=!0,p.pitch=+a.pitch),a.padding==null||p.isPaddingEqual(a.padding)||(p.padding=a.padding),this._applyUpdatedTransform(p),this.fire(new c.k("movestart",u)).fire(new c.k("move",u)),g&&this.fire(new c.k("zoomstart",u)).fire(new c.k("zoom",u)).fire(new c.k("zoomend",u)),_&&this.fire(new c.k("rotatestart",u)).fire(new c.k("rotate",u)).fire(new c.k("rotateend",u)),E&&this.fire(new c.k("pitchstart",u)).fire(new c.k("pitch",u)).fire(new c.k("pitchend",u)),this.fire(new c.k("moveend",u))}calculateCameraOptionsFromTo(a,u,p,g=0){const _=c.Y.fromLngLat(a,u),E=c.Y.fromLngLat(p,g),A=E.x-_.x,I=E.y-_.y,L=E.z-_.z,K=Math.hypot(A,I,L);if(K===0)throw new Error("Can't calculate camera options with same From and To");const j=Math.hypot(A,I),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/K/this.transform.tileSize),te=180*Math.atan2(A,-I)/Math.PI;let ne=180*Math.acos(j/K)/Math.PI;return ne=L<0?90-ne:90+ne,{center:E.toLngLat(),zoom:X,pitch:ne,bearing:te}}easeTo(a,u){var p;this._stop(!1,a.easeId),((a=c.e({offset:[0,0],duration:500,easing:c.b8},a)).animate===!1||!a.essential&&T.prefersReducedMotion)&&(a.duration=0);const g=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),A=this.getPitch(),I=this.getPadding(),L="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:A,j="padding"in a?a.padding:g.padding,X=c.P.convert(a.offset);let te=g.centerPoint.add(X);const ne=g.pointLocation(te),{center:pe,zoom:oe}=g.getConstrained(c.M.convert(a.center||ne),(p=a.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(pe);const _e=g.project(ne),Ce=g.project(pe).sub(_e),ue=g.zoomScale(oe-_);let ke,$e;a.around&&(ke=c.M.convert(a.around),$e=g.locationPoint(ke));const Fe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||oe!==_,this._rotating=this._rotating||E!==L,this._pitching=this._pitching||K!==A,this._padding=!g.isPaddingEqual(j),this._easeId=a.easeId,this._prepareEase(u,a.noMoveStart,Fe),this.terrain&&this._prepareElevation(pe),this._ease(We=>{if(this._zooming&&(g.zoom=c.z.number(_,oe,We)),this._rotating&&(g.bearing=c.z.number(E,L,We)),this._pitching&&(g.pitch=c.z.number(A,K,We)),this._padding&&(g.interpolatePadding(I,j,We),te=g.centerPoint.add(X)),this.terrain&&!a.freezeElevation&&this._updateElevation(We),ke)g.setLocationAtPoint(ke,$e);else{const qe=g.zoomScale(g.zoom-_),lt=oe>_?Math.min(2,ue):Math.max(.5,ue),ct=Math.pow(lt,1-We),Ye=g.unproject(_e.add(Ce.mult(We*ct)).mult(qe));g.setLocationAtPoint(g.renderWorldCopies?Ye.wrap():Ye,te)}this._applyUpdatedTransform(g),this._fireMoveEvents(u)},We=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(u,We)},a),this}_prepareEase(a,u,p={}){this._moving=!0,u||p.moving||this.fire(new c.k("movestart",a)),this._zooming&&!p.zooming&&this.fire(new c.k("zoomstart",a)),this._rotating&&!p.rotating&&this.fire(new c.k("rotatestart",a)),this._pitching&&!p.pitching&&this.fire(new c.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&u!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(p-(u-(p*a+this._elevationStart))/(1-a)),this._elevationTarget=u}this.transform.elevation=c.z.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const u=a.clone(),{center:p,zoom:g,pitch:_,bearing:E,elevation:A}=this.transformCameraUpdate(u);p&&(u.center=p),g!==void 0&&(u.zoom=g),_!==void 0&&(u.pitch=_),E!==void 0&&(u.bearing=E),A!==void 0&&(u.elevation=A),this.transform.apply(u)}_fireMoveEvents(a){this.fire(new c.k("move",a)),this._zooming&&this.fire(new c.k("zoom",a)),this._rotating&&this.fire(new c.k("rotate",a)),this._pitching&&this.fire(new c.k("pitch",a))}_afterEase(a,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;const p=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new c.k("zoomend",a)),g&&this.fire(new c.k("rotateend",a)),_&&this.fire(new c.k("pitchend",a)),this.fire(new c.k("moveend",a))}flyTo(a,u){var p;if(!a.essential&&T.prefersReducedMotion){const at=c.L(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(at,u)}this.stop(),a=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.b8},a);const g=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),A=this.getPitch(),I=this.getPadding(),L="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:A,j="padding"in a?a.padding:g.padding,X=c.P.convert(a.offset);let te=g.centerPoint.add(X);const ne=g.pointLocation(te),{center:pe,zoom:oe}=g.getConstrained(c.M.convert(a.center||ne),(p=a.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(pe);const _e=g.zoomScale(oe-_),Ce=g.project(ne),ue=g.project(pe).sub(Ce);let ke=a.curve;const $e=Math.max(g.width,g.height),Fe=$e/_e,We=ue.mag();if("minZoom"in a){const at=c.ac(Math.min(a.minZoom,_,oe),g.minZoom,g.maxZoom),It=$e/g.zoomScale(at-_);ke=Math.sqrt(It/We*2)}const qe=ke*ke;function lt(at){const It=(Fe*Fe-$e*$e+(at?-1:1)*qe*qe*We*We)/(2*(at?Fe:$e)*qe*We);return Math.log(Math.sqrt(It*It+1)-It)}function ct(at){return(Math.exp(at)-Math.exp(-at))/2}function Ye(at){return(Math.exp(at)+Math.exp(-at))/2}const et=lt(!1);let pt=function(at){return Ye(et)/Ye(et+ke*at)},Lt=function(at){return $e*((Ye(et)*(ct(It=et+ke*at)/Ye(It))-ct(et))/qe)/We;var It},rt=(lt(!0)-et)/ke;if(Math.abs(We)<1e-6||!isFinite(rt)){if(Math.abs($e-Fe)<1e-6)return this.easeTo(a,u);const at=Fe<$e?-1:1;rt=Math.abs(Math.log(Fe/$e))/ke,Lt=()=>0,pt=It=>Math.exp(at*ke*It)}return a.duration="duration"in a?+a.duration:1e3*rt/("screenSpeed"in a?+a.screenSpeed/ke:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=E!==L,this._pitching=K!==A,this._padding=!g.isPaddingEqual(j),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(pe),this._ease(at=>{const It=at*rt,wr=1/pt(It);g.zoom=at===1?oe:_+g.scaleZoom(wr),this._rotating&&(g.bearing=c.z.number(E,L,at)),this._pitching&&(g.pitch=c.z.number(A,K,at)),this._padding&&(g.interpolatePadding(I,j,at),te=g.centerPoint.add(X)),this.terrain&&!a.freezeElevation&&this._updateElevation(at);const Ht=at===1?pe:g.unproject(Ce.add(ue.mult(Lt(It))).mult(wr));g.setLocationAtPoint(g.renderWorldCopies?Ht.wrap():Ht,te),this._applyUpdatedTransform(g),this._fireMoveEvents(u)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(u)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,u){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,u)}return a||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(a,u,p){p.animate===!1||p.duration===0?(a(1),u()):(this._easeStart=T.now(),this._easeOptions=p,this._onEaseFrame=a,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,u){a=c.b2(a,-180,180);const p=Math.abs(a-u);return Math.abs(a-360-u)<p&&(a-=360),Math.abs(a+360-u)<p&&(a+=360),a}_normalizeCenter(a){const u=this.transform;if(!u.renderWorldCopies||u.lngRange)return;const p=a.lng-u.center.lng;a.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(c.M.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}const Qm={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class eg{constructor(a=Qm){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=C.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=C.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,u){const p=this._map._getUIString(`AttributionControl.${u}`);a.title=p,a.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const u=this._map.style.sourceCaches;for(const g in u){const _=u[g];if(_.used||_.usedForTerrain){const E=_.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(g=>String(g).trim()),a.sort((g,_)=>g.length-_.length),a=a.filter((g,_)=>{for(let E=_+1;E<a.length;E++)if(a[E].indexOf(g)>=0)return!1;return!0});const p=a.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,a.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class cf{constructor(a={}){this._updateCompact=()=>{const u=this._container.children;if(u.length){const p=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=C.create("div","maplibregl-ctrl");const u=C.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){C.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class sc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const u=++this._id;return this._queue.push({callback:a,id:u,cancelled:!1}),u}remove(a){const u=this._currentlyRunning,p=u?this._queue.concat(u):this._queue;for(const g of p)if(g.id===a)return void(g.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const u=this._currentlyRunning=this._queue;this._queue=[];for(const p of u)if(!p.cancelled&&(p.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var mo=c.X([{name:"a_pos3d",type:"Int16",components:3}]);class dt extends c.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,u){this.sourceCache.update(a,u),this._renderableTilesKeys=[];const p={};for(const g of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u}))p[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),c.aO(g.posMatrix,0,c.W,0,c.W,0,1),this._tiles[g.key]=new An(g,this.tileSize));for(const g in this._tiles)p[g]||delete this._tiles[g]}freeRtt(a){for(const u in this._tiles){const p=this._tiles[u];(!a||p.tileID.equals(a)||p.tileID.isChildOf(a)||a.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const u={};for(const p of this._renderableTilesKeys){const g=this._tiles[p].tileID;if(g.canonical.equals(a.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16),c.aO(_.posMatrix,0,c.W,0,c.W,0,1),u[p]=_}else if(g.canonical.isChildOf(a.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16);const E=g.canonical.z-a.canonical.z,A=g.canonical.x-(g.canonical.x>>E<<E),I=g.canonical.y-(g.canonical.y>>E<<E),L=c.W>>E;c.aO(_.posMatrix,0,L,0,L,0,1),c.H(_.posMatrix,_.posMatrix,[-A*L,-I*L,0]),u[p]=_}else if(a.canonical.isChildOf(g.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16);const E=a.canonical.z-g.canonical.z,A=a.canonical.x-(a.canonical.x>>E<<E),I=a.canonical.y-(a.canonical.y>>E<<E),L=c.W>>E;c.aO(_.posMatrix,0,c.W,0,c.W,0,1),c.H(_.posMatrix,_.posMatrix,[A*L,I*L,0]),c.J(_.posMatrix,_.posMatrix,[1/2**E,1/2**E,0]),u[p]=_}}return u}getSourceTile(a,u){const p=this.sourceCache._source;let g=a.overscaledZ-this.deltaZoom;if(g>p.maxzoom&&(g=p.maxzoom),g<p.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(g).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!_||!_.dem)&&u)for(;g>=p.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(a.scaledTo(g--).key);return _}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(u=>u.timeAdded>=a)}}class tg{constructor(a,u,p){this.painter=a,this.sourceCache=new dt(u),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,u,p,g=c.W){var _;if(!(u>=0&&u<g&&p>=0&&p<g))return 0;const E=this.getTerrainData(a),A=(_=E.tile)===null||_===void 0?void 0:_.dem;if(!A)return 0;const I=function(ne,pe,oe){var _e=pe[0],Ce=pe[1];return ne[0]=oe[0]*_e+oe[4]*Ce+oe[12],ne[1]=oe[1]*_e+oe[5]*Ce+oe[13],ne}([],[u/g*c.W,p/g*c.W],E.u_terrain_matrix),L=[I[0]*A.dim,I[1]*A.dim],K=Math.floor(L[0]),j=Math.floor(L[1]),X=L[0]-K,te=L[1]-j;return A.get(K,j)*(1-X)*(1-te)+A.get(K+1,j)*X*(1-te)+A.get(K,j+1)*(1-X)*te+A.get(K+1,j+1)*X*te}getElevationForLngLatZoom(a,u){const{tileID:p,mercatorX:g,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(a,u);return this.getElevation(p,g%c.W,_%c.W,c.W)}getElevation(a,u,p,g=c.W){return this.getDEMElevation(a,u,p,g)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const g=this.painter.context,_=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new se(g,_,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new se(g,new c.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.an([])}const u=this.sourceCache.getSourceTile(a,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){const g=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new se(g,u.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),u.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}const p=u&&u+u.tileID.key+a.key;if(p&&!this._demMatrixCache[p]){const g=this.sourceCache.sourceCache._source.maxzoom;let _=a.canonical.z-u.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=g?_=a.canonical.z-g:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>_<<_),A=a.canonical.y-(a.canonical.y>>_<<_),I=c.ba(new Float64Array(16),[1/(c.W<<_),1/(c.W<<_),0]);c.H(I,I,[E*c.W,A*c.W,0]),this._demMatrixCache[a.key]={matrix:I,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(a){const u=this.painter,p=u.width/devicePixelRatio,g=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new se(u.context,{width:p,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new se(u.context,{width:p,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(p,g,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,p,g))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,E=0;_<this._coordsTextureSize;_++)for(let A=0;A<this._coordsTextureSize;A++,E+=4)u[E+0]=255&A,u[E+1]=255&_,u[E+2]=A>>8<<4|_>>8,u[E+3]=0;const p=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),g=new se(a,p,a.gl.RGBA,{premultiply:!1});return g.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);const u=new Uint8Array(4),p=this.painter.context,g=p.gl,_=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),E=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),A=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(_,A-E-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),p.bindFramebuffer.set(null);const I=u[0]+(u[2]>>4<<8),L=u[1]+((15&u[2])<<8),K=this.coordsIndex[255-u[3]],j=K&&this.sourceCache.getTileByID(K);if(!j)return null;const X=this._coordsTextureSize,te=(1<<j.tileID.canonical.z)*X;return new c.Y((j.tileID.canonical.x*X+I)/te+j.tileID.wrap,(j.tileID.canonical.y*X+L)/te,this.getElevation(j.tileID,I,L,X))}depthAtPoint(a){const u=new Uint8Array(4),p=this.painter.context,g=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),g.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),p.bindFramebuffer.set(null),(u[0]/16777216+u[1]/65536+u[2]/256+u[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,u=new c.bb,p=new c.aY,g=this.meshSize,_=c.W/g,E=g*g;for(let j=0;j<=g;j++)for(let X=0;X<=g;X++)u.emplaceBack(X*_,j*_,0);for(let j=0;j<E;j+=g+1)for(let X=0;X<g;X++)p.emplaceBack(X+j,g+X+j+1,g+X+j+2),p.emplaceBack(X+j,g+X+j+2,X+j+1);const A=u.length,I=A+2*(g+1);for(const j of[0,1])for(let X=0;X<=g;X++)for(const te of[0,1])u.emplaceBack(X*_,j*c.W,te);for(let j=0;j<2*g;j+=2)p.emplaceBack(I+j,I+j+1,I+j+3),p.emplaceBack(I+j,I+j+3,I+j+2),p.emplaceBack(A+j,A+j+3,A+j+1),p.emplaceBack(A+j,A+j+2,A+j+3);const L=u.length,K=L+2*(g+1);for(const j of[0,1])for(let X=0;X<=g;X++)for(const te of[0,1])u.emplaceBack(j*c.W,X*_,te);for(let j=0;j<2*g;j+=2)p.emplaceBack(L+j,L+j+1,L+j+3),p.emplaceBack(L+j,L+j+3,L+j+2),p.emplaceBack(K+j,K+j+3,K+j+1),p.emplaceBack(K+j,K+j+2,K+j+3);return this._mesh={indexBuffer:a.createIndexBuffer(p),vertexBuffer:a.createVertexBuffer(u,mo.members),segments:c.$.simpleSegment(0,0,u.length,p.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*c.bc/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,u){var p;const{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(a,u);return(p=this.getMinMaxElevation(g).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(a){const u=this.getTerrainData(a).tile,p={minElevation:null,maxElevation:null};return u&&u.dem&&(p.minElevation=u.dem.min*this.exaggeration,p.maxElevation=u.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(a,u){const p=c.Y.fromLngLat(a.wrap()),g=(1<<u)*c.W,_=p.x*g,E=p.y*g,A=Math.floor(_/c.W),I=Math.floor(E/c.W);return{tileID:new c.Q(u,0,u,A,I),mercatorX:_,mercatorY:E}}}class lc{constructor(a,u,p){this._context=a,this._size=u,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new se(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(p.texture),{id:a,fbo:u,texture:p,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(u=>a.id!==u),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const wa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class rg{constructor(a,u){this.painter=a,this.terrain=u,this.pool=new lc(a.context,30,u.sourceCache.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(p=>!a._layers[p].isHidden(u)),this._coordsDescendingInv={};for(const p in a.sourceCaches){this._coordsDescendingInv[p]={};const g=a.sourceCaches[p].getVisibleCoordinates();for(const _ of g){const E=this.terrain.sourceCache.getTerrainCoords(_);for(const A in E)this._coordsDescendingInv[p][A]||(this._coordsDescendingInv[p][A]=[]),this._coordsDescendingInv[p][A].push(E[A])}}this._coordsDescendingInvStr={};for(const p of a._order){const g=a._layers[p],_=g.source;if(wa[g.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const E in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][E]=this._coordsDescendingInv[_][E].map(A=>A.key).sort().join()}}for(const p of this._renderableTiles)for(const g in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[g][p.tileID.key];_&&_!==p.rttCoords[g]&&(p.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const u=a.type,p=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(wa[u]&&(this._prevType&&wa[this._prevType]||this._stacks.push([]),this._prevType=u,this._stacks[this._stacks.length-1].push(a.id),!g))return!0;if(wa[this._prevType]||wa[u]&&g){this._prevType=u;const _=this._stacks.length-1,E=this._stacks[_]||[];for(const A of this._renderableTiles){if(this.pool.isFull()&&(Cu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(A),A.rtt[_]){const L=this.pool.getObjectForId(A.rtt[_].id);if(L.stamp===A.rtt[_].stamp){this.pool.useObject(L);continue}}const I=this.pool.getOrCreateFreeObject();this.pool.useObject(I),this.pool.stampObject(I),A.rtt[_]={id:I.id,stamp:I.stamp},p.context.bindFramebuffer.set(I.fbo.framebuffer),p.context.clear({color:c.aP.transparent,stencil:0}),p.currentStencilSource=void 0;for(let L=0;L<E.length;L++){const K=p.style._layers[E[L]],j=K.source?this._coordsDescendingInv[K.source][A.tileID.key]:[A.tileID];p.context.viewport.set([0,0,I.fbo.width,I.fbo.height]),p._renderTileClippingMasks(K,j),p.renderLayer(p,p.style.sourceCaches[K.source],K,j),K.source&&(A.rttCoords[K.source]=this._coordsDescendingInvStr[K.source][A.tileID.key])}}return Cu(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),wa[u]}return!1}}const st={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},uf=v,lx={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Qm,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},ng=x=>{x.touchstart=x.dragStart,x.touchmoveWindow=x.dragMove,x.touchend=x.dragEnd},df={showCompass:!0,showZoom:!0,visualizePitch:!1};class ig{constructor(a,u,p=!1){this.mousedown=E=>{this.startMouse(c.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),C.mousePos(this.element,E)),C.addEventListener(window,"mousemove",this.mousemove),C.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,C.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),C.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const g=a.dragRotate._mouseRotate.getClickTolerance(),_=a.dragRotate._mousePitch.getClickTolerance();this.element=u,this.mouseRotate=Ci({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:A,bearingDegreesPerPixelMoved:I=.8})=>{const L=new zr;return new Go({clickTolerance:A,move:(K,j)=>({bearingDelta:(j.x-K.x)*I}),moveStateManager:L,enable:E,assignEvents:ng})})({clickTolerance:g,enable:!0}),this.map=a,p&&(this.mousePitch=Ru({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:A,pitchDegreesPerPixelMoved:I=-.5})=>{const L=new zr;return new Go({clickTolerance:A,move:(K,j)=>({pitchDelta:(j.y-K.y)*I}),moveStateManager:L,enable:E,assignEvents:ng})})({clickTolerance:_,enable:!0})),C.addEventListener(u,"mousedown",this.mousedown),C.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(u,"touchcancel",this.reset)}startMouse(a,u){this.mouseRotate.dragStart(a,u),this.mousePitch&&this.mousePitch.dragStart(a,u),C.disableDrag()}startTouch(a,u){this.touchRotate.dragStart(a,u),this.touchPitch&&this.touchPitch.dragStart(a,u),C.disableDrag()}moveMouse(a,u){const p=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(a,u)||{};if(g&&p.setBearing(p.getBearing()+g),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(a,u)||{};_&&p.setPitch(p.getPitch()+_)}}moveTouch(a,u){const p=this.map,{bearingDelta:g}=this.touchRotate.dragMove(a,u)||{};if(g&&p.setBearing(p.getBearing()+g),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(a,u)||{};_&&p.setPitch(p.getPitch()+_)}}off(){const a=this.element;C.removeEventListener(a,"mousedown",this.mousedown),C.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend),C.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){C.enableDrag(),C.removeEventListener(window,"mousemove",this.mousemove),C.removeEventListener(window,"mouseup",this.mouseup),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend)}}let go;function ag(x,a,u){const p=new c.M(x.lng,x.lat);if(x=new c.M(x.lng,x.lat),a){const g=new c.M(x.lng-360,x.lat),_=new c.M(x.lng+360,x.lat),E=u.locationPoint(x).distSqr(a);u.locationPoint(g).distSqr(a)<E?x=g:u.locationPoint(_).distSqr(a)<E&&(x=_)}for(;Math.abs(x.lng-u.center.lng)>180;){const g=u.locationPoint(x);if(g.x>=0&&g.y>=0&&g.x<=u.width&&g.y<=u.height)break;x.lng>u.center.lng?x.lng-=360:x.lng+=360}return x.lng!==p.lng&&u.locationPoint(x).y>u.height/2-u.getHorizon()?x:p}const hf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function yo(x,a,u){const p=x.classList;for(const g in hf)p.remove(`maplibregl-${u}-anchor-${g}`);p.add(`maplibregl-${u}-anchor-${a}`)}class vr extends c.E{constructor(a){if(super(),this._onKeyPress=u=>{const p=u.code,g=u.charCode||u.keyCode;p!=="Space"&&p!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=u=>{const p=u.originalEvent.target,g=this._element;this._popup&&(p===g||g.contains(p))&&this.togglePopup()},this._update=u=>{var p;if(!this._map)return;const g=this._map.loaded()&&!this._map.isMoving();((u==null?void 0:u.type)==="terrain"||(u==null?void 0:u.type)==="render"&&!g)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?ag(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),C.setTransform(this._element,`${hf[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${E} ${_}`),T.frameAsync(new AbortController).then(()=>{this._updateOpacity(u&&u.type==="moveend")}).catch(()=>{})},this._onMove=u=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.k("dragstart"))),this.fire(new c.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.k("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=c.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div");const u=C.createNS("http://www.w3.org/2000/svg","svg"),p=41,g=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${p}px`),u.setAttributeNS(null,"width",`${g}px`),u.setAttributeNS(null,"viewBox",`0 0 ${g} ${p}`);const _=C.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const E=C.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const A=C.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"transform","translate(3.0, 29.0)"),A.setAttributeNS(null,"fill","#000000");const I=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const _e of I){const Ce=C.createNS("http://www.w3.org/2000/svg","ellipse");Ce.setAttributeNS(null,"opacity","0.04"),Ce.setAttributeNS(null,"cx","10.5"),Ce.setAttributeNS(null,"cy","5.80029008"),Ce.setAttributeNS(null,"rx",_e.rx),Ce.setAttributeNS(null,"ry",_e.ry),A.appendChild(Ce)}const L=C.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill",this._color);const K=C.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),L.appendChild(K);const j=C.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");const X=C.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(X);const te=C.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ne=C.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(8.0, 8.0)");const pe=C.createNS("http://www.w3.org/2000/svg","circle");pe.setAttributeNS(null,"fill","#000000"),pe.setAttributeNS(null,"opacity","0.25"),pe.setAttributeNS(null,"cx","5.5"),pe.setAttributeNS(null,"cy","5.5"),pe.setAttributeNS(null,"r","5.4999962");const oe=C.createNS("http://www.w3.org/2000/svg","circle");oe.setAttributeNS(null,"fill","#FFFFFF"),oe.setAttributeNS(null,"cx","5.5"),oe.setAttributeNS(null,"cy","5.5"),oe.setAttributeNS(null,"r","5.4999962"),ne.appendChild(pe),ne.appendChild(oe),E.appendChild(A),E.appendChild(L),E.appendChild(j),E.appendChild(te),E.appendChild(ne),u.appendChild(E),u.setAttributeNS(null,"height",p*this._scale+"px"),u.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(u),this._offset=c.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",u=>{u.preventDefault()}),this._element.addEventListener("mousedown",u=>{u.preventDefault()}),yo(this._element,this._anchor,"marker"),a&&a.className)for(const u of a.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=c.M.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const g=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var u,p;if(!(!((u=this._map)===null||u===void 0)&&u.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const g=this._map,_=g.terrain.depthAtPoint(this._pos),E=g.terrain.getElevationForLngLatZoom(this._lngLat,g.transform.tileZoom);if(g.transform.lngLatToCameraDepth(this._lngLat,E)-_<.006)return void(this._element.style.opacity=this._opacity);const A=-this._offset.y/g.transform._pixelPerMeter,I=Math.sin(g.getPitch()*Math.PI/180)*A,L=g.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),K=g.transform.lngLatToCameraDepth(this._lngLat,E+I)-L>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&K&&this._popup.remove(),this._element.style.opacity=K?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=c.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,u){return a===void 0&&u===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),u!==void 0&&(this._opacityWhenCovered=u),this._map&&this._updateOpacity(!0),this}}const Bu={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Vs=0,Us=!1;const og={maxWidth:100,unit:"metric"};function ff(x,a,u){const p=u&&u.maxWidth||100,g=x._container.clientHeight/2,_=x.unproject([0,g]),E=x.unproject([p,g]),A=_.distanceTo(E);if(u&&u.unit==="imperial"){const I=3.2808*A;I>5280?cc(a,p,I/5280,x._getUIString("ScaleControl.Miles")):cc(a,p,I,x._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?cc(a,p,A/1852,x._getUIString("ScaleControl.NauticalMiles")):A>=1e3?cc(a,p,A/1e3,x._getUIString("ScaleControl.Kilometers")):cc(a,p,A,x._getUIString("ScaleControl.Meters"))}function cc(x,a,u,p){const g=function(_){const E=Math.pow(10,`${Math.floor(_)}`.length-1);let A=_/E;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:A>=1?1:function(I){const L=Math.pow(10,Math.ceil(-Math.log(I)/Math.LN10));return Math.round(I*L)/L}(A),E*A}(u);x.style.width=a*(g/u)+"px",x.innerHTML=`${g}&nbsp;${p}`}const Sa={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},Nu=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function _t(x){if(x){if(typeof x=="number"){const a=Math.round(Math.abs(x)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,x),"top-left":new c.P(a,a),"top-right":new c.P(-a,a),bottom:new c.P(0,-x),"bottom-left":new c.P(a,-a),"bottom-right":new c.P(-a,-a),left:new c.P(x,0),right:new c.P(-x,0)}}if(x instanceof c.P||Array.isArray(x)){const a=c.P.convert(x);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:c.P.convert(x.center||[0,0]),top:c.P.convert(x.top||[0,0]),"top-left":c.P.convert(x["top-left"]||[0,0]),"top-right":c.P.convert(x["top-right"]||[0,0]),bottom:c.P.convert(x.bottom||[0,0]),"bottom-left":c.P.convert(x["bottom-left"]||[0,0]),"bottom-right":c.P.convert(x["bottom-right"]||[0,0]),left:c.P.convert(x.left||[0,0]),right:c.P.convert(x.right||[0,0])}}return _t(new c.P(0,0))}const kt=v;d.AJAXError=c.bf,d.Evented=c.E,d.LngLat=c.M,d.MercatorCoordinate=c.Y,d.Point=c.P,d.addProtocol=c.bg,d.config=c.a,d.removeProtocol=c.bh,d.AttributionControl=eg,d.BoxZoomHandler=ic,d.CanvasSource=zo,d.CooperativeGesturesHandler=Bi,d.DoubleClickZoomHandler=of,d.DragPanHandler=sf,d.DragRotateHandler=js,d.EdgeInsets=rc,d.FullscreenControl=class extends c.E{constructor(x={}){super(),this._onFullscreenChange=()=>{var a;let u=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=u==null?void 0:u.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)u=u.shadowRoot.fullscreenElement;u===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){C.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const x=this._fullscreenButton=C.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);C.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},d.GeoJSONSource=Gt,d.GeolocateControl=class extends c.E{constructor(x){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new c.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const u=new c.M(a.coords.longitude,a.coords.latitude),p=a.coords.accuracy,g=this._map.getBearing(),_=c.e({bearing:g},this.options.fitBoundsOptions),E=Yt.fromLngLat(u,p);this._map.fitBounds(E,_,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const u=new c.M(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Us)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=C.create("button","maplibregl-ctrl-geolocate",this._container),C.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new vr({element:this._dotElement}),this._circleElement=C.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.k("trackuserlocationend")),this.fire(new c.k("userlocationlostfocus")))})}},this.options=c.e({},Bu,x)}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return c._(this,arguments,void 0,function*(a=!1){if(go!==void 0&&!a)return go;if(window.navigator.permissions===void 0)return go=!!window.navigator.geolocation,go;try{go=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{go=!!window.navigator.geolocation}return go})}().then(a=>this._setupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Vs=0,Us=!1}_isOutOfMapMaxBounds(x){const a=this._map.getMaxBounds(),u=x.coords;return a&&(u.longitude<a.getWest()||u.longitude>a.getEast()||u.latitude<a.getSouth()||u.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const x=this._map.getBounds(),a=x.getSouthEast(),u=x.getNorthEast(),p=a.distanceTo(u),g=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Vs--,Us=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.k("trackuserlocationstart")),this.fire(new c.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Vs++,Vs>1?(x={maximumAge:6e5,timeout:0},Us=!0):(x=this.options.positionOptions,Us=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},d.Hash=Zh,d.ImageSource=Yi,d.KeyboardHandler=po,d.LngLatBounds=Yt,d.LogoControl=cf,d.Map=class extends sx{constructor(x){c.bd.mark(c.be.create);const a=Object.assign(Object.assign({},lx),x);if(a.minZoom!=null&&a.maxZoom!=null&&a.minZoom>a.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(a.minPitch!=null&&a.maxPitch!=null&&a.minPitch>a.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(a.minPitch!=null&&a.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(a.maxPitch!=null&&a.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Gh(a.minZoom,a.maxZoom,a.minPitch,a.maxPitch,a.renderWorldCopies),{bearingSnap:a.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new sc,this._controls=[],this._mapId=c.a3(),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=a.interactive,this._maxTileCacheSize=a.maxTileCacheSize,this._maxTileCacheZoomLevels=a.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=a.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=a.preserveDrawingBuffer===!0,this._antialias=a.antialias===!0,this._trackResize=a.trackResize===!0,this._bearingSnap=a.bearingSnap,this._refreshExpiredTiles=a.refreshExpiredTiles===!0,this._fadeDuration=a.fadeDuration,this._crossSourceCollisions=a.crossSourceCollisions===!0,this._collectResourceTiming=a.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},st),a.locale),this._clickTolerance=a.clickTolerance,this._overridePixelRatio=a.pixelRatio,this._maxCanvasSize=a.maxCanvasSize,this.transformCameraUpdate=a.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=a.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=O.addThrottleControl(()=>this.isMoving()),this._requestManager=new ee(a.transformRequest),typeof a.container=="string"){if(this._container=document.getElementById(a.container),!this._container)throw new Error(`Container '${a.container}' not found.`)}else{if(!(a.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=a.container}if(a.maxBounds&&this.setMaxBounds(a.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Hm(g=>{this._trackResize&&!this._removed&&this.resize(g)._update()},50);this._resizeObserver=new ResizeObserver(g=>{u?p(g):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new oc(this,a),this._hash=a.hash&&new Zh(typeof a.hash=="string"&&a.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}),a.bounds&&(this.resize(),this.fitBounds(a.bounds,c.e({},a.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=a.localIdeographFontFamily,this._validateStyle=a.validateStyle,a.style&&this.setStyle(a.style,{localIdeographFontFamily:a.localIdeographFontFamily}),a.attributionControl&&this.addControl(new eg(typeof a.attributionControl=="boolean"?void 0:a.attributionControl)),a.maplibreLogo&&this.addControl(new cf,a.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new c.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new c.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new c.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(x,a){if(a===void 0&&(a=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new c.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=x.onAdd(this);this._controls.push(x);const p=this._controlPositions[a];return a.indexOf("bottom")!==-1?p.insertBefore(u,p.firstChild):p.appendChild(u),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new c.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(x);return a>-1&&this._controls.splice(a,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,a,u,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,a,u,p)}resize(x){var a;const u=this._containerDimensions(),p=u[0],g=u[1],_=this._getClampedPixelRatio(p,g);if(this._resizeCanvas(p,g,_),this.painter.resize(p,g,_),this.painter.overLimit()){const A=this.painter.context.gl;this._maxCanvasSize=[A.drawingBufferWidth,A.drawingBufferHeight];const I=this._getClampedPixelRatio(p,g);this._resizeCanvas(p,g,I),this.painter.resize(p,g,I)}this.transform.resize(p,g),(a=this._requestedCameraState)===null||a===void 0||a.resize(p,g);const E=!this._moving;return E&&(this.stop(),this.fire(new c.k("movestart",x)).fire(new c.k("move",x))),this.fire(new c.k("resize",x)),E&&this.fire(new c.k("moveend",x)),this}_getClampedPixelRatio(x,a){const{0:u,1:p}=this._maxCanvasSize,g=this.getPixelRatio(),_=x*g,E=a*g;return Math.min(_>u?u/_:1,E>p?p/E:1)*g}getPixelRatio(){var x;return(x=this._overridePixelRatio)!==null&&x!==void 0?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(Yt.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}project(x){return this.transform.locationPoint(c.M.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.pointLocation(c.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||((x=this.handlers)===null||x===void 0?void 0:x.isMoving())}isZooming(){var x;return this._zooming||((x=this.handlers)===null||x===void 0?void 0:x.isZooming())}isRotating(){var x;return this._rotating||((x=this.handlers)===null||x===void 0?void 0:x.isRotating())}_createDelegatedListener(x,a,u){if(x==="mouseenter"||x==="mouseover"){let p=!1;return{layer:a,listener:u,delegates:{mousemove:_=>{const E=this.getLayer(a)?this.queryRenderedFeatures(_.point,{layers:[a]}):[];E.length?p||(p=!0,u.call(this,new In(x,this,_.originalEvent,{features:E}))):p=!1},mouseout:()=>{p=!1}}}}if(x==="mouseleave"||x==="mouseout"){let p=!1;return{layer:a,listener:u,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?p=!0:p&&(p=!1,u.call(this,new In(x,this,E.originalEvent)))},mouseout:E=>{p&&(p=!1,u.call(this,new In(x,this,E.originalEvent)))}}}}{const p=g=>{const _=this.getLayer(a)?this.queryRenderedFeatures(g.point,{layers:[a]}):[];_.length&&(g.features=_,u.call(this,g),delete g.features)};return{layer:a,listener:u,delegates:{[x]:p}}}}on(x,a,u){if(u===void 0)return super.on(x,a);const p=this._createDelegatedListener(x,a,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(p);for(const g in p.delegates)this.on(g,p.delegates[g]);return this}once(x,a,u){if(u===void 0)return super.once(x,a);const p=this._createDelegatedListener(x,a,u);for(const g in p.delegates)this.once(g,p.delegates[g]);return this}off(x,a,u){return u===void 0?super.off(x,a):(this._delegatedListeners&&this._delegatedListeners[x]&&(p=>{const g=this._delegatedListeners[x];for(let _=0;_<g.length;_++){const E=g[_];if(E.layer===a&&E.listener===u){for(const A in E.delegates)this.off(A,E.delegates[A]);return g.splice(_,1),this}}})(),this)}queryRenderedFeatures(x,a){if(!this.style)return[];let u;const p=x instanceof c.P||Array.isArray(x),g=p?x:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(p?{}:x)||{},g instanceof c.P||typeof g[0]=="number")u=[c.P.convert(g)];else{const _=c.P.convert(g[0]),E=c.P.convert(g[1]);u=[_,new c.P(E.x,_.y),E,new c.P(_.x,E.y),_]}return this.style.queryRenderedFeatures(u,a,this.transform)}querySourceFeatures(x,a){return this.style.querySourceFeatures(x,a)}setStyle(x,a){return(a=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(x,a))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){const a=this._locale[x];if(a==null)throw new Error(`Missing UI string '${x}'`);return a}_updateStyle(x,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,a));const u=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new lu(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x,a,u):this.style.loadJSON(x,a,u),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new lu(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,a){if(typeof x=="string"){const u=this._requestManager.transformRequest(x,"Style");c.h(u,new AbortController).then(p=>{this._updateDiff(p.data,a)}).catch(p=>{p&&this.fire(new c.j(p))})}else typeof x=="object"&&this._updateDiff(x,a)}_updateDiff(x,a){try{this.style.setState(x,a)&&this._update(!0)}catch(u){c.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(x,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(x,a){return this._lazyInitEmptyStyle(),this.style.addSource(x,a),this._update(!0)}isSourceLoaded(x){const a=this.style&&this.style.sourceCaches[x];if(a!==void 0)return a.loaded();this.fire(new c.j(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){const a=this.style.sourceCaches[x.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);this.terrain===null&&a.reload();for(const u in this.style._layers){const p=this.style._layers[u];p.type==="hillshade"&&p.source===x.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new tg(this.painter,a,x),this.painter.renderToTexture=new rg(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=u=>{u.dataType==="style"?this.terrain.sourceCache.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==x.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new c.k("terrain",{terrain:x})),this}getTerrain(){var x,a;return(a=(x=this.terrain)===null||x===void 0?void 0:x.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const x=this.style&&this.style.sourceCaches;for(const a in x){const u=x[a]._tiles;for(const p in u){const g=u[p];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,a,u={}){const{pixelRatio:p=1,sdf:g=!1,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:L}=u;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||c.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:K,height:j,data:X}=a,te=a;return this.style.addImage(x,{data:new c.R({width:K,height:j},new Uint8Array(X)),pixelRatio:p,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:L,sdf:g,version:0,userImage:te}),te.onAdd&&te.onAdd(this,x),this}}{const{width:K,height:j,data:X}=T.getImageData(a);this.style.addImage(x,{data:new c.R({width:K,height:j},X),pixelRatio:p,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:L,sdf:g,version:0})}}updateImage(x,a){const u=this.style.getImage(x);if(!u)return this.fire(new c.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=a instanceof HTMLImageElement||c.b(a)?T.getImageData(a):a,{width:g,height:_,data:E}=p;if(g===void 0||_===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==u.data.width||_!==u.data.height)return this.fire(new c.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const A=!(a instanceof HTMLImageElement||c.b(a));return u.data.replace(E,A),this.style.updateImage(x,u),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new c.j(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x){return O.getImage(this._requestManager.transformRequest(x,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(x,a){return this._lazyInitEmptyStyle(),this.style.addLayer(x,a),this._update(!0)}moveLayer(x,a){return this.style.moveLayer(x,a),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,a,u){return this.style.setLayerZoomRange(x,a,u),this._update(!0)}setFilter(x,a,u={}){return this.style.setFilter(x,a,u),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,a,u,p={}){return this.style.setPaintProperty(x,a,u,p),this._update(!0)}getPaintProperty(x,a){return this.style.getPaintProperty(x,a)}setLayoutProperty(x,a,u,p={}){return this.style.setLayoutProperty(x,a,u,p),this._update(!0)}getLayoutProperty(x,a){return this.style.getLayoutProperty(x,a)}setGlyphs(x,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,a,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,a,u,p=>{p||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,a,u=>{u||this._update(!0)}),this}setLight(x,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(x,a){return this.style.setFeatureState(x,a),this._update()}removeFeatureState(x,a){return this.style.removeFeatureState(x,a),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,a=0;return this._container&&(x=this._container.clientWidth||400,a=this._container.clientHeight||300),[x,a]}_setupContainer(){const x=this._container;x.classList.add("maplibregl-map");const a=this._canvasContainer=C.create("div","maplibregl-canvas-container",x);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=C.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const u=this._containerDimensions(),p=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],p);const g=this._controlContainer=C.create("div","maplibregl-control-container",x),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{_[E]=C.create("div",`maplibregl-ctrl-${E} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,a,u){this._canvas.width=Math.floor(u*x),this._canvas.height=Math.floor(u*a),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const x={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{a={requestedAttributes:x},p&&(a.statusMessage=p.statusMessage,a.type=p.type)},{once:!0});const u=this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x);if(!u){const p="Failed to initialize WebGL";throw a?(a.message=p,new Error(JSON.stringify(a))):new Error(p)}this.painter=new tr(u,this.transform),D.testSupport(u)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,_=T.now();this.style.zoomHistory.update(g,_);const E=new c.a8(g,{now:_,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),A=E.crossFadingFactor();A===1&&A===this._crossFadingFactor||(u=!0,this._crossFadingFactor=A),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new c.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.bd.mark(c.be.load),this.fire(new c.k("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,c.bd.mark(c.be.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),O.removeThrottleControl(this._imageQueueHandle),(x=this._resizeObserver)===null||x===void 0||x.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),C.remove(this._canvasContainer),C.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),c.bd.clearMetrics(),this._removed=!0,this.fire(new c.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,T.frameAsync(this._frameRequest).then(x=>{c.bd.frame(x),this._frameRequest=null,this._render(x)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return uf}getCameraTargetElevation(){return this.transform.elevation}},d.MapMouseEvent=In,d.MapTouchEvent=Wo,d.MapWheelEvent=Wm,d.Marker=vr,d.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{const a=this._map.getZoom(),u=a===this._map.getMaxZoom(),p=a===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,u)=>{const p=this._map._getUIString(`NavigationControl.${u}`);a.title=p,a.setAttribute("aria-label",p)},this.options=c.e({},df,x),this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),C.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),C.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=C.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ig(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,a){const u=C.create("button",x,this._container);return u.type="button",u.addEventListener("click",a),u}},d.Popup=class extends c.E{constructor(x){super(),this.remove=()=>(this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.k("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{var u;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=C.create("div","maplibregl-popup",this._map.getContainer()),this._tip=C.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const A of this.options.className.split(" "))this._container.classList.add(A);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?ag(this._lngLat,this._flatPos,this._map.transform):(u=this._lngLat)===null||u===void 0?void 0:u.wrap(),this._trackPointer&&!a)return;const p=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationPoint(this._lngLat));let g=this.options.anchor;const _=_t(this.options.offset);if(!g){const A=this._container.offsetWidth,I=this._container.offsetHeight;let L;L=p.y+_.bottom.y<I?["top"]:p.y>this._map.transform.height-I?["bottom"]:[],p.x<A/2?L.push("left"):p.x>this._map.transform.width-A/2&&L.push("right"),g=L.length===0?"bottom":L.join("-")}let E=p.add(_[g]);this.options.subpixelPositioning||(E=E.round()),C.setTransform(this._container,`${hf[g]} translate(${E.x}px,${E.y}px)`),yo(this._container,g,"popup")},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(Sa),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=c.M.convert(x),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const a=document.createDocumentFragment(),u=document.createElement("body");let p;for(u.innerHTML=x;p=u.firstChild,p;)a.appendChild(p);return this.setDOMContent(a)}getMaxWidth(){var x;return(x=this._container)===null||x===void 0?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){return this._container&&this._container.classList.add(x),this}removeClassName(x){return this._container&&this._container.classList.remove(x),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}setSubpixelPositioning(x){this.options.subpixelPositioning=x}_createCloseButton(){this.options.closeButton&&(this._closeButton=C.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(Nu);x&&x.focus()}},d.RasterDEMTileSource=kr,d.RasterTileSource=ri,d.ScaleControl=class{constructor(x){this._onMove=()=>{ff(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,ff(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},og),x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},d.ScrollZoomHandler=af,d.Style=lu,d.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=x}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=C.create("button","maplibregl-ctrl-terrain",this._container),C.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){C.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},d.TwoFingersTouchPitchHandler=rf,d.TwoFingersTouchRotateHandler=tf,d.TwoFingersTouchZoomHandler=zu,d.TwoFingersTouchZoomRotateHandler=lf,d.VectorTileSource=je,d.VideoSource=uo,d.addSourceType=(x,a)=>c._(void 0,void 0,void 0,function*(){if(Xi(x))throw new Error(`A source type called "${x}" already exists.`);((u,p)=>{Oa[u]=p})(x,a)}),d.clearPrewarmedResources=function(){const x=mt;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(ze),mt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},d.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},d.getRTLTextPluginStatus=function(){return en().getRTLTextPluginStatus()},d.getVersion=function(){return kt},d.getWorkerCount=function(){return Je.workerCount},d.getWorkerUrl=function(){return c.a.WORKER_URL},d.importScriptInWorkers=function(x){return At().broadcast("IS",x)},d.prewarm=function(){Et().acquire(ze)},d.setMaxParallelImageRequests=function(x){c.a.MAX_PARALLEL_IMAGE_REQUESTS=x},d.setRTLTextPlugin=function(x,a){return en().setRTLTextPlugin(x,a)},d.setWorkerCount=function(x){Je.workerCount=x},d.setWorkerUrl=function(x){c.a.WORKER_URL=x}});var h=r;return h})})(Pz);var Dw=Pz.exports;const mr=om(Dw);var iP={exports:{}},Gd=typeof Reflect=="object"?Reflect:null,yI=Gd&&typeof Gd.apply=="function"?Gd.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},jy;Gd&&typeof Gd.ownKeys=="function"?jy=Gd.ownKeys:Object.getOwnPropertySymbols?jy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:jy=function(t){return Object.getOwnPropertyNames(t)};function Ree(e){console&&console.warn&&console.warn(e)}var Cz=Number.isNaN||function(t){return t!==t};function Cr(){Cr.init.call(this)}iP.exports=Cr;iP.exports.once=Bee;Cr.EventEmitter=Cr;Cr.prototype._events=void 0;Cr.prototype._eventsCount=0;Cr.prototype._maxListeners=void 0;var vI=10;function j0(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Cr,"defaultMaxListeners",{enumerable:!0,get:function(){return vI},set:function(e){if(typeof e!="number"||e<0||Cz(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");vI=e}});Cr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Cr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Cz(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Ez(e){return e._maxListeners===void 0?Cr.defaultMaxListeners:e._maxListeners}Cr.prototype.getMaxListeners=function(){return Ez(this)};Cr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",h=this._events;if(h!==void 0)s=s&&h.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var c=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw c.context=d,c}var v=h[t];if(v===void 0)return!1;if(typeof v=="function")yI(v,this,r);else for(var w=v.length,S=Dz(v,w),n=0;n<w;++n)yI(S[n],this,r);return!0};function kz(e,t,r,n){var s,h,d;if(j0(r),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),h=e._events),d=h[t]),d===void 0)d=h[t]=r,++e._eventsCount;else if(typeof d=="function"?d=h[t]=n?[r,d]:[d,r]:n?d.unshift(r):d.push(r),s=Ez(e),s>0&&d.length>s&&!d.warned){d.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=d.length,Ree(c)}return e}Cr.prototype.addListener=function(t,r){return kz(this,t,r,!1)};Cr.prototype.on=Cr.prototype.addListener;Cr.prototype.prependListener=function(t,r){return kz(this,t,r,!0)};function Lee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Az(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=Lee.bind(n);return s.listener=r,n.wrapFn=s,s}Cr.prototype.once=function(t,r){return j0(r),this.on(t,Az(this,t,r)),this};Cr.prototype.prependOnceListener=function(t,r){return j0(r),this.prependListener(t,Az(this,t,r)),this};Cr.prototype.removeListener=function(t,r){var n,s,h,d,c;if(j0(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(h=-1,d=n.length-1;d>=0;d--)if(n[d]===r||n[d].listener===r){c=n[d].listener,h=d;break}if(h<0)return this;h===0?n.shift():zee(n,h),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,c||r)}return this};Cr.prototype.off=Cr.prototype.removeListener;Cr.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var h=Object.keys(n),d;for(s=0;s<h.length;++s)d=h[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function Iz(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?Fee(s):Dz(s,s.length)}Cr.prototype.listeners=function(t){return Iz(this,t,!0)};Cr.prototype.rawListeners=function(t){return Iz(this,t,!1)};Cr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Mz.call(e,t)};Cr.prototype.listenerCount=Mz;function Mz(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Cr.prototype.eventNames=function(){return this._eventsCount>0?jy(this._events):[]};function Dz(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function zee(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Fee(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Bee(e,t){return new Promise(function(r,n){function s(d){e.removeListener(t,h),n(d)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}$z(e,t,h,{once:!0}),t!=="error"&&Nee(e,s,{once:!0})})}function Nee(e,t,r){typeof e.on=="function"&&$z(e,"error",t,r)}function $z(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(h){n.once&&e.removeEventListener(t,s),r(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Oee=iP.exports;const jee=om(Oee);function Vee(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class Uee{constructor(){this._apiKey="",this._fetch=Vee(),this.tileCacheSize=200}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const Zd=new Uee,Kee={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(Kee));async function Hee(e,t={}){if(Zd.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(e).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return Zd.fetch(e,t)}const Rz={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(Rz);class Wee extends Error{constructor(t,r=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${r}`),this.res=t}}const xI={403:"Key is missing, invalid or restricted"};async function Gee(e={}){const t=new URL("geolocation/ip.json",Rz.maptilerApiURL);t.searchParams.set("key",e.apiKey??Zd.apiKey);const r=t.toString(),n=await Hee(r);if(!n.ok)throw new Wee(n,n.status in xI?xI[n.status]:"");return await n.json()}const _I={info:Gee};function Lz(e){const t=/^maptiler:\/\/(.*)/;let r;const n=e.trim();let s;return n.startsWith("http://")||n.startsWith("https://")?s=n:(r=t.exec(n))!==null?s=`https://api.maptiler.com/maps/${r[1]}/style.json`:s=`https://api.maptiler.com/maps/${n}/style.json`,s}class zz{constructor(t,r,n,s,h,d){this.name=t,this.variantType=r,this.id=n,this.referenceStyle=s,this.description=h,this.imageURL=d}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return Lz(this.getId())}}class Fz{constructor(t,r){this.name=t,this.id=r,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const $w=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BACKDROP",name:"Backdrop",description:"",variants:[{id:"backdrop",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"backdrop-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"backdrop-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function Zee(e){return new Proxy(e,{get(t,r,n){return t.hasVariant(r)?t.getVariant(r):r.toString().toUpperCase()===r?e.getDefaultVariant():Reflect.get(t,r,n)}})}function qee(){const e={};for(let t=0;t<$w.length;t+=1){const r=$w[t],n=Zee(new Fz(r.name,r.referenceStyleID));for(let s=0;s<r.variants.length;s+=1){const h=r.variants[s],d=new zz(h.name,h.variantType,h.id,n,h.description,h.imageURL);n.addVariant(d)}e[r.referenceStyleID]=n}return e}const Bz=qee();let gy;const Yee=new Uint8Array(16);function Xee(){if(!gy&&(gy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!gy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gy(Yee)}const Yn=[];for(let e=0;e<256;++e)Yn.push((e+256).toString(16).slice(1));function Jee(e,t=0){return Yn[e[t+0]]+Yn[e[t+1]]+Yn[e[t+2]]+Yn[e[t+3]]+"-"+Yn[e[t+4]]+Yn[e[t+5]]+"-"+Yn[e[t+6]]+Yn[e[t+7]]+"-"+Yn[e[t+8]]+Yn[e[t+9]]+"-"+Yn[e[t+10]]+Yn[e[t+11]]+Yn[e[t+12]]+Yn[e[t+13]]+Yn[e[t+14]]+Yn[e[t+15]]}const Qee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bI={randomUUID:Qee};function ete(e,t,r){if(bI.randomUUID&&!t&&!e)return bI.randomUUID();e=e||{};const n=e.random||(e.rng||Xee)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Jee(n)}const Nz="3.7.7",tte=Nz,Th=typeof Buffer=="function",wI=typeof TextDecoder=="function"?new TextDecoder:void 0,SI=typeof TextEncoder=="function"?new TextEncoder:void 0,rte="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",up=Array.prototype.slice.call(rte),yy=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(up),nte=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Qn=String.fromCharCode.bind(String),PI=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Oz=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),jz=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Vz=e=>{let t,r,n,s,h="";const d=e.length%3;for(let c=0;c<e.length;){if((r=e.charCodeAt(c++))>255||(n=e.charCodeAt(c++))>255||(s=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|s,h+=up[t>>18&63]+up[t>>12&63]+up[t>>6&63]+up[t&63]}return d?h.slice(0,d-3)+"===".substring(d):h},aP=typeof btoa=="function"?e=>btoa(e):Th?e=>Buffer.from(e,"binary").toString("base64"):Vz,Rw=Th?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,s=e.length;n<s;n+=4096)r.push(Qn.apply(null,e.subarray(n,n+4096)));return aP(r.join(""))},Vy=(e,t=!1)=>t?Oz(Rw(e)):Rw(e),ite=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Qn(192|t>>>6)+Qn(128|t&63):Qn(224|t>>>12&15)+Qn(128|t>>>6&63)+Qn(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return Qn(240|t>>>18&7)+Qn(128|t>>>12&63)+Qn(128|t>>>6&63)+Qn(128|t&63)}},ate=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Uz=e=>e.replace(ate,ite),TI=Th?e=>Buffer.from(e,"utf8").toString("base64"):SI?e=>Rw(SI.encode(e)):e=>aP(Uz(e)),qd=(e,t=!1)=>t?Oz(TI(e)):TI(e),CI=e=>qd(e,!0),ote=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ste=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return Qn((r>>>10)+55296)+Qn((r&1023)+56320);case 3:return Qn((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Qn((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Kz=e=>e.replace(ote,ste),Hz=e=>{if(e=e.replace(/\s+/g,""),!nte.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,s;for(let h=0;h<e.length;)t=yy[e.charAt(h++)]<<18|yy[e.charAt(h++)]<<12|(n=yy[e.charAt(h++)])<<6|(s=yy[e.charAt(h++)]),r+=n===64?Qn(t>>16&255):s===64?Qn(t>>16&255,t>>8&255):Qn(t>>16&255,t>>8&255,t&255);return r},oP=typeof atob=="function"?e=>atob(jz(e)):Th?e=>Buffer.from(e,"base64").toString("binary"):Hz,Wz=Th?e=>PI(Buffer.from(e,"base64")):e=>PI(oP(e).split("").map(t=>t.charCodeAt(0))),Gz=e=>Wz(Zz(e)),lte=Th?e=>Buffer.from(e,"base64").toString("utf8"):wI?e=>wI.decode(Wz(e)):e=>Kz(oP(e)),Zz=e=>jz(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Lw=e=>lte(Zz(e)),cte=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},qz=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Yz=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,qz(r));e("fromBase64",function(){return Lw(this)}),e("toBase64",function(t){return qd(this,t)}),e("toBase64URI",function(){return qd(this,!0)}),e("toBase64URL",function(){return qd(this,!0)}),e("toUint8Array",function(){return Gz(this)})},Xz=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,qz(r));e("toBase64",function(t){return Vy(this,t)}),e("toBase64URI",function(){return Vy(this,!0)}),e("toBase64URL",function(){return Vy(this,!0)})},ute=()=>{Yz(),Xz()},dte={version:Nz,VERSION:tte,atob:oP,atobPolyfill:Hz,btoa:aP,btoaPolyfill:Vz,fromBase64:Lw,toBase64:qd,encode:qd,encodeURI:CI,encodeURL:CI,utob:Uz,btou:Kz,decode:Lw,isValid:cte,fromUint8Array:Vy,toUint8Array:Gz,extendString:Yz,extendUint8Array:Xz,extendBuiltins:ute},lr={VISITOR:"visitor",VISITOR_ENGLISH:"visitor_en",STYLE:"style",AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"name:latin",NON_LATIN:"name:nonlatin",LOCAL:"name",INTERNATIONAL:"name_int",ALBANIAN:"name:sq",AMHARIC:"name:am",ARABIC:"name:ar",ARMENIAN:"name:hy",AZERBAIJANI:"name:az",BASQUE:"name:eu",BELORUSSIAN:"name:be",BENGALI:"name:bn",BOSNIAN:"name:bs",BRETON:"name:br",BULGARIAN:"name:bg",CATALAN:"name:ca",CHINESE:"name:zh",TRADITIONAL_CHINESE:"name:zh-Hant",SIMPLIFIED_CHINESE:"name:zh-Hans",CORSICAN:"name:co",CROATIAN:"name:hr",CZECH:"name:cs",DANISH:"name:da",DUTCH:"name:nl",ENGLISH:"name:en",ESPERANTO:"name:eo",ESTONIAN:"name:et",FINNISH:"name:fi",FRENCH:"name:fr",FRISIAN:"name:fy",GEORGIAN:"name:ka",GERMAN:"name:de",GREEK:"name:el",HEBREW:"name:he",HINDI:"name:hi",HUNGARIAN:"name:hu",ICELANDIC:"name:is",INDONESIAN:"name:id",IRISH:"name:ga",ITALIAN:"name:it",JAPANESE:"name:ja",JAPANESE_HIRAGANA:"name:ja-Hira",JAPANESE_KANA:"name:ja_kana",JAPANESE_LATIN:"name:ja_rm",JAPANESE_2018:"name:ja-Latn",KANNADA:"name:kn",KAZAKH:"name:kk",KOREAN:"name:ko",KOREAN_LATIN:"name:ko-Latn",KURDISH:"name:ku",ROMAN_LATIN:"name:la",LATVIAN:"name:lv",LITHUANIAN:"name:lt",LUXEMBOURGISH:"name:lb",MACEDONIAN:"name:mk",MALAYALAM:"name:ml",MALTESE:"name:mt",NORWEGIAN:"name:no",OCCITAN:"name:oc",PERSIAN:"name:fa",POLISH:"name:pl",PORTUGUESE:"name:pt",PUNJABI:"name:pa",WESTERN_PUNJABI:"name:pnb",ROMANIAN:"name:ro",ROMANSH:"name:rm",RUSSIAN:"name:ru",SCOTTISH_GAELIC:"name:gd",SERBIAN_CYRILLIC:"name:sr",SERBIAN_LATIN:"name:sr-Latn",SLOVAK:"name:sk",SLOVENE:"name:sl",SPANISH:"name:es",SWEDISH:"name:sv",TAMIL:"name:ta",TELUGU:"name:te",THAI:"name:th",TURKISH:"name:tr",UKRAINIAN:"name:uk",URDU:"name:ur",VIETNAMIAN_LATIN:"name:vi",WELSH:"name:cy"},hte=new Set(Object.values(lr));function EI(e){return hte.has(e)}const fte=new Set(Object.values(lr));function kI(){if(typeof navigator>"u")return`name:${Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0]}`;const e=Array.from(new Set(navigator.languages.map(t=>`name:${t.split("-")[0]}`))).filter(t=>fte.has(t));return e.length?e[0]:lr.LOCAL}const Ui={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:lr.STYLE,secondaryLanguage:lr.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(Ui);const Jz=ete();class pte extends jee{constructor(){super(...arguments),this.primaryLanguage=Ui.primaryLanguage,this.session=!0,this.caching=!0,this._unit="metric",this._apiKey=""}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,Zd.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){Zd.fetch=t}get fetch(){return Zd.fetch}}const Vi=new pte,zw="localcache_source",Fw="localcache",mte="maptiler_sdk",gte=1e3,yte=100,Bw=typeof caches<"u";function vte(e,t){if(Bw&&Vi.caching&&Vi.session&&e.host===Ui.maptilerApiHost){if(t==="Source"&&e.href.includes("tiles.json"))return e.href.replace("https://",`${zw}://`);if(t==="Tile"||t==="Glyphs")return e.href.replace("https://",`${Fw}://`)}return e.href}let T_;async function Qz(){return T_||(T_=await caches.open(mte)),T_}let AI=0;async function xte(){const e=await Qz(),t=await e.keys(),r=t.slice(0,Math.max(t.length-gte,0));for(const n of r)e.delete(n)}function _te(){Dw.addProtocol(zw,async(e,t)=>{if(!e.url)throw new Error("");e.url=e.url.replace(`${zw}://`,"https://");const r=e;r.signal=t.signal;const n=await fetch(e.url,r),s=await n.json();return s.tiles&&s.tiles.length>0&&(s.tiles[0]+=`&last-modified=${n.headers.get("Last-Modified")}`),{data:s,cacheControl:n.headers.get("Cache-Control"),expires:n.headers.get("Expires")}}),Dw.addProtocol(Fw,async(e,t)=>{if(!e.url)throw new Error("");e.url=e.url.replace(`${Fw}://`,"https://");const r=new URL(e.url),n=new URL(r);n.searchParams.delete("mtsid"),n.searchParams.delete("key");const s=n.toString(),h=new URL(r);h.searchParams.delete("last-modified");const d=h.toString(),c=async C=>({data:await C.arrayBuffer(),cacheControl:C.headers.get("Cache-Control"),expires:C.headers.get("Expires")}),v=await Qz(),w=await v.match(s);if(w)return c(w);const S=e;S.signal=t.signal;const T=await fetch(d,S);return T.status>=200&&T.status<300&&(v.put(s,T.clone()).catch(()=>{}),++AI>yte&&(xte(),AI=0)),c(T)})}function bte(){if(typeof window>"u")return;const e=mr.getRTLTextPluginStatus();if(e==="unavailable"||e==="requested")try{mr.setRTLTextPlugin(Ui.rtlPluginURL,!0)}catch{}}function wte(e,t){for(const r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function _l(e,t,r){const n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function eF(e){e.parentNode&&e.parentNode.removeChild(e)}function II(e,t){let r=null;try{r=new URL(e)}catch{return{url:e}}return r.host===Ui.maptilerApiHost&&(r.searchParams.has("key")||r.searchParams.append("key",Vi.apiKey),Vi.session&&r.searchParams.append("mtsid",Jz)),{url:vte(r,t)}}function MI(e){return(t,r)=>{if(e!=null){const n=e(t,r),s=II((n==null?void 0:n.url)??"",r);return{...n,...s}}return II(t,r)}}function Ste(){return document.createElement("canvas").getContext("webgl2")?null:typeof WebGL2RenderingContext<"u"?"Graphic rendering with WebGL2 has been disabled or is not supported by your graphic card. The map cannot be displayed.":"Your browser does not support graphic rendering with WebGL2. The map cannot be displayed."}function Pte(e){const t=Ste();if(!t)return;let r=null;if(typeof e=="string"?r=document.getElementById(e):e instanceof HTMLElement&&(r=e),!r)throw new Error("The Map container must be provided.");const n=document.createElement("div");throw n.innerHTML=t,n.classList.add("no-webgl-support-div"),r.appendChild(n),new Error(t)}let Tte=class extends mr.Marker{addTo(t){return super.addTo(t)}};class Cte extends mr.Popup{addTo(t){return super.addTo(t)}}class bre extends mr.Style{constructor(t,r={}){super(t,r)}}class wre extends mr.CanvasSource{onAdd(t){super.onAdd(t)}}class Sre extends mr.GeoJSONSource{onAdd(t){super.onAdd(t)}}class Pre extends mr.ImageSource{onAdd(t){super.onAdd(t)}}class Tre extends mr.RasterTileSource{onAdd(t){super.onAdd(t)}}class Cre extends mr.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class Ere extends mr.VectorTileSource{onAdd(t){super.onAdd(t)}}class kre extends mr.VideoSource{onAdd(t){super.onAdd(t)}}class Ete extends mr.NavigationControl{onAdd(t){return super.onAdd(t)}}class kte extends mr.GeolocateControl{onAdd(t){return super.onAdd(t)}}class Are extends mr.AttributionControl{onAdd(t){return super.onAdd(t)}}class Ate extends mr.LogoControl{onAdd(t){return super.onAdd(t)}}class Ite extends mr.ScaleControl{onAdd(t){return super.onAdd(t)}}class Mte extends mr.FullscreenControl{onAdd(t){return super.onAdd(t)}}class Ire extends mr.TerrainControl{onAdd(t){return super.onAdd(t)}}class Mre extends mr.BoxZoomHandler{constructor(t,r){super(t,r)}}class Dre extends mr.ScrollZoomHandler{constructor(t,r){super(t,r)}}class $re extends mr.CooperativeGesturesHandler{constructor(t,r){super(t,r)}}class Rre extends mr.KeyboardHandler{constructor(t){super(t)}}class Lre extends mr.TwoFingersTouchPitchHandler{constructor(t){super(t)}}class zre extends mr.MapWheelEvent{constructor(t,r,n){super(t,r,n)}}class Fre extends mr.MapTouchEvent{constructor(t,r,n){super(t,r,n)}}class Bre extends mr.MapMouseEvent{constructor(t,r,n,s={}){super(t,r,n,s)}}class DI extends Ate{constructor(t={}){super(t),this.logoURL="",this.linkURL="",this.logoURL=t.logoURL??Ui.maptilerLogoURL,this.linkURL=t.linkURL??Ui.maptilerURL}onAdd(t){this._map=t,this._compact=this.options.compact??!1,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const r=window.document.createElement("a");return r.style.backgroundRepeat="no-repeat",r.style.cursor="pointer",r.style.display="block",r.style.height="23px",r.style.margin="0 0 -4px -4px",r.style.overflow="hidden",r.style.width="88px",r.style.backgroundImage=`url(${this.logoURL})`,r.style.backgroundSize="100px 30px",r.style.width="100px",r.style.height="30px",r.target="_blank",r.rel="noopener",r.href=this.linkURL,r.setAttribute("aria-label","MapTiler logo"),r.setAttribute("rel","noopener"),this._container.appendChild(r),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}function $I(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:Lz(e):e instanceof zz?e.getExpandedStyleURL():e instanceof Fz?e.getDefaultVariant().getExpandedStyleURL():e:Bz[$w[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}class Dte{constructor(){wte(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=_l("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=_l("button","maplibregl-ctrl-terrain",this._container),_l("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){eF(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}}class $te extends Ete{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),this._rotateCompassArrow=()=>{const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.cos(this._map.transform.pitch*(Math.PI/180))**.5)}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t},this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,r){const n=super._createButton(t,r);return n.clickFunction=r,n}}const RI=mr.Marker,LI=mr.LngLat,Rte=mr.LngLatBounds;class Lte extends kte{constructor(){super(...arguments),this.lastUpdatedCenter=new LI(0,0),this._updateCamera=t=>{var w,S;const r=new LI(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,h={bearing:this._map.getBearing(),...this.options.fitBoundsOptions,linear:!0},d=this._map.getZoom();d>(((S=(w=this.options)==null?void 0:w.fitBoundsOptions)==null?void 0:S.maxZoom)??30)&&(h.zoom=d),this._map.fitBounds(Rte.fromLngLat(r,n),h,{geolocateSource:!0});let c=!1;const v=()=>{c=!0};this._map.once("click",v),this._map.once("dblclick",v),this._map.once("dragstart",v),this._map.once("mousedown",v),this._map.once("touchstart",v),this._map.once("wheel",v),this._map.once("moveend",()=>{this._map.off("click",v),this._map.off("dblclick",v),this._map.off("dragstart",v),this._map.off("mousedown",v),this._map.off("touchstart",v),this._map.off("wheel",v),!c&&(this.lastUpdatedCenter=this._map.getCenter())})},this._setupUI=t=>{if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=_l("button","maplibregl-ctrl-geolocate",this._container),_l("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_l("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new RI({element:this._dotElement}),this._circleElement=_l("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new RI({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",r=>{const n=r.originalEvent&&r.originalEvent.type==="resize",s=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!r.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!n&&s>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],r=this._map.project(t),n=this._map.unproject([r.x,r.y]),s=this._map.unproject([r.x+20,r.y]),h=n.distanceTo(s)/20,d=Math.ceil(2*this._accuracy/h);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}}var tF=e=>{throw TypeError(e)},sP=(e,t,r)=>t.has(e)||tF("Cannot "+r),ir=(e,t,r)=>(sP(e,t,"read from private field"),r?r.call(e):t.get(e)),al=(e,t,r)=>t.has(e)?tF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pd=(e,t,r,n)=>(sP(e,t,"write to private field"),t.set(e,r),r),la=(e,t,r)=>(sP(e,t,"access private method"),r),ca,Io,Cc,rF,Uc,Aa,Uy,Ii,nF,Ma,iF;class C_{constructor(t,r){al(this,Ii),al(this,ca),al(this,Io),al(this,Cc),al(this,rF),al(this,Uc),al(this,Aa,!1),al(this,Uy),t.style!==void 0&&pd(this,Aa,!0),pd(this,ca,{zoomAdjust:-4,position:"top-right",...r,forceNoAttributionControl:!0,attributionControl:!1,navigationControl:!1,geolocateControl:!1,maptilerLogo:!1,minimap:!1,hash:!1,pitchAdjust:!1,...t,containerStyle:{border:"1px solid #000",width:"400px",height:"300px",...t.containerStyle??{}}}),t.lockZoom!==void 0&&(ir(this,ca).minZoom=t.lockZoom,ir(this,ca).maxZoom=t.lockZoom)}setStyle(t,r){ir(this,Aa)||this.map.setStyle(t,r),la(this,Ii,Ma).call(this)}addLayer(t,r){return ir(this,Aa)||this.map.addLayer(t,r),la(this,Ii,Ma).call(this),this.map}moveLayer(t,r){return ir(this,Aa)||this.map.moveLayer(t,r),la(this,Ii,Ma).call(this),this.map}removeLayer(t){return ir(this,Aa)||this.map.removeLayer(t),la(this,Ii,Ma).call(this),this}setLayerZoomRange(t,r,n){return ir(this,Aa)||this.map.setLayerZoomRange(t,r,n),la(this,Ii,Ma).call(this),this}setFilter(t,r,n){return ir(this,Aa)||this.map.setFilter(t,r,n),la(this,Ii,Ma).call(this),this}setPaintProperty(t,r,n,s){return ir(this,Aa)||this.map.setPaintProperty(t,r,n,s),la(this,Ii,Ma).call(this),this}setLayoutProperty(t,r,n,s){return ir(this,Aa)||this.map.setLayoutProperty(t,r,n,s),la(this,Ii,Ma).call(this),this}setGlyphs(t,r){return ir(this,Aa)||this.map.setGlyphs(t,r),la(this,Ii,Ma).call(this),this}onAdd(t){pd(this,Io,t),pd(this,Cc,_l("div","maplibregl-ctrl maplibregl-ctrl-group"));for(const[r,n]of Object.entries(ir(this,ca).containerStyle))ir(this,Cc).style.setProperty(r,n);return ir(this,ca).container=ir(this,Cc),ir(this,ca).zoom=t.getZoom()+ir(this,ca).zoomAdjust,this.map=new aF(ir(this,ca)),this.map.once("style.load",()=>{this.map.resize()}),this.map.once("load",()=>{la(this,Ii,nF).call(this,ir(this,ca).parentRect),pd(this,Uy,la(this,Ii,iF).call(this))}),ir(this,Cc)}onRemove(){var t;(t=ir(this,Uy))==null||t.call(this),eF(ir(this,Cc))}}ca=new WeakMap;Io=new WeakMap;Cc=new WeakMap;rF=new WeakMap;Uc=new WeakMap;Aa=new WeakMap;Uy=new WeakMap;Ii=new WeakSet;nF=function(e){e===void 0||e.linePaint===void 0&&e.fillPaint===void 0||(pd(this,Uc,{type:"Feature",properties:{name:"parentRect"},geometry:{type:"Polygon",coordinates:[[[],[],[],[],[]]]}}),this.map.addSource("parentRect",{type:"geojson",data:ir(this,Uc)}),(e.lineLayout!==void 0||e.linePaint!==void 0)&&this.map.addLayer({id:"parentRectOutline",type:"line",source:"parentRect",layout:{...e.lineLayout},paint:{"line-color":"#FFF","line-width":1,"line-opacity":.85,...e.linePaint}}),e.fillPaint!==void 0&&this.map.addLayer({id:"parentRectFill",type:"fill",source:"parentRect",layout:{},paint:{"fill-color":"#08F","fill-opacity":.135,...e.fillPaint}}),la(this,Ii,Ma).call(this))};Ma=function(){if(ir(this,Uc)===void 0)return;const{devicePixelRatio:e}=window,t=ir(this,Io).getCanvas(),r=t.width/e,n=t.height/e,s=ir(this,Io).unproject.bind(ir(this,Io)),h=s([0,0]),d=s([r,0]),c=s([0,n]),v=s([r,n]);ir(this,Uc).geometry.coordinates=[[c.toArray(),v.toArray(),d.toArray(),h.toArray(),c.toArray()]],this.map.getSource("parentRect").setData(ir(this,Uc))};iF=function(){const{pitchAdjust:e}=ir(this,ca),t=()=>{h("parent")},r=()=>{h("minimap")},n=()=>{ir(this,Io).on("move",t),this.map.on("move",r)},s=()=>{ir(this,Io).off("move",t),this.map.off("move",r)},h=d=>{s();const c=d==="parent"?ir(this,Io):this.map,v=d==="parent"?this.map:ir(this,Io),w=c.getCenter(),S=c.getZoom()+(ir(this,ca).zoomAdjust??-4)*(d==="parent"?1:-1),T=c.getBearing(),C=c.getPitch();v.jumpTo({center:w,zoom:S,bearing:T,pitch:e?C:0}),la(this,Ii,Ma).call(this),n()};return n(),()=>{s()}};const zte={POINT:"POINT",COUNTRY:"COUNTRY"};let aF=class extends mr.Map{constructor(t){Pte(t.container),t.apiKey&&(Vi.apiKey=t.apiKey);const r=$I(t.style),n=location.hash;Vi.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!");let s={compact:!1};t.customAttribution?s.customAttribution=t.customAttribution:t.attributionControl&&typeof t.attributionControl=="object"&&(s={...s,...t.attributionControl}),super({...t,style:r,maplibreLogo:!1,transformRequest:MI(t.transformRequest),attributionControl:t.forceNoAttributionControl===!0?!1:s}),this.isTerrainEnabled=!1,this.terrainExaggeration=1,this.terrainGrowing=!1,this.terrainFlattening=!1,this.isReady=!1,Vi.caching&&!Bw&&console.warn("The cache API is only available in secure contexts. More info at https://developer.mozilla.org/en-US/docs/Web/API/Cache"),Vi.caching&&Bw&&_te(),this.primaryLanguage=t.language??Vi.primaryLanguage,this.forceLanguageUpdate=!(this.primaryLanguage===lr.STYLE||this.primaryLanguage===lr.STYLE_LOCK),this.languageAlwaysBeenStyle=this.primaryLanguage===lr.STYLE,this.terrainExaggeration=t.terrainExaggeration??this.terrainExaggeration,this.once("styledata",async()=>{if(!t.geolocate||t.center||t.hash&&n)return;try{if(t.geolocate===zte.COUNTRY){await this.fitToIpBounds();return}}catch(T){console.warn(T.message)}let w;try{await this.centerOnIpPoint(t.zoom),w=this.getCameraHash()}catch(T){console.warn(T.message)}(await navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(T=>{w===this.getCameraHash()&&(this.terrain?this.easeTo({center:[T.coords.longitude,T.coords.latitude],zoom:t.zoom||12,duration:2e3}):this.once("terrain",()=>{this.easeTo({center:[T.coords.longitude,T.coords.latitude],zoom:t.zoom||12,duration:2e3})}))},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})}),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",async()=>{let w={logo:null};try{const S=Object.keys(this.style.sourceCaches).map(D=>this.getSource(D)).filter(D=>D&&"url"in D&&typeof D.url=="string"&&(D==null?void 0:D.url.includes("tiles.json"))),T=new URL(S[0].url);T.searchParams.has("key")||T.searchParams.append("key",Vi.apiKey),w=await(await fetch(T.href)).json()}catch{}if(t.forceNoAttributionControl!==!0)if("logo"in w&&w.logo){const S=w.logo;this.addControl(new DI({logoURL:S}),t.logoPosition)}else t.maptilerLogo&&this.addControl(new DI,t.logoPosition);if(t.scaleControl){const S=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,T=new Ite({unit:Vi.unit});this.addControl(T,S),Vi.on("unit",C=>{T.setUnit(C)})}if(t.navigationControl!==!1){const S=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new $te,S)}if(t.geolocateControl!==!1){const S=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new Lte({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),S)}if(t.terrainControl){const S=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new Dte,S)}if(t.fullscreenControl){const S=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new Mte({}),S)}this.isReady=!0,this.fire("ready",{target:this})});let h=!1,d=!1,c;this.once("ready",()=>{h=!0,d&&this.fire("loadWithTerrain",c)}),this.once("style.load",()=>{const{minimap:w}=t;if(typeof w=="object"){const{zoom:S,center:T,style:C,language:D,apiKey:B,maptilerLogo:V,antialias:Y,refreshExpiredTiles:U,maxBounds:F,scrollZoom:O,minZoom:ee,maxZoom:ie,boxZoom:fe,locale:we,fadeDuration:Z,crossSourceCollisions:me,clickTolerance:xe,bounds:se,fitBoundsOptions:Te,pixelRatio:ge,validateStyle:ve}=t;this.minimap=new C_(w,{zoom:S,center:T,style:C,language:D,apiKey:B,container:"null",maptilerLogo:V,antialias:Y,refreshExpiredTiles:U,maxBounds:F,scrollZoom:O,minZoom:ee,maxZoom:ie,boxZoom:fe,locale:we,fadeDuration:Z,crossSourceCollisions:me,clickTolerance:xe,bounds:se,fitBoundsOptions:Te,pixelRatio:ge,validateStyle:ve}),this.addControl(this.minimap,w.position??"bottom-left")}else w===!0?(this.minimap=new C_({},t),this.addControl(this.minimap,"bottom-left")):w!==void 0&&w!==!1&&(this.minimap=new C_({},t),this.addControl(this.minimap,w))});const v=w=>{w.terrain&&(d=!0,c={type:"loadWithTerrain",target:this,terrain:w.terrain},this.off("terrain",v),h&&this.fire("loadWithTerrain",c))};this.on("terrain",v),t.terrain&&this.enableTerrain(t.terrainExaggeration??this.terrainExaggeration)}async onLoadAsync(){return new Promise(t=>{if(this.loaded())return t(this);this.once("load",()=>{t(this)})})}async onReadyAsync(){return new Promise(t=>{if(this.isReady)return t(this);this.once("ready",()=>{t(this)})})}async onLoadWithTerrainAsync(){return new Promise(t=>{if(this.isReady&&this.terrain)return t(this);this.once("loadWithTerrain",()=>{t(this)})})}setStyle(t,r){var n;return(n=this.minimap)==null||n.setStyle(t),this.forceLanguageUpdate=!0,this.once("idle",()=>{this.forceLanguageUpdate=!1}),super.setStyle($I(t),r)}addLayer(t,r){var n;return(n=this.minimap)==null||n.addLayer(t,r),super.addLayer(t,r)}moveLayer(t,r){var n;return(n=this.minimap)==null||n.moveLayer(t,r),super.moveLayer(t,r)}removeLayer(t){var r;return(r=this.minimap)==null||r.removeLayer(t),super.removeLayer(t)}setLayerZoomRange(t,r,n){var s;return(s=this.minimap)==null||s.setLayerZoomRange(t,r,n),super.setLayerZoomRange(t,r,n)}setFilter(t,r,n){var s;return(s=this.minimap)==null||s.setFilter(t,r,n),super.setFilter(t,r,n)}setPaintProperty(t,r,n,s){var h;return(h=this.minimap)==null||h.setPaintProperty(t,r,n,s),super.setPaintProperty(t,r,n,s)}setLayoutProperty(t,r,n,s){var h;return(h=this.minimap)==null||h.setLayoutProperty(t,r,n,s),super.setLayoutProperty(t,r,n,s)}setGlyphs(t,r){var n;return(n=this.minimap)==null||n.setGlyphs(t,r),super.setGlyphs(t,r)}getStyleLanguage(){return!this.style.stylesheet.metadata||typeof this.style.stylesheet.metadata!="object"?null:"maptiler:language"in this.style.stylesheet.metadata&&typeof this.style.stylesheet.metadata["maptiler:language"]=="string"?this.style.stylesheet.metadata["maptiler:language"]:null}setLanguage(t){var r,n;(n=(r=this.minimap)==null?void 0:r.map)==null||n.setLanguage(t),this.onStyleReady(()=>{this.setPrimaryLanguage(t)})}setPrimaryLanguage(t){const r=this.getStyleLanguage();if(!(t===lr.STYLE&&(r===lr.AUTO||r===lr.VISITOR))&&(t!==lr.STYLE&&(this.languageAlwaysBeenStyle=!1),this.languageAlwaysBeenStyle||this.primaryLanguage===t&&!this.forceLanguageUpdate))return;if(!EI(t)){console.warn(`The language "${t}" is not supported.`);return}if(this.primaryLanguage===lr.STYLE_LOCK){console.warn("The language cannot be changed because this map has been instantiated with the STYLE_LOCK language flag.");return}this.primaryLanguage=t;let n=t;if(t===lr.STYLE){if(!r){console.warn("The style has no default languages.");return}if(!EI(r)){console.warn("The language defined in the style is not valid.");return}n=r}let s=lr.LOCAL,h=`{${s}}`;n===lr.VISITOR?(s=kI(),h=["case",["all",["has",s],["has",lr.LOCAL]],["case",["==",["get",s],["get",lr.LOCAL]],["get",lr.LOCAL],["format",["get",s],{"font-scale":.8},`
`,["get",lr.LOCAL],{"font-scale":1.1}]],["get",lr.LOCAL]]):n===lr.VISITOR_ENGLISH?(s=lr.ENGLISH,h=["case",["all",["has",s],["has",lr.LOCAL]],["case",["==",["get",s],["get",lr.LOCAL]],["get",lr.LOCAL],["format",["get",s],{"font-scale":.8},`
`,["get",lr.LOCAL],{"font-scale":1.1}]],["get",lr.LOCAL]]):n===lr.AUTO?(s=kI(),h=["case",["has",s],["get",s],["get",lr.LOCAL]]):n===lr.LOCAL?(s=lr.LOCAL,h=`{${s}}`):(s=n,h=["case",["has",s],["get",s],["get",lr.LOCAL]]);const{layers:d}=this.getStyle();for(const c of d){if(c.type!=="symbol")continue;const v=c,w=this.getSource(v.source);if(!w||!("url"in w&&typeof w.url=="string")||new URL(w.url).host!==Ui.maptilerApiHost)continue;const{id:T,layout:C}=v;if(!C||!("text-field"in C))continue;const D=this.getLayoutProperty(T,"text-field");typeof D=="string"&&(D.toLowerCase().includes("ref")||D.toLowerCase().includes("housenumber"))||this.setLayoutProperty(T,"text-field",h)}}getPrimaryLanguage(){return this.primaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(t,r=1e3){if(!this.terrain)return;const n=performance.now(),s=this.terrain.exaggeration,h=t-s,d=()=>{if(!this.terrain||this.terrainFlattening)return;const c=(performance.now()-n)/r;if(c<.99){const v=1-(1-c)**4,w=s+v*h;this.terrain.exaggeration=w,requestAnimationFrame(d)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=t;this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(d)}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const r=async s=>{!this.terrain||s.type!=="data"||s.dataType!=="source"||!("source"in s)||s.sourceId!=="maptiler-terrain"||s.source.type!=="raster-dem"||s.isSourceLoaded&&(this.off("data",r),this.growTerrain(t))},n=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.on("data",r),this.addSource(Ui.terrainSourceId,{type:"raster-dem",url:Ui.terrainSourceURL}),this.setTerrain({source:Ui.terrainSourceId,exaggeration:0})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(t);return}this.loaded()||this.isTerrainEnabled?n():this.once("load",()=>{this.getTerrain()&&this.getSource(Ui.terrainSourceId)||n()})}disableTerrain(){if(!this.terrain)return;this.isTerrainEnabled=!1;const t=1*1e3,r=performance.now(),n=this.terrain.exaggeration,s=()=>{if(!this.terrain||this.terrainGrowing)return;const h=(performance.now()-r)/t;if(h<.99){const d=(1-h)**4,c=n*d;this.terrain.exaggeration=c,requestAnimationFrame(s)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(Ui.terrainSourceId)&&this.removeSource(Ui.terrainSourceId);this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(s)}setTerrainExaggeration(t,r=!0){!r&&this.terrain?(this.terrainExaggeration=t,this.terrain.exaggeration=t,this.triggerRepaint()):this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}async fitToIpBounds(){const t=await _I.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})}async centerOnIpPoint(t){const r=await _I.info();this.jumpTo({center:[(r==null?void 0:r.longitude)??0,(r==null?void 0:r.latitude)??0],zoom:t||11})}getCameraHash(){const t=new Float32Array(5),r=this.getCenter();return t[0]=r.lng,t[1]=r.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),dte.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return Vi}getMaptilerSessionId(){return Jz}setTransformRequest(t){return super.setTransformRequest(MI(t)),this}};function vy(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Fte(e){return`#${vy(e[0])}${vy(e[1])}${vy(e[2])}${e.length===4?vy(e[3]):""}`}class Mt extends Array{constructor(t={}){super(),this.min=0,this.max=1,"min"in t&&(this.min=t.min),"max"in t&&(this.max=t.max),"stops"in t&&this.setStops(t.stops,{clone:!1})}static fromArrayDefinition(t){return new Mt({stops:t.map(r=>({value:r[0],color:r[1]}))})}setStops(t,r={clone:!0}){const n=r.clone?this.clone():this;n.length=0;let s=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let d=0;d<t.length;d+=1)s=Math.min(s,t[d].value),h=Math.max(h,t[d].value),n.push({value:t[d].value,color:t[d].color.slice()});return n.sort((d,c)=>d.value<c.value?-1:1),this.min=s,this.max=h,n}scale(t,r,n={clone:!0}){const s=n.clone,h=this[0].value,c=this.at(-1).value-h,v=r-t,w=[];for(let S=0;S<this.length;S+=1){const D=(this[S].value-h)/c*v+t;s?w.push({value:D,color:this[S].color.slice()}):this[S].value=D}return s?new Mt({stops:w}):this}at(t){return t<0?this[this.length+t]:this[t]}clone(){return new Mt({stops:this.getRawColorStops()})}getRawColorStops(){const t=[];for(let r=0;r<this.length;r+=1)t.push({value:this[r].value,color:this[r].color});return t}reverse(t={clone:!0}){const r=t.clone?this.clone():this;for(let n=0;n<~~(r.length/2);n+=1){const s=r[n].color;r[n].color=r.at(-(n+1)).color,r.at(-(n+1)).color=s}return r}getBounds(){return{min:this.min,max:this.max}}getColor(t,r={smooth:!0}){if(t<=this[0].value)return this[0].color;if(t>=this.at(-1).value)return this.at(-1).color;for(let n=0;n<this.length-1;n+=1){if(t>this[n+1].value)continue;const s=this[n].color;if(!r.smooth)return s.slice();const h=this[n].value,d=this[n+1].value,c=this[n+1].color,v=(d-t)/(d-h);return s.map((w,S)=>Math.round(w*v+c[S]*(1-v)))}return[0,0,0]}getColorHex(t,r={smooth:!0,withAlpha:!1}){return Fte(this.getColor(t,r))}getColorRelative(t,r={smooth:!0}){const n=this.getBounds();return this.getColor(n.min+t*(n.max-n.min),r)}getCanvasStrip(t={horizontal:!0,size:512,smooth:!0}){const r=document.createElement("canvas");r.width=t.horizontal?t.size:1,r.height=t.horizontal?1:t.size;const n=r.getContext("2d");if(!n)throw new Error("Canvs context is missing");const s=n.getImageData(0,0,r.width,r.height),h=s.data,d=t.size,c=this[0].value,S=(this.at(-1).value-c)/d;for(let T=0;T<d;T+=1){const C=this.getColor(c+T*S,{smooth:t.smooth});h[T*4]=C[0],h[T*4+1]=C[1],h[T*4+2]=C[2],h[T*4+3]=C.length>3?C[3]:255}return n.putImageData(s,0,0),r}resample(t,r=15){const n=this.getBounds(),s=this.scale(0,1),h=1/(r-1);let d;if(t==="ease-in-square")d=Array.from({length:r},(w,S)=>{const T=S*h,C=T**2,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-square")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-(1-T)**2,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-sqrt")d=Array.from({length:r},(w,S)=>{const T=S*h,C=T**.5,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-in-sqrt")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-(1-T)**.5,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-exp")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-2**(-10*T),D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-in-exp")d=Array.from({length:r},(w,S)=>{const T=S*h,C=2**(10*T-10),D=s.getColor(C);return{value:T,color:D}});else throw new Error("Invalid ressampling method.");return new Mt({stops:d}).scale(n.min,n.max)}transparentStart(){const t=this.getRawColorStops();t.unshift({value:t[0].value,color:t[0].color.slice()}),t[1].value+=.001;for(const r of t)r.color.length===3&&r.color.push(255);return t[0].color[3]=0,new Mt({stops:t})}hasTransparentStart(){return this[0].color.length===4&&this[0].color[3]===0}}new Mt({stops:[{value:0,color:[0,0,0,0]},{value:1,color:[0,0,0,0]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,131]},{value:.125,color:[0,60,170]},{value:.375,color:[5,255,255]},{value:.625,color:[255,255,0]},{value:.875,color:[250,0,0]},{value:1,color:[128,0,0]}]}),new Mt({stops:[{value:0,color:[255,0,0]},{value:.169,color:[253,255,2]},{value:.173,color:[247,255,2]},{value:.337,color:[0,252,4]},{value:.341,color:[0,252,10]},{value:.506,color:[1,249,255]},{value:.671,color:[2,0,253]},{value:.675,color:[8,0,253]},{value:.839,color:[255,0,251]},{value:.843,color:[255,0,245]},{value:1,color:[255,0,6]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.3,color:[230,0,0]},{value:.6,color:[255,210,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[255,0,255]},{value:1,color:[255,255,0]}]}),new Mt({stops:[{value:0,color:[0,128,102]},{value:1,color:[255,255,102]}]}),new Mt({stops:[{value:0,color:[255,0,0]},{value:1,color:[255,255,0]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:1,color:[0,255,128]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.376,color:[84,84,116]},{value:.753,color:[169,200,200]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.804,color:[255,160,102]},{value:1,color:[255,199,127]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[8,29,88]},{value:.125,color:[37,52,148]},{value:.25,color:[34,94,168]},{value:.375,color:[29,145,192]},{value:.5,color:[65,182,196]},{value:.625,color:[127,205,187]},{value:.75,color:[199,233,180]},{value:.875,color:[237,248,217]},{value:1,color:[255,255,217]}]}),new Mt({stops:[{value:0,color:[0,68,27]},{value:.125,color:[0,109,44]},{value:.25,color:[35,139,69]},{value:.375,color:[65,171,93]},{value:.5,color:[116,196,118]},{value:.625,color:[161,217,155]},{value:.75,color:[199,233,192]},{value:.875,color:[229,245,224]},{value:1,color:[247,252,245]}]}),new Mt({stops:[{value:0,color:[128,0,38]},{value:.125,color:[189,0,38]},{value:.25,color:[227,26,28]},{value:.375,color:[252,78,42]},{value:.5,color:[253,141,60]},{value:.625,color:[254,178,76]},{value:.75,color:[254,217,118]},{value:.875,color:[255,237,160]},{value:1,color:[255,255,204]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[5,10,172]},{value:.35,color:[106,137,247]},{value:.5,color:[190,190,190]},{value:.6,color:[220,170,132]},{value:.7,color:[230,145,90]},{value:1,color:[178,10,28]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:.1,color:[51,153,255]},{value:.2,color:[102,204,255]},{value:.3,color:[153,204,255]},{value:.4,color:[204,204,255]},{value:.5,color:[255,255,255]},{value:.6,color:[255,204,255]},{value:.7,color:[255,153,255]},{value:.8,color:[255,102,204]},{value:.9,color:[255,102,102]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[150,0,90]},{value:.125,color:[0,0,200]},{value:.25,color:[0,25,255]},{value:.375,color:[0,152,255]},{value:.5,color:[44,255,150]},{value:.625,color:[151,255,0]},{value:.75,color:[255,234,0]},{value:.875,color:[255,111,0]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[12,51,131]},{value:.25,color:[10,136,186]},{value:.5,color:[242,211,56]},{value:.75,color:[242,143,56]},{value:1,color:[217,30,30]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.2,color:[230,0,0]},{value:.4,color:[230,210,0]},{value:.7,color:[255,255,255]},{value:1,color:[160,200,255]}]}),new Mt({stops:[{value:0,color:[0,0,130]},{value:.1,color:[0,180,180]},{value:.2,color:[40,210,40]},{value:.4,color:[230,230,50]},{value:.6,color:[120,70,20]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.15,color:[30,0,100]},{value:.4,color:[120,0,100]},{value:.6,color:[160,90,0]},{value:.8,color:[230,200,0]},{value:1,color:[255,250,220]}]}),new Mt({stops:[{value:0,color:[68,1,84]},{value:.13,color:[71,44,122]},{value:.25,color:[59,81,139]},{value:.38,color:[44,113,142]},{value:.5,color:[33,144,141]},{value:.63,color:[39,173,129]},{value:.75,color:[92,200,99]},{value:.88,color:[170,220,50]},{value:1,color:[253,231,37]}]}),new Mt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[31,12,72]},{value:.25,color:[85,15,109]},{value:.38,color:[136,34,106]},{value:.5,color:[186,54,85]},{value:.63,color:[227,89,51]},{value:.75,color:[249,140,10]},{value:.88,color:[249,201,50]},{value:1,color:[252,255,164]}]}),new Mt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[28,16,68]},{value:.25,color:[79,18,123]},{value:.38,color:[129,37,129]},{value:.5,color:[181,54,122]},{value:.63,color:[229,80,100]},{value:.75,color:[251,135,97]},{value:.88,color:[254,194,135]},{value:1,color:[252,253,191]}]}),new Mt({stops:[{value:0,color:[13,8,135]},{value:.13,color:[75,3,161]},{value:.25,color:[125,3,168]},{value:.38,color:[168,34,150]},{value:.5,color:[203,70,121]},{value:.63,color:[229,107,93]},{value:.75,color:[248,148,65]},{value:.88,color:[253,195,40]},{value:1,color:[240,249,33]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[172,0,187]},{value:.25,color:[219,0,170]},{value:.38,color:[255,0,130]},{value:.5,color:[255,63,74]},{value:.63,color:[255,123,0]},{value:.75,color:[234,176,0]},{value:.88,color:[190,228,0]},{value:1,color:[147,255,0]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[116,0,218]},{value:.25,color:[98,74,237]},{value:.38,color:[68,146,231]},{value:.5,color:[0,204,197]},{value:.63,color:[0,247,146]},{value:.75,color:[0,255,88]},{value:.88,color:[40,255,8]},{value:1,color:[147,255,0]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.1,color:[199,0,180]},{value:.2,color:[255,0,121]},{value:.3,color:[255,108,0]},{value:.4,color:[222,194,0]},{value:.5,color:[150,255,0]},{value:.6,color:[0,255,55]},{value:.7,color:[0,246,150]},{value:.8,color:[50,167,222]},{value:.9,color:[103,51,235]},{value:1,color:[124,0,186]}]}),new Mt({stops:[{value:0,color:[40,26,44]},{value:.13,color:[59,49,90]},{value:.25,color:[64,76,139]},{value:.38,color:[63,110,151]},{value:.5,color:[72,142,158]},{value:.63,color:[85,174,163]},{value:.75,color:[120,206,163]},{value:.88,color:[187,230,172]},{value:1,color:[253,254,204]}]}),new Mt({stops:[{value:0,color:[47,15,62]},{value:.13,color:[87,23,86]},{value:.25,color:[130,28,99]},{value:.38,color:[171,41,96]},{value:.5,color:[206,67,86]},{value:.63,color:[230,106,84]},{value:.75,color:[242,149,103]},{value:.88,color:[249,193,135]},{value:1,color:[254,237,176]}]}),new Mt({stops:[{value:0,color:[18,36,20]},{value:.13,color:[25,63,41]},{value:.25,color:[24,91,59]},{value:.38,color:[13,119,72]},{value:.5,color:[18,148,80]},{value:.63,color:[80,173,89]},{value:.75,color:[132,196,122]},{value:.88,color:[175,221,162]},{value:1,color:[215,249,208]}]}),new Mt({stops:[{value:0,color:[54,14,36]},{value:.13,color:[89,23,80]},{value:.25,color:[110,45,132]},{value:.38,color:[120,77,178]},{value:.5,color:[120,113,213]},{value:.63,color:[115,151,228]},{value:.75,color:[134,185,227]},{value:.88,color:[177,214,227]},{value:1,color:[230,241,241]}]}),new Mt({stops:[{value:0,color:[30,4,110]},{value:.13,color:[47,14,176]},{value:.25,color:[41,45,236]},{value:.38,color:[25,99,212]},{value:.5,color:[68,131,200]},{value:.63,color:[114,156,197]},{value:.75,color:[157,181,203]},{value:.88,color:[200,208,216]},{value:1,color:[241,237,236]}]}),new Mt({stops:[{value:0,color:[60,9,18]},{value:.13,color:[100,17,27]},{value:.25,color:[142,20,29]},{value:.38,color:[177,43,27]},{value:.5,color:[192,87,63]},{value:.63,color:[205,125,105]},{value:.75,color:[216,162,148]},{value:.88,color:[227,199,193]},{value:1,color:[241,237,236]}]}),new Mt({stops:[{value:0,color:[64,5,5]},{value:.13,color:[106,6,15]},{value:.25,color:[144,26,7]},{value:.38,color:[168,64,3]},{value:.5,color:[188,100,4]},{value:.63,color:[206,136,11]},{value:.75,color:[220,174,25]},{value:.88,color:[231,215,44]},{value:1,color:[248,254,105]}]}),new Mt({stops:[{value:0,color:[51,20,24]},{value:.13,color:[90,32,35]},{value:.25,color:[129,44,34]},{value:.38,color:[159,68,25]},{value:.5,color:[182,99,19]},{value:.63,color:[199,134,22]},{value:.75,color:[212,171,35]},{value:.88,color:[221,210,54]},{value:1,color:[225,253,75]}]}),new Mt({stops:[{value:0,color:[145,105,18]},{value:.13,color:[184,71,38]},{value:.25,color:[186,58,115]},{value:.38,color:[160,71,185]},{value:.5,color:[110,97,218]},{value:.63,color:[50,123,164]},{value:.75,color:[31,131,110]},{value:.88,color:[77,129,34]},{value:1,color:[145,105,18]}]}),new Mt({stops:[{value:0,color:[42,24,108]},{value:.13,color:[33,50,162]},{value:.25,color:[15,90,145]},{value:.38,color:[40,118,137]},{value:.5,color:[59,146,135]},{value:.63,color:[79,175,126]},{value:.75,color:[120,203,104]},{value:.88,color:[193,221,100]},{value:1,color:[253,239,154]}]}),new Mt({stops:[{value:0,color:[4,35,51]},{value:.13,color:[23,51,122]},{value:.25,color:[85,59,157]},{value:.38,color:[129,79,143]},{value:.5,color:[175,95,130]},{value:.63,color:[222,112,101]},{value:.75,color:[249,146,66]},{value:.88,color:[249,196,65]},{value:1,color:[232,250,91]}]}),new Mt({stops:[{value:0,color:[34,31,27]},{value:.13,color:[65,50,41]},{value:.25,color:[98,69,52]},{value:.38,color:[131,89,57]},{value:.5,color:[161,112,59]},{value:.63,color:[185,140,66]},{value:.75,color:[202,174,88]},{value:.88,color:[216,209,126]},{value:1,color:[233,246,171]}]}),new Mt({stops:[{value:0,color:[17,32,64]},{value:.13,color:[35,52,116]},{value:.25,color:[29,81,156]},{value:.38,color:[31,113,162]},{value:.5,color:[50,144,169]},{value:.63,color:[87,173,176]},{value:.75,color:[149,196,189]},{value:.88,color:[203,221,211]},{value:1,color:[254,251,230]}]}),new Mt({stops:[{value:0,color:[23,35,19]},{value:.13,color:[24,64,38]},{value:.25,color:[11,95,45]},{value:.38,color:[39,123,35]},{value:.5,color:[95,146,12]},{value:.63,color:[152,165,18]},{value:.75,color:[201,186,69]},{value:.88,color:[233,216,137]},{value:1,color:[255,253,205]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.07,color:[22,5,59]},{value:.13,color:[60,4,105]},{value:.2,color:[109,1,135]},{value:.27,color:[161,0,147]},{value:.33,color:[210,2,142]},{value:.4,color:[251,11,123]},{value:.47,color:[255,29,97]},{value:.53,color:[255,54,69]},{value:.6,color:[255,85,46]},{value:.67,color:[255,120,34]},{value:.73,color:[255,157,37]},{value:.8,color:[241,191,57]},{value:.87,color:[224,220,93]},{value:.93,color:[218,241,142]},{value:1,color:[227,253,198]}]}),new Mt({stops:[{value:0,color:[0,32,77,255]},{value:.125,color:[5,54,110,255]},{value:.25,color:[65,77,108,255]},{value:.375,color:[97,100,111,255]},{value:.5,color:[125,124,121,255]},{value:.625,color:[156,149,120,255]},{value:.75,color:[190,175,111,255]},{value:.875,color:[225,204,94,255]},{value:1,color:[255,235,70,255]}]}),new Mt({stops:[{value:0,color:[48,18,59,255]},{value:.125,color:[70,107,227,255]},{value:.25,color:[40,187,236,255]},{value:.375,color:[49,242,153,255]},{value:.5,color:[162,252,60,255]},{value:.625,color:[237,208,58,255]},{value:.75,color:[251,128,34,255]},{value:.875,color:[210,49,5,255]},{value:1,color:[122,4,3,255]}]}),new Mt({stops:[{value:0,color:[250,235,221,0]},{value:.133,color:[250,235,221,255]},{value:.266,color:[246,170,130,255]},{value:.4,color:[240,96,67,255]},{value:.533,color:[203,27,79,255]},{value:.666,color:[132,30,90,255]},{value:.8,color:[63,27,68,255]},{value:1,color:[3,5,26,255]}]}),new Mt({stops:[{value:0,color:[11,4,5,255]},{value:.125,color:[43,28,53,255]},{value:.25,color:[62,53,107,255]},{value:.375,color:[59,86,152,255]},{value:.5,color:[53,123,162,255]},{value:.625,color:[53,158,170,255]},{value:.75,color:[73,193,173,255]},{value:.875,color:[150,221,181,255]},{value:1,color:[222,245,229,255]}]});bte();function Bte(){const e={latitude:26.887926682692324,longitude:80.94213960084427},t=z.useRef(null),r=z.useRef(null),[n]=z.useState(17);Vi.apiKey="IalOQ02822zuJQcKKurw";var s=new Cte({offset:25}).setText("Green Village Initiative Head Office");z.useEffect(()=>{r.current&&e.lat||(r.current=new aF({container:t.current,style:Bz.SATELLITE,zoom:n,interactive:!1,center:[e.longitude,e.latitude]}),new Tte({color:"#FF0000"}).setPopup(s).setLngLat([e.longitude,e.latitude]).addTo(r.current))},[e.longitude,e.latitude]),z.useState(!0);const[h,d]=z.useState(!0);return z.useEffect(()=>{document.title="Contact | GVI"},[]),$.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[$.jsx("p",{className:"pl-4 text-center w-full  flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Contact Us"}),$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh] flex justify-center",children:$.jsxs("div",{className:"w-[95vw] md:w-[80vw] lg:w-[70vw] xl:w-[60vw] py-8",children:[$.jsx(Hi,{children:$.jsx(eL,{isLoaded:!h,classNames:{content:"h-[80vh] w-full"},children:$.jsx("iframe",{onLoad:()=>d(!1),className:"w-full h-full",src:"https://docs.google.com/forms/d/e/1FAIpQLSdEeyF27Ovo0TB0uPEj6sCxRBCboXqOFheXj469jFB_RbbVPg/viewform?usp=sf_link"})})}),$.jsxs("div",{className:"map-wrap w-full h-[100vh] mt-10 flex justify-center items-center",children:[$.jsx("div",{ref:t,className:"map h-[75vh] w-[75vh]"}),$.jsxs(Hi,{className:"max-w-[80%] ml-12",children:[$.jsx(ha,{children:$.jsx("p",{className:" text-center w-full font-bold text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Office Location"})}),$.jsx(Ml,{}),$.jsx(da,{children:$.jsx("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:"Modern School Aliganj, Lucknow Uttar Pradesh, India"})}),$.jsx(Ml,{}),$.jsx(ha,{children:$.jsx("p",{className:" text-center w-full font-bold text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Our Socials"})}),$.jsx(Ml,{}),$.jsx(da,{children:$.jsxs("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:["Instagram:- @GVI",$.jsx("br",{}),"Facebook:- Green Village Initiative"]})})]})]})]})})]})}const Nte="/p1.jpg",Ote="/p2.jpg",jte="/p3.jpg",Vte="/p4.jpg",Ute="/p5.jpg";function Kte(){const e=[{id:"p1",name:"Workshop with Village Residents",agenda:"Promoting Sustainable Development in Our Village",desc:`
During the workshop, we will explore the principles of sustainable development, delve into practical examples of sustainable practices, and discuss how these can be applied within our community. Participants will have the opportunity to brainstorm and plan community-driven projects that promote environmental conservation and enhance community well-being.
Whether you are interested in reducing waste, conserving energy, or improving local resources, this workshop will provide valuable insights and actionable steps to make a positive impact in our village. Together, we can build a more sustainable future for generations to come.`,img:Nte},{id:"p2",name:"500+ Trees Planted in the City",agenda:" Planting 500 Trees for a Greener Village",desc:"Join us in a village-wide campaign to plant 500 trees, aiming to enhance our environment and community. The campaign will begin with a launch event, featuring introductions and planting demonstrations. Community planting days will follow, allowing hands-on participation at designated sites. We will ensure ongoing tree health through regular monitoring and maintenance efforts. The campaign will conclude with a celebratory event to acknowledge our achievements and reflect on our collective impact toward a greener future.",img:Ote},{id:"p3",name:"Literacy Campaign about Carbon Footprint",agenda:" Literacy Campaign for Carbon Footprint*.",desc:"Engage in our village-wide literacy campaign focused on understanding and reducing carbon footprints. The campaign will commence with an educational launch event introducing the concept and importance of carbon footprint literacy. Participants will then partake in interactive sessions and workshops to learn practical ways to measure, reduce, and offset carbon footprints in daily life. Ongoing engagement will include community-wide initiatives, such as awareness drives and practical demonstrations, aiming to empower individuals to make informed choices for a sustainable future. The campaign will culminate in a closing event celebrating achievements and fostering a commitment to ongoing carbon footprint literacy within our community.",img:jte},{id:"p4",name:"Plastic Recycling Workshop",agenda:" To educate and eradicate the use of plastic from our country",desc:"Participate in our village workshop dedicated to plastic recycling, aimed at promoting environmental sustainability. The workshop will commence with an introduction to the importance of plastic recycling and its impact on our community and environment. Participants will engage in hands-on sessions to learn about sorting, cleaning, and processing different types of plastic waste. Practical demonstrations will showcase creative ways to upcycle plastics into useful products. The workshop will conclude with a discussion on sustainable practices and strategies to implement effective plastic recycling initiatives within our village, fostering a cleaner and greener environment for all.",img:Vte},{id:"p5",name:"Destributing LPG Cylinders",agenda:" To distribute LPG cylinders to promote sustainable and eco-friendly development",desc:"Join us in our village-wide initiative to distribute LPG cylinders, promoting cleaner and safer cooking solutions. The campaign will kick off with a distribution launch event, where the importance of clean cooking and the benefits of LPG will be highlighted. Residents will have the opportunity to receive LPG cylinders and participate in educational sessions on safe handling, efficient usage, and environmental benefits. Ongoing efforts will focus on monitoring usage and providing support for maintenance and safety. The campaign will conclude with a community celebration to recognize participation and encourage sustained adoption of cleaner cooking practices across our village.",img:Ute}];return su(),z.useEffect(()=>{document.title="Projects | GVI"},[]),$.jsx($.Fragment,{children:$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:$.jsxs("div",{className:"w-full flex  items-center flex-col",children:[$.jsx("div",{className:"py-[10vh]",children:$.jsx("h1",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Previous Projects"})}),e.map(t=>$.jsx("section",{id:t.id,style:{backgroundImage:`url(${t.img}`},className:"bg-cover bg-center w-full bg-fixed min-h-[100vh]",children:$.jsx("div",{className:"flex justify-center items-center flex-col w-full min-h-[100vh] bg-[rgba(255,255,255,0.85)] dark:bg-[rgba(0,0,0,0.7)] text-black dark:text-white",children:$.jsx("div",{className:"container flex px-5 py-[15vh] items-center justify-center flex-col w-full h-full",children:$.jsxs("div",{className:"text-center lg:w-2/3 w-full grid gap-5",children:[$.jsx("h1",{className:"title-font sm:text-6xl text-5xl mb-4 font-medium ",children:t.name}),$.jsx("h2",{className:"text-2xl font-medium",children:$.jsx("div",{className:"p-4 my-4 border-s-4 border-primary-300/50 bg-gray-50/50 dark:border-primary-500/50 dark:bg-gray-800/50 col-span-11 rounded",children:$.jsxs("p",{className:"text-2xl italic hover:not-italic font-medium leading-relaxed",children:['"',t.agenda.trim(),'"']})})}),$.jsx("p",{className:"mb-8 leading-relaxed text-lg text-justify indent-10",children:t.desc}),$.jsx("div",{className:"w-full flex justify-centre items-centre"})]})})})}))]})})})}const Hte="/images/Event1.jpg",Wte="/images/Event2.jpg",Gte="/images/Event3%20copy.jpg",Zte="/images/Event4.jpg",qte="/images/Event5.jpg";function Yte(){const e=[{id:"e1",name:"Recycling Camp",agenda:"Join Our Recycling Camp: Educating, Engaging, and Empowering",desc:`
During our Recycling Camp, participants will engage in hands-on activities, workshops, and educational sessions led by experts in environmental conservation. They will learn practical skills such as sorting recyclables, understanding recycling symbols, and creating upcycled crafts from reusable materials.`,img:Hte,date:"2024-08-02"},{id:"e2",name:"Project Paws",agenda:" Saving dogs from exploitation and cruelty",desc:`Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives.

Through a network of dedicated volunteers and animal welfare professionals, Project Paws offers regular feeding programs, medical treatments, and vaccination drives. These efforts not only address immediate health concerns but also contribute to controlling the population of stray dogs through spaying and neutering initiatives.
`,img:Wte,date:"2024-08-09"},{id:"e3",name:"Go EV!",agenda:"Reducing Carbon Footprint*.",desc:`"Go EV!" stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come.

Embracing EVs means embracing innovation and progress. These vehicles are not just a mode of transport but a catalyst for change, revolutionizing how we think about mobility. With zero tailpipe emissions, EVs help mitigate the harmful effects of traditional fossil fuel vehicles on our environment and public health. They offer quieter, smoother rides and require less maintenance, making them not only eco-friendly but also practical and cost-effective choices for consumers and businesses alike.`,img:Gte,date:"2024-08-16"},{id:"e4",name:"Tree Plantation",agenda:" To educate and eradicate cutting of trees from our country",desc:`Trees play a crucial role in improving air quality, absorbing carbon dioxide, and providing habitat for wildlife. Through our drive, we aim to increase green cover in our community, beautify our surroundings, and create a healthier environment for all.

Participating in the Plantation Drive is more than just planting trees; it's about taking tangible steps towards a sustainable future. Whether you're an individual, a local business, or a community organization, you can make a significant impact by joining us. Together, we can make our neighborhoods cleaner, greener, and more resilient to environmental challenges.
`,img:Zte,date:"2024-08-24"},{id:"e5",name:"Clean the Beech Mission",agenda:"Join Our Beach Cleaning Event: Preserving Coastal Beaut",desc:`During the Beach Cleaning event, volunteers of all ages and backgrounds gather to remove litter, debris, and plastics from the shoreline. Through collective effort and dedication, we aim to reduce pollution in our oceans, safeguard marine life, and maintain the natural beauty of our coastal areas.

Participants not only contribute to the immediate cleanliness of the beach but also raise awareness about the importance of responsible waste disposal and the impact of plastic pollution on marine ecosystems. By taking action at the local level, we demonstrate our commitment to global environmental sustainability goals.
`,img:qte,date:"2024-08-31"}];return su(),z.useEffect(()=>{document.title="Events | GVI"},[]),$.jsx($.Fragment,{children:$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:$.jsxs("div",{className:"w-full flex  items-center flex-col",children:[$.jsx("div",{className:"py-[10vh]",children:$.jsx("h1",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Upcoming Events"})}),e.map(t=>$.jsx("section",{id:t.id,style:{backgroundImage:`url(${t.img}`},className:"bg-cover bg-center w-full bg-fixed min-h-[100vh]",children:$.jsx("div",{className:"flex justify-center items-center flex-col w-full min-h-[100vh] bg-[rgba(255,255,255,0.85)] dark:bg-[rgba(0,0,0,0.7)] text-black dark:text-white",children:$.jsx("div",{className:"container flex px-5 py-[15vh] items-center justify-center flex-col w-full h-full",children:$.jsxs("div",{className:"text-center lg:w-2/3 w-full grid gap-5",children:[$.jsx("h1",{className:"title-font sm:text-6xl text-5xl mb-4 font-medium ",children:t.name}),$.jsx("h2",{className:"text-2xl font-medium",children:$.jsx("div",{className:"p-4 my-4 border-s-4 border-primary-300/50 bg-gray-50/50 dark:border-primary-500/50 dark:bg-gray-800/50 col-span-11 rounded",children:$.jsxs("p",{className:"text-2xl italic hover:not-italic font-medium leading-relaxed",children:['"',t.agenda.trim(),'"']})})}),$.jsx("p",{className:"mb-8 leading-relaxed text-lg text-justify indent-10",children:t.desc}),$.jsx("div",{className:"w-full flex justify-centre items-centre",children:$.jsx("div",{className:"flex gap-x-4 w-full justify-centre items-centre",children:$.jsx(lQ,{"aria-label":"Date (No Selection)",prevButton:"disabled",isReadOnly:!0,value:kj(`${t.date}`)})})})]})})})}))]})})})}function Xte(){const e=[{src:"/images/Event1.jpg",id:"e1",name:"Recycling Camp",post:"2/8/24",link:"https://youtu.be/4rcWLy2MgDQ?si=C24o5UTFjjLNBPtY",desc:"At GVI, we are passionate about promoting environmental sustainability through our Recycling Camp initiative. This camp is designed to educate participants of all ages about the importance of recycling, waste reduction, and responsible waste management practices."},{src:"/images/Event2.jpg",id:"e2",name:"Project Paws",post:"9/8/24",link:"https://youtu.be/lmboaugl6zg?si=CZquRY4XrcXtBarb",desc:"Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives. "},{src:"/images/Event3.jpg",id:"e3",name:"Go EV",post:"16/8/24",link:"https://youtu.be/0sMKYut0pmQ?si=uhYkGfTgcW7RXgok",desc:"Go EV! stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come."},{src:"/images/Event4.jpg",id:"e4",name:"Tree Plantation",post:"24/8/24",link:"https://youtu.be/uTAVw1sbpno?si=j7oPD7X-f46oYbOE",desc:"At GVI, we are committed to environmental stewardship and sustainability. Our Plantation Drive is a proactive initiative aimed at combating climate change and enhancing our ecosystem through the planting of trees and native vegetation."},{src:"/images/Event5.jpg",id:"e5",name:"Clean the Beech Mission",post:"31/8/24",link:"https://youtu.be/JtGsdiYdObQ?si=y8sm6FnWbQWotX_w",desc:"GVI invites you to participate in our Beach Cleaning event, where we come together to protect and preserve our coastal environments. This initiative is part of our commitment to environmental conservation and ensuring our beaches remain clean and beautiful for everyone to enjoy."}];return su(),z.useEffect(()=>{document.title="Resources | GVI"},[]),$.jsx($.Fragment,{children:$.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:$.jsxs("div",{className:"w-full flex  items-center flex-col",children:[$.jsxs("div",{className:"py-[5vh] text-center",children:[$.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-black text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Resources"}),$.jsx("p",{className:"pt-[2.5vh]",children:"Click on your respective project name to view its guide."})]}),$.jsx("div",{className:"min-h-[80vh] w-full flex items-center flex-col",children:$.jsx("div",{className:"grid grid-cols-5 grid-rows-1 w-full",children:e.map(t=>$.jsx("div",{className:"w-full h-[30vh] hover:z-10 md:h-[40vh] xl:h-[80vh] bg-primary-100 brightness-75 transition-all hover:brightness-100 hover:scale-[105%] flex justify-end items-center flex-col bg-cover bg-center data-[low=true]:hidden data-[low=true]:md:flex",onClick:()=>window.open(base+"resources/"+t.filename,"_blank").focus(),style:{backgroundImage:`url(${t.src})`,backgroundPosition:t.position||"center"},transition:{duration:0},"data-low":t.low?"true":"false",children:$.jsx("div",{className:"h-[10vh] w-full",children:$.jsx("h2",{className:"text-3xl text-center text-white",children:$.jsx(Ts,{onClick:()=>window.open(`${t.link}`,"_blank").focus(),radius:"md",className:"bg-gradient-to-tr from-green-700 to-yellow-200 text-white shadow-lg font-semibold mr-[2vw]",color:"secondary",variant:"shadow",children:t.name})})})},t.id))})})]})})})}function Jte(){return z.useEffect(()=>{document.title="Impact | GVI"},[]),su(),$.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh] grid grid-col-3 grid-row-3 items-center justify-center gap-5",children:[$.jsxs(Hi,{className:"max-w-[340px] mr-12",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),$.jsxs(Hi,{className:"max-w-[340px] mr-12",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),$.jsxs(Hi,{className:"max-w-[340px] mr-12",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),$.jsxs(Hi,{className:"max-w-[340px]",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),$.jsxs(Hi,{className:"max-w-[340px]",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),$.jsxs(Hi,{className:"max-w-[340px]",children:[$.jsx(ha,{className:"justify-between",children:$.jsxs("div",{className:"flex gap-5",children:[$.jsx(ld,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),$.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[$.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Zoey Lang"}),$.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@zoeylang"})]})]})}),$.jsxs(da,{className:"px-3 py-0 text-small text-default-400",children:[$.jsx("p",{children:"Frontend developer and UI/UX enthusiast. Join me on this coding adventure!"}),$.jsxs("span",{className:"pt-2",children:["#FrontendWithZoey",$.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),$.jsxs(cd,{className:"gap-3",children:[$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),$.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),$.jsxs("div",{className:"flex gap-1",children:[$.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),$.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]})]})}function Qte(){const e=su();return iz(),$.jsx($V,{navigate:e,children:$.jsx("main",{className:"text-foreground bg-background",children:$.jsxs(see,{children:[$.jsx(To,{loader:$.jsx(xc,{}),path:"/",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Aee,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:!0,path:"/Projects",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Kte,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/volunteer",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Mee,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/contact",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Bte,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/donate",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx($ee,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/Events",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Yte,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/Resources",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Xte,{}),$.jsx(il,{})]})}),$.jsx(To,{loader:$.jsx(xc,{}),path:"/Impact",element:$.jsxs($.Fragment,{children:[$.jsx(rs,{}),$.jsx(Jte,{}),$.jsx(il,{})]})}),$.jsx(To,{path:"*",element:$.jsxs("div",{className:"h-[100vh] w-full pt-[10vh] flex justify-center items-center",children:[$.jsx(rs,{}),$.jsxs("div",{className:"flex h-10 items-center space-x-4 text-2xl",children:[$.jsx("div",{children:"404"}),$.jsx(Ml,{orientation:"vertical"}),$.jsx("div",{children:"Page Not Found"})]})]})})]})})})}E_.createRoot(document.getElementById("root")).render($.jsx(Qt.StrictMode,{children:$.jsx(uee,{children:$.jsx(Qte,{})})}));
