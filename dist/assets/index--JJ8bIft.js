function rB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const h=Object.getOwnPropertyDescriptor(n,s);h&&Object.defineProperty(e,s,h.get?h:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const h of s)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(s){const h={};return s.integrity&&(h.integrity=s.integrity),s.referrerPolicy&&(h.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?h.credentials="include":s.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function n(s){if(s.ep)return;s.ep=!0;const h=r(s);fetch(s.href,h)}})();var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BI={exports:{}},Qv={},NI={exports:{}},er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=Symbol.for("react.element"),nB=Symbol.for("react.portal"),iB=Symbol.for("react.fragment"),aB=Symbol.for("react.strict_mode"),oB=Symbol.for("react.profiler"),sB=Symbol.for("react.provider"),lB=Symbol.for("react.context"),cB=Symbol.for("react.forward_ref"),uB=Symbol.for("react.suspense"),dB=Symbol.for("react.memo"),hB=Symbol.for("react.lazy"),qT=Symbol.iterator;function fB(e){return e===null||typeof e!="object"?null:(e=qT&&e[qT]||e["@@iterator"],typeof e=="function"?e:null)}var OI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jI=Object.assign,VI={};function hh(e,t,r){this.props=e,this.context=t,this.refs=VI,this.updater=r||OI}hh.prototype.isReactComponent={};hh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UI(){}UI.prototype=hh.prototype;function jw(e,t,r){this.props=e,this.context=t,this.refs=VI,this.updater=r||OI}var Vw=jw.prototype=new UI;Vw.constructor=jw;jI(Vw,hh.prototype);Vw.isPureReactComponent=!0;var ZT=Array.isArray,KI=Object.prototype.hasOwnProperty,Uw={current:null},HI={key:!0,ref:!0,__self:!0,__source:!0};function WI(e,t,r){var n,s={},h=null,d=null;if(t!=null)for(n in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(h=""+t.key),t)KI.call(t,n)&&!HI.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var v=Array(c),w=0;w<c;w++)v[w]=arguments[w+2];s.children=v}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:cm,type:e,key:h,ref:d,props:s,_owner:Uw.current}}function pB(e,t){return{$$typeof:cm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kw(e){return typeof e=="object"&&e!==null&&e.$$typeof===cm}function mB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var YT=/\/+/g;function t1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mB(""+e.key):t.toString(36)}function by(e,t,r,n,s){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(h){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case cm:case nB:d=!0}}if(d)return d=e,s=s(d),e=n===""?"."+t1(d,0):n,ZT(s)?(r="",e!=null&&(r=e.replace(YT,"$&/")+"/"),by(s,t,r,"",function(w){return w})):s!=null&&(Kw(s)&&(s=pB(s,r+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(YT,"$&/")+"/")+e)),t.push(s)),1;if(d=0,n=n===""?".":n+":",ZT(e))for(var c=0;c<e.length;c++){h=e[c];var v=n+t1(h,c);d+=by(h,t,r,v,s)}else if(v=fB(e),typeof v=="function")for(e=v.call(e),c=0;!(h=e.next()).done;)h=h.value,v=n+t1(h,c++),d+=by(h,t,r,v,s);else if(h==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Rg(e,t,r){if(e==null)return e;var n=[],s=0;return by(e,n,"","",function(h){return t.call(r,h,s++)}),n}function gB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zi={current:null},wy={transition:null},yB={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:wy,ReactCurrentOwner:Uw};function GI(){throw Error("act(...) is not supported in production builds of React.")}er.Children={map:Rg,forEach:function(e,t,r){Rg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rg(e,function(){t++}),t},toArray:function(e){return Rg(e,function(t){return t})||[]},only:function(e){if(!Kw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};er.Component=hh;er.Fragment=iB;er.Profiler=oB;er.PureComponent=jw;er.StrictMode=aB;er.Suspense=uB;er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yB;er.act=GI;er.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jI({},e.props),s=e.key,h=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,d=Uw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(v in t)KI.call(t,v)&&!HI.hasOwnProperty(v)&&(n[v]=t[v]===void 0&&c!==void 0?c[v]:t[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){c=Array(v);for(var w=0;w<v;w++)c[w]=arguments[w+2];n.children=c}return{$$typeof:cm,type:e.type,key:s,ref:h,props:n,_owner:d}};er.createContext=function(e){return e={$$typeof:lB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sB,_context:e},e.Consumer=e};er.createElement=WI;er.createFactory=function(e){var t=WI.bind(null,e);return t.type=e,t};er.createRef=function(){return{current:null}};er.forwardRef=function(e){return{$$typeof:cB,render:e}};er.isValidElement=Kw;er.lazy=function(e){return{$$typeof:hB,_payload:{_status:-1,_result:e},_init:gB}};er.memo=function(e,t){return{$$typeof:dB,type:e,compare:t===void 0?null:t}};er.startTransition=function(e){var t=wy.transition;wy.transition={};try{e()}finally{wy.transition=t}};er.unstable_act=GI;er.useCallback=function(e,t){return zi.current.useCallback(e,t)};er.useContext=function(e){return zi.current.useContext(e)};er.useDebugValue=function(){};er.useDeferredValue=function(e){return zi.current.useDeferredValue(e)};er.useEffect=function(e,t){return zi.current.useEffect(e,t)};er.useId=function(){return zi.current.useId()};er.useImperativeHandle=function(e,t,r){return zi.current.useImperativeHandle(e,t,r)};er.useInsertionEffect=function(e,t){return zi.current.useInsertionEffect(e,t)};er.useLayoutEffect=function(e,t){return zi.current.useLayoutEffect(e,t)};er.useMemo=function(e,t){return zi.current.useMemo(e,t)};er.useReducer=function(e,t,r){return zi.current.useReducer(e,t,r)};er.useRef=function(e){return zi.current.useRef(e)};er.useState=function(e){return zi.current.useState(e)};er.useSyncExternalStore=function(e,t,r){return zi.current.useSyncExternalStore(e,t,r)};er.useTransition=function(){return zi.current.useTransition()};er.version="18.3.1";NI.exports=er;var z=NI.exports;const Qt=lm(z),vB=rB({__proto__:null,default:Qt},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xB=z,_B=Symbol.for("react.element"),bB=Symbol.for("react.fragment"),wB=Object.prototype.hasOwnProperty,SB=xB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PB={key:!0,ref:!0,__self:!0,__source:!0};function qI(e,t,r){var n,s={},h=null,d=null;r!==void 0&&(h=""+r),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(d=t.ref);for(n in t)wB.call(t,n)&&!PB.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_B,type:e,key:h,ref:d,props:s,_owner:SB.current}}Qv.Fragment=bB;Qv.jsx=qI;Qv.jsxs=qI;BI.exports=Qv;var L=BI.exports,A_={},ZI={exports:{}},va={},YI={exports:{}},XI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(De,je){var Oe=De.length;De.push(je);e:for(;0<Oe;){var se=Oe-1>>>1,ze=De[se];if(0<s(ze,je))De[se]=je,De[Oe]=ze,Oe=se;else break e}}function r(De){return De.length===0?null:De[0]}function n(De){if(De.length===0)return null;var je=De[0],Oe=De.pop();if(Oe!==je){De[0]=Oe;e:for(var se=0,ze=De.length,Ze=ze>>>1;se<Ze;){var lt=2*(se+1)-1,mt=De[lt],gt=lt+1,Et=De[gt];if(0>s(mt,Oe))gt<ze&&0>s(Et,mt)?(De[se]=Et,De[gt]=Oe,se=gt):(De[se]=mt,De[lt]=Oe,se=lt);else if(gt<ze&&0>s(Et,Oe))De[se]=Et,De[gt]=Oe,se=gt;else break e}}return je}function s(De,je){var Oe=De.sortIndex-je.sortIndex;return Oe!==0?Oe:De.id-je.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var d=Date,c=d.now();e.unstable_now=function(){return d.now()-c}}var v=[],w=[],S=1,T=null,C=3,D=!1,B=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(De){for(var je=r(w);je!==null;){if(je.callback===null)n(w);else if(je.startTime<=De)n(w),je.sortIndex=je.expirationTime,t(v,je);else break;je=r(w)}}function ee(De){if(j=!1,N(De),!B)if(r(v)!==null)B=!0,Re(ie);else{var je=r(w);je!==null&&ae(ee,je.startTime-De)}}function ie(De,je){B=!1,j&&(j=!1,V(q),q=-1),D=!0;var Oe=C;try{for(N(je),T=r(v);T!==null&&(!(T.expirationTime>je)||De&&!le());){var se=T.callback;if(typeof se=="function"){T.callback=null,C=T.priorityLevel;var ze=se(T.expirationTime<=je);je=e.unstable_now(),typeof ze=="function"?T.callback=ze:T===r(v)&&n(v),N(je)}else n(v);T=r(v)}if(T!==null)var Ze=!0;else{var lt=r(w);lt!==null&&ae(ee,lt.startTime-je),Ze=!1}return Ze}finally{T=null,C=Oe,D=!1}}var fe=!1,be=null,q=-1,pe=5,xe=-1;function le(){return!(e.unstable_now()-xe<pe)}function Se(){if(be!==null){var De=e.unstable_now();xe=De;var je=!0;try{je=be(!0,De)}finally{je?ge():(fe=!1,be=null)}}else fe=!1}var ge;if(typeof F=="function")ge=function(){F(Se)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Be=ye.port2;ye.port1.onmessage=Se,ge=function(){Be.postMessage(null)}}else ge=function(){Y(Se,0)};function Re(De){be=De,fe||(fe=!0,ge())}function ae(De,je){q=Y(function(){De(e.unstable_now())},je)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(De){De.callback=null},e.unstable_continueExecution=function(){B||D||(B=!0,Re(ie))},e.unstable_forceFrameRate=function(De){0>De||125<De?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<De?Math.floor(1e3/De):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(De){switch(C){case 1:case 2:case 3:var je=3;break;default:je=C}var Oe=C;C=je;try{return De()}finally{C=Oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(De,je){switch(De){case 1:case 2:case 3:case 4:case 5:break;default:De=3}var Oe=C;C=De;try{return je()}finally{C=Oe}},e.unstable_scheduleCallback=function(De,je,Oe){var se=e.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?se+Oe:se):Oe=se,De){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Oe+ze,De={id:S++,callback:je,priorityLevel:De,startTime:Oe,expirationTime:ze,sortIndex:-1},Oe>se?(De.sortIndex=Oe,t(w,De),r(v)===null&&De===r(w)&&(j?(V(q),q=-1):j=!0,ae(ee,Oe-se))):(De.sortIndex=ze,t(v,De),B||D||(B=!0,Re(ie))),De},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(De){var je=C;return function(){var Oe=C;C=je;try{return De.apply(this,arguments)}finally{C=Oe}}}})(XI);YI.exports=XI;var TB=YI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CB=z,pa=TB;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JI=new Set,Mp={};function ru(e,t){Yd(e,t),Yd(e+"Capture",t)}function Yd(e,t){for(Mp[e]=t,e=0;e<t.length;e++)JI.add(t[e])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I_=Object.prototype.hasOwnProperty,EB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XT={},JT={};function kB(e){return I_.call(JT,e)?!0:I_.call(XT,e)?!1:EB.test(e)?JT[e]=!0:(XT[e]=!0,!1)}function AB(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IB(e,t,r,n){if(t===null||typeof t>"u"||AB(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fi(e,t,r,n,s,h,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=d}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ri[e]=new Fi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ri[t]=new Fi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ri[e]=new Fi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ri[e]=new Fi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ri[e]=new Fi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ri[e]=new Fi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ri[e]=new Fi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ri[e]=new Fi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ri[e]=new Fi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hw=/[\-:]([a-z])/g;function Ww(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hw,Ww);ri[t]=new Fi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hw,Ww);ri[t]=new Fi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hw,Ww);ri[t]=new Fi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ri[e]=new Fi(e,1,!1,e.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Fi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ri[e]=new Fi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gw(e,t,r,n){var s=ri.hasOwnProperty(t)?ri[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IB(t,r,s,n)&&(r=null),n||s===null?kB(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Es=CB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lg=Symbol.for("react.element"),md=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),qw=Symbol.for("react.strict_mode"),M_=Symbol.for("react.profiler"),QI=Symbol.for("react.provider"),eM=Symbol.for("react.context"),Zw=Symbol.for("react.forward_ref"),D_=Symbol.for("react.suspense"),$_=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),dl=Symbol.for("react.lazy"),tM=Symbol.for("react.offscreen"),QT=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=QT&&e[QT]||e["@@iterator"],typeof e=="function"?e:null)}var Qr=Object.assign,r1;function rp(e){if(r1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);r1=t&&t[1]||""}return`
`+r1+e}var n1=!1;function i1(e,t){if(!e||n1)return"";n1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var n=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){n=w}e.call(t.prototype)}else{try{throw Error()}catch(w){n=w}e()}}catch(w){if(w&&n&&typeof w.stack=="string"){for(var s=w.stack.split(`
`),h=n.stack.split(`
`),d=s.length-1,c=h.length-1;1<=d&&0<=c&&s[d]!==h[c];)c--;for(;1<=d&&0<=c;d--,c--)if(s[d]!==h[c]){if(d!==1||c!==1)do if(d--,c--,0>c||s[d]!==h[c]){var v=`
`+s[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=c);break}}}finally{n1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rp(e):""}function MB(e){switch(e.tag){case 5:return rp(e.type);case 16:return rp("Lazy");case 13:return rp("Suspense");case 19:return rp("SuspenseList");case 0:case 2:case 15:return e=i1(e.type,!1),e;case 11:return e=i1(e.type.render,!1),e;case 1:return e=i1(e.type,!0),e;default:return""}}function R_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gd:return"Fragment";case md:return"Portal";case M_:return"Profiler";case qw:return"StrictMode";case D_:return"Suspense";case $_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eM:return(e.displayName||"Context")+".Consumer";case QI:return(e._context.displayName||"Context")+".Provider";case Zw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yw:return t=e.displayName||null,t!==null?t:R_(e.type)||"Memo";case dl:t=e._payload,e=e._init;try{return R_(e(t))}catch{}}return null}function DB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R_(t);case 8:return t===qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $B(e){var t=rM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){n=""+d,h.call(this,d)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zg(e){e._valueTracker||(e._valueTracker=$B(e))}function nM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Wy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function L_(e,t){var r=t.checked;return Qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ll(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iM(e,t){t=t.checked,t!=null&&Gw(e,"checked",t,!1)}function z_(e,t){iM(e,t);var r=Ll(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F_(e,t.type,r):t.hasOwnProperty("defaultValue")&&F_(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function F_(e,t,r){(t!=="number"||Wy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var np=Array.isArray;function Rd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ll(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function B_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(tt(92));if(np(r)){if(1<r.length)throw Error(tt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ll(r)}}function aM(e,t){var r=Ll(t.value),n=Ll(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function N_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fg,sM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fg=Fg||document.createElement("div"),Fg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RB=["Webkit","ms","Moz","O"];Object.keys(fp).forEach(function(e){RB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fp[t]=fp[e]})});function lM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fp.hasOwnProperty(e)&&fp[e]?(""+t).trim():t+"px"}function cM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=lM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var LB=Qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function O_(e,t){if(t){if(LB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function j_(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V_=null;function Xw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var U_=null,Ld=null,zd=null;function iC(e){if(e=hm(e)){if(typeof U_!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=i0(t),U_(e.stateNode,e.type,t))}}function uM(e){Ld?zd?zd.push(e):zd=[e]:Ld=e}function dM(){if(Ld){var e=Ld,t=zd;if(zd=Ld=null,iC(e),t)for(e=0;e<t.length;e++)iC(t[e])}}function hM(e,t){return e(t)}function fM(){}var a1=!1;function pM(e,t,r){if(a1)return e(t,r);a1=!0;try{return hM(e,t,r)}finally{a1=!1,(Ld!==null||zd!==null)&&(fM(),dM())}}function $p(e,t){var r=e.stateNode;if(r===null)return null;var n=i0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(tt(231,t,typeof r));return r}var K_=!1;if(xs)try{var Ff={};Object.defineProperty(Ff,"passive",{get:function(){K_=!0}}),window.addEventListener("test",Ff,Ff),window.removeEventListener("test",Ff,Ff)}catch{K_=!1}function zB(e,t,r,n,s,h,d,c,v){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(S){this.onError(S)}}var pp=!1,Gy=null,qy=!1,H_=null,FB={onError:function(e){pp=!0,Gy=e}};function BB(e,t,r,n,s,h,d,c,v){pp=!1,Gy=null,zB.apply(FB,arguments)}function NB(e,t,r,n,s,h,d,c,v){if(BB.apply(this,arguments),pp){if(pp){var w=Gy;pp=!1,Gy=null}else throw Error(tt(198));qy||(qy=!0,H_=w)}}function nu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aC(e){if(nu(e)!==e)throw Error(tt(188))}function OB(e){var t=e.alternate;if(!t){if(t=nu(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var h=s.alternate;if(h===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===h.child){for(h=s.child;h;){if(h===r)return aC(s),e;if(h===n)return aC(s),t;h=h.sibling}throw Error(tt(188))}if(r.return!==n.return)r=s,n=h;else{for(var d=!1,c=s.child;c;){if(c===r){d=!0,r=s,n=h;break}if(c===n){d=!0,n=s,r=h;break}c=c.sibling}if(!d){for(c=h.child;c;){if(c===r){d=!0,r=h,n=s;break}if(c===n){d=!0,n=h,r=s;break}c=c.sibling}if(!d)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?e:t}function gM(e){return e=OB(e),e!==null?yM(e):null}function yM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yM(e);if(t!==null)return t;e=e.sibling}return null}var vM=pa.unstable_scheduleCallback,oC=pa.unstable_cancelCallback,jB=pa.unstable_shouldYield,VB=pa.unstable_requestPaint,fn=pa.unstable_now,UB=pa.unstable_getCurrentPriorityLevel,Jw=pa.unstable_ImmediatePriority,xM=pa.unstable_UserBlockingPriority,Zy=pa.unstable_NormalPriority,KB=pa.unstable_LowPriority,_M=pa.unstable_IdlePriority,e0=null,Do=null;function HB(e){if(Do&&typeof Do.onCommitFiberRoot=="function")try{Do.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:qB,WB=Math.log,GB=Math.LN2;function qB(e){return e>>>=0,e===0?32:31-(WB(e)/GB|0)|0}var Bg=64,Ng=4194304;function ip(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,h=e.pingedLanes,d=r&268435455;if(d!==0){var c=d&~s;c!==0?n=ip(c):(h&=d,h!==0&&(n=ip(h)))}else d=r&~s,d!==0?n=ip(d):h!==0&&(n=ip(h));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,h=t&-t,s>=h||s===16&&(h&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-oo(t),s=1<<r,n|=e[r],t&=~s;return n}function ZB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YB(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,h=e.pendingLanes;0<h;){var d=31-oo(h),c=1<<d,v=s[d];v===-1?(!(c&r)||c&n)&&(s[d]=ZB(c,t)):v<=t&&(e.expiredLanes|=c),h&=~c}}function W_(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bM(){var e=Bg;return Bg<<=1,!(Bg&4194240)&&(Bg=64),e}function o1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function um(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-oo(t),e[t]=r}function XB(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-oo(r),h=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~h}}function Qw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-oo(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var _r=0;function wM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SM,e2,PM,TM,CM,G_=!1,Og=[],Sl=null,Pl=null,Tl=null,Rp=new Map,Lp=new Map,gl=[],JB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sC(e,t){switch(e){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lp.delete(t.pointerId)}}function Bf(e,t,r,n,s,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:h,targetContainers:[s]},t!==null&&(t=hm(t),t!==null&&e2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function QB(e,t,r,n,s){switch(t){case"focusin":return Sl=Bf(Sl,e,t,r,n,s),!0;case"dragenter":return Pl=Bf(Pl,e,t,r,n,s),!0;case"mouseover":return Tl=Bf(Tl,e,t,r,n,s),!0;case"pointerover":var h=s.pointerId;return Rp.set(h,Bf(Rp.get(h)||null,e,t,r,n,s)),!0;case"gotpointercapture":return h=s.pointerId,Lp.set(h,Bf(Lp.get(h)||null,e,t,r,n,s)),!0}return!1}function EM(e){var t=Ic(e.target);if(t!==null){var r=nu(t);if(r!==null){if(t=r.tag,t===13){if(t=mM(r),t!==null){e.blockedOn=t,CM(e.priority,function(){PM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=q_(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);V_=n,r.target.dispatchEvent(n),V_=null}else return t=hm(r),t!==null&&e2(t),e.blockedOn=r,!1;t.shift()}return!0}function lC(e,t,r){Sy(e)&&r.delete(t)}function eN(){G_=!1,Sl!==null&&Sy(Sl)&&(Sl=null),Pl!==null&&Sy(Pl)&&(Pl=null),Tl!==null&&Sy(Tl)&&(Tl=null),Rp.forEach(lC),Lp.forEach(lC)}function Nf(e,t){e.blockedOn===t&&(e.blockedOn=null,G_||(G_=!0,pa.unstable_scheduleCallback(pa.unstable_NormalPriority,eN)))}function zp(e){function t(s){return Nf(s,e)}if(0<Og.length){Nf(Og[0],e);for(var r=1;r<Og.length;r++){var n=Og[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sl!==null&&Nf(Sl,e),Pl!==null&&Nf(Pl,e),Tl!==null&&Nf(Tl,e),Rp.forEach(t),Lp.forEach(t),r=0;r<gl.length;r++)n=gl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<gl.length&&(r=gl[0],r.blockedOn===null);)EM(r),r.blockedOn===null&&gl.shift()}var Fd=Es.ReactCurrentBatchConfig,Xy=!0;function tN(e,t,r,n){var s=_r,h=Fd.transition;Fd.transition=null;try{_r=1,t2(e,t,r,n)}finally{_r=s,Fd.transition=h}}function rN(e,t,r,n){var s=_r,h=Fd.transition;Fd.transition=null;try{_r=4,t2(e,t,r,n)}finally{_r=s,Fd.transition=h}}function t2(e,t,r,n){if(Xy){var s=q_(e,t,r,n);if(s===null)g1(e,t,n,Jy,r),sC(e,n);else if(QB(s,e,t,r,n))n.stopPropagation();else if(sC(e,n),t&4&&-1<JB.indexOf(e)){for(;s!==null;){var h=hm(s);if(h!==null&&SM(h),h=q_(e,t,r,n),h===null&&g1(e,t,n,Jy,r),h===s)break;s=h}s!==null&&n.stopPropagation()}else g1(e,t,n,null,r)}}var Jy=null;function q_(e,t,r,n){if(Jy=null,e=Xw(n),e=Ic(e),e!==null)if(t=nu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jy=e,null}function kM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UB()){case Jw:return 1;case xM:return 4;case Zy:case KB:return 16;case _M:return 536870912;default:return 16}default:return 16}}var vl=null,r2=null,Py=null;function AM(){if(Py)return Py;var e,t=r2,r=t.length,n,s="value"in vl?vl.value:vl.textContent,h=s.length;for(e=0;e<r&&t[e]===s[e];e++);var d=r-e;for(n=1;n<=d&&t[r-n]===s[h-n];n++);return Py=s.slice(e,1<n?1-n:void 0)}function Ty(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jg(){return!0}function cC(){return!1}function xa(e){function t(r,n,s,h,d){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=h,this.target=d,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(h):h[c]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?jg:cC,this.isPropagationStopped=cC,this}return Qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),t}var fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n2=xa(fh),dm=Qr({},fh,{view:0,detail:0}),nN=xa(dm),s1,l1,Of,t0=Qr({},dm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Of&&(Of&&e.type==="mousemove"?(s1=e.screenX-Of.screenX,l1=e.screenY-Of.screenY):l1=s1=0,Of=e),s1)},movementY:function(e){return"movementY"in e?e.movementY:l1}}),uC=xa(t0),iN=Qr({},t0,{dataTransfer:0}),aN=xa(iN),oN=Qr({},dm,{relatedTarget:0}),c1=xa(oN),sN=Qr({},fh,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=xa(sN),cN=Qr({},fh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uN=xa(cN),dN=Qr({},fh,{data:0}),dC=xa(dN),hN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pN[e])?!!t[e]:!1}function i2(){return mN}var gN=Qr({},dm,{key:function(e){if(e.key){var t=hN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ty(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i2,charCode:function(e){return e.type==="keypress"?Ty(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ty(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yN=xa(gN),vN=Qr({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hC=xa(vN),xN=Qr({},dm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i2}),_N=xa(xN),bN=Qr({},fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),wN=xa(bN),SN=Qr({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PN=xa(SN),TN=[9,13,27,32],a2=xs&&"CompositionEvent"in window,mp=null;xs&&"documentMode"in document&&(mp=document.documentMode);var CN=xs&&"TextEvent"in window&&!mp,IM=xs&&(!a2||mp&&8<mp&&11>=mp),fC=" ",pC=!1;function MM(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yd=!1;function EN(e,t){switch(e){case"compositionend":return DM(t);case"keypress":return t.which!==32?null:(pC=!0,fC);case"textInput":return e=t.data,e===fC&&pC?null:e;default:return null}}function kN(e,t){if(yd)return e==="compositionend"||!a2&&MM(e,t)?(e=AM(),Py=r2=vl=null,yd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IM&&t.locale!=="ko"?null:t.data;default:return null}}var AN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AN[e.type]:t==="textarea"}function $M(e,t,r,n){uM(n),t=Qy(t,"onChange"),0<t.length&&(r=new n2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gp=null,Fp=null;function IN(e){KM(e,0)}function r0(e){var t=_d(e);if(nM(t))return e}function MN(e,t){if(e==="change")return t}var RM=!1;if(xs){var u1;if(xs){var d1="oninput"in document;if(!d1){var gC=document.createElement("div");gC.setAttribute("oninput","return;"),d1=typeof gC.oninput=="function"}u1=d1}else u1=!1;RM=u1&&(!document.documentMode||9<document.documentMode)}function yC(){gp&&(gp.detachEvent("onpropertychange",LM),Fp=gp=null)}function LM(e){if(e.propertyName==="value"&&r0(Fp)){var t=[];$M(t,Fp,e,Xw(e)),pM(IN,t)}}function DN(e,t,r){e==="focusin"?(yC(),gp=t,Fp=r,gp.attachEvent("onpropertychange",LM)):e==="focusout"&&yC()}function $N(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return r0(Fp)}function RN(e,t){if(e==="click")return r0(t)}function LN(e,t){if(e==="input"||e==="change")return r0(t)}function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var co=typeof Object.is=="function"?Object.is:zN;function Bp(e,t){if(co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!I_.call(t,s)||!co(e[s],t[s]))return!1}return!0}function vC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xC(e,t){var r=vC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vC(r)}}function zM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FM(){for(var e=window,t=Wy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Wy(e.document)}return t}function o2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FN(e){var t=FM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zM(r.ownerDocument.documentElement,r)){if(n!==null&&o2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,h=Math.min(n.start,s);n=n.end===void 0?h:Math.min(n.end,s),!e.extend&&h>n&&(s=n,n=h,h=s),s=xC(r,h);var d=xC(r,n);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),h>n?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BN=xs&&"documentMode"in document&&11>=document.documentMode,vd=null,Z_=null,yp=null,Y_=!1;function _C(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y_||vd==null||vd!==Wy(n)||(n=vd,"selectionStart"in n&&o2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yp&&Bp(yp,n)||(yp=n,n=Qy(Z_,"onSelect"),0<n.length&&(t=new n2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vd)))}function Vg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xd={animationend:Vg("Animation","AnimationEnd"),animationiteration:Vg("Animation","AnimationIteration"),animationstart:Vg("Animation","AnimationStart"),transitionend:Vg("Transition","TransitionEnd")},h1={},BM={};xs&&(BM=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function n0(e){if(h1[e])return h1[e];if(!xd[e])return e;var t=xd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in BM)return h1[e]=t[r];return e}var NM=n0("animationend"),OM=n0("animationiteration"),jM=n0("animationstart"),VM=n0("transitionend"),UM=new Map,bC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(e,t){UM.set(e,t),ru(t,[e])}for(var f1=0;f1<bC.length;f1++){var p1=bC[f1],NN=p1.toLowerCase(),ON=p1[0].toUpperCase()+p1.slice(1);jl(NN,"on"+ON)}jl(NM,"onAnimationEnd");jl(OM,"onAnimationIteration");jl(jM,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(VM,"onTransitionEnd");Yd("onMouseEnter",["mouseout","mouseover"]);Yd("onMouseLeave",["mouseout","mouseover"]);Yd("onPointerEnter",["pointerout","pointerover"]);Yd("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function wC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NB(n,t,void 0,e),e.currentTarget=null}function KM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var h=void 0;if(t)for(var d=n.length-1;0<=d;d--){var c=n[d],v=c.instance,w=c.currentTarget;if(c=c.listener,v!==h&&s.isPropagationStopped())break e;wC(s,c,w),h=v}else for(d=0;d<n.length;d++){if(c=n[d],v=c.instance,w=c.currentTarget,c=c.listener,v!==h&&s.isPropagationStopped())break e;wC(s,c,w),h=v}}}if(qy)throw e=H_,qy=!1,H_=null,e}function Nr(e,t){var r=t[tb];r===void 0&&(r=t[tb]=new Set);var n=e+"__bubble";r.has(n)||(HM(t,e,2,!1),r.add(n))}function m1(e,t,r){var n=0;t&&(n|=4),HM(r,e,n,t)}var Ug="_reactListening"+Math.random().toString(36).slice(2);function Np(e){if(!e[Ug]){e[Ug]=!0,JI.forEach(function(r){r!=="selectionchange"&&(jN.has(r)||m1(r,!1,e),m1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ug]||(t[Ug]=!0,m1("selectionchange",!1,t))}}function HM(e,t,r,n){switch(kM(t)){case 1:var s=tN;break;case 4:s=rN;break;default:s=t2}r=s.bind(null,t,r,e),s=void 0,!K_||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function g1(e,t,r,n,s){var h=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var d=n.tag;if(d===3||d===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(d===4)for(d=n.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;d=d.return}for(;c!==null;){if(d=Ic(c),d===null)return;if(v=d.tag,v===5||v===6){n=h=d;continue e}c=c.parentNode}}n=n.return}pM(function(){var w=h,S=Xw(r),T=[];e:{var C=UM.get(e);if(C!==void 0){var D=n2,B=e;switch(e){case"keypress":if(Ty(r)===0)break e;case"keydown":case"keyup":D=yN;break;case"focusin":B="focus",D=c1;break;case"focusout":B="blur",D=c1;break;case"beforeblur":case"afterblur":D=c1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=uC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=aN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=_N;break;case NM:case OM:case jM:D=lN;break;case VM:D=wN;break;case"scroll":D=nN;break;case"wheel":D=PN;break;case"copy":case"cut":case"paste":D=uN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=hC}var j=(t&4)!==0,Y=!j&&e==="scroll",V=j?C!==null?C+"Capture":null:C;j=[];for(var F=w,N;F!==null;){N=F;var ee=N.stateNode;if(N.tag===5&&ee!==null&&(N=ee,V!==null&&(ee=$p(F,V),ee!=null&&j.push(Op(F,ee,N)))),Y)break;F=F.return}0<j.length&&(C=new D(C,B,null,r,S),T.push({event:C,listeners:j}))}}if(!(t&7)){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&r!==V_&&(B=r.relatedTarget||r.fromElement)&&(Ic(B)||B[_s]))break e;if((D||C)&&(C=S.window===S?S:(C=S.ownerDocument)?C.defaultView||C.parentWindow:window,D?(B=r.relatedTarget||r.toElement,D=w,B=B?Ic(B):null,B!==null&&(Y=nu(B),B!==Y||B.tag!==5&&B.tag!==6)&&(B=null)):(D=null,B=w),D!==B)){if(j=uC,ee="onMouseLeave",V="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(j=hC,ee="onPointerLeave",V="onPointerEnter",F="pointer"),Y=D==null?C:_d(D),N=B==null?C:_d(B),C=new j(ee,F+"leave",D,r,S),C.target=Y,C.relatedTarget=N,ee=null,Ic(S)===w&&(j=new j(V,F+"enter",B,r,S),j.target=N,j.relatedTarget=Y,ee=j),Y=ee,D&&B)t:{for(j=D,V=B,F=0,N=j;N;N=ad(N))F++;for(N=0,ee=V;ee;ee=ad(ee))N++;for(;0<F-N;)j=ad(j),F--;for(;0<N-F;)V=ad(V),N--;for(;F--;){if(j===V||V!==null&&j===V.alternate)break t;j=ad(j),V=ad(V)}j=null}else j=null;D!==null&&SC(T,C,D,j,!1),B!==null&&Y!==null&&SC(T,Y,B,j,!0)}}e:{if(C=w?_d(w):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var ie=MN;else if(mC(C))if(RM)ie=LN;else{ie=$N;var fe=DN}else(D=C.nodeName)&&D.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(ie=RN);if(ie&&(ie=ie(e,w))){$M(T,ie,r,S);break e}fe&&fe(e,C,w),e==="focusout"&&(fe=C._wrapperState)&&fe.controlled&&C.type==="number"&&F_(C,"number",C.value)}switch(fe=w?_d(w):window,e){case"focusin":(mC(fe)||fe.contentEditable==="true")&&(vd=fe,Z_=w,yp=null);break;case"focusout":yp=Z_=vd=null;break;case"mousedown":Y_=!0;break;case"contextmenu":case"mouseup":case"dragend":Y_=!1,_C(T,r,S);break;case"selectionchange":if(BN)break;case"keydown":case"keyup":_C(T,r,S)}var be;if(a2)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else yd?MM(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(IM&&r.locale!=="ko"&&(yd||q!=="onCompositionStart"?q==="onCompositionEnd"&&yd&&(be=AM()):(vl=S,r2="value"in vl?vl.value:vl.textContent,yd=!0)),fe=Qy(w,q),0<fe.length&&(q=new dC(q,e,null,r,S),T.push({event:q,listeners:fe}),be?q.data=be:(be=DM(r),be!==null&&(q.data=be)))),(be=CN?EN(e,r):kN(e,r))&&(w=Qy(w,"onBeforeInput"),0<w.length&&(S=new dC("onBeforeInput","beforeinput",null,r,S),T.push({event:S,listeners:w}),S.data=be))}KM(T,t)})}function Op(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qy(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,h=s.stateNode;s.tag===5&&h!==null&&(s=h,h=$p(e,r),h!=null&&n.unshift(Op(e,h,s)),h=$p(e,t),h!=null&&n.push(Op(e,h,s))),e=e.return}return n}function ad(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function SC(e,t,r,n,s){for(var h=t._reactName,d=[];r!==null&&r!==n;){var c=r,v=c.alternate,w=c.stateNode;if(v!==null&&v===n)break;c.tag===5&&w!==null&&(c=w,s?(v=$p(r,h),v!=null&&d.unshift(Op(r,v,c))):s||(v=$p(r,h),v!=null&&d.push(Op(r,v,c)))),r=r.return}d.length!==0&&e.push({event:t,listeners:d})}var VN=/\r\n?/g,UN=/\u0000|\uFFFD/g;function PC(e){return(typeof e=="string"?e:""+e).replace(VN,`
`).replace(UN,"")}function Kg(e,t,r){if(t=PC(t),PC(e)!==t&&r)throw Error(tt(425))}function ev(){}var X_=null,J_=null;function Q_(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eb=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(e){return TC.resolve(null).then(e).catch(WN)}:eb;function WN(e){setTimeout(function(){throw e})}function y1(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),zp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);zp(t)}function Cl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ph=Math.random().toString(36).slice(2),ko="__reactFiber$"+ph,jp="__reactProps$"+ph,_s="__reactContainer$"+ph,tb="__reactEvents$"+ph,GN="__reactListeners$"+ph,qN="__reactHandles$"+ph;function Ic(e){var t=e[ko];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_s]||r[ko]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CC(e);e!==null;){if(r=e[ko])return r;e=CC(e)}return t}e=r,r=e.parentNode}return null}function hm(e){return e=e[ko]||e[_s],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _d(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function i0(e){return e[jp]||null}var rb=[],bd=-1;function Vl(e){return{current:e}}function jr(e){0>bd||(e.current=rb[bd],rb[bd]=null,bd--)}function Rr(e,t){bd++,rb[bd]=e.current,e.current=t}var zl={},wi=Vl(zl),Gi=Vl(!1),Wc=zl;function Xd(e,t){var r=e.type.contextTypes;if(!r)return zl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},h;for(h in r)s[h]=t[h];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qi(e){return e=e.childContextTypes,e!=null}function tv(){jr(Gi),jr(wi)}function EC(e,t,r){if(wi.current!==zl)throw Error(tt(168));Rr(wi,t),Rr(Gi,r)}function WM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(tt(108,DB(e)||"Unknown",s));return Qr({},r,n)}function rv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zl,Wc=wi.current,Rr(wi,e),Rr(Gi,Gi.current),!0}function kC(e,t,r){var n=e.stateNode;if(!n)throw Error(tt(169));r?(e=WM(e,t,Wc),n.__reactInternalMemoizedMergedChildContext=e,jr(Gi),jr(wi),Rr(wi,e)):jr(Gi),Rr(Gi,r)}var as=null,a0=!1,v1=!1;function GM(e){as===null?as=[e]:as.push(e)}function ZN(e){a0=!0,GM(e)}function Ul(){if(!v1&&as!==null){v1=!0;var e=0,t=_r;try{var r=as;for(_r=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}as=null,a0=!1}catch(s){throw as!==null&&(as=as.slice(e+1)),vM(Jw,Ul),s}finally{_r=t,v1=!1}}return null}var wd=[],Sd=0,nv=null,iv=0,Da=[],$a=0,Gc=null,ss=1,ls="";function wc(e,t){wd[Sd++]=iv,wd[Sd++]=nv,nv=e,iv=t}function qM(e,t,r){Da[$a++]=ss,Da[$a++]=ls,Da[$a++]=Gc,Gc=e;var n=ss;e=ls;var s=32-oo(n)-1;n&=~(1<<s),r+=1;var h=32-oo(t)+s;if(30<h){var d=s-s%5;h=(n&(1<<d)-1).toString(32),n>>=d,s-=d,ss=1<<32-oo(t)+s|r<<s|n,ls=h+e}else ss=1<<h|r<<s|n,ls=e}function s2(e){e.return!==null&&(wc(e,1),qM(e,1,0))}function l2(e){for(;e===nv;)nv=wd[--Sd],wd[Sd]=null,iv=wd[--Sd],wd[Sd]=null;for(;e===Gc;)Gc=Da[--$a],Da[$a]=null,ls=Da[--$a],Da[$a]=null,ss=Da[--$a],Da[$a]=null}var fa=null,ha=null,Gr=!1,no=null;function ZM(e,t){var r=Fa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function AC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fa=e,ha=Cl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fa=e,ha=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gc!==null?{id:ss,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fa=e,ha=null,!0):!1;default:return!1}}function nb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ib(e){if(Gr){var t=ha;if(t){var r=t;if(!AC(e,t)){if(nb(e))throw Error(tt(418));t=Cl(r.nextSibling);var n=fa;t&&AC(e,t)?ZM(n,r):(e.flags=e.flags&-4097|2,Gr=!1,fa=e)}}else{if(nb(e))throw Error(tt(418));e.flags=e.flags&-4097|2,Gr=!1,fa=e}}}function IC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fa=e}function Hg(e){if(e!==fa)return!1;if(!Gr)return IC(e),Gr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Q_(e.type,e.memoizedProps)),t&&(t=ha)){if(nb(e))throw YM(),Error(tt(418));for(;t;)ZM(e,t),t=Cl(t.nextSibling)}if(IC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ha=Cl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ha=null}}else ha=fa?Cl(e.stateNode.nextSibling):null;return!0}function YM(){for(var e=ha;e;)e=Cl(e.nextSibling)}function Jd(){ha=fa=null,Gr=!1}function c2(e){no===null?no=[e]:no.push(e)}var YN=Es.ReactCurrentBatchConfig;function jf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,e));var s=n,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(d){var c=s.refs;d===null?delete c[h]:c[h]=d},t._stringRef=h,t)}if(typeof e!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,e))}return e}function Wg(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function MC(e){var t=e._init;return t(e._payload)}function XM(e){function t(V,F){if(e){var N=V.deletions;N===null?(V.deletions=[F],V.flags|=16):N.push(F)}}function r(V,F){if(!e)return null;for(;F!==null;)t(V,F),F=F.sibling;return null}function n(V,F){for(V=new Map;F!==null;)F.key!==null?V.set(F.key,F):V.set(F.index,F),F=F.sibling;return V}function s(V,F){return V=Il(V,F),V.index=0,V.sibling=null,V}function h(V,F,N){return V.index=N,e?(N=V.alternate,N!==null?(N=N.index,N<F?(V.flags|=2,F):N):(V.flags|=2,F)):(V.flags|=1048576,F)}function d(V){return e&&V.alternate===null&&(V.flags|=2),V}function c(V,F,N,ee){return F===null||F.tag!==6?(F=T1(N,V.mode,ee),F.return=V,F):(F=s(F,N),F.return=V,F)}function v(V,F,N,ee){var ie=N.type;return ie===gd?S(V,F,N.props.children,ee,N.key):F!==null&&(F.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===dl&&MC(ie)===F.type)?(ee=s(F,N.props),ee.ref=jf(V,F,N),ee.return=V,ee):(ee=Dy(N.type,N.key,N.props,null,V.mode,ee),ee.ref=jf(V,F,N),ee.return=V,ee)}function w(V,F,N,ee){return F===null||F.tag!==4||F.stateNode.containerInfo!==N.containerInfo||F.stateNode.implementation!==N.implementation?(F=C1(N,V.mode,ee),F.return=V,F):(F=s(F,N.children||[]),F.return=V,F)}function S(V,F,N,ee,ie){return F===null||F.tag!==7?(F=jc(N,V.mode,ee,ie),F.return=V,F):(F=s(F,N),F.return=V,F)}function T(V,F,N){if(typeof F=="string"&&F!==""||typeof F=="number")return F=T1(""+F,V.mode,N),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Lg:return N=Dy(F.type,F.key,F.props,null,V.mode,N),N.ref=jf(V,null,F),N.return=V,N;case md:return F=C1(F,V.mode,N),F.return=V,F;case dl:var ee=F._init;return T(V,ee(F._payload),N)}if(np(F)||zf(F))return F=jc(F,V.mode,N,null),F.return=V,F;Wg(V,F)}return null}function C(V,F,N,ee){var ie=F!==null?F.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ie!==null?null:c(V,F,""+N,ee);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Lg:return N.key===ie?v(V,F,N,ee):null;case md:return N.key===ie?w(V,F,N,ee):null;case dl:return ie=N._init,C(V,F,ie(N._payload),ee)}if(np(N)||zf(N))return ie!==null?null:S(V,F,N,ee,null);Wg(V,N)}return null}function D(V,F,N,ee,ie){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return V=V.get(N)||null,c(F,V,""+ee,ie);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Lg:return V=V.get(ee.key===null?N:ee.key)||null,v(F,V,ee,ie);case md:return V=V.get(ee.key===null?N:ee.key)||null,w(F,V,ee,ie);case dl:var fe=ee._init;return D(V,F,N,fe(ee._payload),ie)}if(np(ee)||zf(ee))return V=V.get(N)||null,S(F,V,ee,ie,null);Wg(F,ee)}return null}function B(V,F,N,ee){for(var ie=null,fe=null,be=F,q=F=0,pe=null;be!==null&&q<N.length;q++){be.index>q?(pe=be,be=null):pe=be.sibling;var xe=C(V,be,N[q],ee);if(xe===null){be===null&&(be=pe);break}e&&be&&xe.alternate===null&&t(V,be),F=h(xe,F,q),fe===null?ie=xe:fe.sibling=xe,fe=xe,be=pe}if(q===N.length)return r(V,be),Gr&&wc(V,q),ie;if(be===null){for(;q<N.length;q++)be=T(V,N[q],ee),be!==null&&(F=h(be,F,q),fe===null?ie=be:fe.sibling=be,fe=be);return Gr&&wc(V,q),ie}for(be=n(V,be);q<N.length;q++)pe=D(be,V,q,N[q],ee),pe!==null&&(e&&pe.alternate!==null&&be.delete(pe.key===null?q:pe.key),F=h(pe,F,q),fe===null?ie=pe:fe.sibling=pe,fe=pe);return e&&be.forEach(function(le){return t(V,le)}),Gr&&wc(V,q),ie}function j(V,F,N,ee){var ie=zf(N);if(typeof ie!="function")throw Error(tt(150));if(N=ie.call(N),N==null)throw Error(tt(151));for(var fe=ie=null,be=F,q=F=0,pe=null,xe=N.next();be!==null&&!xe.done;q++,xe=N.next()){be.index>q?(pe=be,be=null):pe=be.sibling;var le=C(V,be,xe.value,ee);if(le===null){be===null&&(be=pe);break}e&&be&&le.alternate===null&&t(V,be),F=h(le,F,q),fe===null?ie=le:fe.sibling=le,fe=le,be=pe}if(xe.done)return r(V,be),Gr&&wc(V,q),ie;if(be===null){for(;!xe.done;q++,xe=N.next())xe=T(V,xe.value,ee),xe!==null&&(F=h(xe,F,q),fe===null?ie=xe:fe.sibling=xe,fe=xe);return Gr&&wc(V,q),ie}for(be=n(V,be);!xe.done;q++,xe=N.next())xe=D(be,V,q,xe.value,ee),xe!==null&&(e&&xe.alternate!==null&&be.delete(xe.key===null?q:xe.key),F=h(xe,F,q),fe===null?ie=xe:fe.sibling=xe,fe=xe);return e&&be.forEach(function(Se){return t(V,Se)}),Gr&&wc(V,q),ie}function Y(V,F,N,ee){if(typeof N=="object"&&N!==null&&N.type===gd&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Lg:e:{for(var ie=N.key,fe=F;fe!==null;){if(fe.key===ie){if(ie=N.type,ie===gd){if(fe.tag===7){r(V,fe.sibling),F=s(fe,N.props.children),F.return=V,V=F;break e}}else if(fe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===dl&&MC(ie)===fe.type){r(V,fe.sibling),F=s(fe,N.props),F.ref=jf(V,fe,N),F.return=V,V=F;break e}r(V,fe);break}else t(V,fe);fe=fe.sibling}N.type===gd?(F=jc(N.props.children,V.mode,ee,N.key),F.return=V,V=F):(ee=Dy(N.type,N.key,N.props,null,V.mode,ee),ee.ref=jf(V,F,N),ee.return=V,V=ee)}return d(V);case md:e:{for(fe=N.key;F!==null;){if(F.key===fe)if(F.tag===4&&F.stateNode.containerInfo===N.containerInfo&&F.stateNode.implementation===N.implementation){r(V,F.sibling),F=s(F,N.children||[]),F.return=V,V=F;break e}else{r(V,F);break}else t(V,F);F=F.sibling}F=C1(N,V.mode,ee),F.return=V,V=F}return d(V);case dl:return fe=N._init,Y(V,F,fe(N._payload),ee)}if(np(N))return B(V,F,N,ee);if(zf(N))return j(V,F,N,ee);Wg(V,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,F!==null&&F.tag===6?(r(V,F.sibling),F=s(F,N),F.return=V,V=F):(r(V,F),F=T1(N,V.mode,ee),F.return=V,V=F),d(V)):r(V,F)}return Y}var Qd=XM(!0),JM=XM(!1),av=Vl(null),ov=null,Pd=null,u2=null;function d2(){u2=Pd=ov=null}function h2(e){var t=av.current;jr(av),e._currentValue=t}function ab(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bd(e,t){ov=e,u2=Pd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wi=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(u2!==e)if(e={context:e,memoizedValue:t,next:null},Pd===null){if(ov===null)throw Error(tt(308));Pd=e,ov.dependencies={lanes:0,firstContext:e}}else Pd=Pd.next=e;return t}var Mc=null;function f2(e){Mc===null?Mc=[e]:Mc.push(e)}function QM(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,f2(t)):(r.next=s.next,s.next=r),t.interleaved=r,bs(e,n)}function bs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var hl=!1;function p2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function El(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,cr&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bs(e,r)}return s=n.interleaved,s===null?(t.next=t,f2(n)):(t.next=s.next,s.next=t),n.interleaved=t,bs(e,r)}function Cy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qw(e,r)}}function DC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var d={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?s=h=d:h=h.next=d,r=r.next}while(r!==null);h===null?s=h=t:h=h.next=t}else s=h=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:h,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sv(e,t,r,n){var s=e.updateQueue;hl=!1;var h=s.firstBaseUpdate,d=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var v=c,w=v.next;v.next=null,d===null?h=w:d.next=w,d=v;var S=e.alternate;S!==null&&(S=S.updateQueue,c=S.lastBaseUpdate,c!==d&&(c===null?S.firstBaseUpdate=w:c.next=w,S.lastBaseUpdate=v))}if(h!==null){var T=s.baseState;d=0,S=w=v=null,c=h;do{var C=c.lane,D=c.eventTime;if((n&C)===C){S!==null&&(S=S.next={eventTime:D,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var B=e,j=c;switch(C=t,D=r,j.tag){case 1:if(B=j.payload,typeof B=="function"){T=B.call(D,T,C);break e}T=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=j.payload,C=typeof B=="function"?B.call(D,T,C):B,C==null)break e;T=Qr({},T,C);break e;case 2:hl=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,C=s.effects,C===null?s.effects=[c]:C.push(c))}else D={eventTime:D,lane:C,tag:c.tag,payload:c.payload,callback:c.callback,next:null},S===null?(w=S=D,v=T):S=S.next=D,d|=C;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;C=c,c=C.next,C.next=null,s.lastBaseUpdate=C,s.shared.pending=null}}while(!0);if(S===null&&(v=T),s.baseState=v,s.firstBaseUpdate=w,s.lastBaseUpdate=S,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else h===null&&(s.shared.lanes=0);Zc|=d,e.lanes=d,e.memoizedState=T}}function $C(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(tt(191,s));s.call(n)}}}var fm={},$o=Vl(fm),Vp=Vl(fm),Up=Vl(fm);function Dc(e){if(e===fm)throw Error(tt(174));return e}function m2(e,t){switch(Rr(Up,t),Rr(Vp,e),Rr($o,fm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:N_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=N_(t,e)}jr($o),Rr($o,t)}function eh(){jr($o),jr(Vp),jr(Up)}function t5(e){Dc(Up.current);var t=Dc($o.current),r=N_(t,e.type);t!==r&&(Rr(Vp,e),Rr($o,r))}function g2(e){Vp.current===e&&(jr($o),jr(Vp))}var Yr=Vl(0);function lv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var x1=[];function y2(){for(var e=0;e<x1.length;e++)x1[e]._workInProgressVersionPrimary=null;x1.length=0}var Ey=Es.ReactCurrentDispatcher,_1=Es.ReactCurrentBatchConfig,qc=0,Jr=null,Cn=null,jn=null,cv=!1,vp=!1,Kp=0,XN=0;function pi(){throw Error(tt(321))}function v2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!co(e[r],t[r]))return!1;return!0}function x2(e,t,r,n,s,h){if(qc=h,Jr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ey.current=e===null||e.memoizedState===null?tO:rO,e=r(n,s),vp){h=0;do{if(vp=!1,Kp=0,25<=h)throw Error(tt(301));h+=1,jn=Cn=null,t.updateQueue=null,Ey.current=nO,e=r(n,s)}while(vp)}if(Ey.current=uv,t=Cn!==null&&Cn.next!==null,qc=0,jn=Cn=Jr=null,cv=!1,t)throw Error(tt(300));return e}function _2(){var e=Kp!==0;return Kp=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Jr.memoizedState=jn=e:jn=jn.next=e,jn}function Oa(){if(Cn===null){var e=Jr.alternate;e=e!==null?e.memoizedState:null}else e=Cn.next;var t=jn===null?Jr.memoizedState:jn.next;if(t!==null)jn=t,Cn=e;else{if(e===null)throw Error(tt(310));Cn=e,e={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},jn===null?Jr.memoizedState=jn=e:jn=jn.next=e}return jn}function Hp(e,t){return typeof t=="function"?t(e):t}function b1(e){var t=Oa(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=Cn,s=n.baseQueue,h=r.pending;if(h!==null){if(s!==null){var d=s.next;s.next=h.next,h.next=d}n.baseQueue=s=h,r.pending=null}if(s!==null){h=s.next,n=n.baseState;var c=d=null,v=null,w=h;do{var S=w.lane;if((qc&S)===S)v!==null&&(v=v.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),n=w.hasEagerState?w.eagerState:e(n,w.action);else{var T={lane:S,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};v===null?(c=v=T,d=n):v=v.next=T,Jr.lanes|=S,Zc|=S}w=w.next}while(w!==null&&w!==h);v===null?d=n:v.next=c,co(n,t.memoizedState)||(Wi=!0),t.memoizedState=n,t.baseState=d,t.baseQueue=v,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do h=s.lane,Jr.lanes|=h,Zc|=h,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function w1(e){var t=Oa(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,h=t.memoizedState;if(s!==null){r.pending=null;var d=s=s.next;do h=e(h,d.action),d=d.next;while(d!==s);co(h,t.memoizedState)||(Wi=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,n]}function r5(){}function n5(e,t){var r=Jr,n=Oa(),s=t(),h=!co(n.memoizedState,s);if(h&&(n.memoizedState=s,Wi=!0),n=n.queue,b2(o5.bind(null,r,n,e),[e]),n.getSnapshot!==t||h||jn!==null&&jn.memoizedState.tag&1){if(r.flags|=2048,Wp(9,a5.bind(null,r,n,s,t),void 0,null),Vn===null)throw Error(tt(349));qc&30||i5(r,t,s)}return s}function i5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jr.updateQueue,t===null?(t={lastEffect:null,stores:null},Jr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function a5(e,t,r,n){t.value=r,t.getSnapshot=n,s5(t)&&l5(e)}function o5(e,t,r){return r(function(){s5(t)&&l5(e)})}function s5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!co(e,r)}catch{return!0}}function l5(e){var t=bs(e,1);t!==null&&so(t,e,1,-1)}function RC(e){var t=Eo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hp,lastRenderedState:e},t.queue=e,e=e.dispatch=eO.bind(null,Jr,e),[t.memoizedState,e]}function Wp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jr.updateQueue,t===null?(t={lastEffect:null,stores:null},Jr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function c5(){return Oa().memoizedState}function ky(e,t,r,n){var s=Eo();Jr.flags|=e,s.memoizedState=Wp(1|t,r,void 0,n===void 0?null:n)}function o0(e,t,r,n){var s=Oa();n=n===void 0?null:n;var h=void 0;if(Cn!==null){var d=Cn.memoizedState;if(h=d.destroy,n!==null&&v2(n,d.deps)){s.memoizedState=Wp(t,r,h,n);return}}Jr.flags|=e,s.memoizedState=Wp(1|t,r,h,n)}function LC(e,t){return ky(8390656,8,e,t)}function b2(e,t){return o0(2048,8,e,t)}function u5(e,t){return o0(4,2,e,t)}function d5(e,t){return o0(4,4,e,t)}function h5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function f5(e,t,r){return r=r!=null?r.concat([e]):null,o0(4,4,h5.bind(null,t,e),r)}function w2(){}function p5(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function m5(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function g5(e,t,r){return qc&21?(co(r,t)||(r=bM(),Jr.lanes|=r,Zc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wi=!0),e.memoizedState=r)}function JN(e,t){var r=_r;_r=r!==0&&4>r?r:4,e(!0);var n=_1.transition;_1.transition={};try{e(!1),t()}finally{_r=r,_1.transition=n}}function y5(){return Oa().memoizedState}function QN(e,t,r){var n=Al(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v5(e))x5(t,r);else if(r=QM(e,t,r,n),r!==null){var s=Li();so(r,e,n,s),_5(r,t,n)}}function eO(e,t,r){var n=Al(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v5(e))x5(t,s);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var d=t.lastRenderedState,c=h(d,r);if(s.hasEagerState=!0,s.eagerState=c,co(c,d)){var v=t.interleaved;v===null?(s.next=s,f2(t)):(s.next=v.next,v.next=s),t.interleaved=s;return}}catch{}finally{}r=QM(e,t,s,n),r!==null&&(s=Li(),so(r,e,n,s),_5(r,t,n))}}function v5(e){var t=e.alternate;return e===Jr||t!==null&&t===Jr}function x5(e,t){vp=cv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Qw(e,r)}}var uv={readContext:Na,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},tO={readContext:Na,useCallback:function(e,t){return Eo().memoizedState=[e,t===void 0?null:t],e},useContext:Na,useEffect:LC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ky(4194308,4,h5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ky(4194308,4,e,t)},useInsertionEffect:function(e,t){return ky(4,2,e,t)},useMemo:function(e,t){var r=Eo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Eo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QN.bind(null,Jr,e),[n.memoizedState,e]},useRef:function(e){var t=Eo();return e={current:e},t.memoizedState=e},useState:RC,useDebugValue:w2,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=RC(!1),t=e[0];return e=JN.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jr,s=Eo();if(Gr){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=t(),Vn===null)throw Error(tt(349));qc&30||i5(n,t,r)}s.memoizedState=r;var h={value:r,getSnapshot:t};return s.queue=h,LC(o5.bind(null,n,h,e),[e]),n.flags|=2048,Wp(9,a5.bind(null,n,h,r,t),void 0,null),r},useId:function(){var e=Eo(),t=Vn.identifierPrefix;if(Gr){var r=ls,n=ss;r=(n&~(1<<32-oo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=XN++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rO={readContext:Na,useCallback:p5,useContext:Na,useEffect:b2,useImperativeHandle:f5,useInsertionEffect:u5,useLayoutEffect:d5,useMemo:m5,useReducer:b1,useRef:c5,useState:function(){return b1(Hp)},useDebugValue:w2,useDeferredValue:function(e){var t=Oa();return g5(t,Cn.memoizedState,e)},useTransition:function(){var e=b1(Hp)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:r5,useSyncExternalStore:n5,useId:y5,unstable_isNewReconciler:!1},nO={readContext:Na,useCallback:p5,useContext:Na,useEffect:b2,useImperativeHandle:f5,useInsertionEffect:u5,useLayoutEffect:d5,useMemo:m5,useReducer:w1,useRef:c5,useState:function(){return w1(Hp)},useDebugValue:w2,useDeferredValue:function(e){var t=Oa();return Cn===null?t.memoizedState=e:g5(t,Cn.memoizedState,e)},useTransition:function(){var e=w1(Hp)[0],t=Oa().memoizedState;return[e,t]},useMutableSource:r5,useSyncExternalStore:n5,useId:y5,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){t=Qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ob(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var s0={isMounted:function(e){return(e=e._reactInternals)?nu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Li(),s=Al(e),h=ps(n,s);h.payload=t,r!=null&&(h.callback=r),t=El(e,h,s),t!==null&&(so(t,e,s,n),Cy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Li(),s=Al(e),h=ps(n,s);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=El(e,h,s),t!==null&&(so(t,e,s,n),Cy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Li(),n=Al(e),s=ps(r,n);s.tag=2,t!=null&&(s.callback=t),t=El(e,s,n),t!==null&&(so(t,e,n,r),Cy(t,e,n))}};function zC(e,t,r,n,s,h,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,h,d):t.prototype&&t.prototype.isPureReactComponent?!Bp(r,n)||!Bp(s,h):!0}function b5(e,t,r){var n=!1,s=zl,h=t.contextType;return typeof h=="object"&&h!==null?h=Na(h):(s=qi(t)?Wc:wi.current,n=t.contextTypes,h=(n=n!=null)?Xd(e,s):zl),t=new t(r,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=s0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=h),t}function FC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&s0.enqueueReplaceState(t,t.state,null)}function sb(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},p2(e);var h=t.contextType;typeof h=="object"&&h!==null?s.context=Na(h):(h=qi(t)?Wc:wi.current,s.context=Xd(e,h)),s.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(ob(e,t,h,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&s0.enqueueReplaceState(s,s.state,null),sv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function th(e,t){try{var r="",n=t;do r+=MB(n),n=n.return;while(n);var s=r}catch(h){s=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:s,digest:null}}function S1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iO=typeof WeakMap=="function"?WeakMap:Map;function w5(e,t,r){r=ps(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hv||(hv=!0,vb=n),lb(e,t)},r}function S5(e,t,r){r=ps(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lb(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){lb(e,t),typeof n!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),r}function BC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new iO;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=vO.bind(null,e,t,r),t.then(e,e))}function NC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ps(-1,1),t.tag=2,El(r,t,1))),r.lanes|=1),e)}var aO=Es.ReactCurrentOwner,Wi=!1;function $i(e,t,r,n){t.child=e===null?JM(t,null,r,n):Qd(t,e.child,r,n)}function jC(e,t,r,n,s){r=r.render;var h=t.ref;return Bd(t,s),n=x2(e,t,r,n,h,s),r=_2(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(Gr&&r&&s2(t),t.flags|=1,$i(e,t,n,s),t.child)}function VC(e,t,r,n,s){if(e===null){var h=r.type;return typeof h=="function"&&!I2(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,P5(e,t,h,n,s)):(e=Dy(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!(e.lanes&s)){var d=h.memoizedProps;if(r=r.compare,r=r!==null?r:Bp,r(d,n)&&e.ref===t.ref)return ws(e,t,s)}return t.flags|=1,e=Il(h,n),e.ref=t.ref,e.return=t,t.child=e}function P5(e,t,r,n,s){if(e!==null){var h=e.memoizedProps;if(Bp(h,n)&&e.ref===t.ref)if(Wi=!1,t.pendingProps=n=h,(e.lanes&s)!==0)e.flags&131072&&(Wi=!0);else return t.lanes=e.lanes,ws(e,t,s)}return cb(e,t,r,n,s)}function T5(e,t,r){var n=t.pendingProps,s=n.children,h=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(Cd,ua),ua|=r;else{if(!(r&1073741824))return e=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(Cd,ua),ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=h!==null?h.baseLanes:r,Rr(Cd,ua),ua|=n}else h!==null?(n=h.baseLanes|r,t.memoizedState=null):n=r,Rr(Cd,ua),ua|=n;return $i(e,t,s,r),t.child}function C5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cb(e,t,r,n,s){var h=qi(r)?Wc:wi.current;return h=Xd(t,h),Bd(t,s),r=x2(e,t,r,n,h,s),n=_2(),e!==null&&!Wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ws(e,t,s)):(Gr&&n&&s2(t),t.flags|=1,$i(e,t,r,s),t.child)}function UC(e,t,r,n,s){if(qi(r)){var h=!0;rv(t)}else h=!1;if(Bd(t,s),t.stateNode===null)Ay(e,t),b5(t,r,n),sb(t,r,n,s),n=!0;else if(e===null){var d=t.stateNode,c=t.memoizedProps;d.props=c;var v=d.context,w=r.contextType;typeof w=="object"&&w!==null?w=Na(w):(w=qi(r)?Wc:wi.current,w=Xd(t,w));var S=r.getDerivedStateFromProps,T=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function";T||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==n||v!==w)&&FC(t,d,n,w),hl=!1;var C=t.memoizedState;d.state=C,sv(t,n,d,s),v=t.memoizedState,c!==n||C!==v||Gi.current||hl?(typeof S=="function"&&(ob(t,r,S,n),v=t.memoizedState),(c=hl||zC(t,r,c,n,C,v,w))?(T||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=v),d.props=n,d.state=v,d.context=w,n=c):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,e5(e,t),c=t.memoizedProps,w=t.type===t.elementType?c:eo(t.type,c),d.props=w,T=t.pendingProps,C=d.context,v=r.contextType,typeof v=="object"&&v!==null?v=Na(v):(v=qi(r)?Wc:wi.current,v=Xd(t,v));var D=r.getDerivedStateFromProps;(S=typeof D=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==T||C!==v)&&FC(t,d,n,v),hl=!1,C=t.memoizedState,d.state=C,sv(t,n,d,s);var B=t.memoizedState;c!==T||C!==B||Gi.current||hl?(typeof D=="function"&&(ob(t,r,D,n),B=t.memoizedState),(w=hl||zC(t,r,w,n,C,B,v)||!1)?(S||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,B,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,B,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),d.props=n,d.state=B,d.context=v,n=w):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return ub(e,t,r,n,h,s)}function ub(e,t,r,n,s,h){C5(e,t);var d=(t.flags&128)!==0;if(!n&&!d)return s&&kC(t,r,!1),ws(e,t,h);n=t.stateNode,aO.current=t;var c=d&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&d?(t.child=Qd(t,e.child,null,h),t.child=Qd(t,null,c,h)):$i(e,t,c,h),t.memoizedState=n.state,s&&kC(t,r,!0),t.child}function E5(e){var t=e.stateNode;t.pendingContext?EC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&EC(e,t.context,!1),m2(e,t.containerInfo)}function KC(e,t,r,n,s){return Jd(),c2(s),t.flags|=256,$i(e,t,r,n),t.child}var db={dehydrated:null,treeContext:null,retryLane:0};function hb(e){return{baseLanes:e,cachePool:null,transitions:null}}function k5(e,t,r){var n=t.pendingProps,s=Yr.current,h=!1,d=(t.flags&128)!==0,c;if((c=d)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Rr(Yr,s&1),e===null)return ib(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=n.children,e=n.fallback,h?(n=t.mode,h=t.child,d={mode:"hidden",children:d},!(n&1)&&h!==null?(h.childLanes=0,h.pendingProps=d):h=u0(d,n,0,null),e=jc(e,n,r,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=hb(r),t.memoizedState=db,e):S2(t,d));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return oO(e,t,d,n,c,s,r);if(h){h=n.fallback,d=t.mode,s=e.child,c=s.sibling;var v={mode:"hidden",children:n.children};return!(d&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=v,t.deletions=null):(n=Il(s,v),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?h=Il(c,h):(h=jc(h,d,r,null),h.flags|=2),h.return=t,n.return=t,n.sibling=h,t.child=n,n=h,h=t.child,d=e.child.memoizedState,d=d===null?hb(r):{baseLanes:d.baseLanes|r,cachePool:null,transitions:d.transitions},h.memoizedState=d,h.childLanes=e.childLanes&~r,t.memoizedState=db,n}return h=e.child,e=h.sibling,n=Il(h,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function S2(e,t){return t=u0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gg(e,t,r,n){return n!==null&&c2(n),Qd(t,e.child,null,r),e=S2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oO(e,t,r,n,s,h,d){if(r)return t.flags&256?(t.flags&=-257,n=S1(Error(tt(422))),Gg(e,t,d,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=n.fallback,s=t.mode,n=u0({mode:"visible",children:n.children},s,0,null),h=jc(h,s,d,null),h.flags|=2,n.return=t,h.return=t,n.sibling=h,t.child=n,t.mode&1&&Qd(t,e.child,null,d),t.child.memoizedState=hb(d),t.memoizedState=db,h);if(!(t.mode&1))return Gg(e,t,d,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,h=Error(tt(419)),n=S1(h,n,void 0),Gg(e,t,d,n)}if(c=(d&e.childLanes)!==0,Wi||c){if(n=Vn,n!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|d)?0:s,s!==0&&s!==h.retryLane&&(h.retryLane=s,bs(e,s),so(n,e,s,-1))}return A2(),n=S1(Error(tt(421))),Gg(e,t,d,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xO.bind(null,e),s._reactRetry=t,null):(e=h.treeContext,ha=Cl(s.nextSibling),fa=t,Gr=!0,no=null,e!==null&&(Da[$a++]=ss,Da[$a++]=ls,Da[$a++]=Gc,ss=e.id,ls=e.overflow,Gc=t),t=S2(t,n.children),t.flags|=4096,t)}function HC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ab(e.return,t,r)}function P1(e,t,r,n,s){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=n,h.tail=r,h.tailMode=s)}function A5(e,t,r){var n=t.pendingProps,s=n.revealOrder,h=n.tail;if($i(e,t,n.children,r),n=Yr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HC(e,r,t);else if(e.tag===19)HC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rr(Yr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&lv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),P1(t,!1,s,r,h);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&lv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}P1(t,!0,r,null,h);break;case"together":P1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ay(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,r=Il(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Il(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sO(e,t,r){switch(t.tag){case 3:E5(t),Jd();break;case 5:t5(t);break;case 1:qi(t.type)&&rv(t);break;case 4:m2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Rr(av,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rr(Yr,Yr.current&1),t.flags|=128,null):r&t.child.childLanes?k5(e,t,r):(Rr(Yr,Yr.current&1),e=ws(e,t,r),e!==null?e.sibling:null);Rr(Yr,Yr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return A5(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Rr(Yr,Yr.current),n)break;return null;case 22:case 23:return t.lanes=0,T5(e,t,r)}return ws(e,t,r)}var I5,fb,M5,D5;I5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fb=function(){};M5=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Dc($o.current);var h=null;switch(r){case"input":s=L_(e,s),n=L_(e,n),h=[];break;case"select":s=Qr({},s,{value:void 0}),n=Qr({},n,{value:void 0}),h=[];break;case"textarea":s=B_(e,s),n=B_(e,n),h=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ev)}O_(r,n);var d;r=null;for(w in s)if(!n.hasOwnProperty(w)&&s.hasOwnProperty(w)&&s[w]!=null)if(w==="style"){var c=s[w];for(d in c)c.hasOwnProperty(d)&&(r||(r={}),r[d]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Mp.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in n){var v=n[w];if(c=s!=null?s[w]:void 0,n.hasOwnProperty(w)&&v!==c&&(v!=null||c!=null))if(w==="style")if(c){for(d in c)!c.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(r||(r={}),r[d]="");for(d in v)v.hasOwnProperty(d)&&c[d]!==v[d]&&(r||(r={}),r[d]=v[d])}else r||(h||(h=[]),h.push(w,r)),r=v;else w==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,c=c?c.__html:void 0,v!=null&&c!==v&&(h=h||[]).push(w,v)):w==="children"?typeof v!="string"&&typeof v!="number"||(h=h||[]).push(w,""+v):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(w)?(v!=null&&w==="onScroll"&&Nr("scroll",e),h||c===v||(h=[])):(h=h||[]).push(w,v))}r&&(h=h||[]).push("style",r);var w=h;(t.updateQueue=w)&&(t.flags|=4)}};D5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vf(e,t){if(!Gr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function lO(e,t,r){var n=t.pendingProps;switch(l2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(t),null;case 1:return qi(t.type)&&tv(),mi(t),null;case 3:return n=t.stateNode,eh(),jr(Gi),jr(wi),y2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,no!==null&&(bb(no),no=null))),fb(e,t),mi(t),null;case 5:g2(t);var s=Dc(Up.current);if(r=t.type,e!==null&&t.stateNode!=null)M5(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(tt(166));return mi(t),null}if(e=Dc($o.current),Hg(t)){n=t.stateNode,r=t.type;var h=t.memoizedProps;switch(n[ko]=t,n[jp]=h,e=(t.mode&1)!==0,r){case"dialog":Nr("cancel",n),Nr("close",n);break;case"iframe":case"object":case"embed":Nr("load",n);break;case"video":case"audio":for(s=0;s<ap.length;s++)Nr(ap[s],n);break;case"source":Nr("error",n);break;case"img":case"image":case"link":Nr("error",n),Nr("load",n);break;case"details":Nr("toggle",n);break;case"input":eC(n,h),Nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!h.multiple},Nr("invalid",n);break;case"textarea":rC(n,h),Nr("invalid",n)}O_(r,h),s=null;for(var d in h)if(h.hasOwnProperty(d)){var c=h[d];d==="children"?typeof c=="string"?n.textContent!==c&&(h.suppressHydrationWarning!==!0&&Kg(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(h.suppressHydrationWarning!==!0&&Kg(n.textContent,c,e),s=["children",""+c]):Mp.hasOwnProperty(d)&&c!=null&&d==="onScroll"&&Nr("scroll",n)}switch(r){case"input":zg(n),tC(n,h,!0);break;case"textarea":zg(n),nC(n);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(n.onclick=ev)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=d.createElement(r,{is:n.is}):(e=d.createElement(r),r==="select"&&(d=e,n.multiple?d.multiple=!0:n.size&&(d.size=n.size))):e=d.createElementNS(e,r),e[ko]=t,e[jp]=n,I5(e,t,!1,!1),t.stateNode=e;e:{switch(d=j_(r,n),r){case"dialog":Nr("cancel",e),Nr("close",e),s=n;break;case"iframe":case"object":case"embed":Nr("load",e),s=n;break;case"video":case"audio":for(s=0;s<ap.length;s++)Nr(ap[s],e);s=n;break;case"source":Nr("error",e),s=n;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=n;break;case"details":Nr("toggle",e),s=n;break;case"input":eC(e,n),s=L_(e,n),Nr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Qr({},n,{value:void 0}),Nr("invalid",e);break;case"textarea":rC(e,n),s=B_(e,n),Nr("invalid",e);break;default:s=n}O_(r,s),c=s;for(h in c)if(c.hasOwnProperty(h)){var v=c[h];h==="style"?cM(e,v):h==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&sM(e,v)):h==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&Dp(e,v):typeof v=="number"&&Dp(e,""+v):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Mp.hasOwnProperty(h)?v!=null&&h==="onScroll"&&Nr("scroll",e):v!=null&&Gw(e,h,v,d))}switch(r){case"input":zg(e),tC(e,n,!1);break;case"textarea":zg(e),nC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ll(n.value));break;case"select":e.multiple=!!n.multiple,h=n.value,h!=null?Rd(e,!!n.multiple,h,!1):n.defaultValue!=null&&Rd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ev)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mi(t),null;case 6:if(e&&t.stateNode!=null)D5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(tt(166));if(r=Dc(Up.current),Dc($o.current),Hg(t)){if(n=t.stateNode,r=t.memoizedProps,n[ko]=t,(h=n.nodeValue!==r)&&(e=fa,e!==null))switch(e.tag){case 3:Kg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kg(n.nodeValue,r,(e.mode&1)!==0)}h&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ko]=t,t.stateNode=n}return mi(t),null;case 13:if(jr(Yr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gr&&ha!==null&&t.mode&1&&!(t.flags&128))YM(),Jd(),t.flags|=98560,h=!1;else if(h=Hg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!h)throw Error(tt(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(tt(317));h[ko]=t}else Jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mi(t),h=!1}else no!==null&&(bb(no),no=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Yr.current&1?kn===0&&(kn=3):A2())),t.updateQueue!==null&&(t.flags|=4),mi(t),null);case 4:return eh(),fb(e,t),e===null&&Np(t.stateNode.containerInfo),mi(t),null;case 10:return h2(t.type._context),mi(t),null;case 17:return qi(t.type)&&tv(),mi(t),null;case 19:if(jr(Yr),h=t.memoizedState,h===null)return mi(t),null;if(n=(t.flags&128)!==0,d=h.rendering,d===null)if(n)Vf(h,!1);else{if(kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=lv(e),d!==null){for(t.flags|=128,Vf(h,!1),n=d.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)h=r,e=n,h.flags&=14680066,d=h.alternate,d===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=d.childLanes,h.lanes=d.lanes,h.child=d.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=d.memoizedProps,h.memoizedState=d.memoizedState,h.updateQueue=d.updateQueue,h.type=d.type,e=d.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rr(Yr,Yr.current&1|2),t.child}e=e.sibling}h.tail!==null&&fn()>rh&&(t.flags|=128,n=!0,Vf(h,!1),t.lanes=4194304)}else{if(!n)if(e=lv(d),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Gr)return mi(t),null}else 2*fn()-h.renderingStartTime>rh&&r!==1073741824&&(t.flags|=128,n=!0,Vf(h,!1),t.lanes=4194304);h.isBackwards?(d.sibling=t.child,t.child=d):(r=h.last,r!==null?r.sibling=d:t.child=d,h.last=d)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=fn(),t.sibling=null,r=Yr.current,Rr(Yr,n?r&1|2:r&1),t):(mi(t),null);case 22:case 23:return k2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ua&1073741824&&(mi(t),t.subtreeFlags&6&&(t.flags|=8192)):mi(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function cO(e,t){switch(l2(t),t.tag){case 1:return qi(t.type)&&tv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eh(),jr(Gi),jr(wi),y2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g2(t),null;case 13:if(jr(Yr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));Jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jr(Yr),null;case 4:return eh(),null;case 10:return h2(t.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var qg=!1,yi=!1,uO=typeof WeakSet=="function"?WeakSet:Set,wt=null;function Td(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){on(e,t,n)}else r.current=null}function pb(e,t,r){try{r()}catch(n){on(e,t,n)}}var WC=!1;function dO(e,t){if(X_=Xy,e=FM(),o2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,h=n.focusNode;n=n.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var d=0,c=-1,v=-1,w=0,S=0,T=e,C=null;t:for(;;){for(var D;T!==r||s!==0&&T.nodeType!==3||(c=d+s),T!==h||n!==0&&T.nodeType!==3||(v=d+n),T.nodeType===3&&(d+=T.nodeValue.length),(D=T.firstChild)!==null;)C=T,T=D;for(;;){if(T===e)break t;if(C===r&&++w===s&&(c=d),C===h&&++S===n&&(v=d),(D=T.nextSibling)!==null)break;T=C,C=T.parentNode}T=D}r=c===-1||v===-1?null:{start:c,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(J_={focusedElem:e,selectionRange:r},Xy=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){t=wt;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var j=B.memoizedProps,Y=B.memoizedState,V=t.stateNode,F=V.getSnapshotBeforeUpdate(t.elementType===t.type?j:eo(t.type,j),Y);V.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(ee){on(t,t.return,ee)}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}return B=WC,WC=!1,B}function xp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var h=s.destroy;s.destroy=void 0,h!==void 0&&pb(t,r,h)}s=s.next}while(s!==n)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $5(e){var t=e.alternate;t!==null&&(e.alternate=null,$5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ko],delete t[jp],delete t[tb],delete t[GN],delete t[qN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function R5(e){return e.tag===5||e.tag===3||e.tag===4}function GC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ev));else if(n!==4&&(e=e.child,e!==null))for(gb(e,t,r),e=e.sibling;e!==null;)gb(e,t,r),e=e.sibling}function yb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yb(e,t,r),e=e.sibling;e!==null;)yb(e,t,r),e=e.sibling}var Jn=null,to=!1;function rl(e,t,r){for(r=r.child;r!==null;)L5(e,t,r),r=r.sibling}function L5(e,t,r){if(Do&&typeof Do.onCommitFiberUnmount=="function")try{Do.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:yi||Td(r,t);case 6:var n=Jn,s=to;Jn=null,rl(e,t,r),Jn=n,to=s,Jn!==null&&(to?(e=Jn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jn.removeChild(r.stateNode));break;case 18:Jn!==null&&(to?(e=Jn,r=r.stateNode,e.nodeType===8?y1(e.parentNode,r):e.nodeType===1&&y1(e,r),zp(e)):y1(Jn,r.stateNode));break;case 4:n=Jn,s=to,Jn=r.stateNode.containerInfo,to=!0,rl(e,t,r),Jn=n,to=s;break;case 0:case 11:case 14:case 15:if(!yi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var h=s,d=h.destroy;h=h.tag,d!==void 0&&(h&2||h&4)&&pb(r,t,d),s=s.next}while(s!==n)}rl(e,t,r);break;case 1:if(!yi&&(Td(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){on(r,t,c)}rl(e,t,r);break;case 21:rl(e,t,r);break;case 22:r.mode&1?(yi=(n=yi)||r.memoizedState!==null,rl(e,t,r),yi=n):rl(e,t,r);break;default:rl(e,t,r)}}function qC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new uO),t.forEach(function(n){var s=_O.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ja(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var h=e,d=t,c=d;e:for(;c!==null;){switch(c.tag){case 5:Jn=c.stateNode,to=!1;break e;case 3:Jn=c.stateNode.containerInfo,to=!0;break e;case 4:Jn=c.stateNode.containerInfo,to=!0;break e}c=c.return}if(Jn===null)throw Error(tt(160));L5(h,d,s),Jn=null,to=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(w){on(s,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z5(t,e),t=t.sibling}function z5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ja(t,e),To(e),n&4){try{xp(3,e,e.return),l0(3,e)}catch(j){on(e,e.return,j)}try{xp(5,e,e.return)}catch(j){on(e,e.return,j)}}break;case 1:Ja(t,e),To(e),n&512&&r!==null&&Td(r,r.return);break;case 5:if(Ja(t,e),To(e),n&512&&r!==null&&Td(r,r.return),e.flags&32){var s=e.stateNode;try{Dp(s,"")}catch(j){on(e,e.return,j)}}if(n&4&&(s=e.stateNode,s!=null)){var h=e.memoizedProps,d=r!==null?r.memoizedProps:h,c=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{c==="input"&&h.type==="radio"&&h.name!=null&&iM(s,h),j_(c,d);var w=j_(c,h);for(d=0;d<v.length;d+=2){var S=v[d],T=v[d+1];S==="style"?cM(s,T):S==="dangerouslySetInnerHTML"?sM(s,T):S==="children"?Dp(s,T):Gw(s,S,T,w)}switch(c){case"input":z_(s,h);break;case"textarea":aM(s,h);break;case"select":var C=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!h.multiple;var D=h.value;D!=null?Rd(s,!!h.multiple,D,!1):C!==!!h.multiple&&(h.defaultValue!=null?Rd(s,!!h.multiple,h.defaultValue,!0):Rd(s,!!h.multiple,h.multiple?[]:"",!1))}s[jp]=h}catch(j){on(e,e.return,j)}}break;case 6:if(Ja(t,e),To(e),n&4){if(e.stateNode===null)throw Error(tt(162));s=e.stateNode,h=e.memoizedProps;try{s.nodeValue=h}catch(j){on(e,e.return,j)}}break;case 3:if(Ja(t,e),To(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zp(t.containerInfo)}catch(j){on(e,e.return,j)}break;case 4:Ja(t,e),To(e);break;case 13:Ja(t,e),To(e),s=e.child,s.flags&8192&&(h=s.memoizedState!==null,s.stateNode.isHidden=h,!h||s.alternate!==null&&s.alternate.memoizedState!==null||(C2=fn())),n&4&&qC(e);break;case 22:if(S=r!==null&&r.memoizedState!==null,e.mode&1?(yi=(w=yi)||S,Ja(t,e),yi=w):Ja(t,e),To(e),n&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!S&&e.mode&1)for(wt=e,S=e.child;S!==null;){for(T=wt=S;wt!==null;){switch(C=wt,D=C.child,C.tag){case 0:case 11:case 14:case 15:xp(4,C,C.return);break;case 1:Td(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){n=C,r=C.return;try{t=n,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(j){on(n,r,j)}}break;case 5:Td(C,C.return);break;case 22:if(C.memoizedState!==null){YC(T);continue}}D!==null?(D.return=C,wt=D):YC(T)}S=S.sibling}e:for(S=null,T=e;;){if(T.tag===5){if(S===null){S=T;try{s=T.stateNode,w?(h=s.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(c=T.stateNode,v=T.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,c.style.display=lM("display",d))}catch(j){on(e,e.return,j)}}}else if(T.tag===6){if(S===null)try{T.stateNode.nodeValue=w?"":T.memoizedProps}catch(j){on(e,e.return,j)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;S===T&&(S=null),T=T.return}S===T&&(S=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Ja(t,e),To(e),n&4&&qC(e);break;case 21:break;default:Ja(t,e),To(e)}}function To(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(R5(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Dp(s,""),n.flags&=-33);var h=GC(e);yb(e,h,s);break;case 3:case 4:var d=n.stateNode.containerInfo,c=GC(e);gb(e,c,d);break;default:throw Error(tt(161))}}catch(v){on(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hO(e,t,r){wt=e,F5(e)}function F5(e,t,r){for(var n=(e.mode&1)!==0;wt!==null;){var s=wt,h=s.child;if(s.tag===22&&n){var d=s.memoizedState!==null||qg;if(!d){var c=s.alternate,v=c!==null&&c.memoizedState!==null||yi;c=qg;var w=yi;if(qg=d,(yi=v)&&!w)for(wt=s;wt!==null;)d=wt,v=d.child,d.tag===22&&d.memoizedState!==null?XC(s):v!==null?(v.return=d,wt=v):XC(s);for(;h!==null;)wt=h,F5(h),h=h.sibling;wt=s,qg=c,yi=w}ZC(e)}else s.subtreeFlags&8772&&h!==null?(h.return=s,wt=h):ZC(e)}}function ZC(e){for(;wt!==null;){var t=wt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yi||l0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yi)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:eo(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&$C(t,h,n);break;case 3:var d=t.updateQueue;if(d!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$C(t,d,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var S=w.memoizedState;if(S!==null){var T=S.dehydrated;T!==null&&zp(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}yi||t.flags&512&&mb(t)}catch(C){on(t,t.return,C)}}if(t===e){wt=null;break}if(r=t.sibling,r!==null){r.return=t.return,wt=r;break}wt=t.return}}function YC(e){for(;wt!==null;){var t=wt;if(t===e){wt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,wt=r;break}wt=t.return}}function XC(e){for(;wt!==null;){var t=wt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{l0(4,t)}catch(v){on(t,r,v)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(v){on(t,s,v)}}var h=t.return;try{mb(t)}catch(v){on(t,h,v)}break;case 5:var d=t.return;try{mb(t)}catch(v){on(t,d,v)}}}catch(v){on(t,t.return,v)}if(t===e){wt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,wt=c;break}wt=t.return}}var fO=Math.ceil,dv=Es.ReactCurrentDispatcher,P2=Es.ReactCurrentOwner,Ba=Es.ReactCurrentBatchConfig,cr=0,Vn=null,bn=null,ti=0,ua=0,Cd=Vl(0),kn=0,Gp=null,Zc=0,c0=0,T2=0,_p=null,Hi=null,C2=0,rh=1/0,is=null,hv=!1,vb=null,kl=null,Zg=!1,xl=null,fv=0,bp=0,xb=null,Iy=-1,My=0;function Li(){return cr&6?fn():Iy!==-1?Iy:Iy=fn()}function Al(e){return e.mode&1?cr&2&&ti!==0?ti&-ti:YN.transition!==null?(My===0&&(My=bM()),My):(e=_r,e!==0||(e=window.event,e=e===void 0?16:kM(e.type)),e):1}function so(e,t,r,n){if(50<bp)throw bp=0,xb=null,Error(tt(185));um(e,r,n),(!(cr&2)||e!==Vn)&&(e===Vn&&(!(cr&2)&&(c0|=r),kn===4&&yl(e,ti)),Zi(e,n),r===1&&cr===0&&!(t.mode&1)&&(rh=fn()+500,a0&&Ul()))}function Zi(e,t){var r=e.callbackNode;YB(e,t);var n=Yy(e,e===Vn?ti:0);if(n===0)r!==null&&oC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oC(r),t===1)e.tag===0?ZN(JC.bind(null,e)):GM(JC.bind(null,e)),HN(function(){!(cr&6)&&Ul()}),r=null;else{switch(wM(n)){case 1:r=Jw;break;case 4:r=xM;break;case 16:r=Zy;break;case 536870912:r=_M;break;default:r=Zy}r=H5(r,B5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function B5(e,t){if(Iy=-1,My=0,cr&6)throw Error(tt(327));var r=e.callbackNode;if(Nd()&&e.callbackNode!==r)return null;var n=Yy(e,e===Vn?ti:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=pv(e,n);else{t=n;var s=cr;cr|=2;var h=O5();(Vn!==e||ti!==t)&&(is=null,rh=fn()+500,Oc(e,t));do try{gO();break}catch(c){N5(e,c)}while(!0);d2(),dv.current=h,cr=s,bn!==null?t=0:(Vn=null,ti=0,t=kn)}if(t!==0){if(t===2&&(s=W_(e),s!==0&&(n=s,t=_b(e,s))),t===1)throw r=Gp,Oc(e,0),yl(e,n),Zi(e,fn()),r;if(t===6)yl(e,n);else{if(s=e.current.alternate,!(n&30)&&!pO(s)&&(t=pv(e,n),t===2&&(h=W_(e),h!==0&&(n=h,t=_b(e,h))),t===1))throw r=Gp,Oc(e,0),yl(e,n),Zi(e,fn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(tt(345));case 2:Sc(e,Hi,is);break;case 3:if(yl(e,n),(n&130023424)===n&&(t=C2+500-fn(),10<t)){if(Yy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Li(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eb(Sc.bind(null,e,Hi,is),t);break}Sc(e,Hi,is);break;case 4:if(yl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var d=31-oo(n);h=1<<d,d=t[d],d>s&&(s=d),n&=~h}if(n=s,n=fn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fO(n/1960))-n,10<n){e.timeoutHandle=eb(Sc.bind(null,e,Hi,is),n);break}Sc(e,Hi,is);break;case 5:Sc(e,Hi,is);break;default:throw Error(tt(329))}}}return Zi(e,fn()),e.callbackNode===r?B5.bind(null,e):null}function _b(e,t){var r=_p;return e.current.memoizedState.isDehydrated&&(Oc(e,t).flags|=256),e=pv(e,t),e!==2&&(t=Hi,Hi=r,t!==null&&bb(t)),e}function bb(e){Hi===null?Hi=e:Hi.push.apply(Hi,e)}function pO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],h=s.getSnapshot;s=s.value;try{if(!co(h(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yl(e,t){for(t&=~T2,t&=~c0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-oo(t),n=1<<r;e[r]=-1,t&=~n}}function JC(e){if(cr&6)throw Error(tt(327));Nd();var t=Yy(e,0);if(!(t&1))return Zi(e,fn()),null;var r=pv(e,t);if(e.tag!==0&&r===2){var n=W_(e);n!==0&&(t=n,r=_b(e,n))}if(r===1)throw r=Gp,Oc(e,0),yl(e,t),Zi(e,fn()),r;if(r===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Hi,is),Zi(e,fn()),null}function E2(e,t){var r=cr;cr|=1;try{return e(t)}finally{cr=r,cr===0&&(rh=fn()+500,a0&&Ul())}}function Yc(e){xl!==null&&xl.tag===0&&!(cr&6)&&Nd();var t=cr;cr|=1;var r=Ba.transition,n=_r;try{if(Ba.transition=null,_r=1,e)return e()}finally{_r=n,Ba.transition=r,cr=t,!(cr&6)&&Ul()}}function k2(){ua=Cd.current,jr(Cd)}function Oc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,KN(r)),bn!==null)for(r=bn.return;r!==null;){var n=r;switch(l2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tv();break;case 3:eh(),jr(Gi),jr(wi),y2();break;case 5:g2(n);break;case 4:eh();break;case 13:jr(Yr);break;case 19:jr(Yr);break;case 10:h2(n.type._context);break;case 22:case 23:k2()}r=r.return}if(Vn=e,bn=e=Il(e.current,null),ti=ua=t,kn=0,Gp=null,T2=c0=Zc=0,Hi=_p=null,Mc!==null){for(t=0;t<Mc.length;t++)if(r=Mc[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,h=r.pending;if(h!==null){var d=h.next;h.next=s,n.next=d}r.pending=n}Mc=null}return e}function N5(e,t){do{var r=bn;try{if(d2(),Ey.current=uv,cv){for(var n=Jr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}cv=!1}if(qc=0,jn=Cn=Jr=null,vp=!1,Kp=0,P2.current=null,r===null||r.return===null){kn=1,Gp=t,bn=null;break}e:{var h=e,d=r.return,c=r,v=t;if(t=ti,c.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var w=v,S=c,T=S.tag;if(!(S.mode&1)&&(T===0||T===11||T===15)){var C=S.alternate;C?(S.updateQueue=C.updateQueue,S.memoizedState=C.memoizedState,S.lanes=C.lanes):(S.updateQueue=null,S.memoizedState=null)}var D=NC(d);if(D!==null){D.flags&=-257,OC(D,d,c,h,t),D.mode&1&&BC(h,w,t),t=D,v=w;var B=t.updateQueue;if(B===null){var j=new Set;j.add(v),t.updateQueue=j}else B.add(v);break e}else{if(!(t&1)){BC(h,w,t),A2();break e}v=Error(tt(426))}}else if(Gr&&c.mode&1){var Y=NC(d);if(Y!==null){!(Y.flags&65536)&&(Y.flags|=256),OC(Y,d,c,h,t),c2(th(v,c));break e}}h=v=th(v,c),kn!==4&&(kn=2),_p===null?_p=[h]:_p.push(h),h=d;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var V=w5(h,v,t);DC(h,V);break e;case 1:c=v;var F=h.type,N=h.stateNode;if(!(h.flags&128)&&(typeof F.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(kl===null||!kl.has(N)))){h.flags|=65536,t&=-t,h.lanes|=t;var ee=S5(h,c,t);DC(h,ee);break e}}h=h.return}while(h!==null)}V5(r)}catch(ie){t=ie,bn===r&&r!==null&&(bn=r=r.return);continue}break}while(!0)}function O5(){var e=dv.current;return dv.current=uv,e===null?uv:e}function A2(){(kn===0||kn===3||kn===2)&&(kn=4),Vn===null||!(Zc&268435455)&&!(c0&268435455)||yl(Vn,ti)}function pv(e,t){var r=cr;cr|=2;var n=O5();(Vn!==e||ti!==t)&&(is=null,Oc(e,t));do try{mO();break}catch(s){N5(e,s)}while(!0);if(d2(),cr=r,dv.current=n,bn!==null)throw Error(tt(261));return Vn=null,ti=0,kn}function mO(){for(;bn!==null;)j5(bn)}function gO(){for(;bn!==null&&!jB();)j5(bn)}function j5(e){var t=K5(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?V5(e):bn=t,P2.current=null}function V5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=cO(r,t),r!==null){r.flags&=32767,bn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{kn=6,bn=null;return}}else if(r=lO(r,t,ua),r!==null){bn=r;return}if(t=t.sibling,t!==null){bn=t;return}bn=t=e}while(t!==null);kn===0&&(kn=5)}function Sc(e,t,r){var n=_r,s=Ba.transition;try{Ba.transition=null,_r=1,yO(e,t,r,n)}finally{Ba.transition=s,_r=n}return null}function yO(e,t,r,n){do Nd();while(xl!==null);if(cr&6)throw Error(tt(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(XB(e,h),e===Vn&&(bn=Vn=null,ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zg||(Zg=!0,H5(Zy,function(){return Nd(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=Ba.transition,Ba.transition=null;var d=_r;_r=1;var c=cr;cr|=4,P2.current=null,dO(e,r),z5(r,e),FN(J_),Xy=!!X_,J_=X_=null,e.current=r,hO(r),VB(),cr=c,_r=d,Ba.transition=h}else e.current=r;if(Zg&&(Zg=!1,xl=e,fv=s),h=e.pendingLanes,h===0&&(kl=null),HB(r.stateNode),Zi(e,fn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(hv)throw hv=!1,e=vb,vb=null,e;return fv&1&&e.tag!==0&&Nd(),h=e.pendingLanes,h&1?e===xb?bp++:(bp=0,xb=e):bp=0,Ul(),null}function Nd(){if(xl!==null){var e=wM(fv),t=Ba.transition,r=_r;try{if(Ba.transition=null,_r=16>e?16:e,xl===null)var n=!1;else{if(e=xl,xl=null,fv=0,cr&6)throw Error(tt(331));var s=cr;for(cr|=4,wt=e.current;wt!==null;){var h=wt,d=h.child;if(wt.flags&16){var c=h.deletions;if(c!==null){for(var v=0;v<c.length;v++){var w=c[v];for(wt=w;wt!==null;){var S=wt;switch(S.tag){case 0:case 11:case 15:xp(8,S,h)}var T=S.child;if(T!==null)T.return=S,wt=T;else for(;wt!==null;){S=wt;var C=S.sibling,D=S.return;if($5(S),S===w){wt=null;break}if(C!==null){C.return=D,wt=C;break}wt=D}}}var B=h.alternate;if(B!==null){var j=B.child;if(j!==null){B.child=null;do{var Y=j.sibling;j.sibling=null,j=Y}while(j!==null)}}wt=h}}if(h.subtreeFlags&2064&&d!==null)d.return=h,wt=d;else e:for(;wt!==null;){if(h=wt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:xp(9,h,h.return)}var V=h.sibling;if(V!==null){V.return=h.return,wt=V;break e}wt=h.return}}var F=e.current;for(wt=F;wt!==null;){d=wt;var N=d.child;if(d.subtreeFlags&2064&&N!==null)N.return=d,wt=N;else e:for(d=F;wt!==null;){if(c=wt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:l0(9,c)}}catch(ie){on(c,c.return,ie)}if(c===d){wt=null;break e}var ee=c.sibling;if(ee!==null){ee.return=c.return,wt=ee;break e}wt=c.return}}if(cr=s,Ul(),Do&&typeof Do.onPostCommitFiberRoot=="function")try{Do.onPostCommitFiberRoot(e0,e)}catch{}n=!0}return n}finally{_r=r,Ba.transition=t}}return!1}function QC(e,t,r){t=th(r,t),t=w5(e,t,1),e=El(e,t,1),t=Li(),e!==null&&(um(e,1,t),Zi(e,t))}function on(e,t,r){if(e.tag===3)QC(e,e,r);else for(;t!==null;){if(t.tag===3){QC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kl===null||!kl.has(n))){e=th(r,e),e=S5(t,e,1),t=El(t,e,1),e=Li(),t!==null&&(um(t,1,e),Zi(t,e));break}}t=t.return}}function vO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Li(),e.pingedLanes|=e.suspendedLanes&r,Vn===e&&(ti&r)===r&&(kn===4||kn===3&&(ti&130023424)===ti&&500>fn()-C2?Oc(e,0):T2|=r),Zi(e,t)}function U5(e,t){t===0&&(e.mode&1?(t=Ng,Ng<<=1,!(Ng&130023424)&&(Ng=4194304)):t=1);var r=Li();e=bs(e,t),e!==null&&(um(e,t,r),Zi(e,r))}function xO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),U5(e,r)}function _O(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(t),U5(e,r)}var K5;K5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gi.current)Wi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wi=!1,sO(e,t,r);Wi=!!(e.flags&131072)}else Wi=!1,Gr&&t.flags&1048576&&qM(t,iv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ay(e,t),e=t.pendingProps;var s=Xd(t,wi.current);Bd(t,r),s=x2(null,t,n,e,s,r);var h=_2();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qi(n)?(h=!0,rv(t)):h=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,p2(t),s.updater=s0,t.stateNode=s,s._reactInternals=t,sb(t,n,e,r),t=ub(null,t,n,!0,h,r)):(t.tag=0,Gr&&h&&s2(t),$i(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ay(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=wO(n),e=eo(n,e),s){case 0:t=cb(null,t,n,e,r);break e;case 1:t=UC(null,t,n,e,r);break e;case 11:t=jC(null,t,n,e,r);break e;case 14:t=VC(null,t,n,eo(n.type,e),r);break e}throw Error(tt(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:eo(n,s),cb(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:eo(n,s),UC(e,t,n,s,r);case 3:e:{if(E5(t),e===null)throw Error(tt(387));n=t.pendingProps,h=t.memoizedState,s=h.element,e5(e,t),sv(t,n,null,r);var d=t.memoizedState;if(n=d.element,h.isDehydrated)if(h={element:n,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){s=th(Error(tt(423)),t),t=KC(e,t,n,r,s);break e}else if(n!==s){s=th(Error(tt(424)),t),t=KC(e,t,n,r,s);break e}else for(ha=Cl(t.stateNode.containerInfo.firstChild),fa=t,Gr=!0,no=null,r=JM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jd(),n===s){t=ws(e,t,r);break e}$i(e,t,n,r)}t=t.child}return t;case 5:return t5(t),e===null&&ib(t),n=t.type,s=t.pendingProps,h=e!==null?e.memoizedProps:null,d=s.children,Q_(n,s)?d=null:h!==null&&Q_(n,h)&&(t.flags|=32),C5(e,t),$i(e,t,d,r),t.child;case 6:return e===null&&ib(t),null;case 13:return k5(e,t,r);case 4:return m2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qd(t,null,n,r):$i(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:eo(n,s),jC(e,t,n,s,r);case 7:return $i(e,t,t.pendingProps,r),t.child;case 8:return $i(e,t,t.pendingProps.children,r),t.child;case 12:return $i(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,h=t.memoizedProps,d=s.value,Rr(av,n._currentValue),n._currentValue=d,h!==null)if(co(h.value,d)){if(h.children===s.children&&!Gi.current){t=ws(e,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var c=h.dependencies;if(c!==null){d=h.child;for(var v=c.firstContext;v!==null;){if(v.context===n){if(h.tag===1){v=ps(-1,r&-r),v.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var S=w.pending;S===null?v.next=v:(v.next=S.next,S.next=v),w.pending=v}}h.lanes|=r,v=h.alternate,v!==null&&(v.lanes|=r),ab(h.return,r,t),c.lanes|=r;break}v=v.next}}else if(h.tag===10)d=h.type===t.type?null:h.child;else if(h.tag===18){if(d=h.return,d===null)throw Error(tt(341));d.lanes|=r,c=d.alternate,c!==null&&(c.lanes|=r),ab(d,r,t),d=h.sibling}else d=h.child;if(d!==null)d.return=h;else for(d=h;d!==null;){if(d===t){d=null;break}if(h=d.sibling,h!==null){h.return=d.return,d=h;break}d=d.return}h=d}$i(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Bd(t,r),s=Na(s),n=n(s),t.flags|=1,$i(e,t,n,r),t.child;case 14:return n=t.type,s=eo(n,t.pendingProps),s=eo(n.type,s),VC(e,t,n,s,r);case 15:return P5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:eo(n,s),Ay(e,t),t.tag=1,qi(n)?(e=!0,rv(t)):e=!1,Bd(t,r),b5(t,n,s),sb(t,n,s,r),ub(null,t,n,!0,e,r);case 19:return A5(e,t,r);case 22:return T5(e,t,r)}throw Error(tt(156,t.tag))};function H5(e,t){return vM(e,t)}function bO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,r,n){return new bO(e,t,r,n)}function I2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wO(e){if(typeof e=="function")return I2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zw)return 11;if(e===Yw)return 14}return 2}function Il(e,t){var r=e.alternate;return r===null?(r=Fa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dy(e,t,r,n,s,h){var d=2;if(n=e,typeof e=="function")I2(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case gd:return jc(r.children,s,h,t);case qw:d=8,s|=8;break;case M_:return e=Fa(12,r,t,s|2),e.elementType=M_,e.lanes=h,e;case D_:return e=Fa(13,r,t,s),e.elementType=D_,e.lanes=h,e;case $_:return e=Fa(19,r,t,s),e.elementType=$_,e.lanes=h,e;case tM:return u0(r,s,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QI:d=10;break e;case eM:d=9;break e;case Zw:d=11;break e;case Yw:d=14;break e;case dl:d=16,n=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=Fa(d,r,t,s),t.elementType=e,t.type=n,t.lanes=h,t}function jc(e,t,r,n){return e=Fa(7,e,n,t),e.lanes=r,e}function u0(e,t,r,n){return e=Fa(22,e,n,t),e.elementType=tM,e.lanes=r,e.stateNode={isHidden:!1},e}function T1(e,t,r){return e=Fa(6,e,null,t),e.lanes=r,e}function C1(e,t,r){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function SO(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o1(0),this.expirationTimes=o1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o1(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function M2(e,t,r,n,s,h,d,c,v){return e=new SO(e,t,r,c,v),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Fa(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p2(h),e}function PO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:md,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function W5(e){if(!e)return zl;e=e._reactInternals;e:{if(nu(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var r=e.type;if(qi(r))return WM(e,r,t)}return t}function G5(e,t,r,n,s,h,d,c,v){return e=M2(r,n,!0,e,s,h,d,c,v),e.context=W5(null),r=e.current,n=Li(),s=Al(r),h=ps(n,s),h.callback=t??null,El(r,h,s),e.current.lanes=s,um(e,s,n),Zi(e,n),e}function d0(e,t,r,n){var s=t.current,h=Li(),d=Al(s);return r=W5(r),t.context===null?t.context=r:t.pendingContext=r,t=ps(h,d),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=El(s,t,d),e!==null&&(so(e,s,d,h),Cy(e,s,d)),d}function mv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function D2(e,t){eE(e,t),(e=e.alternate)&&eE(e,t)}function TO(){return null}var q5=typeof reportError=="function"?reportError:function(e){console.error(e)};function $2(e){this._internalRoot=e}h0.prototype.render=$2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));d0(e,t,null,null)};h0.prototype.unmount=$2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yc(function(){d0(null,e,null,null)}),t[_s]=null}};function h0(e){this._internalRoot=e}h0.prototype.unstable_scheduleHydration=function(e){if(e){var t=TM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<gl.length&&t!==0&&t<gl[r].priority;r++);gl.splice(r,0,e),r===0&&EM(e)}};function R2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tE(){}function CO(e,t,r,n,s){if(s){if(typeof n=="function"){var h=n;n=function(){var w=mv(d);h.call(w)}}var d=G5(t,n,e,0,null,!1,!1,"",tE);return e._reactRootContainer=d,e[_s]=d.current,Np(e.nodeType===8?e.parentNode:e),Yc(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var w=mv(v);c.call(w)}}var v=M2(e,0,!1,null,null,!1,!1,"",tE);return e._reactRootContainer=v,e[_s]=v.current,Np(e.nodeType===8?e.parentNode:e),Yc(function(){d0(t,v,r,n)}),v}function p0(e,t,r,n,s){var h=r._reactRootContainer;if(h){var d=h;if(typeof s=="function"){var c=s;s=function(){var v=mv(d);c.call(v)}}d0(t,d,e,s)}else d=CO(r,t,e,s,n);return mv(d)}SM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ip(t.pendingLanes);r!==0&&(Qw(t,r|1),Zi(t,fn()),!(cr&6)&&(rh=fn()+500,Ul()))}break;case 13:Yc(function(){var n=bs(e,1);if(n!==null){var s=Li();so(n,e,1,s)}}),D2(e,1)}};e2=function(e){if(e.tag===13){var t=bs(e,134217728);if(t!==null){var r=Li();so(t,e,134217728,r)}D2(e,134217728)}};PM=function(e){if(e.tag===13){var t=Al(e),r=bs(e,t);if(r!==null){var n=Li();so(r,e,t,n)}D2(e,t)}};TM=function(){return _r};CM=function(e,t){var r=_r;try{return _r=e,t()}finally{_r=r}};U_=function(e,t,r){switch(t){case"input":if(z_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=i0(n);if(!s)throw Error(tt(90));nM(n),z_(n,s)}}}break;case"textarea":aM(e,r);break;case"select":t=r.value,t!=null&&Rd(e,!!r.multiple,t,!1)}};hM=E2;fM=Yc;var EO={usingClientEntryPoint:!1,Events:[hm,_d,i0,uM,dM,E2]},Uf={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Uf.bundleType,version:Uf.version,rendererPackageName:Uf.rendererPackageName,rendererConfig:Uf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gM(e),e===null?null:e.stateNode},findFiberByHostInstance:Uf.findFiberByHostInstance||TO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yg.isDisabled&&Yg.supportsFiber)try{e0=Yg.inject(kO),Do=Yg}catch{}}va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EO;va.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R2(t))throw Error(tt(200));return PO(e,t,null,r)};va.createRoot=function(e,t){if(!R2(e))throw Error(tt(299));var r=!1,n="",s=q5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=M2(e,1,!1,null,null,r,!1,n,s),e[_s]=t.current,Np(e.nodeType===8?e.parentNode:e),new $2(t)};va.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=gM(t),e=e===null?null:e.stateNode,e};va.flushSync=function(e){return Yc(e)};va.hydrate=function(e,t,r){if(!f0(t))throw Error(tt(200));return p0(null,e,t,!0,r)};va.hydrateRoot=function(e,t,r){if(!R2(e))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,s=!1,h="",d=q5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),t=G5(t,null,e,1,r??null,s,!1,h,d),e[_s]=t.current,Np(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new h0(t)};va.render=function(e,t,r){if(!f0(t))throw Error(tt(200));return p0(null,e,t,!1,r)};va.unmountComponentAtNode=function(e){if(!f0(e))throw Error(tt(40));return e._reactRootContainer?(Yc(function(){p0(null,null,e,!1,function(){e._reactRootContainer=null,e[_s]=null})}),!0):!1};va.unstable_batchedUpdates=E2;va.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!f0(r))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return p0(e,t,r,!1,n)};va.version="18.3.1-next-f1338f8080-20240426";function Z5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z5)}catch(e){console.error(e)}}Z5(),ZI.exports=va;var L2=ZI.exports;const AO=lm(L2);var rE=L2;A_.createRoot=rE.createRoot,A_.hydrateRoot=rE.hydrateRoot;function Kl(e={}){const{strict:t=!0,errorMessage:r="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:n}=e,s=z.createContext(void 0);s.displayName=n;function h(){var d;const c=z.useContext(s);if(!c&&t){const v=new Error(r);throw v.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,v,h),v}return c}return[s.Provider,h,s]}function wn(e){const t=z.useRef(null);return z.useImperativeHandle(e,()=>t.current),t}function IO(e,t){return e&&t&&e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}var MO=e=>(e==null?void 0:e.length)<=4?e:e==null?void 0:e.slice(0,3);function Y5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Y5(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ur(...e){for(var t=0,r,n,s="";t<e.length;)(r=e[t++])&&(n=Y5(r))&&(s&&(s+=" "),s+=n);return s}function DO(e){return`${e}-${Math.floor(Math.random()*1e6)}`}function $O(e){for(const t in e)t.startsWith("on")&&delete e[t];return e}function ks(e){if(!e||typeof e!="object")return"";try{return JSON.stringify(e)}catch{return""}}function X5(e,t,r){return Math.min(Math.max(e,t),r)}function RO(e){return typeof e=="function"}var vt=e=>e?"true":void 0;function LO(e,t){if(e!=null){if(RO(e)){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function nE(...e){return t=>{e.forEach(r=>LO(r,t))}}var zO=Object.create,J5=Object.defineProperty,FO=Object.getOwnPropertyDescriptor,Q5=Object.getOwnPropertyNames,BO=Object.getPrototypeOf,NO=Object.prototype.hasOwnProperty,e3=(e,t)=>function(){return t||(0,e[Q5(e)[0]])((t={exports:{}}).exports,t),t.exports},OO=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Q5(t))!NO.call(e,s)&&s!==r&&J5(e,s,{get:()=>t[s],enumerable:!(n=FO(t,s))||n.enumerable});return e},jO=(e,t,r)=>(r=e!=null?zO(BO(e)):{},OO(!e||!e.__esModule?J5(r,"default",{value:e,enumerable:!0}):r,e)),VO=e3({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/cjs/react.production.min.js"(e){var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),C=Symbol.iterator;function D(se){return se===null||typeof se!="object"?null:(se=C&&se[C]||se["@@iterator"],typeof se=="function"?se:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Y={};function V(se,ze,Ze){this.props=se,this.context=ze,this.refs=Y,this.updater=Ze||B}V.prototype.isReactComponent={},V.prototype.setState=function(se,ze){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,ze,"setState")},V.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function F(){}F.prototype=V.prototype;function N(se,ze,Ze){this.props=se,this.context=ze,this.refs=Y,this.updater=Ze||B}var ee=N.prototype=new F;ee.constructor=N,j(ee,V.prototype),ee.isPureReactComponent=!0;var ie=Array.isArray,fe=Object.prototype.hasOwnProperty,be={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function pe(se,ze,Ze){var lt,mt={},gt=null,Et=null;if(ze!=null)for(lt in ze.ref!==void 0&&(Et=ze.ref),ze.key!==void 0&&(gt=""+ze.key),ze)fe.call(ze,lt)&&!q.hasOwnProperty(lt)&&(mt[lt]=ze[lt]);var Pt=arguments.length-2;if(Pt===1)mt.children=Ze;else if(1<Pt){for(var At=Array(Pt),zt=0;zt<Pt;zt++)At[zt]=arguments[zt+2];mt.children=At}if(se&&se.defaultProps)for(lt in Pt=se.defaultProps,Pt)mt[lt]===void 0&&(mt[lt]=Pt[lt]);return{$$typeof:t,type:se,key:gt,ref:Et,props:mt,_owner:be.current}}function xe(se,ze){return{$$typeof:t,type:se.type,key:ze,ref:se.ref,props:se.props,_owner:se._owner}}function le(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function Se(se){var ze={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(Ze){return ze[Ze]})}var ge=/\/+/g;function ye(se,ze){return typeof se=="object"&&se!==null&&se.key!=null?Se(""+se.key):ze.toString(36)}function Be(se,ze,Ze,lt,mt){var gt=typeof se;(gt==="undefined"||gt==="boolean")&&(se=null);var Et=!1;if(se===null)Et=!0;else switch(gt){case"string":case"number":Et=!0;break;case"object":switch(se.$$typeof){case t:case r:Et=!0}}if(Et)return Et=se,mt=mt(Et),se=lt===""?"."+ye(Et,0):lt,ie(mt)?(Ze="",se!=null&&(Ze=se.replace(ge,"$&/")+"/"),Be(mt,ze,Ze,"",function(zt){return zt})):mt!=null&&(le(mt)&&(mt=xe(mt,Ze+(!mt.key||Et&&Et.key===mt.key?"":(""+mt.key).replace(ge,"$&/")+"/")+se)),ze.push(mt)),1;if(Et=0,lt=lt===""?".":lt+":",ie(se))for(var Pt=0;Pt<se.length;Pt++){gt=se[Pt];var At=lt+ye(gt,Pt);Et+=Be(gt,ze,Ze,At,mt)}else if(At=D(se),typeof At=="function")for(se=At.call(se),Pt=0;!(gt=se.next()).done;)gt=gt.value,At=lt+ye(gt,Pt++),Et+=Be(gt,ze,Ze,At,mt);else if(gt==="object")throw ze=String(se),Error("Objects are not valid as a React child (found: "+(ze==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":ze)+"). If you meant to render a collection of children, use an array instead.");return Et}function Re(se,ze,Ze){if(se==null)return se;var lt=[],mt=0;return Be(se,lt,"","",function(gt){return ze.call(Ze,gt,mt++)}),lt}function ae(se){if(se._status===-1){var ze=se._result;ze=ze(),ze.then(function(Ze){(se._status===0||se._status===-1)&&(se._status=1,se._result=Ze)},function(Ze){(se._status===0||se._status===-1)&&(se._status=2,se._result=Ze)}),se._status===-1&&(se._status=0,se._result=ze)}if(se._status===1)return se._result.default;throw se._result}var De={current:null},je={transition:null},Oe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:je,ReactCurrentOwner:be};e.Children={map:Re,forEach:function(se,ze,Ze){Re(se,function(){ze.apply(this,arguments)},Ze)},count:function(se){var ze=0;return Re(se,function(){ze++}),ze},toArray:function(se){return Re(se,function(ze){return ze})||[]},only:function(se){if(!le(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},e.Component=V,e.Fragment=n,e.Profiler=h,e.PureComponent=N,e.StrictMode=s,e.Suspense=w,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,e.cloneElement=function(se,ze,Ze){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var lt=j({},se.props),mt=se.key,gt=se.ref,Et=se._owner;if(ze!=null){if(ze.ref!==void 0&&(gt=ze.ref,Et=be.current),ze.key!==void 0&&(mt=""+ze.key),se.type&&se.type.defaultProps)var Pt=se.type.defaultProps;for(At in ze)fe.call(ze,At)&&!q.hasOwnProperty(At)&&(lt[At]=ze[At]===void 0&&Pt!==void 0?Pt[At]:ze[At])}var At=arguments.length-2;if(At===1)lt.children=Ze;else if(1<At){Pt=Array(At);for(var zt=0;zt<At;zt++)Pt[zt]=arguments[zt+2];lt.children=Pt}return{$$typeof:t,type:se.type,key:mt,ref:gt,props:lt,_owner:Et}},e.createContext=function(se){return se={$$typeof:c,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:d,_context:se},se.Consumer=se},e.createElement=pe,e.createFactory=function(se){var ze=pe.bind(null,se);return ze.type=se,ze},e.createRef=function(){return{current:null}},e.forwardRef=function(se){return{$$typeof:v,render:se}},e.isValidElement=le,e.lazy=function(se){return{$$typeof:T,_payload:{_status:-1,_result:se},_init:ae}},e.memo=function(se,ze){return{$$typeof:S,type:se,compare:ze===void 0?null:ze}},e.startTransition=function(se){var ze=je.transition;je.transition={};try{se()}finally{je.transition=ze}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(se,ze){return De.current.useCallback(se,ze)},e.useContext=function(se){return De.current.useContext(se)},e.useDebugValue=function(){},e.useDeferredValue=function(se){return De.current.useDeferredValue(se)},e.useEffect=function(se,ze){return De.current.useEffect(se,ze)},e.useId=function(){return De.current.useId()},e.useImperativeHandle=function(se,ze,Ze){return De.current.useImperativeHandle(se,ze,Ze)},e.useInsertionEffect=function(se,ze){return De.current.useInsertionEffect(se,ze)},e.useLayoutEffect=function(se,ze){return De.current.useLayoutEffect(se,ze)},e.useMemo=function(se,ze){return De.current.useMemo(se,ze)},e.useReducer=function(se,ze,Ze){return De.current.useReducer(se,ze,Ze)},e.useRef=function(se){return De.current.useRef(se)},e.useState=function(se){return De.current.useState(se)},e.useSyncExternalStore=function(se,ze,Ze){return De.current.useSyncExternalStore(se,ze,Ze)},e.useTransition=function(){return De.current.useTransition()},e.version="18.2.0"}}),UO=e3({"../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"(e,t){t.exports=VO()}});/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *//**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE=jO(UO()),t3=(e,t)=>{var r;let n=[];const s=(r=iE.Children.map(e,d=>(0,iE.isValidElement)(d)&&d.type===t?(n.push(d),null):d))==null?void 0:r.filter(Boolean),h=n.length>=0?n:void 0;return[s,h]},KO=new Set(["id","type","style","title","role","tabIndex","htmlFor","width","height","abbr","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","challenge","charset","checked","cite","class","className","cols","colSpan","command","content","contentEditable","contextMenu","controls","coords","crossOrigin","data","dateTime","default","defer","dir","disabled","download","draggable","dropzone","encType","enterKeyHint","for","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","hidden","high","href","hrefLang","httpEquiv","icon","inputMode","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","label","lang","list","loop","manifest","max","maxLength","media","mediaGroup","method","min","minLength","multiple","muted","name","noValidate","open","optimum","pattern","ping","placeholder","poster","preload","radioGroup","referrerPolicy","readOnly","rel","required","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","slot","sortable","span","spellCheck","src","srcDoc","srcSet","start","step","target","translate","typeMustMatch","useMap","value","wmode","wrap"]),HO=new Set(["onCopy","onCut","onPaste","onLoad","onError","onWheel","onScroll","onCompositionEnd","onCompositionStart","onCompositionUpdate","onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onSubmit","onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onPointerDown","onPointerEnter","onPointerLeave","onPointerUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd"]),aE=/^(data-.*)$/,WO=/^(aria-.*)$/,Xg=/^(on[A-Z].*)$/;function Lo(e,t={}){let{labelable:r=!0,enabled:n=!0,propNames:s,omitPropNames:h,omitEventNames:d,omitDataProps:c,omitEventProps:v}=t,w={};if(!n)return e;for(const S in e)h!=null&&h.has(S)||d!=null&&d.has(S)&&Xg.test(S)||Xg.test(S)&&!HO.has(S)||c&&aE.test(S)||v&&Xg.test(S)||(Object.prototype.hasOwnProperty.call(e,S)&&(KO.has(S)||r&&WO.test(S)||s!=null&&s.has(S)||aE.test(S))||Xg.test(S))&&(w[S]=e[S]);return w}var[GO,qO]=Kl({name:"ProviderContext",strict:!1});const gv={prefix:String(Math.round(Math.random()*1e10)),current:0},r3=Qt.createContext(gv),ZO=Qt.createContext(!1);let YO=!!(typeof window<"u"&&window.document&&window.document.createElement),E1=new WeakMap;function XO(e=!1){let t=z.useContext(r3),r=z.useRef(null);if(r.current===null&&!e){var n,s;let h=(s=Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(n=s.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(h){let d=E1.get(h);d==null?E1.set(h,{id:t.current,state:h.memoizedState}):h.memoizedState!==d.state&&(t.current=d.id,E1.delete(h))}r.current=++t.current}return r.current}function JO(e){let t=z.useContext(r3);t===gv&&!YO&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=XO(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function QO(e){let t=Qt.useId(),[r]=z.useState(m0()),n=r?"react-aria":`react-aria${gv.prefix}`;return e||`${n}-${t}`}const ej=typeof Qt.useId=="function"?QO:JO;function tj(){return!1}function rj(){return!0}function nj(e){return()=>{}}function m0(){return typeof Qt.useSyncExternalStore=="function"?Qt.useSyncExternalStore(nj,tj,rj):z.useContext(ZO)}const ij=Symbol.for("react-aria.i18n.locale"),aj=Symbol.for("react-aria.i18n.strings");let od;class g0{getStringForLocale(t,r){let s=this.getStringsForLocale(r)[t];if(!s)throw new Error(`Could not find intl message ${t} in ${r} locale`);return s}getStringsForLocale(t){let r=this.strings[t];return r||(r=oj(t,this.strings,this.defaultLocale),this.strings[t]=r),r}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let r=window[ij];if(od===void 0){let s=window[aj];if(!s)return null;od={};for(let h in s)od[h]=new g0({[r]:s[h]},r)}let n=od==null?void 0:od[t];if(!n)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return n}constructor(t,r="en-US"){this.strings={...t},this.defaultLocale=r}}function oj(e,t,r="en-US"){if(t[e])return t[e];let n=sj(e);if(t[n])return t[n];for(let s in t)if(s.startsWith(n+"-"))return t[s];return t[r]}function sj(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const oE=new Map,sE=new Map;class lj{format(t,r){let n=this.strings.getStringForLocale(t,this.locale);return typeof n=="function"?n(r,this):n}plural(t,r,n="cardinal"){let s=r["="+t];if(s)return typeof s=="function"?s():s;let h=this.locale+":"+n,d=oE.get(h);d||(d=new Intl.PluralRules(this.locale,{type:n}),oE.set(h,d));let c=d.select(t);return s=r[c]||r.other,typeof s=="function"?s():s}number(t){let r=sE.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),sE.set(this.locale,r)),r.format(t)}select(t,r){let n=t[r]||t.other;return typeof n=="function"?n():n}constructor(t,r){this.locale=t,this.strings=r}}function cj(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y0(e,t,r){cj(e,t),t.set(e,r)}function ms(e,t){return e-t*Math.floor(e/t)}const n3=1721426;function $c(e,t,r,n){t=pm(e,t);let s=t-1,h=-2;return r<=2?h=0:_l(t)&&(h=-1),n3-1+365*s+Math.floor(s/4)-Math.floor(s/100)+Math.floor(s/400)+Math.floor((367*r-362)/12+h+n)}function _l(e){return e%4===0&&(e%100!==0||e%400===0)}function pm(e,t){return e==="BC"?1-t:t}function v0(e){let t="AD";return e<=0&&(t="BC",e=1-e),[t,e]}const uj={standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]};class ma{fromJulianDay(t){let r=t,n=r-n3,s=Math.floor(n/146097),h=ms(n,146097),d=Math.floor(h/36524),c=ms(h,36524),v=Math.floor(c/1461),w=ms(c,1461),S=Math.floor(w/365),T=s*400+d*100+v*4+S+(d!==4&&S!==4?1:0),[C,D]=v0(T),B=r-$c(C,D,1,1),j=2;r<$c(C,D,3,1)?j=0:_l(D)&&(j=1);let Y=Math.floor(((B+j)*12+373)/367),V=r-$c(C,D,Y,1)+1;return new Lr(C,D,Y,V)}toJulianDay(t){return $c(t.era,t.year,t.month,t.day)}getDaysInMonth(t){return uj[_l(t.year)?"leapyear":"standard"][t.month-1]}getMonthsInYear(t){return 12}getDaysInYear(t){return _l(t.year)?366:365}getYearsInEra(t){return 9999}getEras(){return["BC","AD"]}isInverseEra(t){return t.era==="BC"}balanceDate(t){t.year<=0&&(t.era=t.era==="BC"?"AD":"BC",t.year=1-t.year)}constructor(){this.identifier="gregory"}}const dj={"001":1,AD:1,AE:6,AF:6,AI:1,AL:1,AM:1,AN:1,AR:1,AT:1,AU:1,AX:1,AZ:1,BA:1,BE:1,BG:1,BH:6,BM:1,BN:1,BY:1,CH:1,CL:1,CM:1,CN:1,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DZ:6,EC:1,EE:1,EG:6,ES:1,FI:1,FJ:1,FO:1,FR:1,GB:1,GE:1,GF:1,GP:1,GR:1,HR:1,HU:1,IE:1,IQ:6,IR:6,IS:1,IT:1,JO:6,KG:1,KW:6,KZ:1,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MK:1,MN:1,MQ:1,MV:5,MY:1,NL:1,NO:1,NZ:1,OM:6,PL:1,QA:6,RE:1,RO:1,RS:1,RU:1,SD:6,SE:1,SI:1,SK:1,SM:1,SY:6,TJ:1,TM:1,TR:1,UA:1,UY:1,UZ:1,VA:1,VN:1,XK:1};function _n(e,t){return t=En(t,e.calendar),e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function lE(e,t){return t=En(t,e.calendar),e=Xc(e),t=Xc(t),e.era===t.era&&e.year===t.year&&e.month===t.month}function wb(e,t){return e.calendar.identifier===t.calendar.identifier&&e.era===t.era&&e.year===t.year&&e.month===t.month&&e.day===t.day}function i3(e,t){return _n(e,z2(t))}function x0(e,t){let r=e.calendar.toJulianDay(e),n=Math.ceil(r+1-gj(t))%7;return n<0&&(n+=7),n}function hj(e){return cs(Date.now(),e)}function z2(e){return lo(hj(e))}function a3(e,t){return e.calendar.toJulianDay(e)-t.calendar.toJulianDay(t)}function fj(e,t){return cE(e)-cE(t)}function cE(e){return e.hour*36e5+e.minute*6e4+e.second*1e3+e.millisecond}let k1=null;function o3(){return k1==null&&(k1=new Intl.DateTimeFormat().resolvedOptions().timeZone),k1}function Xc(e){return e.subtract({days:e.day-1})}function yv(e){return e.add({days:e.calendar.getDaysInMonth(e)-e.day})}function vv(e){return Xc(e.subtract({months:e.month-1}))}function qp(e,t){let r=x0(e,t);return e.subtract({days:r})}function pj(e,t){return qp(e,t).add({days:6})}const uE=new Map;function mj(e){if(Intl.Locale){let r=uE.get(e);return r||(r=new Intl.Locale(e).maximize().region,r&&uE.set(e,r)),r}let t=e.split("-")[1];return t==="u"?void 0:t}function gj(e){let t=mj(e);return t&&dj[t]||0}function yj(e,t){let r=e.calendar.getDaysInMonth(e);return Math.ceil((x0(Xc(e),t)+r)/7)}function F2(e,t){return e&&t?e.compare(t)<=0?e:t:e||t}function B2(e,t){return e&&t?e.compare(t)>=0?e:t:e||t}function nh(e){e=En(e,new ma);let t=pm(e.era,e.year);return s3(t,e.month,e.day,e.hour,e.minute,e.second,e.millisecond)}function s3(e,t,r,n,s,h,d){let c=new Date;return c.setUTCHours(n,s,h,d),c.setUTCFullYear(e,t-1,r),c.getTime()}function Sb(e,t){if(t==="UTC")return 0;if(e>0&&t===o3())return new Date(e).getTimezoneOffset()*-6e4;let{year:r,month:n,day:s,hour:h,minute:d,second:c}=l3(e,t);return s3(r,n,s,h,d,c,0)-Math.floor(e/1e3)*1e3}const dE=new Map;function l3(e,t){let r=dE.get(t);r||(r=new Intl.DateTimeFormat("en-US",{timeZone:t,hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),dE.set(t,r));let n=r.formatToParts(new Date(e)),s={};for(let h of n)h.type!=="literal"&&(s[h.type]=h.value);return{year:s.era==="BC"||s.era==="B"?-s.year+1:+s.year,month:+s.month,day:+s.day,hour:s.hour==="24"?0:+s.hour,minute:+s.minute,second:+s.second}}const hE=864e5;function vj(e,t,r,n){return(r===n?[r]:[r,n]).filter(h=>xj(e,t,h))}function xj(e,t,r){let n=l3(r,t);return e.year===n.year&&e.month===n.month&&e.day===n.day&&e.hour===n.hour&&e.minute===n.minute&&e.second===n.second}function os(e,t,r="compatible"){let n=ih(e);if(t==="UTC")return nh(n);if(t===o3()&&r==="compatible"){n=En(n,new ma);let v=new Date,w=pm(n.era,n.year);return v.setFullYear(w,n.month-1,n.day),v.setHours(n.hour,n.minute,n.second,n.millisecond),v.getTime()}let s=nh(n),h=Sb(s-hE,t),d=Sb(s+hE,t),c=vj(n,t,s-h,s-d);if(c.length===1)return c[0];if(c.length>1)switch(r){case"compatible":case"earlier":return c[0];case"later":return c[c.length-1];case"reject":throw new RangeError("Multiple possible absolute times found")}switch(r){case"earlier":return Math.min(s-h,s-d);case"compatible":case"later":return Math.max(s-h,s-d);case"reject":throw new RangeError("No such absolute time found")}}function c3(e,t,r="compatible"){return new Date(os(e,t,r))}function cs(e,t){let r=Sb(e,t),n=new Date(e+r),s=n.getUTCFullYear(),h=n.getUTCMonth()+1,d=n.getUTCDate(),c=n.getUTCHours(),v=n.getUTCMinutes(),w=n.getUTCSeconds(),S=n.getUTCMilliseconds();return new Zp(s,h,d,t,r,c,v,w,S)}function lo(e){return new Lr(e.calendar,e.era,e.year,e.month,e.day)}function ih(e,t){let r=0,n=0,s=0,h=0;if("timeZone"in e)({hour:r,minute:n,second:s,millisecond:h}=e);else if("hour"in e&&!t)return e;return t&&({hour:r,minute:n,second:s,millisecond:h}=t),new _v(e.calendar,e.era,e.year,e.month,e.day,r,n,s,h)}function En(e,t){if(e.calendar.identifier===t.identifier)return e;let r=t.fromJulianDay(e.calendar.toJulianDay(e)),n=e.copy();return n.calendar=t,n.era=r.era,n.year=r.year,n.month=r.month,n.day=r.day,Jc(n),n}function _j(e,t,r){if(e instanceof Zp)return e.timeZone===t?e:wj(e,t);let n=os(e,t,r);return cs(n,t)}function bj(e){let t=nh(e)-e.offset;return new Date(t)}function wj(e,t){let r=nh(e)-e.offset;return En(cs(r,t),e.calendar)}const Kf=36e5;function _0(e,t){let r=e.copy(),n="hour"in r?Cj(r,t):0;Pb(r,t.years||0),r.calendar.balanceYearMonth&&r.calendar.balanceYearMonth(r,e),r.month+=t.months||0,Tb(r),u3(r),r.day+=(t.weeks||0)*7,r.day+=t.days||0,r.day+=n,Sj(r),r.calendar.balanceDate&&r.calendar.balanceDate(r),r.year<1&&(r.year=1,r.month=1,r.day=1);let s=r.calendar.getYearsInEra(r);if(r.year>s){var h,d;let v=(h=(d=r.calendar).isInverseEra)===null||h===void 0?void 0:h.call(d,r);r.year=s,r.month=v?1:r.calendar.getMonthsInYear(r),r.day=v?1:r.calendar.getDaysInMonth(r)}r.month<1&&(r.month=1,r.day=1);let c=r.calendar.getMonthsInYear(r);return r.month>c&&(r.month=c,r.day=r.calendar.getDaysInMonth(r)),r.day=Math.max(1,Math.min(r.calendar.getDaysInMonth(r),r.day)),r}function Pb(e,t){var r,n;!((r=(n=e.calendar).isInverseEra)===null||r===void 0)&&r.call(n,e)&&(t=-t),e.year+=t}function Tb(e){for(;e.month<1;)Pb(e,-1),e.month+=e.calendar.getMonthsInYear(e);let t=0;for(;e.month>(t=e.calendar.getMonthsInYear(e));)e.month-=t,Pb(e,1)}function Sj(e){for(;e.day<1;)e.month--,Tb(e),e.day+=e.calendar.getDaysInMonth(e);for(;e.day>e.calendar.getDaysInMonth(e);)e.day-=e.calendar.getDaysInMonth(e),e.month++,Tb(e)}function u3(e){e.month=Math.max(1,Math.min(e.calendar.getMonthsInYear(e),e.month)),e.day=Math.max(1,Math.min(e.calendar.getDaysInMonth(e),e.day))}function Jc(e){e.calendar.constrainDate&&e.calendar.constrainDate(e),e.year=Math.max(1,Math.min(e.calendar.getYearsInEra(e),e.year)),u3(e)}function d3(e){let t={};for(let r in e)typeof e[r]=="number"&&(t[r]=-e[r]);return t}function h3(e,t){return _0(e,d3(t))}function N2(e,t){let r=e.copy();return t.era!=null&&(r.era=t.era),t.year!=null&&(r.year=t.year),t.month!=null&&(r.month=t.month),t.day!=null&&(r.day=t.day),Jc(r),r}function xv(e,t){let r=e.copy();return t.hour!=null&&(r.hour=t.hour),t.minute!=null&&(r.minute=t.minute),t.second!=null&&(r.second=t.second),t.millisecond!=null&&(r.millisecond=t.millisecond),Tj(r),r}function Pj(e){e.second+=Math.floor(e.millisecond/1e3),e.millisecond=Jg(e.millisecond,1e3),e.minute+=Math.floor(e.second/60),e.second=Jg(e.second,60),e.hour+=Math.floor(e.minute/60),e.minute=Jg(e.minute,60);let t=Math.floor(e.hour/24);return e.hour=Jg(e.hour,24),t}function Tj(e){e.millisecond=Math.max(0,Math.min(e.millisecond,1e3)),e.second=Math.max(0,Math.min(e.second,59)),e.minute=Math.max(0,Math.min(e.minute,59)),e.hour=Math.max(0,Math.min(e.hour,23))}function Jg(e,t){let r=e%t;return r<0&&(r+=t),r}function Cj(e,t){return e.hour+=t.hours||0,e.minute+=t.minutes||0,e.second+=t.seconds||0,e.millisecond+=t.milliseconds||0,Pj(e)}function O2(e,t,r,n){let s=e.copy();switch(t){case"era":{let c=e.calendar.getEras(),v=c.indexOf(e.era);if(v<0)throw new Error("Invalid era: "+e.era);v=us(v,r,0,c.length-1,n==null?void 0:n.round),s.era=c[v],Jc(s);break}case"year":var h,d;!((h=(d=s.calendar).isInverseEra)===null||h===void 0)&&h.call(d,s)&&(r=-r),s.year=us(e.year,r,-1/0,9999,n==null?void 0:n.round),s.year===-1/0&&(s.year=1),s.calendar.balanceYearMonth&&s.calendar.balanceYearMonth(s,e);break;case"month":s.month=us(e.month,r,1,e.calendar.getMonthsInYear(e),n==null?void 0:n.round);break;case"day":s.day=us(e.day,r,1,e.calendar.getDaysInMonth(e),n==null?void 0:n.round);break;default:throw new Error("Unsupported field "+t)}return e.calendar.balanceDate&&e.calendar.balanceDate(s),Jc(s),s}function f3(e,t,r,n){let s=e.copy();switch(t){case"hour":{let h=e.hour,d=0,c=23;if((n==null?void 0:n.hourCycle)===12){let v=h>=12;d=v?12:0,c=v?23:11}s.hour=us(h,r,d,c,n==null?void 0:n.round);break}case"minute":s.minute=us(e.minute,r,0,59,n==null?void 0:n.round);break;case"second":s.second=us(e.second,r,0,59,n==null?void 0:n.round);break;case"millisecond":s.millisecond=us(e.millisecond,r,0,999,n==null?void 0:n.round);break;default:throw new Error("Unsupported field "+t)}return s}function us(e,t,r,n,s=!1){if(s){e+=Math.sign(t),e<r&&(e=n);let h=Math.abs(t);t>0?e=Math.ceil(e/h)*h:e=Math.floor(e/h)*h,e>n&&(e=r)}else e+=t,e<r?e=n-(r-e-1):e>n&&(e=r+(e-n-1));return e}function p3(e,t){let r;if(t.years!=null&&t.years!==0||t.months!=null&&t.months!==0||t.weeks!=null&&t.weeks!==0||t.days!=null&&t.days!==0){let s=_0(ih(e),{years:t.years,months:t.months,weeks:t.weeks,days:t.days});r=os(s,e.timeZone)}else r=nh(e)-e.offset;r+=t.milliseconds||0,r+=(t.seconds||0)*1e3,r+=(t.minutes||0)*6e4,r+=(t.hours||0)*36e5;let n=cs(r,e.timeZone);return En(n,e.calendar)}function Ej(e,t){return p3(e,d3(t))}function kj(e,t,r,n){switch(t){case"hour":{let s=0,h=23;if((n==null?void 0:n.hourCycle)===12){let B=e.hour>=12;s=B?12:0,h=B?23:11}let d=ih(e),c=En(xv(d,{hour:s}),new ma),v=[os(c,e.timeZone,"earlier"),os(c,e.timeZone,"later")].filter(B=>cs(B,e.timeZone).day===c.day)[0],w=En(xv(d,{hour:h}),new ma),S=[os(w,e.timeZone,"earlier"),os(w,e.timeZone,"later")].filter(B=>cs(B,e.timeZone).day===w.day).pop(),T=nh(e)-e.offset,C=Math.floor(T/Kf),D=T%Kf;return T=us(C,r,Math.floor(v/Kf),Math.floor(S/Kf),n==null?void 0:n.round)*Kf+D,En(cs(T,e.timeZone),e.calendar)}case"minute":case"second":case"millisecond":return f3(e,t,r,n);case"era":case"year":case"month":case"day":{let s=O2(ih(e),t,r,n),h=os(s,e.timeZone);return En(cs(h,e.timeZone),e.calendar)}default:throw new Error("Unsupported field "+t)}}function Aj(e,t,r){let n=ih(e),s=xv(N2(n,t),t);if(s.compare(n)===0)return e;let h=os(s,e.timeZone,r);return En(cs(h,e.timeZone),e.calendar)}const Ij=/^(\d{4})-(\d{2})-(\d{2})$/;function Mj(e){let t=e.match(Ij);if(!t)throw new Error("Invalid ISO 8601 date string: "+e);let r=new Lr(A1(t[1],0,9999),A1(t[2],1,12),1);return r.day=A1(t[3],0,r.calendar.getDaysInMonth(r)),r}function A1(e,t,r){let n=Number(e);if(n<t||n>r)throw new RangeError(`Value out of range: ${t} <= ${n} <= ${r}`);return n}function Dj(e){return`${String(e.hour).padStart(2,"0")}:${String(e.minute).padStart(2,"0")}:${String(e.second).padStart(2,"0")}${e.millisecond?String(e.millisecond/1e3).slice(1):""}`}function m3(e){let t=En(e,new ma);return`${String(t.year).padStart(4,"0")}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`}function g3(e){return`${m3(e)}T${Dj(e)}`}function $j(e){let t=Math.sign(e)<0?"-":"+";e=Math.abs(e);let r=Math.floor(e/36e5),n=e%36e5/6e4;return`${t}${String(r).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function Rj(e){return`${g3(e)}${$j(e.offset)}[${e.timeZone}]`}function j2(e){let t=typeof e[0]=="object"?e.shift():new ma,r;if(typeof e[0]=="string")r=e.shift();else{let d=t.getEras();r=d[d.length-1]}let n=e.shift(),s=e.shift(),h=e.shift();return[t,r,n,s,h]}var Lj=new WeakMap;class Lr{copy(){return this.era?new Lr(this.calendar,this.era,this.year,this.month,this.day):new Lr(this.calendar,this.year,this.month,this.day)}add(t){return _0(this,t)}subtract(t){return h3(this,t)}set(t){return N2(this,t)}cycle(t,r,n){return O2(this,t,r,n)}toDate(t){return c3(this,t)}toString(){return m3(this)}compare(t){return a3(this,t)}constructor(...t){y0(this,Lj,{writable:!0,value:void 0});let[r,n,s,h,d]=j2(t);this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,Jc(this)}}var zj=new WeakMap;class _v{copy(){return this.era?new _v(this.calendar,this.era,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond):new _v(this.calendar,this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond)}add(t){return _0(this,t)}subtract(t){return h3(this,t)}set(t){return N2(xv(this,t),t)}cycle(t,r,n){switch(t){case"era":case"year":case"month":case"day":return O2(this,t,r,n);default:return f3(this,t,r,n)}}toDate(t,r){return c3(this,t,r)}toString(){return g3(this)}compare(t){let r=a3(this,t);return r===0?fj(this,ih(t)):r}constructor(...t){y0(this,zj,{writable:!0,value:void 0});let[r,n,s,h,d]=j2(t);this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Jc(this)}}var Fj=new WeakMap;class Zp{copy(){return this.era?new Zp(this.calendar,this.era,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond):new Zp(this.calendar,this.year,this.month,this.day,this.timeZone,this.offset,this.hour,this.minute,this.second,this.millisecond)}add(t){return p3(this,t)}subtract(t){return Ej(this,t)}set(t,r){return Aj(this,t,r)}cycle(t,r,n){return kj(this,t,r,n)}toDate(){return bj(this)}toString(){return Rj(this)}toAbsoluteString(){return this.toDate().toISOString()}compare(t){return this.toDate().getTime()-_j(t,this.timeZone).toDate().getTime()}constructor(...t){y0(this,Fj,{writable:!0,value:void 0});let[r,n,s,h,d]=j2(t),c=t.shift(),v=t.shift();this.calendar=r,this.era=n,this.year=s,this.month=h,this.day=d,this.timeZone=c,this.offset=v,this.hour=t.shift()||0,this.minute=t.shift()||0,this.second=t.shift()||0,this.millisecond=t.shift()||0,Jc(this)}}const Od=[[1868,9,8],[1912,7,30],[1926,12,25],[1989,1,8],[2019,5,1]],Bj=[[1912,7,29],[1926,12,24],[1989,1,7],[2019,4,30]],$y=[1867,1911,1925,1988,2018],fl=["meiji","taisho","showa","heisei","reiwa"];function fE(e){const t=Od.findIndex(([r,n,s])=>e.year<r||e.year===r&&e.month<n||e.year===r&&e.month===n&&e.day<s);return t===-1?Od.length-1:t===0?0:t-1}function I1(e){let t=$y[fl.indexOf(e.era)];if(!t)throw new Error("Unknown era: "+e.era);return new Lr(e.year+t,e.month,e.day)}class Nj extends ma{fromJulianDay(t){let r=super.fromJulianDay(t),n=fE(r);return new Lr(this,fl[n],r.year-$y[n],r.month,r.day)}toJulianDay(t){return super.toJulianDay(I1(t))}balanceDate(t){let r=I1(t),n=fE(r);fl[n]!==t.era&&(t.era=fl[n],t.year=r.year-$y[n]),this.constrainDate(t)}constrainDate(t){let r=fl.indexOf(t.era),n=Bj[r];if(n!=null){let[s,h,d]=n,c=s-$y[r];t.year=Math.max(1,Math.min(c,t.year)),t.year===c&&(t.month=Math.min(h,t.month),t.month===h&&(t.day=Math.min(d,t.day)))}if(t.year===1&&r>=0){let[,s,h]=Od[r];t.month=Math.max(s,t.month),t.month===s&&(t.day=Math.max(h,t.day))}}getEras(){return fl}getYearsInEra(t){let r=fl.indexOf(t.era),n=Od[r],s=Od[r+1];if(s==null)return 9999-n[0]+1;let h=s[0]-n[0];return(t.month<s[1]||t.month===s[1]&&t.day<s[2])&&h++,h}getDaysInMonth(t){return super.getDaysInMonth(I1(t))}getMinimumMonthInYear(t){let r=pE(t);return r?r[1]:1}getMinimumDayInMonth(t){let r=pE(t);return r&&t.month===r[1]?r[2]:1}constructor(...t){super(...t),this.identifier="japanese"}}function pE(e){if(e.year===1){let t=fl.indexOf(e.era);return Od[t]}}const y3=-543;class Oj extends ma{fromJulianDay(t){let r=super.fromJulianDay(t),n=pm(r.era,r.year);return new Lr(this,n-y3,r.month,r.day)}toJulianDay(t){return super.toJulianDay(mE(t))}getEras(){return["BE"]}getDaysInMonth(t){return super.getDaysInMonth(mE(t))}balanceDate(){}constructor(...t){super(...t),this.identifier="buddhist"}}function mE(e){let[t,r]=v0(e.year+y3);return new Lr(t,r,e.month,e.day)}const bv=1911;function v3(e){return e.era==="minguo"?e.year+bv:1-e.year+bv}function gE(e){let t=e-bv;return t>0?["minguo",t]:["before_minguo",1-t]}class jj extends ma{fromJulianDay(t){let r=super.fromJulianDay(t),n=pm(r.era,r.year),[s,h]=gE(n);return new Lr(this,s,h,r.month,r.day)}toJulianDay(t){return super.toJulianDay(yE(t))}getEras(){return["before_minguo","minguo"]}balanceDate(t){let[r,n]=gE(v3(t));t.era=r,t.year=n}isInverseEra(t){return t.era==="before_minguo"}getDaysInMonth(t){return super.getDaysInMonth(yE(t))}getYearsInEra(t){return t.era==="before_minguo"?9999:9999-bv}constructor(...t){super(...t),this.identifier="roc"}}function yE(e){let[t,r]=v0(v3(e));return new Lr(t,r,e.month,e.day)}const Vj=1948321;function Uj(e){let t=e>0?e-474:e-473,r=ms(t,2820)+474;return ms((r+38)*31,128)<31}function Qg(e,t,r){let n=e>0?e-474:e-473,s=ms(n,2820)+474,h=t<=7?31*(t-1):30*(t-1)+6;return Vj-1+1029983*Math.floor(n/2820)+365*(s-1)+Math.floor((31*s-5)/128)+h+r}class Kj{fromJulianDay(t){let r=t-Qg(475,1,1),n=Math.floor(r/1029983),s=ms(r,1029983),h=s===1029982?2820:Math.floor((128*s+46878)/46751),d=474+2820*n+h;d<=0&&d--;let c=t-Qg(d,1,1)+1,v=c<=186?Math.ceil(c/31):Math.ceil((c-6)/31),w=t-Qg(d,v,1)+1;return new Lr(this,d,v,w)}toJulianDay(t){return Qg(t.year,t.month,t.day)}getMonthsInYear(){return 12}getDaysInMonth(t){return t.month<=6?31:t.month<=11||Uj(t.year)?30:29}getEras(){return["AP"]}getYearsInEra(){return 9377}constructor(){this.identifier="persian"}}const M1=78,vE=80;class Hj extends ma{fromJulianDay(t){let r=super.fromJulianDay(t),n=r.year-M1,s=t-$c(r.era,r.year,1,1),h;s<vE?(n--,h=_l(r.year-1)?31:30,s+=h+155+90+10):(h=_l(r.year)?31:30,s-=vE);let d,c;if(s<h)d=1,c=s+1;else{let v=s-h;v<155?(d=Math.floor(v/31)+2,c=v%31+1):(v-=155,d=Math.floor(v/30)+7,c=v%30+1)}return new Lr(this,n,d,c)}toJulianDay(t){let r=t.year+M1,[n,s]=v0(r),h,d;return _l(s)?(h=31,d=$c(n,s,3,21)):(h=30,d=$c(n,s,3,22)),t.month===1?d+t.day-1:(d+=h+Math.min(t.month-2,5)*31,t.month>=8&&(d+=(t.month-7)*30),d+=t.day-1,d)}getDaysInMonth(t){return t.month===1&&_l(t.year+M1)||t.month>=2&&t.month<=6?31:30}getYearsInEra(){return 9919}getEras(){return["saka"]}balanceDate(){}constructor(...t){super(...t),this.identifier="indian"}}const wv=1948440,xE=1948439,Ma=1300,sd=1600,Wj=460322;function Sv(e,t,r,n){return n+Math.ceil(29.5*(r-1))+(t-1)*354+Math.floor((3+11*t)/30)+e-1}function x3(e,t,r){let n=Math.floor((30*(r-t)+10646)/10631),s=Math.min(12,Math.ceil((r-(29+Sv(t,n,1,1)))/29.5)+1),h=r-Sv(t,n,s,1)+1;return new Lr(e,n,s,h)}function _E(e){return(14+11*e)%30<11}class V2{fromJulianDay(t){return x3(this,wv,t)}toJulianDay(t){return Sv(wv,t.year,t.month,t.day)}getDaysInMonth(t){let r=29+t.month%2;return t.month===12&&_E(t.year)&&r++,r}getMonthsInYear(){return 12}getDaysInYear(t){return _E(t.year)?355:354}getYearsInEra(){return 9665}getEras(){return["AH"]}constructor(){this.identifier="islamic-civil"}}class Gj extends V2{fromJulianDay(t){return x3(this,xE,t)}toJulianDay(t){return Sv(xE,t.year,t.month,t.day)}constructor(...t){super(...t),this.identifier="islamic-tbla"}}const qj="qgpUDckO1AbqBmwDrQpVBakGkgepC9QF2gpcBS0NlQZKB1QLagutBa4ETwoXBYsGpQbVCtYCWwmdBE0KJg2VDawFtgm6AlsKKwWVCsoG6Qr0AnYJtgJWCcoKpAvSC9kF3AJtCU0FpQpSC6ULtAW2CVcFlwJLBaMGUgdlC2oFqworBZUMSg2lDcoF1gpXCasESwmlClILagt1BXYCtwhbBFUFqQW0BdoJ3QRuAjYJqgpUDbIN1QXaAlsJqwRVCkkLZAtxC7QFtQpVCiUNkg7JDtQG6QprCasEkwpJDaQNsg25CroEWworBZUKKgtVC1wFvQQ9Ah0JlQpKC1oLbQW2AjsJmwRVBqkGVAdqC2wFrQpVBSkLkgupC9QF2gpaBasKlQVJB2QHqgu1BbYCVgpNDiULUgtqC60FrgIvCZcESwalBqwG1gpdBZ0ETQoWDZUNqgW1BdoCWwmtBJUFygbkBuoK9QS2AlYJqgpUC9IL2QXqAm0JrQSVCkoLpQuyBbUJ1gSXCkcFkwZJB1ULagVrCisFiwpGDaMNygXWCtsEawJLCaUKUgtpC3UFdgG3CFsCKwVlBbQF2gntBG0BtgimClINqQ3UBdoKWwmrBFMGKQdiB6kLsgW1ClUFJQuSDckO0gbpCmsFqwRVCikNVA2qDbUJugQ7CpsETQqqCtUK2gJdCV4ELgqaDFUNsga5BroEXQotBZUKUguoC7QLuQXaAloJSgukDdEO6AZqC20FNQWVBkoNqA3UDdoGWwWdAisGFQtKC5ULqgWuCi4JjwwnBZUGqgbWCl0FnQI=";let Cb,jd;function Ry(e){return Wj+jd[e-Ma]}function op(e,t){let r=e-Ma,n=1<<11-(t-1);return Cb[r]&n?30:29}function bE(e,t){let r=Ry(e);for(let n=1;n<t;n++)r+=op(e,n);return r}function wE(e){return jd[e+1-Ma]-jd[e-Ma]}class Zj extends V2{fromJulianDay(t){let r=t-wv,n=Ry(Ma),s=Ry(sd);if(r<n||r>s)return super.fromJulianDay(t);{let h=Ma-1,d=1,c=1;for(;c>0;){h++,c=r-Ry(h)+1;let v=wE(h);if(c===v){d=12;break}else if(c<v){let w=op(h,d);for(d=1;c>w;)c-=w,d++,w=op(h,d);break}}return new Lr(this,h,d,r-bE(h,d)+1)}}toJulianDay(t){return t.year<Ma||t.year>sd?super.toJulianDay(t):wv+bE(t.year,t.month)+(t.day-1)}getDaysInMonth(t){return t.year<Ma||t.year>sd?super.getDaysInMonth(t):op(t.year,t.month)}getDaysInYear(t){return t.year<Ma||t.year>sd?super.getDaysInYear(t):wE(t.year)}constructor(){if(super(),this.identifier="islamic-umalqura",Cb||(Cb=new Uint16Array(Uint8Array.from(atob(qj),t=>t.charCodeAt(0)).buffer)),!jd){jd=new Uint32Array(sd-Ma+1);let t=0;for(let r=Ma;r<=sd;r++){jd[r-Ma]=t;for(let n=1;n<=12;n++)t+=op(r,n)}}}}const SE=347997,_3=1080,b3=24*_3,Yj=29,Xj=12*_3+793,Jj=Yj*b3+Xj;function Ac(e){return ms(e*7+1,19)<7}function Ly(e){let t=Math.floor((235*e-234)/19),r=12084+13753*t,n=t*29+Math.floor(r/25920);return ms(3*(n+1),7)<3&&(n+=1),n}function Qj(e){let t=Ly(e-1),r=Ly(e);return Ly(e+1)-r===356?2:r-t===382?1:0}function wp(e){return Ly(e)+Qj(e)}function w3(e){return wp(e+1)-wp(e)}function e7(e){let t=w3(e);switch(t>380&&(t-=30),t){case 353:return 0;case 354:return 1;case 355:return 2}}function ey(e,t){if(t>=6&&!Ac(e)&&t++,t===4||t===7||t===9||t===11||t===13)return 29;let r=e7(e);return t===2?r===2?30:29:t===3?r===0?29:30:t===6?Ac(e)?30:0:30}class t7{fromJulianDay(t){let r=t-SE,n=r*b3/Jj,s=Math.floor((19*n+234)/235)+1,h=wp(s),d=Math.floor(r-h);for(;d<1;)s--,h=wp(s),d=Math.floor(r-h);let c=1,v=0;for(;v<d;)v+=ey(s,c),c++;c--,v-=ey(s,c);let w=d-v;return new Lr(this,s,c,w)}toJulianDay(t){let r=wp(t.year);for(let n=1;n<t.month;n++)r+=ey(t.year,n);return r+t.day+SE}getDaysInMonth(t){return ey(t.year,t.month)}getMonthsInYear(t){return Ac(t.year)?13:12}getDaysInYear(t){return w3(t.year)}getYearsInEra(){return 9999}getEras(){return["AM"]}balanceYearMonth(t,r){r.year!==t.year&&(Ac(r.year)&&!Ac(t.year)&&r.month>6?t.month--:!Ac(r.year)&&Ac(t.year)&&r.month>6&&t.month++)}constructor(){this.identifier="hebrew"}}const Eb=1723856,PE=1824665,kb=5500;function Pv(e,t,r,n){return e+365*t+Math.floor(t/4)+30*(r-1)+n-1}function U2(e,t){let r=Math.floor(4*(t-e)/1461),n=1+Math.floor((t-Pv(e,r,1,1))/30),s=t+1-Pv(e,r,n,1);return[r,n,s]}function S3(e){return Math.floor(e%4/3)}function P3(e,t){return t%13!==0?30:S3(e)+5}class K2{fromJulianDay(t){let[r,n,s]=U2(Eb,t),h="AM";return r<=0&&(h="AA",r+=kb),new Lr(this,h,r,n,s)}toJulianDay(t){let r=t.year;return t.era==="AA"&&(r-=kb),Pv(Eb,r,t.month,t.day)}getDaysInMonth(t){return P3(t.year,t.month)}getMonthsInYear(){return 13}getDaysInYear(t){return 365+S3(t.year)}getYearsInEra(t){return t.era==="AA"?9999:9991}getEras(){return["AA","AM"]}constructor(){this.identifier="ethiopic"}}class r7 extends K2{fromJulianDay(t){let[r,n,s]=U2(Eb,t);return r+=kb,new Lr(this,"AA",r,n,s)}getEras(){return["AA"]}getYearsInEra(){return 9999}constructor(...t){super(...t),this.identifier="ethioaa"}}class n7 extends K2{fromJulianDay(t){let[r,n,s]=U2(PE,t),h="CE";return r<=0&&(h="BCE",r=1-r),new Lr(this,h,r,n,s)}toJulianDay(t){let r=t.year;return t.era==="BCE"&&(r=1-r),Pv(PE,r,t.month,t.day)}getDaysInMonth(t){let r=t.year;return t.era==="BCE"&&(r=1-r),P3(r,t.month)}isInverseEra(t){return t.era==="BCE"}balanceDate(t){t.year<=0&&(t.era=t.era==="BCE"?"CE":"BCE",t.year=1-t.year)}getEras(){return["BCE","CE"]}getYearsInEra(t){return t.era==="BCE"?9999:9715}constructor(...t){super(...t),this.identifier="coptic"}}function T3(e){switch(e){case"buddhist":return new Oj;case"ethiopic":return new K2;case"ethioaa":return new r7;case"coptic":return new n7;case"hebrew":return new t7;case"indian":return new Hj;case"islamic-civil":return new V2;case"islamic-tbla":return new Gj;case"islamic-umalqura":return new Zj;case"japanese":return new Nj;case"persian":return new Kj;case"roc":return new jj;case"gregory":default:return new ma}}let D1=new Map;class C3{format(t){return this.formatter.format(t)}formatToParts(t){return this.formatter.formatToParts(t)}formatRange(t,r){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(t,r);if(r<t)throw new RangeError("End date must be >= start date");return`${this.formatter.format(t)} – ${this.formatter.format(r)}`}formatRangeToParts(t,r){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(t,r);if(r<t)throw new RangeError("End date must be >= start date");let n=this.formatter.formatToParts(t),s=this.formatter.formatToParts(r);return[...n.map(h=>({...h,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...s.map(h=>({...h,source:"endRange"}))]}resolvedOptions(){let t=this.formatter.resolvedOptions();return o7()&&(this.resolvedHourCycle||(this.resolvedHourCycle=s7(t.locale,this.options)),t.hourCycle=this.resolvedHourCycle,t.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),t.calendar==="ethiopic-amete-alem"&&(t.calendar="ethioaa"),t}constructor(t,r={}){this.formatter=E3(t,r),this.options=r}}const i7={true:{ja:"h11"},false:{}};function E3(e,t={}){if(typeof t.hour12=="boolean"&&a7()){t={...t};let s=i7[String(t.hour12)][e.split("-")[0]],h=t.hour12?"h12":"h23";t.hourCycle=s??h,delete t.hour12}let r=e+(t?Object.entries(t).sort((s,h)=>s[0]<h[0]?-1:1).join():"");if(D1.has(r))return D1.get(r);let n=new Intl.DateTimeFormat(e,t);return D1.set(r,n),n}let $1=null;function a7(){return $1==null&&($1=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),$1}let R1=null;function o7(){return R1==null&&(R1=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),R1}function s7(e,t){if(!t.timeStyle&&!t.hour)return;e=e.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),e+=(e.includes("-u-")?"":"-u")+"-nu-latn";let r=E3(e,{...t,timeZone:void 0}),n=parseInt(r.formatToParts(new Date(2020,2,3,0)).find(h=>h.type==="hour").value,10),s=parseInt(r.formatToParts(new Date(2020,2,3,23)).find(h=>h.type==="hour").value,10);if(n===0&&s===23)return"h23";if(n===24&&s===23)return"h24";if(n===0&&s===11)return"h11";if(n===12&&s===11)return"h12";throw new Error("Unexpected hour cycle result")}function Ss(e,t,r){let[n,s]=z.useState(e||t),h=z.useRef(e!==void 0),d=e!==void 0;z.useEffect(()=>{let w=h.current;w!==d&&console.warn(`WARN: A component changed from ${w?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}.`),h.current=d},[d]);let c=d?e:n,v=z.useCallback((w,...S)=>{let T=(C,...D)=>{r&&(Object.is(c,C)||r(C,...D)),d||(c=C)};typeof w=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),s((D,...B)=>{let j=w(d?c:D,...B);return T(j,...S),d?D:j})):(d||s(w),T(w,...S))},[d,c,r]);return[c,v]}function Ab(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function k3(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=k3(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function l7(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=k3(e))&&(n&&(n+=" "),n+=t);return n}const pn=typeof document<"u"?Qt.useLayoutEffect:()=>{};function io(e){const t=z.useRef(null);return pn(()=>{t.current=e},[e]),z.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function c7(e){let[t,r]=z.useState(e),n=z.useRef(null),s=io(()=>{if(!n.current)return;let d=n.current.next();if(d.done){n.current=null;return}t===d.value?s():r(d.value)});pn(()=>{n.current&&s()});let h=io(d=>{n.current=d(t),s()});return[t,h]}let u7=!!(typeof window<"u"&&window.document&&window.document.createElement),Tv=new Map;function mm(e){let[t,r]=z.useState(e),n=z.useRef(null),s=ej(t),h=z.useCallback(d=>{n.current=d},[]);return u7&&Tv.set(s,h),pn(()=>{let d=s;return()=>{Tv.delete(d)}},[s]),z.useEffect(()=>{let d=n.current;d&&(n.current=null,r(d))}),s}function d7(e,t){if(e===t)return e;let r=Tv.get(e);if(r)return r(t),t;let n=Tv.get(t);return n?(n(e),e):t}function Sp(e=[]){let t=mm(),[r,n]=c7(t),s=z.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return pn(s,[t,s,...e]),r}function Ps(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const qr=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},ao=e=>e&&"window"in e&&e.window===e?e:qr(e).defaultView||window;function Ut(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let s in n){let h=t[s],d=n[s];typeof h=="function"&&typeof d=="function"&&s[0]==="o"&&s[1]==="n"&&s.charCodeAt(2)>=65&&s.charCodeAt(2)<=90?t[s]=Ps(h,d):(s==="className"||s==="UNSAFE_className")&&typeof h=="string"&&typeof d=="string"?t[s]=l7(h,d):s==="id"&&h&&d?t.id=d7(h,d):t[s]=d!==void 0?d:h}}return t}function h7(...e){return e.length===1?e[0]:t=>{for(let r of e)typeof r=="function"?r(t):r!=null&&(r.current=t)}}const f7=new Set(["id"]),p7=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),m7=new Set(["href","target","rel","download","ping","referrerPolicy"]),g7=/^(data-.*)$/;function mh(e,t={}){let{labelable:r,isLink:n,propNames:s}=t,h={};for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f7.has(d)||r&&p7.has(d)||n&&m7.has(d)||s!=null&&s.has(d)||g7.test(d))&&(h[d]=e[d]);return h}function Io(e){if(y7())e.focus({preventScroll:!0});else{let t=v7(e);e.focus(),x7(t)}}let ty=null;function y7(){if(ty==null){ty=!1;try{document.createElement("div").focus({get preventScroll(){return ty=!0,!0}})}catch{}}return ty}function v7(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function x7(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function b0(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function H2(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Qc(){return H2(/^Mac/i)}function _7(){return H2(/^iPhone/i)}function A3(){return H2(/^iPad/i)||Qc()&&navigator.maxTouchPoints>1}function W2(){return _7()||A3()}function b7(){return Qc()||W2()}function I3(){return b0(/AppleWebKit/i)&&!w7()}function w7(){return b0(/Chrome/i)}function M3(){return b0(/Android/i)}function S7(){return b0(/Firefox/i)}const D3=z.createContext({isNative:!0,open:T7});function P7(e){let{children:t,navigate:r}=e,n=z.useMemo(()=>({isNative:!1,open:(s,h)=>{R3(s,d=>{$3(d,h)?r(d.pathname+d.search+d.hash):Fl(d,h)})}}),[r]);return Qt.createElement(D3.Provider,{value:n},t)}function w0(){return z.useContext(D3)}function $3(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function Fl(e,t,r=!0){var n,s;let{metaKey:h,ctrlKey:d,altKey:c,shiftKey:v}=t;S7()&&(!((s=window.event)===null||s===void 0||(n=s.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Qc()?h=!0:d=!0);let w=I3()&&Qc()&&!A3()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:h,ctrlKey:d,altKey:c,shiftKey:v}):new MouseEvent("click",{metaKey:h,ctrlKey:d,altKey:c,shiftKey:v,bubbles:!0,cancelable:!0});Fl.isOpening=r,Io(e),e.dispatchEvent(w),Fl.isOpening=!1}Fl.isOpening=!1;function R3(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function T7(e,t){R3(e,r=>Fl(r,t))}let hd=new Map,Ib=new Set;function TE(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let s=hd.get(n.target);s||(s=new Set,hd.set(n.target,s),n.target.addEventListener("transitioncancel",r,{once:!0})),s.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let s=hd.get(n.target);if(s&&(s.delete(n.propertyName),s.size===0&&(n.target.removeEventListener("transitioncancel",r),hd.delete(n.target)),hd.size===0)){for(let h of Ib)h();Ib.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?TE():document.addEventListener("DOMContentLoaded",TE));function L3(e){requestAnimationFrame(()=>{hd.size===0?e():Ib.add(e)})}function z3(){let e=z.useRef(new Map),t=z.useCallback((s,h,d,c)=>{let v=c!=null&&c.once?(...w)=>{e.current.delete(d),d(...w)}:d;e.current.set(d,{type:h,eventTarget:s,fn:v,options:c}),s.addEventListener(h,d,c)},[]),r=z.useCallback((s,h,d,c)=>{var v;let w=((v=e.current.get(d))===null||v===void 0?void 0:v.fn)||d;s.removeEventListener(h,w,c),e.current.delete(d)},[]),n=z.useCallback(()=>{e.current.forEach((s,h)=>{r(s.eventTarget,s.type,h,s.options)})},[r]);return z.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function G2(e,t){let{id:r,"aria-label":n,"aria-labelledby":s}=e;return r=mm(r),s&&n?s=[...new Set([r,...s.trim().split(/\s+/)])].join(" "):s&&(s=s.trim().split(/\s+/).join(" ")),!n&&!s&&t&&(n=t),{id:r,"aria-label":n,"aria-labelledby":s}}function CE(e,t){const r=z.useRef(!0),n=z.useRef(null);z.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),z.useEffect(()=>{r.current?r.current=!1:(!n.current||t.some((s,h)=>!Object.is(s,n[h])))&&e(),n.current=t},t)}function C7(){return typeof window.ResizeObserver<"u"}function F3(e){const{ref:t,onResize:r}=e;z.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(C7()){const s=new window.ResizeObserver(h=>{h.length&&r()});return s.observe(n),()=>{n&&s.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t])}function B3(e,t){pn(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Mb(e,t){let r=e;for(Cv(r,t)&&(r=r.parentElement);r&&!Cv(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function Cv(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}let E7=0;const L1=new Map;function N3(e){let[t,r]=z.useState();return pn(()=>{if(!e)return;let n=L1.get(e);if(n)r(n.element.id);else{let s=`react-aria-description-${E7++}`;r(s);let h=document.createElement("div");h.id=s,h.style.display="none",h.textContent=e,document.body.appendChild(h),n={refCount:0,element:h},L1.set(e,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),L1.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function sp(e,t,r,n){let s=io(r),h=r==null;z.useEffect(()=>{if(h||!e.current)return;let d=e.current;return d.addEventListener(t,s,n),()=>{d.removeEventListener(t,s,n)}},[e,t,n,h,s])}function O3(e,t){let r=EE(e,t,"left"),n=EE(e,t,"top"),s=t.offsetWidth,h=t.offsetHeight,d=e.scrollLeft,c=e.scrollTop,{borderTopWidth:v,borderLeftWidth:w}=getComputedStyle(e),S=e.scrollLeft+parseInt(w,10),T=e.scrollTop+parseInt(v,10),C=S+e.clientWidth,D=T+e.clientHeight;r<=d?d=r-parseInt(w,10):r+s>C&&(d+=r+s-C),n<=T?c=n-parseInt(v,10):n+h>D&&(c+=n+h-D),e.scrollLeft=d,e.scrollTop=c}function EE(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let s=0;for(;t.offsetParent&&(s+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){s-=e[n];break}t=t.offsetParent}return s}function Db(e,t){if(document.contains(e)){let d=document.scrollingElement||document.documentElement;if(window.getComputedStyle(d).overflow==="hidden"){let v=Mb(e);for(;e&&v&&e!==d&&v!==d;)O3(v,e),e=v,v=Mb(e)}else{var r;let{left:v,top:w}=e.getBoundingClientRect();e==null||(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"});let{left:S,top:T}=e.getBoundingClientRect();if(Math.abs(v-S)>1||Math.abs(w-T)>1){var n,s,h;t==null||(s=t.containingElement)===null||s===void 0||(n=s.scrollIntoView)===null||n===void 0||n.call(s,{block:"center",inline:"center"}),(h=e.scrollIntoView)===null||h===void 0||h.call(e,{block:"nearest"})}}}}function $b(e){return e.mozInputSource===0&&e.isTrusted?!0:M3()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function k7(e){return!M3()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function j3(e,t){let r=z.useRef(null);return e&&r.current&&t(e,r.current)&&(e=r.current),r.current=e,e}const A7=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),I7=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function V3(e){if(Intl.Locale){let r=new Intl.Locale(e).maximize(),n=typeof r.getTextInfo=="function"?r.getTextInfo():r.textInfo;if(n)return n.direction==="rtl";if(r.script)return A7.has(r.script)}let t=e.split("-")[0];return I7.has(t)}const M7=Symbol.for("react-aria.i18n.locale");function U3(){let e=typeof window<"u"&&window[M7]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:V3(e)?"rtl":"ltr"}}let Rb=U3(),lp=new Set;function kE(){Rb=U3();for(let e of lp)e(Rb)}function K3(){let e=m0(),[t,r]=z.useState(Rb);return z.useEffect(()=>(lp.size===0&&window.addEventListener("languagechange",kE),lp.add(r),()=>{lp.delete(r),lp.size===0&&window.removeEventListener("languagechange",kE)}),[]),e?{locale:"en-US",direction:"ltr"}:t}const H3=Qt.createContext(null);function D7(e){let{locale:t,children:r}=e,n=K3(),s=t?{locale:t,direction:V3(t)?"rtl":"ltr"}:n;return Qt.createElement(H3.Provider,{value:s},r)}function uo(){let e=K3();return z.useContext(H3)||e}const AE=new WeakMap;function $7(e){let t=AE.get(e);return t||(t=new g0(e),AE.set(e,t)),t}function R7(e,t){return t&&g0.getGlobalDictionaryForPackage(t)||$7(e)}function gh(e,t){let{locale:r}=uo(),n=R7(e,t);return z.useMemo(()=>new lj(r,n),[r,n])}function Ts(e){e=j3(e??{},L7);let{locale:t}=uo();return z.useMemo(()=>new C3(t,e),[t,e])}function L7(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s of r)if(t[s]!==e[s])return!1;return!0}let z1=new Map;function z7(e){let{locale:t}=uo(),r=t+(e?Object.entries(e).sort((s,h)=>s[0]<h[0]?-1:1).join():"");if(z1.has(r))return z1.get(r);let n=new Intl.Collator(t,e);return z1.set(r,n),n}var Ao=function(){return Ao=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var h in r)Object.prototype.hasOwnProperty.call(r,h)&&(t[h]=r[h])}return t},Ao.apply(this,arguments)};function W3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function F7(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,h;n<s;n++)(h||!(n in t))&&(h||(h=Array.prototype.slice.call(t,0,n)),h[n]=t[n]);return e.concat(h||Array.prototype.slice.call(t))}var G3={};G3={dismiss:"تجاهل"};var q3={};q3={dismiss:"Отхвърляне"};var Z3={};Z3={dismiss:"Odstranit"};var Y3={};Y3={dismiss:"Luk"};var X3={};X3={dismiss:"Schließen"};var J3={};J3={dismiss:"Απόρριψη"};var Q3={};Q3={dismiss:"Dismiss"};var eD={};eD={dismiss:"Descartar"};var tD={};tD={dismiss:"Lõpeta"};var rD={};rD={dismiss:"Hylkää"};var nD={};nD={dismiss:"Rejeter"};var iD={};iD={dismiss:"התעלם"};var aD={};aD={dismiss:"Odbaci"};var oD={};oD={dismiss:"Elutasítás"};var sD={};sD={dismiss:"Ignora"};var lD={};lD={dismiss:"閉じる"};var cD={};cD={dismiss:"무시"};var uD={};uD={dismiss:"Atmesti"};var dD={};dD={dismiss:"Nerādīt"};var hD={};hD={dismiss:"Lukk"};var fD={};fD={dismiss:"Negeren"};var pD={};pD={dismiss:"Zignoruj"};var mD={};mD={dismiss:"Descartar"};var gD={};gD={dismiss:"Dispensar"};var yD={};yD={dismiss:"Revocare"};var vD={};vD={dismiss:"Пропустить"};var xD={};xD={dismiss:"Zrušiť"};var _D={};_D={dismiss:"Opusti"};var bD={};bD={dismiss:"Odbaci"};var wD={};wD={dismiss:"Avvisa"};var SD={};SD={dismiss:"Kapat"};var PD={};PD={dismiss:"Скасувати"};var TD={};TD={dismiss:"取消"};var CD={};CD={dismiss:"關閉"};function B7(e,t){return t.get?t.get.call(e):t.value}function ED(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function N7(e,t){var r=ED(e,t,"get");return B7(e,r)}function O7(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function IE(e,t,r){var n=ED(e,t,"set");return O7(e,n,r),r}let Ed="default",Lb="",zy=new WeakMap;function ME(e){if(W2()){if(Ed==="default"){const t=qr(e);Lb=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}Ed="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(zy.set(e,e.style.userSelect),e.style.userSelect="none")}function ry(e){if(W2()){if(Ed!=="disabled")return;Ed="restoring",setTimeout(()=>{L3(()=>{if(Ed==="restoring"){const t=qr(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Lb||""),Lb="",Ed="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&zy.has(e)){let t=zy.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),zy.delete(e)}}const q2=Qt.createContext({register:()=>{}});q2.displayName="PressResponderContext";function j7(e){let t=z.useContext(q2);if(t){let{register:r,...n}=t;e=Ut(n,e),r()}return B3(t,e.ref),e}var ny=new WeakMap;class iy{continuePropagation(){IE(this,ny,!1)}get shouldStopPropagation(){return N7(this,ny)}constructor(t,r,n){y0(this,ny,{writable:!0,value:void 0}),IE(this,ny,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const DE=Symbol("linkClicked");function yh(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:s,onPressUp:h,isDisabled:d,isPressed:c,preventFocusOnPress:v,shouldCancelOnPointerExit:w,allowTextSelectionOnPress:S,ref:T,...C}=j7(e),[D,B]=z.useState(!1),j=z.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:Y,removeAllGlobalListeners:V}=z3(),F=io((q,pe)=>{let xe=j.current;if(d||xe.didFirePressStart)return!1;let le=!0;if(xe.isTriggeringEvent=!0,n){let Se=new iy("pressstart",pe,q);n(Se),le=Se.shouldStopPropagation}return r&&r(!0),xe.isTriggeringEvent=!1,xe.didFirePressStart=!0,B(!0),le}),N=io((q,pe,xe=!0)=>{let le=j.current;if(!le.didFirePressStart)return!1;le.ignoreClickAfterPress=!0,le.didFirePressStart=!1,le.isTriggeringEvent=!0;let Se=!0;if(s){let ge=new iy("pressend",pe,q);s(ge),Se=ge.shouldStopPropagation}if(r&&r(!1),B(!1),t&&xe&&!d){let ge=new iy("press",pe,q);t(ge),Se&&(Se=ge.shouldStopPropagation)}return le.isTriggeringEvent=!1,Se}),ee=io((q,pe)=>{let xe=j.current;if(d)return!1;if(h){xe.isTriggeringEvent=!0;let le=new iy("pressup",pe,q);return h(le),xe.isTriggeringEvent=!1,le.shouldStopPropagation}return!0}),ie=io(q=>{let pe=j.current;pe.isPressed&&pe.target&&(pe.isOverTarget&&pe.pointerType!=null&&N(ts(pe.target,q),pe.pointerType,!1),pe.isPressed=!1,pe.isOverTarget=!1,pe.activePointerId=null,pe.pointerType=null,V(),S||ry(pe.target))}),fe=io(q=>{w&&ie(q)}),be=z.useMemo(()=>{let q=j.current,pe={onKeyDown(le){if(F1(le.nativeEvent,le.currentTarget)&&le.currentTarget.contains(le.target)){var Se;RE(le.target,le.key)&&le.preventDefault();let ge=!0;if(!q.isPressed&&!le.repeat){q.target=le.currentTarget,q.isPressed=!0,ge=F(le,"keyboard");let ye=le.currentTarget,Be=Re=>{F1(Re,ye)&&!Re.repeat&&ye.contains(Re.target)&&q.target&&ee(ts(q.target,Re),"keyboard")};Y(qr(le.currentTarget),"keyup",Ps(Be,xe),!0)}ge&&le.stopPropagation(),le.metaKey&&Qc()&&((Se=q.metaKeyEvents)===null||Se===void 0||Se.set(le.key,le.nativeEvent))}else le.key==="Meta"&&(q.metaKeyEvents=new Map)},onClick(le){if(!(le&&!le.currentTarget.contains(le.target))&&le&&le.button===0&&!q.isTriggeringEvent&&!Fl.isOpening){let Se=!0;if(d&&le.preventDefault(),!q.ignoreClickAfterPress&&!q.ignoreEmulatedMouseEvents&&!q.isPressed&&(q.pointerType==="virtual"||$b(le.nativeEvent))){!d&&!v&&Io(le.currentTarget);let ge=F(le,"virtual"),ye=ee(le,"virtual"),Be=N(le,"virtual");Se=ge&&ye&&Be}q.ignoreEmulatedMouseEvents=!1,q.ignoreClickAfterPress=!1,Se&&le.stopPropagation()}}},xe=le=>{var Se;if(q.isPressed&&q.target&&F1(le,q.target)){var ge;RE(le.target,le.key)&&le.preventDefault();let Be=le.target;N(ts(q.target,le),"keyboard",q.target.contains(Be)),V(),le.key!=="Enter"&&Z2(q.target)&&q.target.contains(Be)&&!le[DE]&&(le[DE]=!0,Fl(q.target,le,!1)),q.isPressed=!1,(ge=q.metaKeyEvents)===null||ge===void 0||ge.delete(le.key)}else if(le.key==="Meta"&&(!((Se=q.metaKeyEvents)===null||Se===void 0)&&Se.size)){var ye;let Be=q.metaKeyEvents;q.metaKeyEvents=void 0;for(let Re of Be.values())(ye=q.target)===null||ye===void 0||ye.dispatchEvent(new KeyboardEvent("keyup",Re))}};if(typeof PointerEvent<"u"){pe.onPointerDown=ye=>{if(ye.button!==0||!ye.currentTarget.contains(ye.target))return;if(k7(ye.nativeEvent)){q.pointerType="virtual";return}B1(ye.currentTarget)&&ye.preventDefault(),q.pointerType=ye.pointerType;let Be=!0;q.isPressed||(q.isPressed=!0,q.isOverTarget=!0,q.activePointerId=ye.pointerId,q.target=ye.currentTarget,!d&&!v&&Io(ye.currentTarget),S||ME(q.target),Be=F(ye,q.pointerType),Y(qr(ye.currentTarget),"pointermove",le,!1),Y(qr(ye.currentTarget),"pointerup",Se,!1),Y(qr(ye.currentTarget),"pointercancel",ge,!1)),Be&&ye.stopPropagation()},pe.onMouseDown=ye=>{ye.currentTarget.contains(ye.target)&&ye.button===0&&(B1(ye.currentTarget)&&ye.preventDefault(),ye.stopPropagation())},pe.onPointerUp=ye=>{!ye.currentTarget.contains(ye.target)||q.pointerType==="virtual"||ye.button===0&&ld(ye,ye.currentTarget)&&ee(ye,q.pointerType||ye.pointerType)};let le=ye=>{ye.pointerId===q.activePointerId&&(q.target&&ld(ye,q.target)?!q.isOverTarget&&q.pointerType!=null&&(q.isOverTarget=!0,F(ts(q.target,ye),q.pointerType)):q.target&&q.isOverTarget&&q.pointerType!=null&&(q.isOverTarget=!1,N(ts(q.target,ye),q.pointerType,!1),fe(ye)))},Se=ye=>{ye.pointerId===q.activePointerId&&q.isPressed&&ye.button===0&&q.target&&(ld(ye,q.target)&&q.pointerType!=null?N(ts(q.target,ye),q.pointerType):q.isOverTarget&&q.pointerType!=null&&N(ts(q.target,ye),q.pointerType,!1),q.isPressed=!1,q.isOverTarget=!1,q.activePointerId=null,q.pointerType=null,V(),S||ry(q.target))},ge=ye=>{ie(ye)};pe.onDragStart=ye=>{ye.currentTarget.contains(ye.target)&&ie(ye)}}else{pe.onMouseDown=ge=>{if(ge.button!==0||!ge.currentTarget.contains(ge.target))return;if(B1(ge.currentTarget)&&ge.preventDefault(),q.ignoreEmulatedMouseEvents){ge.stopPropagation();return}q.isPressed=!0,q.isOverTarget=!0,q.target=ge.currentTarget,q.pointerType=$b(ge.nativeEvent)?"virtual":"mouse",!d&&!v&&Io(ge.currentTarget),F(ge,q.pointerType)&&ge.stopPropagation(),Y(qr(ge.currentTarget),"mouseup",le,!1)},pe.onMouseEnter=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ye=!0;q.isPressed&&!q.ignoreEmulatedMouseEvents&&q.pointerType!=null&&(q.isOverTarget=!0,ye=F(ge,q.pointerType)),ye&&ge.stopPropagation()},pe.onMouseLeave=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ye=!0;q.isPressed&&!q.ignoreEmulatedMouseEvents&&q.pointerType!=null&&(q.isOverTarget=!1,ye=N(ge,q.pointerType,!1),fe(ge)),ye&&ge.stopPropagation()},pe.onMouseUp=ge=>{ge.currentTarget.contains(ge.target)&&!q.ignoreEmulatedMouseEvents&&ge.button===0&&ee(ge,q.pointerType||"mouse")};let le=ge=>{if(ge.button===0){if(q.isPressed=!1,V(),q.ignoreEmulatedMouseEvents){q.ignoreEmulatedMouseEvents=!1;return}q.target&&ld(ge,q.target)&&q.pointerType!=null?N(ts(q.target,ge),q.pointerType):q.target&&q.isOverTarget&&q.pointerType!=null&&N(ts(q.target,ge),q.pointerType,!1),q.isOverTarget=!1}};pe.onTouchStart=ge=>{if(!ge.currentTarget.contains(ge.target))return;let ye=V7(ge.nativeEvent);if(!ye)return;q.activePointerId=ye.identifier,q.ignoreEmulatedMouseEvents=!0,q.isOverTarget=!0,q.isPressed=!0,q.target=ge.currentTarget,q.pointerType="touch",!d&&!v&&Io(ge.currentTarget),S||ME(q.target),F(ge,q.pointerType)&&ge.stopPropagation(),Y(ao(ge.currentTarget),"scroll",Se,!0)},pe.onTouchMove=ge=>{if(!ge.currentTarget.contains(ge.target))return;if(!q.isPressed){ge.stopPropagation();return}let ye=$E(ge.nativeEvent,q.activePointerId),Be=!0;ye&&ld(ye,ge.currentTarget)?!q.isOverTarget&&q.pointerType!=null&&(q.isOverTarget=!0,Be=F(ge,q.pointerType)):q.isOverTarget&&q.pointerType!=null&&(q.isOverTarget=!1,Be=N(ge,q.pointerType,!1),fe(ge)),Be&&ge.stopPropagation()},pe.onTouchEnd=ge=>{if(!ge.currentTarget.contains(ge.target))return;if(!q.isPressed){ge.stopPropagation();return}let ye=$E(ge.nativeEvent,q.activePointerId),Be=!0;ye&&ld(ye,ge.currentTarget)&&q.pointerType!=null?(ee(ge,q.pointerType),Be=N(ge,q.pointerType)):q.isOverTarget&&q.pointerType!=null&&(Be=N(ge,q.pointerType,!1)),Be&&ge.stopPropagation(),q.isPressed=!1,q.activePointerId=null,q.isOverTarget=!1,q.ignoreEmulatedMouseEvents=!0,q.target&&!S&&ry(q.target),V()},pe.onTouchCancel=ge=>{ge.currentTarget.contains(ge.target)&&(ge.stopPropagation(),q.isPressed&&ie(ge))};let Se=ge=>{q.isPressed&&ge.target.contains(q.target)&&ie({currentTarget:q.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};pe.onDragStart=ge=>{ge.currentTarget.contains(ge.target)&&ie(ge)}}return pe},[Y,d,v,V,S,ie,fe,N,F,ee]);return z.useEffect(()=>()=>{var q;S||ry((q=j.current.target)!==null&&q!==void 0?q:void 0)},[S]),{isPressed:c||D,pressProps:Ut(C,be)}}function Z2(e){return e.tagName==="A"&&e.hasAttribute("href")}function F1(e,t){const{key:r,code:n}=e,s=t,h=s.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(s instanceof ao(s).HTMLInputElement&&!kD(s,r)||s instanceof ao(s).HTMLTextAreaElement||s.isContentEditable)&&!((h==="link"||!h&&Z2(s))&&r!=="Enter")}function V7(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function $E(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const s=r[n];if(s.identifier===t)return s}return null}function ts(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function U7(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function K7(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function ld(e,t){let r=t.getBoundingClientRect(),n=U7(e);return K7(r,n)}function B1(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function RE(e,t){return e instanceof HTMLInputElement?!kD(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!Z2(e)}const H7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function kD(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":H7.has(e.type)}function W7({children:e}){let t=z.useMemo(()=>({register:()=>{}}),[]);return Qt.createElement(q2.Provider,{value:t},e)}class G7{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function AD(e){let t=z.useRef({isFocused:!1,observer:null});pn(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=io(n=>{e==null||e(n)});return z.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=n.target,h=d=>{t.current.isFocused=!1,s.disabled&&r(new G7("blur",d)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",h,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var d;(d=t.current.observer)===null||d===void 0||d.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Y2(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:s}=e;const h=z.useCallback(v=>{if(v.target===v.currentTarget)return n&&n(v),s&&s(!1),!0},[n,s]),d=AD(h),c=z.useCallback(v=>{v.target===v.currentTarget&&document.activeElement===v.target&&(r&&r(v),s&&s(!0),d(v))},[s,r,d]);return{focusProps:{onFocus:!t&&(r||s||n)?c:void 0,onBlur:!t&&(n||s)?h:void 0}}}let vh=null,zb=new Set,Pp=new Map,eu=!1,Fb=!1;const q7={Tab:!0,Escape:!0};function X2(e,t){for(let r of zb)r(e,t)}function Z7(e){return!(e.metaKey||!Qc()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ev(e){eu=!0,Z7(e)&&(vh="keyboard",X2("keyboard",e))}function Ra(e){vh="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(eu=!0,X2("pointer",e))}function ID(e){$b(e)&&(eu=!0,vh="virtual")}function MD(e){e.target===window||e.target===document||(!eu&&!Fb&&(vh="virtual",X2("virtual",e)),eu=!1,Fb=!1)}function DD(){eu=!1,Fb=!0}function Bb(e){if(typeof window>"u"||Pp.get(ao(e)))return;const t=ao(e),r=qr(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){eu=!0,n.apply(this,arguments)},r.addEventListener("keydown",Ev,!0),r.addEventListener("keyup",Ev,!0),r.addEventListener("click",ID,!0),t.addEventListener("focus",MD,!0),t.addEventListener("blur",DD,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",Ra,!0),r.addEventListener("pointermove",Ra,!0),r.addEventListener("pointerup",Ra,!0)):(r.addEventListener("mousedown",Ra,!0),r.addEventListener("mousemove",Ra,!0),r.addEventListener("mouseup",Ra,!0)),t.addEventListener("beforeunload",()=>{$D(e)},{once:!0}),Pp.set(t,{focus:n})}const $D=(e,t)=>{const r=ao(e),n=qr(e);t&&n.removeEventListener("DOMContentLoaded",t),Pp.has(r)&&(r.HTMLElement.prototype.focus=Pp.get(r).focus,n.removeEventListener("keydown",Ev,!0),n.removeEventListener("keyup",Ev,!0),n.removeEventListener("click",ID,!0),r.removeEventListener("focus",MD,!0),r.removeEventListener("blur",DD,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",Ra,!0),n.removeEventListener("pointermove",Ra,!0),n.removeEventListener("pointerup",Ra,!0)):(n.removeEventListener("mousedown",Ra,!0),n.removeEventListener("mousemove",Ra,!0),n.removeEventListener("mouseup",Ra,!0)),Pp.delete(r))};function Y7(e){const t=qr(e);let r;return t.readyState!=="loading"?Bb(e):(r=()=>{Bb(e)},t.addEventListener("DOMContentLoaded",r)),()=>$D(e,r)}typeof document<"u"&&Y7();function J2(){return vh!=="pointer"}function kv(){return vh}const X7=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function J7(e,t,r){var n;const s=typeof window<"u"?ao(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,h=typeof window<"u"?ao(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?ao(r==null?void 0:r.target).HTMLElement:HTMLElement,c=typeof window<"u"?ao(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||(r==null?void 0:r.target)instanceof s&&!X7.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||(r==null?void 0:r.target)instanceof h||(r==null?void 0:r.target)instanceof d&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof c&&!q7[r.key])}function Q7(e,t,r){Bb(),z.useEffect(()=>{let n=(s,h)=>{J7(!!(r!=null&&r.isTextInput),s,h)&&e(J2())};return zb.add(n),()=>{zb.delete(n)}},t)}function Q2(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:s}=e,h=z.useRef({isFocusWithin:!1}),d=z.useCallback(w=>{h.current.isFocusWithin&&!w.currentTarget.contains(w.relatedTarget)&&(h.current.isFocusWithin=!1,r&&r(w),s&&s(!1))},[r,s,h]),c=AD(d),v=z.useCallback(w=>{!h.current.isFocusWithin&&document.activeElement===w.target&&(n&&n(w),s&&s(!0),h.current.isFocusWithin=!0,c(w))},[n,s,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:v,onBlur:d}}}let Av=!1,N1=0;function Nb(){Av=!0,setTimeout(()=>{Av=!1},50)}function LE(e){e.pointerType==="touch"&&Nb()}function eV(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",LE):document.addEventListener("touchend",Nb),N1++,()=>{N1--,!(N1>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",LE):document.removeEventListener("touchend",Nb))}}function iu(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:s}=e,[h,d]=z.useState(!1),c=z.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;z.useEffect(eV,[]);let{hoverProps:v,triggerHoverEnd:w}=z.useMemo(()=>{let S=(D,B)=>{if(c.pointerType=B,s||B==="touch"||c.isHovered||!D.currentTarget.contains(D.target))return;c.isHovered=!0;let j=D.currentTarget;c.target=j,t&&t({type:"hoverstart",target:j,pointerType:B}),r&&r(!0),d(!0)},T=(D,B)=>{if(c.pointerType="",c.target=null,B==="touch"||!c.isHovered)return;c.isHovered=!1;let j=D.currentTarget;n&&n({type:"hoverend",target:j,pointerType:B}),r&&r(!1),d(!1)},C={};return typeof PointerEvent<"u"?(C.onPointerEnter=D=>{Av&&D.pointerType==="mouse"||S(D,D.pointerType)},C.onPointerLeave=D=>{!s&&D.currentTarget.contains(D.target)&&T(D,D.pointerType)}):(C.onTouchStart=()=>{c.ignoreEmulatedMouseEvents=!0},C.onMouseEnter=D=>{!c.ignoreEmulatedMouseEvents&&!Av&&S(D,"mouse"),c.ignoreEmulatedMouseEvents=!1},C.onMouseLeave=D=>{!s&&D.currentTarget.contains(D.target)&&T(D,"mouse")}),{hoverProps:C,triggerHoverEnd:T}},[t,r,n,s,c]);return z.useEffect(()=>{s&&w({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:v,isHovered:h}}function tV(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:s}=e,h=z.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),d=io(v=>{r&&ay(v,t)&&(s&&s(v),h.current.isPointerDown=!0)}),c=io(v=>{r&&r(v)});z.useEffect(()=>{let v=h.current;if(n)return;const w=t.current,S=qr(w);if(typeof PointerEvent<"u"){let T=C=>{v.isPointerDown&&ay(C,t)&&c(C),v.isPointerDown=!1};return S.addEventListener("pointerdown",d,!0),S.addEventListener("pointerup",T,!0),()=>{S.removeEventListener("pointerdown",d,!0),S.removeEventListener("pointerup",T,!0)}}else{let T=D=>{v.ignoreEmulatedMouseEvents?v.ignoreEmulatedMouseEvents=!1:v.isPointerDown&&ay(D,t)&&c(D),v.isPointerDown=!1},C=D=>{v.ignoreEmulatedMouseEvents=!0,v.isPointerDown&&ay(D,t)&&c(D),v.isPointerDown=!1};return S.addEventListener("mousedown",d,!0),S.addEventListener("mouseup",T,!0),S.addEventListener("touchstart",d,!0),S.addEventListener("touchend",C,!0),()=>{S.removeEventListener("mousedown",d,!0),S.removeEventListener("mouseup",T,!0),S.removeEventListener("touchstart",d,!0),S.removeEventListener("touchend",C,!0)}}},[t,n,d,c])}function ay(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function zE(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function RD(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:zE(e.onKeyDown),onKeyUp:zE(e.onKeyUp)}}}const rV=500;function LD(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:n,onLongPress:s,threshold:h=rV,accessibilityDescription:d}=e;const c=z.useRef();let{addGlobalListener:v,removeGlobalListener:w}=z3(),{pressProps:S}=yh({isDisabled:t,onPressStart(C){if(C.continuePropagation(),(C.pointerType==="mouse"||C.pointerType==="touch")&&(r&&r({...C,type:"longpressstart"}),c.current=setTimeout(()=>{C.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),s&&s({...C,type:"longpress"}),c.current=void 0},h),C.pointerType==="touch")){let D=B=>{B.preventDefault()};v(C.target,"contextmenu",D,{once:!0}),v(window,"pointerup",()=>{setTimeout(()=>{w(C.target,"contextmenu",D)},30)},{once:!0})}},onPressEnd(C){c.current&&clearTimeout(c.current),n&&(C.pointerType==="mouse"||C.pointerType==="touch")&&n({...C,type:"longpressend"})}}),T=N3(s&&!t?d:void 0);return{longPressProps:Ut(S,T)}}function tu(e){const t=qr(e);if(kv()==="virtual"){let r=t.activeElement;L3(()=>{t.activeElement===r&&e.isConnected&&Io(e)})}else Io(e)}function nV(e){const t=ao(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,s=r!=="none"&&n!=="hidden"&&n!=="collapse";if(s){const{getComputedStyle:h}=e.ownerDocument.defaultView;let{display:d,visibility:c}=h(e);s=d!=="none"&&c!=="hidden"&&c!=="collapse"}return s}function iV(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function zD(e,t){return e.nodeName!=="#comment"&&nV(e)&&iV(e,t)&&(!e.parentElement||zD(e.parentElement,e))}const FE=Qt.createContext(null);let $r=null;function FD(e){let{children:t,contain:r,restoreFocus:n,autoFocus:s}=e,h=z.useRef(null),d=z.useRef(null),c=z.useRef([]),{parentNode:v}=z.useContext(FE)||{},w=z.useMemo(()=>new Ob({scopeRef:c}),[c]);pn(()=>{let C=v||xn.root;if(xn.getTreeNode(C.scopeRef)&&$r&&!Mv($r,C.scopeRef)){let D=xn.getTreeNode($r);D&&(C=D)}C.addChild(w),xn.addNode(w)},[w,v]),pn(()=>{let C=xn.getTreeNode(c);C&&(C.contain=!!r)},[r]),pn(()=>{var C;let D=(C=h.current)===null||C===void 0?void 0:C.nextSibling,B=[];for(;D&&D!==d.current;)B.push(D),D=D.nextSibling;c.current=B},[t]),dV(c,n,r),lV(c,r),fV(c,n,r),uV(c,s),z.useEffect(()=>{const C=qr(c.current?c.current[0]:void 0).activeElement;let D=null;if(vi(C,c.current)){for(let B of xn.traverse())B.scopeRef&&vi(C,B.scopeRef.current)&&(D=B);D===xn.getTreeNode(c)&&($r=D.scopeRef)}},[c]),pn(()=>()=>{var C,D,B;let j=(B=(D=xn.getTreeNode(c))===null||D===void 0||(C=D.parent)===null||C===void 0?void 0:C.scopeRef)!==null&&B!==void 0?B:null;(c===$r||Mv(c,$r))&&(!j||xn.getTreeNode(j))&&($r=j),xn.removeTreeNode(c)},[c]);let S=z.useMemo(()=>aV(c),[]),T=z.useMemo(()=>({focusManager:S,parentNode:w}),[w,S]);return Qt.createElement(FE.Provider,{value:T},Qt.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:h}),t,Qt.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:d}))}function aV(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:s,wrap:h,accept:d}=t,c=n||qr(r[0]).activeElement,v=r[0].previousElementSibling,w=Rc(r),S=hs(w,{tabbable:s,accept:d},r);S.currentNode=vi(c,r)?c:v;let T=S.nextNode();return!T&&h&&(S.currentNode=v,T=S.nextNode()),T&&ds(T,!0),T},focusPrevious(t={}){let r=e.current,{from:n,tabbable:s,wrap:h,accept:d}=t,c=n||qr(r[0]).activeElement,v=r[r.length-1].nextElementSibling,w=Rc(r),S=hs(w,{tabbable:s,accept:d},r);S.currentNode=vi(c,r)?c:v;let T=S.previousNode();return!T&&h&&(S.currentNode=v,T=S.previousNode()),T&&ds(T,!0),T},focusFirst(t={}){let r=e.current,{tabbable:n,accept:s}=t,h=Rc(r),d=hs(h,{tabbable:n,accept:s},r);d.currentNode=r[0].previousElementSibling;let c=d.nextNode();return c&&ds(c,!0),c},focusLast(t={}){let r=e.current,{tabbable:n,accept:s}=t,h=Rc(r),d=hs(h,{tabbable:n,accept:s},r);d.currentNode=r[r.length-1].nextElementSibling;let c=d.previousNode();return c&&ds(c,!0),c}}}const eS=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],oV=eS.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";eS.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const sV=eS.join(':not([hidden]):not([tabindex="-1"]),');function Rc(e){return e[0].parentElement}function cp(e){let t=xn.getTreeNode($r);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function lV(e,t){let r=z.useRef(),n=z.useRef();pn(()=>{let s=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const h=qr(s?s[0]:void 0);let d=w=>{if(w.key!=="Tab"||w.altKey||w.ctrlKey||w.metaKey||!cp(e))return;let S=h.activeElement,T=e.current;if(!T||!vi(S,T))return;let C=Rc(T),D=hs(C,{tabbable:!0},T);if(!S)return;D.currentNode=S;let B=w.shiftKey?D.previousNode():D.nextNode();B||(D.currentNode=w.shiftKey?T[T.length-1].nextElementSibling:T[0].previousElementSibling,B=w.shiftKey?D.previousNode():D.nextNode()),w.preventDefault(),B&&ds(B,!0)},c=w=>{(!$r||Mv($r,e))&&vi(w.target,e.current)?($r=e,r.current=w.target):cp(e)&&!Iv(w.target,e)?r.current?r.current.focus():$r&&$r.current&&Dv($r.current):cp(e)&&(r.current=w.target)},v=w=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(h.activeElement&&cp(e)&&!Iv(h.activeElement,e))if($r=e,h.body.contains(w.target)){var S;r.current=w.target,(S=r.current)===null||S===void 0||S.focus()}else $r.current&&Dv($r.current)})};return h.addEventListener("keydown",d,!1),h.addEventListener("focusin",c,!1),s==null||s.forEach(w=>w.addEventListener("focusin",c,!1)),s==null||s.forEach(w=>w.addEventListener("focusout",v,!1)),()=>{h.removeEventListener("keydown",d,!1),h.removeEventListener("focusin",c,!1),s==null||s.forEach(w=>w.removeEventListener("focusin",c,!1)),s==null||s.forEach(w=>w.removeEventListener("focusout",v,!1))}},[e,t]),pn(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function BD(e){return Iv(e)}function vi(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function Iv(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of xn.traverse(xn.getTreeNode(t)))if(r&&vi(e,r.current))return!0;return!1}function cV(e){return Iv(e,$r)}function Mv(e,t){var r;let n=(r=xn.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function ds(e,t=!1){if(e!=null&&!t)try{tu(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function Dv(e,t=!0){let r=e[0].previousElementSibling,n=Rc(e),s=hs(n,{tabbable:t},e);s.currentNode=r;let h=s.nextNode();t&&!h&&(n=Rc(e),s=hs(n,{tabbable:!1},e),s.currentNode=r,h=s.nextNode()),ds(h)}function uV(e,t){const r=Qt.useRef(t);z.useEffect(()=>{if(r.current){$r=e;const n=qr(e.current?e.current[0]:void 0);!vi(n.activeElement,$r.current)&&e.current&&Dv(e.current)}r.current=!1},[e])}function dV(e,t,r){pn(()=>{if(t||r)return;let n=e.current;const s=qr(n?n[0]:void 0);let h=d=>{let c=d.target;vi(c,e.current)?$r=e:BD(c)||($r=null)};return s.addEventListener("focusin",h,!1),n==null||n.forEach(d=>d.addEventListener("focusin",h,!1)),()=>{s.removeEventListener("focusin",h,!1),n==null||n.forEach(d=>d.removeEventListener("focusin",h,!1))}},[e,t,r])}function hV(e){let t=xn.getTreeNode($r);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function fV(e,t,r){const n=z.useRef(typeof document<"u"?qr(e.current?e.current[0]:void 0).activeElement:null);pn(()=>{let s=e.current;const h=qr(s?s[0]:void 0);if(!t||r)return;let d=()=>{(!$r||Mv($r,e))&&vi(h.activeElement,e.current)&&($r=e)};return h.addEventListener("focusin",d,!1),s==null||s.forEach(c=>c.addEventListener("focusin",d,!1)),()=>{h.removeEventListener("focusin",d,!1),s==null||s.forEach(c=>c.removeEventListener("focusin",d,!1))}},[e,r]),pn(()=>{const s=qr(e.current?e.current[0]:void 0);if(!t)return;let h=d=>{if(d.key!=="Tab"||d.altKey||d.ctrlKey||d.metaKey||!cp(e))return;let c=s.activeElement;if(!vi(c,e.current))return;let v=xn.getTreeNode(e);if(!v)return;let w=v.nodeToRestore,S=hs(s.body,{tabbable:!0});S.currentNode=c;let T=d.shiftKey?S.previousNode():S.nextNode();if((!w||!s.body.contains(w)||w===s.body)&&(w=void 0,v.nodeToRestore=void 0),(!T||!vi(T,e.current))&&w){S.currentNode=w;do T=d.shiftKey?S.previousNode():S.nextNode();while(vi(T,e.current));d.preventDefault(),d.stopPropagation(),T?ds(T,!0):BD(w)?ds(w,!0):c.blur()}};return r||s.addEventListener("keydown",h,!0),()=>{r||s.removeEventListener("keydown",h,!0)}},[e,t,r]),pn(()=>{const s=qr(e.current?e.current[0]:void 0);if(!t)return;let h=xn.getTreeNode(e);if(h){var d;return h.nodeToRestore=(d=n.current)!==null&&d!==void 0?d:void 0,()=>{let c=xn.getTreeNode(e);if(!c)return;let v=c.nodeToRestore;if(t&&v&&(vi(s.activeElement,e.current)||s.activeElement===s.body&&hV(e))){let w=xn.clone();requestAnimationFrame(()=>{if(s.activeElement===s.body){let S=w.getTreeNode(e);for(;S;){if(S.nodeToRestore&&S.nodeToRestore.isConnected){ds(S.nodeToRestore);return}S=S.parent}for(S=w.getTreeNode(e);S;){if(S.scopeRef&&S.scopeRef.current&&xn.getTreeNode(S.scopeRef)){Dv(S.scopeRef.current,!0);return}S=S.parent}}})}}}},[e,t])}function hs(e,t,r){let n=t!=null&&t.tabbable?sV:oV,s=qr(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(h){var d;return!(t==null||(d=t.from)===null||d===void 0)&&d.contains(h)?NodeFilter.FILTER_REJECT:h.matches(n)&&zD(h)&&(!r||vi(h,r))&&(!(t!=null&&t.accept)||t.accept(h))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(s.currentNode=t.from),s}class tS{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let s=this.fastMap.get(r??null);if(!s)return;let h=new Ob({scopeRef:t});s.addChild(h),h.parent=s,this.fastMap.set(t,h),n&&(h.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let h of this.traverse())h!==r&&r.nodeToRestore&&h.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&vi(h.nodeToRestore,r.scopeRef.current)&&(h.nodeToRestore=r.nodeToRestore);let s=r.children;n&&(n.removeChild(r),s.size>0&&s.forEach(h=>n&&n.addChild(h))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new tS;var n;for(let s of this.traverse())r.addTreeNode(s.scopeRef,(n=(t=s.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,s.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new Ob({scopeRef:null}),this.fastMap.set(null,this.root)}}class Ob{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let xn=new tS;function As(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,s=z.useRef({isFocused:!1,isFocusVisible:t||J2()}),[h,d]=z.useState(!1),[c,v]=z.useState(()=>s.current.isFocused&&s.current.isFocusVisible),w=z.useCallback(()=>v(s.current.isFocused&&s.current.isFocusVisible),[]),S=z.useCallback(D=>{s.current.isFocused=D,d(D),w()},[w]);Q7(D=>{s.current.isFocusVisible=D,w()},[],{isTextInput:r});let{focusProps:T}=Y2({isDisabled:n,onFocusChange:S}),{focusWithinProps:C}=Q2({isDisabled:!n,onFocusWithinChange:S});return{isFocused:h,isFocusVisible:c,focusProps:n?C:T}}let pV=Qt.createContext(null);function mV(e){let t=z.useContext(pV)||{};B3(t,e);let{ref:r,...n}=t;return n}function ND(e,t){let{focusProps:r}=Y2(e),{keyboardProps:n}=RD(e),s=Ut(r,n),h=mV(t),d=e.isDisabled?{}:h,c=z.useRef(e.autoFocus);return z.useEffect(()=>{c.current&&t.current&&tu(t.current),c.current=!1},[t]),{focusableProps:Ut({...s,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},d)}}const BE={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function gV(e={}){let{style:t,isFocusable:r}=e,[n,s]=z.useState(!1),{focusWithinProps:h}=Q2({isDisabled:!r,onFocusWithinChange:c=>s(c)}),d=z.useMemo(()=>n?t:t?{...BE,...t}:BE,[n]);return{visuallyHiddenProps:{...h,style:d}}}function jb(e){let{children:t,elementType:r="div",isFocusable:n,style:s,...h}=e,{visuallyHiddenProps:d}=gV(e);return Qt.createElement(r,Ut(h,d),t)}function yV(e){return e&&e.__esModule?e.default:e}const kd={top:"top",bottom:"top",left:"left",right:"left"},$v={top:"bottom",bottom:"top",left:"right",right:"left"},vV={top:"left",left:"top"},Vb={top:"height",left:"width"},OD={width:"totalWidth",height:"totalHeight"},oy={};let Vi=typeof document<"u"&&window.visualViewport;function NE(e){let t=0,r=0,n=0,s=0,h=0,d=0,c={},v=(Vi==null?void 0:Vi.scale)>1;if(e.tagName==="BODY"){let T=document.documentElement;n=T.clientWidth,s=T.clientHeight;var w;t=(w=Vi==null?void 0:Vi.width)!==null&&w!==void 0?w:n;var S;r=(S=Vi==null?void 0:Vi.height)!==null&&S!==void 0?S:s,c.top=T.scrollTop||e.scrollTop,c.left=T.scrollLeft||e.scrollLeft,Vi&&(h=Vi.offsetTop,d=Vi.offsetLeft)}else({width:t,height:r,top:h,left:d}=Vd(e)),c.top=e.scrollTop,c.left=e.scrollLeft,n=t,s=r;return I3()&&(e.tagName==="BODY"||e.tagName==="HTML")&&v&&(c.top=0,c.left=0,h=Vi.pageTop,d=Vi.pageLeft),{width:t,height:r,totalWidth:n,totalHeight:s,scroll:c,top:h,left:d}}function xV(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function OE(e,t,r,n,s,h,d){let c=s.scroll[e],v=n[Vb[e]],w=n.scroll[kd[e]]+h,S=v+n.scroll[kd[e]]-h,T=t-c+d[e]-n[kd[e]],C=t-c+r+d[e]-n[kd[e]];return T<w?w-T:C>S?Math.max(S-C,w-T):0}function _V(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function jE(e){if(oy[e])return oy[e];let[t,r]=e.split(" "),n=kd[t]||"right",s=vV[n];kd[r]||(r="center");let h=Vb[n],d=Vb[s];return oy[e]={placement:t,crossPlacement:r,axis:n,crossAxis:s,size:h,crossSize:d},oy[e]}function O1(e,t,r,n,s,h,d,c,v,w){let{placement:S,crossPlacement:T,axis:C,crossAxis:D,size:B,crossSize:j}=n,Y={};Y[D]=e[D],T==="center"?Y[D]+=(e[j]-r[j])/2:T!==D&&(Y[D]+=e[j]-r[j]),Y[D]+=h;const V=e[D]-r[j]+v+w,F=e[D]+e[j]-v-w;if(Y[D]=Ab(Y[D],V,F),S===C){const N=c?d[B]:t[OD[B]];Y[$v[C]]=Math.floor(N-e[C]+s)}else Y[C]=Math.floor(e[C]+e[B]+s);return Y}function bV(e,t,r,n,s,h,d,c){const v=n?r.height:t[OD.height];let w=e.top!=null?r.top+e.top:r.top+(v-e.bottom-d),S=c!=="top"?Math.max(0,t.height+t.top+t.scroll.top-w-(s.top+s.bottom+h)):Math.max(0,w+d-(t.top+t.scroll.top)-(s.top+s.bottom+h));return Math.min(t.height-h*2,S)}function VE(e,t,r,n,s,h){let{placement:d,axis:c,size:v}=h;return d===c?Math.max(0,r[c]-e[c]-e.scroll[c]+t[c]-n[c]-n[$v[c]]-s):Math.max(0,e[v]+e[c]+e.scroll[c]-t[c]-r[c]-r[v]-n[c]-n[$v[c]]-s)}function wV(e,t,r,n,s,h,d,c,v,w,S,T,C,D,B,j){let Y=jE(e),{size:V,crossAxis:F,crossSize:N,placement:ee,crossPlacement:ie}=Y,fe=O1(t,c,r,Y,S,T,w,C,B,j),be=S,q=VE(c,w,t,s,h+S,Y);if(d&&n[V]>q){let je=jE(`${$v[ee]} ${ie}`),Oe=O1(t,c,r,je,S,T,w,C,B,j);VE(c,w,t,s,h+S,je)>q&&(Y=je,fe=Oe,be=S)}let pe="bottom";Y.axis==="top"?Y.placement==="top"?pe="top":Y.placement==="bottom"&&(pe="bottom"):Y.crossAxis==="top"&&(Y.crossPlacement==="top"?pe="bottom":Y.crossPlacement==="bottom"&&(pe="top"));let xe=OE(F,fe[F],r[N],c,v,h,w);fe[F]+=xe;let le=bV(fe,c,w,C,s,h,r.height,pe);D&&D<le&&(le=D),r.height=Math.min(r.height,le),fe=O1(t,c,r,Y,be,T,w,C,B,j),xe=OE(F,fe[F],r[N],c,v,h,w),fe[F]+=xe;let Se={},ge=t[F]+.5*t[N]-r[F];const ye=B/2+j,Be=r[N]-B/2-j,Re=t[F]-r[F]+B/2,ae=t[F]+t[N]-r[F]-B/2,De=Ab(ge,Re,ae);return Se[F]=Ab(De,ye,Be),{position:fe,maxHeight:le,arrowOffsetLeft:Se.left,arrowOffsetTop:Se.top,placement:Y.placement}}function SV(e){let{placement:t,targetNode:r,overlayNode:n,scrollNode:s,padding:h,shouldFlip:d,boundaryElement:c,offset:v,crossOffset:w,maxHeight:S,arrowSize:T=0,arrowBoundaryOffset:C=0}=e,D=n instanceof HTMLElement?PV(n):document.documentElement,B=D===document.documentElement;const j=window.getComputedStyle(D).position;let Y=!!j&&j!=="static",V=B?Vd(r):UE(r,D);if(!B){let{marginTop:q,marginLeft:pe}=window.getComputedStyle(r);V.top+=parseInt(q,10)||0,V.left+=parseInt(pe,10)||0}let F=Vd(n),N=_V(n);F.width+=N.left+N.right,F.height+=N.top+N.bottom;let ee=xV(s),ie=NE(c),fe=NE(D),be=c.tagName==="BODY"?Vd(D):UE(D,c);return D.tagName==="HTML"&&c.tagName==="BODY"&&(fe.scroll.top=0,fe.scroll.left=0),wV(t,V,F,ee,N,h,d,ie,fe,be,v,w,Y,S,T,C)}function Vd(e){let{top:t,left:r,width:n,height:s}=e.getBoundingClientRect(),{scrollTop:h,scrollLeft:d,clientTop:c,clientLeft:v}=document.documentElement;return{top:t+h-c,left:r+d-v,width:n,height:s}}function UE(e,t){let r=window.getComputedStyle(e),n;if(r.position==="fixed"){let{top:s,left:h,width:d,height:c}=e.getBoundingClientRect();n={top:s,left:h,width:d,height:c}}else{n=Vd(e);let s=Vd(t),h=window.getComputedStyle(t);s.top+=(parseInt(h.borderTopWidth,10)||0)-t.scrollTop,s.left+=(parseInt(h.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=s.top,n.left-=s.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function PV(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!KE(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!KE(t);)t=t.parentElement;return t||document.documentElement}function KE(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const jD=new WeakMap;function TV(e){let{triggerRef:t,isOpen:r,onClose:n}=e;z.useEffect(()=>{if(!r||n===null)return;let s=h=>{let d=h.target;if(!t.current||d instanceof Node&&!d.contains(t.current))return;let c=n||jD.get(t.current);c&&c()};return window.addEventListener("scroll",s,!0),()=>{window.removeEventListener("scroll",s,!0)}},[r,n,t])}let dn=typeof document<"u"&&window.visualViewport;function CV(e){let{direction:t}=uo(),{arrowSize:r=0,targetRef:n,overlayRef:s,scrollRef:h=s,placement:d="bottom",containerPadding:c=12,shouldFlip:v=!0,boundaryElement:w=typeof document<"u"?document.body:null,offset:S=0,crossOffset:T=0,shouldUpdatePosition:C=!0,isOpen:D=!0,onClose:B,maxHeight:j,arrowBoundaryOffset:Y=0}=e,[V,F]=z.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),N=[C,d,s.current,n.current,h.current,c,v,w,S,T,D,t,j,Y,r],ee=z.useRef(dn==null?void 0:dn.scale);z.useEffect(()=>{D&&(ee.current=dn==null?void 0:dn.scale)},[D]);let ie=z.useCallback(()=>{if(C===!1||!D||!s.current||!n.current||!h.current||!w||(dn==null?void 0:dn.scale)!==ee.current)return;!j&&s.current&&(s.current.style.maxHeight="none");let q=SV({placement:kV(d,t),overlayNode:s.current,targetNode:n.current,scrollNode:h.current,padding:c,shouldFlip:v,boundaryElement:w,offset:S,crossOffset:T,maxHeight:j,arrowSize:r,arrowBoundaryOffset:Y});Object.keys(q.position).forEach(pe=>s.current.style[pe]=q.position[pe]+"px"),s.current.style.maxHeight=q.maxHeight!=null?q.maxHeight+"px":void 0,F(q)},N);pn(ie,N),EV(ie),F3({ref:s,onResize:ie});let fe=z.useRef(!1);pn(()=>{let q,pe=()=>{fe.current=!0,clearTimeout(q),q=setTimeout(()=>{fe.current=!1},500),ie()},xe=()=>{fe.current&&pe()};return dn==null||dn.addEventListener("resize",pe),dn==null||dn.addEventListener("scroll",xe),()=>{dn==null||dn.removeEventListener("resize",pe),dn==null||dn.removeEventListener("scroll",xe)}},[ie]);let be=z.useCallback(()=>{fe.current||B()},[B,fe]);return TV({triggerRef:n,isOpen:D,onClose:B&&be}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...V.position,maxHeight:V.maxHeight}},placement:V.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:V.arrowOffsetLeft,top:V.arrowOffsetTop}},updatePosition:ie}}function EV(e){pn(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function kV(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const rs=[];function AV(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:s,isDismissable:h=!1,isKeyboardDismissDisabled:d=!1,shouldCloseOnInteractOutside:c}=e;z.useEffect(()=>(s&&rs.push(t),()=>{let B=rs.indexOf(t);B>=0&&rs.splice(B,1)}),[s,t]);let v=()=>{rs[rs.length-1]===t&&r&&r()},w=B=>{(!c||c(B.target))&&rs[rs.length-1]===t&&(B.stopPropagation(),B.preventDefault())},S=B=>{(!c||c(B.target))&&(rs[rs.length-1]===t&&(B.stopPropagation(),B.preventDefault()),v())},T=B=>{B.key==="Escape"&&!d&&(B.stopPropagation(),B.preventDefault(),v())};tV({ref:t,onInteractOutside:h&&s?S:null,onInteractOutsideStart:w});let{focusWithinProps:C}=Q2({isDisabled:!n,onBlurWithin:B=>{!B.relatedTarget||cV(B.relatedTarget)||(!c||c(B.relatedTarget))&&r()}}),D=B=>{B.target===B.currentTarget&&B.preventDefault()};return{overlayProps:{onKeyDown:T,...C},underlayProps:{onPointerDown:D}}}function VD(e,t,r){let{type:n}=e,{isOpen:s}=t;z.useEffect(()=>{r&&r.current&&jD.set(r.current,t.close)});let h;n==="menu"?h=!0:n==="listbox"&&(h="listbox");let d=mm();return{triggerProps:{"aria-haspopup":h,"aria-expanded":s,"aria-controls":s?d:null,onPress:t.toggle},overlayProps:{id:d}}}const Ub=Qt.createContext(null);function IV(e){let{children:t}=e,r=z.useContext(Ub),[n,s]=z.useState(0),h=z.useMemo(()=>({parent:r,modalCount:n,addModal(){s(d=>d+1),r&&r.addModal()},removeModal(){s(d=>d-1),r&&r.removeModal()}}),[r,n]);return Qt.createElement(Ub.Provider,{value:h},t)}function MV(){let e=z.useContext(Ub);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function DV(e){let{modalProviderProps:t}=MV();return Qt.createElement("div",{"data-overlay-container":!0,...e,...t})}function $V(e){return Qt.createElement(IV,null,Qt.createElement(DV,e))}var UD={};UD={"ar-AE":G3,"bg-BG":q3,"cs-CZ":Z3,"da-DK":Y3,"de-DE":X3,"el-GR":J3,"en-US":Q3,"es-ES":eD,"et-EE":tD,"fi-FI":rD,"fr-FR":nD,"he-IL":iD,"hr-HR":aD,"hu-HU":oD,"it-IT":sD,"ja-JP":lD,"ko-KR":cD,"lt-LT":uD,"lv-LV":dD,"nb-NO":hD,"nl-NL":fD,"pl-PL":pD,"pt-BR":mD,"pt-PT":gD,"ro-RO":yD,"ru-RU":vD,"sk-SK":xD,"sl-SI":_D,"sr-SP":bD,"sv-SE":wD,"tr-TR":SD,"uk-UA":PD,"zh-CN":TD,"zh-TW":CD};function HE(e){let{onDismiss:t,...r}=e,n=gh(yV(UD),"@react-aria/overlays"),s=G2(r,n.format("dismiss")),h=()=>{t&&t()};return Qt.createElement(jb,null,Qt.createElement("button",{...s,tabIndex:-1,onClick:h,style:{width:1,height:1}}))}let Hf=new WeakMap,Ta=[];function RV(e,t=document.body){let r=new Set(e),n=new Set,s=v=>{for(let C of v.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(C);let w=C=>{if(r.has(C)||n.has(C.parentElement)&&C.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let D of r)if(C.contains(D))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,{acceptNode:w}),T=w(v);if(T===NodeFilter.FILTER_ACCEPT&&h(v),T!==NodeFilter.FILTER_REJECT){let C=S.nextNode();for(;C!=null;)h(C),C=S.nextNode()}},h=v=>{var w;let S=(w=Hf.get(v))!==null&&w!==void 0?w:0;v.getAttribute("aria-hidden")==="true"&&S===0||(S===0&&v.setAttribute("aria-hidden","true"),n.add(v),Hf.set(v,S+1))};Ta.length&&Ta[Ta.length-1].disconnect(),s(t);let d=new MutationObserver(v=>{for(let w of v)if(!(w.type!=="childList"||w.addedNodes.length===0)&&![...r,...n].some(S=>S.contains(w.target))){for(let S of w.removedNodes)S instanceof Element&&(r.delete(S),n.delete(S));for(let S of w.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?r.add(S):S instanceof Element&&s(S)}});d.observe(t,{childList:!0,subtree:!0});let c={observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return Ta.push(c),()=>{d.disconnect();for(let v of n){let w=Hf.get(v);w===1?(v.removeAttribute("aria-hidden"),Hf.delete(v)):Hf.set(v,w-1)}c===Ta[Ta.length-1]?(Ta.pop(),Ta.length&&Ta[Ta.length-1].observe()):Ta.splice(Ta.indexOf(c),1)}}const KD=Qt.createContext(null);function HD(e){let t=m0(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[s,h]=z.useState(!1),d=z.useMemo(()=>({contain:s,setContain:h}),[s,h]);if(!r)return null;let c=e.children;return e.disableFocusManagement||(c=Qt.createElement(FD,{restoreFocus:!0,contain:s&&!n},c)),c=Qt.createElement(KD.Provider,{value:d},Qt.createElement(W7,null,c)),AO.createPortal(c,r)}function LV(){let e=z.useContext(KD),t=e==null?void 0:e.setContain;pn(()=>{t==null||t(!0)},[t])}var zV=({children:e,navigate:t,locale:r="en-US",defaultDates:n={minDate:new Lr(1900,1,1),maxDate:new Lr(2099,12,31)},createCalendar:s,...h})=>{let d=e;t&&(d=L.jsx(P7,{navigate:t,children:d}));const c=z.useMemo(()=>({createCalendar:s,defaultDates:n}),[s,n==null?void 0:n.maxDate,n==null?void 0:n.minDate]);return L.jsx(GO,{value:c,children:L.jsx(D7,{locale:r,children:L.jsx($V,{...h,children:d})})})};function Er(e){return z.forwardRef(e)}var Is=(e,t,r=!0)=>{if(!t)return[e,{}];const n=t.reduce((s,h)=>h in e?{...s,[h]:e[h]}:s,{});return r?[Object.keys(e).filter(h=>!t.includes(h)).reduce((h,d)=>({...h,[d]:e[d]}),{}),n]:[e,n]},FV={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground",foreground:"bg-foreground text-background"},BV={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground",foreground:"shadow-lg shadow-foreground/40 bg-foreground text-background"},NV={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger",foreground:"bg-transparent border-foreground text-foreground"},OV={default:"bg-default/40 text-default-foreground",primary:"bg-primary/20 text-primary",secondary:"bg-secondary/20 text-secondary",success:"bg-success/20 text-success-600 dark:text-success",warning:"bg-warning/20 text-warning-600 dark:text-warning",danger:"bg-danger/20 text-danger dark:text-danger-500",foreground:"bg-foreground/10 text-foreground"},jV={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger",foreground:"border-default bg-default-100 text-foreground"},VV={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger",foreground:"bg-transparent text-foreground"},UV={default:"border-default text-default-foreground hover:!bg-default",primary:"border-primary text-primary hover:!text-primary-foreground hover:!bg-primary",secondary:"border-secondary text-secondary hover:text-secondary-foreground hover:!bg-secondary",success:"border-success text-success hover:!text-success-foreground hover:!bg-success",warning:"border-warning text-warning hover:!text-warning-foreground hover:!bg-warning",danger:"border-danger text-danger hover:!text-danger-foreground hover:!bg-danger",foreground:"border-foreground text-foreground hover:!bg-foreground"},$t={solid:FV,shadow:BV,bordered:NV,flat:OV,faded:jV,light:VV,ghost:UV},WE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sa=e=>!e||typeof e!="object"||Object.keys(e).length===0,KV=(e,t)=>JSON.stringify(e)===JSON.stringify(t);function WD(e,t){e.forEach(function(r){Array.isArray(r)?WD(r,t):t.push(r)})}function GD(e){let t=[];return WD(e,t),t}var qD=(...e)=>GD(e).filter(Boolean),ZD=(e,t)=>{let r={},n=Object.keys(e),s=Object.keys(t);for(let h of n)if(s.includes(h)){let d=e[h],c=t[h];typeof d=="object"&&typeof c=="object"?r[h]=ZD(d,c):Array.isArray(d)||Array.isArray(c)?r[h]=qD(c,d):r[h]=c+" "+d}else r[h]=e[h];for(let h of s)n.includes(h)||(r[h]=t[h]);return r},GE=e=>!e||typeof e!="string"?e:e.replace(/\s+/g," ").trim();function HV(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=YD(t))&&(n&&(n+=" "),n+=r);return n}function YD(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=YD(e[n]))&&(r&&(r+=" "),r+=t);return r}var rS="-";function WV(e){var t=qV(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function h(c){var v=c.split(rS);return v[0]===""&&v.length!==1&&v.shift(),XD(v,t)||GV(c)}function d(c,v){var w=r[c]||[];return v&&s[c]?[].concat(w,s[c]):w}return{getClassGroupId:h,getConflictingClassGroupIds:d}}function XD(e,t){var d;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?XD(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var h=e.join(rS);return(d=t.validators.find(function(c){var v=c.validator;return v(h)}))==null?void 0:d.classGroupId}}var qE=/^\[(.+)\]$/;function GV(e){if(qE.test(e)){var t=qE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function qV(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=YV(Object.entries(e.classGroups),r);return s.forEach(function(h){var d=h[0],c=h[1];Kb(c,n,d,t)}),n}function Kb(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var h=s===""?t:ZE(t,s);h.classGroupId=r;return}if(typeof s=="function"){if(ZV(s)){Kb(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(d){var c=d[0],v=d[1];Kb(v,ZE(t,c),r,n)})})}function ZE(e,t){var r=e;return t.split(rS).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function ZV(e){return e.isThemeGetter}function YV(e,t){return t?e.map(function(r){var n=r[0],s=r[1],h=s.map(function(d){return typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(function(c){var v=c[0],w=c[1];return[t+v,w]})):d});return[n,h]}):e}function XV(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(h,d){r.set(h,d),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(d){var c=r.get(d);if(c!==void 0)return c;if((c=n.get(d))!==void 0)return s(d,c),c},set:function(d,c){r.has(d)?r.set(d,c):s(d,c)}}}var JD="!";function JV(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(d){for(var c=[],v=0,w=0,S,T=0;T<d.length;T++){var C=d[T];if(v===0){if(C===n&&(r||d.slice(T,T+s)===t)){c.push(d.slice(w,T)),w=T+s;continue}if(C==="/"){S=T;continue}}C==="["?v++:C==="]"&&v--}var D=c.length===0?d:d.substring(w),B=D.startsWith(JD),j=B?D.substring(1):D,Y=S&&S>w?S-w:void 0;return{modifiers:c,hasImportantModifier:B,baseClassName:j,maybePostfixModifierPosition:Y}}}function QV(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function e9(e){return{cache:XV(e.cacheSize),splitModifiers:JV(e),...WV(e)}}var t9=/\s+/;function r9(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,h=new Set;return e.trim().split(t9).map(function(d){var c=r(d),v=c.modifiers,w=c.hasImportantModifier,S=c.baseClassName,T=c.maybePostfixModifierPosition,C=n(T?S.substring(0,T):S),D=!!T;if(!C){if(!T)return{isTailwindClass:!1,originalClassName:d};if(C=n(S),!C)return{isTailwindClass:!1,originalClassName:d};D=!1}var B=QV(v).join(":"),j=w?B+JD:B;return{isTailwindClass:!0,modifierId:j,classGroupId:C,originalClassName:d,hasPostfixModifier:D}}).reverse().filter(function(d){if(!d.isTailwindClass)return!0;var c=d.modifierId,v=d.classGroupId,w=d.hasPostfixModifier,S=c+v;return h.has(S)?!1:(h.add(S),s(v,w).forEach(function(T){return h.add(c+T)}),!0)}).reverse().map(function(d){return d.originalClassName}).join(" ")}function Hb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,h,d=c;function c(w){var S=t[0],T=t.slice(1),C=T.reduce(function(D,B){return B(D)},S());return n=e9(C),s=n.cache.get,h=n.cache.set,d=v,v(w)}function v(w){var S=s(w);if(S)return S;var T=r9(w,n);return h(w,T),T}return function(){return d(HV.apply(null,arguments))}}function Br(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var QD=/^\[(?:([a-z-]+):)?(.+)\]$/i,n9=/^\d+\/\d+$/,i9=new Set(["px","full","screen"]),a9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s9=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Qa(e){return Lc(e)||i9.has(e)||n9.test(e)||Wb(e)}function Wb(e){return au(e,"length",f9)}function l9(e){return au(e,"size",e4)}function c9(e){return au(e,"position",e4)}function u9(e){return au(e,"url",p9)}function sy(e){return au(e,"number",Lc)}function Lc(e){return!Number.isNaN(Number(e))}function d9(e){return e.endsWith("%")&&Lc(e.slice(0,-1))}function Wf(e){return YE(e)||au(e,"number",YE)}function nr(e){return QD.test(e)}function Gf(){return!0}function nl(e){return a9.test(e)}function h9(e){return au(e,"",m9)}function au(e,t,r){var n=QD.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function f9(e){return o9.test(e)}function e4(){return!1}function p9(e){return e.startsWith("url(")}function YE(e){return Number.isInteger(Number(e))}function m9(e){return s9.test(e)}function Gb(){var e=Br("colors"),t=Br("spacing"),r=Br("blur"),n=Br("brightness"),s=Br("borderColor"),h=Br("borderRadius"),d=Br("borderSpacing"),c=Br("borderWidth"),v=Br("contrast"),w=Br("grayscale"),S=Br("hueRotate"),T=Br("invert"),C=Br("gap"),D=Br("gradientColorStops"),B=Br("gradientColorStopPositions"),j=Br("inset"),Y=Br("margin"),V=Br("opacity"),F=Br("padding"),N=Br("saturate"),ee=Br("scale"),ie=Br("sepia"),fe=Br("skew"),be=Br("space"),q=Br("translate"),pe=function(){return["auto","contain","none"]},xe=function(){return["auto","hidden","clip","visible","scroll"]},le=function(){return["auto",nr,t]},Se=function(){return[nr,t]},ge=function(){return["",Qa]},ye=function(){return["auto",Lc,nr]},Be=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Re=function(){return["solid","dashed","dotted","double","none"]},ae=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},De=function(){return["start","end","center","between","around","evenly","stretch"]},je=function(){return["","0",nr]},Oe=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},se=function(){return[Lc,sy]},ze=function(){return[Lc,nr]};return{cacheSize:500,theme:{colors:[Gf],spacing:[Qa],blur:["none","",nl,nr],brightness:se(),borderColor:[e],borderRadius:["none","","full",nl,nr],borderSpacing:Se(),borderWidth:ge(),contrast:se(),grayscale:je(),hueRotate:ze(),invert:je(),gap:Se(),gradientColorStops:[e],gradientColorStopPositions:[d9,Wb],inset:le(),margin:le(),opacity:se(),padding:Se(),saturate:se(),scale:se(),sepia:je(),skew:ze(),space:Se(),translate:Se()},classGroups:{aspect:[{aspect:["auto","square","video",nr]}],container:["container"],columns:[{columns:[nl]}],"break-after":[{"break-after":Oe()}],"break-before":[{"break-before":Oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(Be(),[nr])}],overflow:[{overflow:xe()}],"overflow-x":[{"overflow-x":xe()}],"overflow-y":[{"overflow-y":xe()}],overscroll:[{overscroll:pe()}],"overscroll-x":[{"overscroll-x":pe()}],"overscroll-y":[{"overscroll-y":pe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Wf]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nr]}],grow:[{grow:je()}],shrink:[{shrink:je()}],order:[{order:["first","last","none",Wf]}],"grid-cols":[{"grid-cols":[Gf]}],"col-start-end":[{col:["auto",{span:["full",Wf]},nr]}],"col-start":[{"col-start":ye()}],"col-end":[{"col-end":ye()}],"grid-rows":[{"grid-rows":[Gf]}],"row-start-end":[{row:["auto",{span:[Wf]},nr]}],"row-start":[{"row-start":ye()}],"row-end":[{"row-end":ye()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nr]}],gap:[{gap:[C]}],"gap-x":[{"gap-x":[C]}],"gap-y":[{"gap-y":[C]}],"justify-content":[{justify:["normal"].concat(De())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(De(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(De(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[Y]}],mx:[{mx:[Y]}],my:[{my:[Y]}],ms:[{ms:[Y]}],me:[{me:[Y]}],mt:[{mt:[Y]}],mr:[{mr:[Y]}],mb:[{mb:[Y]}],ml:[{ml:[Y]}],"space-x":[{"space-x":[be]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[be]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",nr,t]}],"min-w":[{"min-w":["min","max","fit",nr,Qa]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[nl]},nl,nr]}],h:[{h:[nr,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",nr,Qa]}],"max-h":[{"max-h":[nr,t,"min","max","fit"]}],"font-size":[{text:["base",nl,Wb]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sy]}],"font-family":[{font:[Gf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nr]}],"line-clamp":[{"line-clamp":["none",Lc,sy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nr,Qa]}],"list-image":[{"list-image":["none",nr]}],"list-style-type":[{list:["none","disc","decimal",nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[V]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Re(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Qa]}],"underline-offset":[{"underline-offset":["auto",nr,Qa]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:Se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[V]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(Be(),[c9])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},u9]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[B]}],"gradient-via-pos":[{via:[B]}],"gradient-to-pos":[{to:[B]}],"gradient-from":[{from:[D]}],"gradient-via":[{via:[D]}],"gradient-to":[{to:[D]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[V]}],"border-style":[{border:[].concat(Re(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[V]}],"divide-style":[{divide:Re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(Re())}],"outline-offset":[{"outline-offset":[nr,Qa]}],"outline-w":[{outline:[Qa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[V]}],"ring-offset-w":[{"ring-offset":[Qa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nl,h9]}],"shadow-color":[{shadow:[Gf]}],opacity:[{opacity:[V]}],"mix-blend":[{"mix-blend":ae()}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",nl,nr]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[S]}],invert:[{invert:[T]}],saturate:[{saturate:[N]}],sepia:[{sepia:[ie]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[S]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[V]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[ie]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nr]}],duration:[{duration:ze()}],ease:[{ease:["linear","in","out","in-out",nr]}],delay:[{delay:ze()}],animate:[{animate:["none","spin","ping","pulse","bounce",nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ee]}],"scale-x":[{"scale-x":[ee]}],"scale-y":[{"scale-y":[ee]}],rotate:[{rotate:[Wf,nr]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[fe]}],"skew-y":[{"skew-y":[fe]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nr]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Se()}],"scroll-mx":[{"scroll-mx":Se()}],"scroll-my":[{"scroll-my":Se()}],"scroll-ms":[{"scroll-ms":Se()}],"scroll-me":[{"scroll-me":Se()}],"scroll-mt":[{"scroll-mt":Se()}],"scroll-mr":[{"scroll-mr":Se()}],"scroll-mb":[{"scroll-mb":Se()}],"scroll-ml":[{"scroll-ml":Se()}],"scroll-p":[{"scroll-p":Se()}],"scroll-px":[{"scroll-px":Se()}],"scroll-py":[{"scroll-py":Se()}],"scroll-ps":[{"scroll-ps":Se()}],"scroll-pe":[{"scroll-pe":Se()}],"scroll-pt":[{"scroll-pt":Se()}],"scroll-pr":[{"scroll-pr":Se()}],"scroll-pb":[{"scroll-pb":Se()}],"scroll-pl":[{"scroll-pl":Se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qa,sy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}function g9(e,t){for(var r in t)t4(e,r,t[r]);return e}var y9=Object.prototype.hasOwnProperty,v9=new Set(["string","number","boolean"]);function t4(e,t,r){if(!y9.call(e,t)||v9.has(typeof r)||r===null){e[t]=r;return}if(Array.isArray(r)&&Array.isArray(e[t])){e[t]=e[t].concat(r);return}if(typeof r=="object"&&typeof e[t]=="object"){if(e[t]===null){e[t]=r;return}for(var n in r)t4(e[t],n,r[n])}}function x9(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return typeof e=="function"?Hb.apply(void 0,[Gb,e].concat(r)):Hb.apply(void 0,[function(){return g9(Gb(),e)}].concat(r))}var _9=Hb(Gb),b9={twMerge:!0,twMergeConfig:{},responsiveVariants:!1},r4=e=>e||void 0,Yp=(...e)=>r4(GD(e).filter(Boolean).join(" ")),j1=null,Rv={},qb=!1,qf=(...e)=>t=>t.twMerge?((!j1||qb)&&(qb=!1,j1=sa(Rv)?_9:x9(Rv)),r4(j1(Yp(e)))):Yp(e),XE=(e,t)=>{for(let r in t)e.hasOwnProperty(r)?e[r]=Yp(e[r],t[r]):e[r]=t[r];return e},w9=(e,t)=>{let{extend:r=null,slots:n={},variants:s={},compoundVariants:h=[],compoundSlots:d=[],defaultVariants:c={}}=e,v={...b9,...t},w=r!=null&&r.base?Yp(r.base,e==null?void 0:e.base):e==null?void 0:e.base,S=r!=null&&r.variants&&!sa(r.variants)?ZD(s,r.variants):s,T=r!=null&&r.defaultVariants&&!sa(r.defaultVariants)?{...r.defaultVariants,...c}:c;!sa(v.twMergeConfig)&&!KV(v.twMergeConfig,Rv)&&(qb=!0,Rv=v.twMergeConfig);let C=sa(r==null?void 0:r.slots),D=sa(n)?{}:{base:Yp(e==null?void 0:e.base,C&&(r==null?void 0:r.base)),...n},B=C?D:XE({...r==null?void 0:r.slots},sa(D)?{base:e==null?void 0:e.base}:D),j=V=>{if(sa(S)&&sa(n)&&C)return qf(w,V==null?void 0:V.class,V==null?void 0:V.className)(v);if(h&&!Array.isArray(h))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof h}`);if(d&&!Array.isArray(d))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof d}`);let F=(Se,ge,ye=[],Be)=>{let Re=ye;if(typeof ge=="string")Re=Re.concat(GE(ge).split(" ").map(ae=>`${Se}:${ae}`));else if(Array.isArray(ge))Re=Re.concat(ge.reduce((ae,De)=>ae.concat(`${Se}:${De}`),[]));else if(typeof ge=="object"&&typeof Be=="string"){for(let ae in ge)if(ge.hasOwnProperty(ae)&&ae===Be){let De=ge[ae];if(De&&typeof De=="string"){let je=GE(De);Re[Be]?Re[Be]=Re[Be].concat(je.split(" ").map(Oe=>`${Se}:${Oe}`)):Re[Be]=je.split(" ").map(Oe=>`${Se}:${Oe}`)}else Array.isArray(De)&&De.length>0&&(Re[Be]=De.reduce((je,Oe)=>je.concat(`${Se}:${Oe}`),[]))}}return Re},N=(Se,ge=S,ye=null,Be=null)=>{var Re;let ae=ge[Se];if(!ae||sa(ae))return null;let De=(Re=Be==null?void 0:Be[Se])!=null?Re:V==null?void 0:V[Se];if(De===null)return null;let je=WE(De),Oe=Array.isArray(v.responsiveVariants)&&v.responsiveVariants.length>0||v.responsiveVariants===!0,se=T==null?void 0:T[Se],ze=[];if(typeof je=="object"&&Oe)for(let[lt,mt]of Object.entries(je)){let gt=ae[mt];if(lt==="initial"){se=mt;continue}Array.isArray(v.responsiveVariants)&&!v.responsiveVariants.includes(lt)||(ze=F(lt,gt,ze,ye))}let Ze=ae[je]||ae[WE(se)];return typeof ze=="object"&&typeof ye=="string"&&ze[ye]?XE(ze,Ze):ze.length>0?(ze.push(Ze),ze):Ze},ee=()=>S?Object.keys(S).map(Se=>N(Se,S)):null,ie=(Se,ge)=>{if(!S||typeof S!="object")return null;let ye=new Array;for(let Be in S){let Re=N(Be,S,Se,ge),ae=Se==="base"&&typeof Re=="string"?Re:Re&&Re[Se];ae&&(ye[ye.length]=ae)}return ye},fe={};for(let Se in V)V[Se]!==void 0&&(fe[Se]=V[Se]);let be=(Se,ge)=>{var ye;let Be=typeof(V==null?void 0:V[Se])=="object"?{[Se]:(ye=V[Se])==null?void 0:ye.initial}:{};return{...T,...fe,...Be,...ge}},q=(Se=[],ge)=>{let ye=[];for(let{class:Be,className:Re,...ae}of Se){let De=!0;for(let[je,Oe]of Object.entries(ae)){let se=be(je,ge);if(Array.isArray(Oe)){if(!Oe.includes(se[je])){De=!1;break}}else if(se[je]!==Oe){De=!1;break}}De&&(Be&&ye.push(Be),Re&&ye.push(Re))}return ye},pe=Se=>{let ge=q(h,Se),ye=q(r==null?void 0:r.compoundVariants,Se);return qD(ye,ge)},xe=Se=>{let ge=pe(Se);if(!Array.isArray(ge))return ge;let ye={};for(let Be of ge)if(typeof Be=="string"&&(ye.base=qf(ye.base,Be)(v)),typeof Be=="object")for(let[Re,ae]of Object.entries(Be))ye[Re]=qf(ye[Re],ae)(v);return ye},le=Se=>{if(d.length<1)return null;let ge={};for(let{slots:ye=[],class:Be,className:Re,...ae}of d){if(!sa(ae)){let De=!0;for(let je of Object.keys(ae)){let Oe=be(je,Se)[je];if(Oe===void 0||(Array.isArray(ae[je])?!ae[je].includes(Oe):ae[je]!==Oe)){De=!1;break}}if(!De)continue}for(let De of ye)ge[De]=ge[De]||[],ge[De].push([Be,Re])}return ge};if(!sa(n)||!C){let Se={};if(typeof B=="object"&&!sa(B))for(let ge of Object.keys(B))Se[ge]=ye=>{var Be,Re;return qf(B[ge],ie(ge,ye),((Be=xe(ye))!=null?Be:[])[ge],((Re=le(ye))!=null?Re:[])[ge],ye==null?void 0:ye.class,ye==null?void 0:ye.className)(v)};return Se}return qf(w,ee(),pe(),V==null?void 0:V.class,V==null?void 0:V.className)(v)},Y=()=>{if(!(!S||typeof S!="object"))return Object.keys(S)};return j.variantKeys=Y(),j.extend=r,j.base=w,j.slots=B,j.variants=S,j.defaultVariants=T,j.compoundSlots=d,j.compoundVariants=h,j},ly=["small","medium","large"],Sn=(e,t)=>{var r,n,s;return w9(e,{...t,twMerge:(r=void 0)!=null?r:!0,twMergeConfig:{theme:{...(n=void 0)==null?void 0:n.theme,opacity:["disabled"],spacing:["divider"],borderWidth:ly,borderRadius:ly},classGroups:{...(s=void 0)==null?void 0:s.classGroups,shadow:[{shadow:ly}],"font-size":[{text:["tiny",...ly]}],"bg-image":["bg-stripe-gradient"]}}})},zo=["outline-none","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],V1=["absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"],cd={default:["[&+.border-medium.border-default]:ms-[calc(theme(borderWidth.medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(theme(borderWidth.medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(theme(borderWidth.medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(theme(borderWidth.medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(theme(borderWidth.medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(theme(borderWidth.medium)*-1)]"]},JE=Sn({slots:{base:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2","data-[loaded=true]:!bg-transparent","data-[loaded=true]:before:opacity-0 data-[loaded=true]:before:animate-none","data-[loaded=true]:after:opacity-0"],content:["opacity-0","group-data-[loaded=true]:opacity-100"]},variants:{disableAnimation:{true:{base:"before:animate-none before:transition-none after:transition-none",content:"transition-none"},false:{base:"transition-background !duration-300 before:transition-opacity before:!duration-300",content:"transition-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{disableAnimation:!1}}),QE=Sn({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",circle1:["absolute","w-full","h-full","rounded-full","animate-spinner-ease-spin","border-2","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["absolute","w-full","h-full","rounded-full","opacity-75","animate-spinner-linear-spin","border-2","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"],label:"text-foreground dark:text-foreground-dark font-regular"},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current"},white:{circle1:"border-b-white",circle2:"border-b-white"},default:{circle1:"border-b-default",circle2:"border-b-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground"}}),S9=Sn({slots:{base:"w-full relative flex flex-col gap-1 p-1",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),ek=Sn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...zo,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1,showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),P9=Sn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}}),tk=Sn({slots:{base:["flex","z-40","w-full","h-auto","items-center","justify-center","data-[menu-open=true]:border-none"],wrapper:["z-40","flex","px-6","gap-4","w-full","flex-row","relative","flex-nowrap","items-center","justify-between","h-[var(--navbar-height)]"],toggle:["group","flex","items-center","justify-center","w-6","h-full","outline-none","rounded-small","tap-highlight-transparent",...zo],srOnly:["sr-only"],toggleIcon:["w-full","h-full","pointer-events-none","flex","flex-col","items-center","justify-center","text-inherit","group-data-[pressed=true]:opacity-70","transition-opacity","before:content-['']","before:block","before:h-px","before:w-6","before:bg-current","before:transition-transform","before:duration-150","before:-translate-y-1","before:rotate-0","group-data-[open=true]:before:translate-y-px","group-data-[open=true]:before:rotate-45","after:content-['']","after:block","after:h-px","after:w-6","after:bg-current","after:transition-transform","after:duration-150","after:translate-y-1","after:rotate-0","group-data-[open=true]:after:translate-y-0","group-data-[open=true]:after:-rotate-45"],brand:["flex","basis-0","flex-row","flex-grow","flex-nowrap","justify-start","bg-transparent","items-center","no-underline","text-medium","whitespace-nowrap","box-border"],content:["flex","gap-4","h-full","flex-row","flex-nowrap","items-center","data-[justify=start]:justify-start","data-[justify=start]:flex-grow","data-[justify=start]:basis-0","data-[justify=center]:justify-center","data-[justify=end]:justify-end","data-[justify=end]:flex-grow","data-[justify=end]:basis-0"],item:["text-medium","whitespace-nowrap","box-border","list-none","data-[active=true]:font-semibold"],menu:["z-30","px-6","pt-2","fixed","flex","max-w-full","top-[var(--navbar-height)]","inset-x-0","bottom-0","w-screen","flex-col","gap-2","overflow-y-auto"],menuItem:["text-large","data-[active=true]:font-semibold"]},variants:{position:{static:{base:"static"},sticky:{base:"sticky top-0 inset-x-0"}},maxWidth:{sm:{wrapper:"max-w-[640px]"},md:{wrapper:"max-w-[768px]"},lg:{wrapper:"max-w-[1024px]"},xl:{wrapper:"max-w-[1280px]"},"2xl":{wrapper:"max-w-[1536px]"},full:{wrapper:"max-w-full"}},hideOnScroll:{true:{base:["sticky","top-0","inset-x-0"]}},isBordered:{true:{base:["border-b","border-divider"]}},isBlurred:{false:{base:"bg-background",menu:"bg-background"},true:{base:["backdrop-blur-lg","data-[menu-open=true]:backdrop-blur-xl","backdrop-saturate-150","bg-background/70"],menu:["backdrop-blur-xl","backdrop-saturate-150","bg-background/70"]}},disableAnimation:{true:{menu:["hidden","h-[calc(100dvh_-_var(--navbar-height)_-_1px)]","data-[open=true]:flex"]}}},defaultVariants:{maxWidth:"lg",position:"sticky",isBlurred:!0}}),rk=Sn({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...zo],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-none","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:$t.solid.foreground},primary:{base:"before:bg-primary",content:$t.solid.primary},secondary:{base:"before:bg-secondary",content:$t.solid.secondary},success:{base:"before:bg-success",content:$t.solid.success},warning:{base:"before:bg-warning",content:$t.solid.warning},danger:{base:"before:bg-danger",content:$t.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",disableAnimation:!1,triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),T9=Sn({base:"shrink-0 bg-divider border-none",variants:{orientation:{horizontal:"w-full h-divider",vertical:"h-full w-divider"}},defaultVariants:{orientation:"horizontal"}}),C9=Sn({base:["w-full","p-1","min-w-[200px]"]});Sn({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...zo,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default",disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});Sn({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});Sn({base:"w-full flex flex-col gap-0.5 p-1"});var nk=Sn({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2","before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1,disableAnimation:!1},compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),ik=Sn({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...zo],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1,disableAnimation:!1}}),E9="flex mx-1 text-current self-center",ak=Sn({slots:{base:["relative w-fit max-w-full shadow-small inline-block overflow-y-hidden","rounded-large overflow-x-auto bg-default-50 dark:bg-background","w-[calc(var(--visible-months)_*_var(--calendar-width))]"],prevButton:[],nextButton:[],headerWrapper:["px-4 py-2 flex items-center justify-between gap-2 bg-content1","[&_.chevron-icon]:flex-none","after:content-['']","after:bg-content1 origin-top","after:w-full after:h-0","after:absolute after:top-0 after:left-0"],header:"flex w-full items-center justify-center gap-2 z-10",title:"text-default-500 text-small font-medium",content:"w-[calc(var(--visible-months)_*_var(--calendar-width))]",gridWrapper:"flex max-w-full overflow-hidden pb-2 h-auto relative",grid:"w-full border-collapse z-0",gridHeader:"bg-content1 shadow-[0px_20px_20px_0px_rgb(0_0_0/0.05)]",gridHeaderRow:"px-4 pb-2 flex justify-center text-default-400",gridHeaderCell:"flex w-8 justify-center items-center font-medium text-small",gridBody:"",gridBodyRow:"flex justify-center items-center first:mt-2",cell:"py-0.5 px-0",cellButton:["w-8 h-8 flex items-center text-foreground justify-center rounded-full","box-border appearance-none select-none whitespace-nowrap font-normal","subpixel-antialiased overflow-hidden tap-highlight-transparent","data-[disabled=true]:text-default-300","data-[disabled=true]:cursor-default","data-[readonly=true]:cursor-default","data-[disabled=true]:transition-none","data-[unavailable=true]:text-default-300","data-[unavailable=true]:cursor-default","data-[unavailable=true]:line-through",...zo],pickerWrapper:"absolute inset-x-0 top-0 flex w-full h-[var(--picker-height)] justify-center opacity-0 pointer-events-none",pickerMonthList:"items-start",pickerYearList:"items-center",pickerHighlight:"h-8 bg-default-200 absolute w-[calc(100%_-_16px)] rounded-medium z-0 top-1/2 -translate-y-1/2 pointer-events-none",pickerItem:["w-full flex text-foreground items-center h-8 leading-[32px] min-h-[32px] snap-center text-large z-20","data-[pressed=true]:opacity-50",...zo],helperWrapper:"px-4 pb-2 max-w-[270px] flex justify-start flex-wrap items-center",errorMessage:"text-small text-danger break-words max-w-full"},variants:{color:{foreground:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isRange:{true:{cellButton:["relative","overflow-visible","before:content-[''] before:absolute before:inset-0 before:z-[-1] before:rounded-none","data-[outside-month=true]:before:hidden","data-[selected=true]:data-[range-selection=true]:data-[outside-month=true]:bg-transparent","data-[selected=true]:data-[range-selection=true]:data-[outside-month=true]:text-default-300","data-[range-start=true]:before:rounded-l-full","data-[selection-start=true]:before:rounded-l-full","data-[range-end=true]:before:rounded-r-full","data-[selection-end=true]:before:rounded-r-full","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:rounded-full","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:rounded-full"]},false:{}},hideDisabledDates:{true:{cellButton:"data-[disabled=true]:opacity-0"},false:{}},isHeaderWrapperExpanded:{true:{headerWrapper:["[&_.chevron-icon]:rotate-180","after:h-full","after:z-0"],pickerWrapper:"opacity-100 pointer-events-auto z-10",gridWrapper:"h-[var(--picker-height)] overflow-y-hidden",grid:"opacity-0 pointer-events-none",nextButton:"opacity-0 pointer-events-none",prevButton:"opacity-0 pointer-events-none"},false:{}},showMonthAndYearPickers:{true:{base:"[--picker-height:224px]",header:"h-8 bg-default-100 rounded-full"},false:{}},showShadow:{true:{cellButton:"data-[selected=true]:shadow-md"},false:{cellButton:"shadow-none data-[selected=true]:shadow-none"}},disableAnimation:{true:{cellButton:"transition-none"},false:{headerWrapper:["[&_.chevron-icon]:transition-transform","after:transition-height"],grid:"transition-opacity",cellButton:["origin-center transition-[transform,background-color,color] !duration-150"],pickerWrapper:"transition-opacity !duration-250",pickerItem:"transition-opacity"}}},defaultVariants:{color:"primary",showShadow:!1,hideDisabledDates:!1,showMonthAndYearPickers:!1,disableAnimation:!1},compoundVariants:[{isRange:!1,color:"foreground",class:{cellButton:["data-[hover=true]:bg-default-200","data-[selected=true]:bg-foreground","data-[selected=true]:text-background","data-[hover=true]:bg-foreground-200","data-[hover=true]:text-foreground-600","data-[selected=true]:data-[hover=true]:bg-foreground","data-[selected=true]:data-[hover=true]:text-background"]}},{isRange:!1,color:"primary",class:{cellButton:["data-[selected=true]:bg-primary","data-[selected=true]:text-primary-foreground","data-[hover=true]:bg-primary-50","data-[hover=true]:text-primary-400","data-[selected=true]:data-[hover=true]:bg-primary","data-[selected=true]:data-[hover=true]:text-primary-foreground"]}},{isRange:!1,color:"secondary",class:{cellButton:["data-[selected=true]:bg-secondary","data-[selected=true]:text-secondary-foreground","data-[hover=true]:bg-secondary-50","data-[hover=true]:text-secondary-400","data-[selected=true]:data-[hover=true]:bg-secondary","data-[selected=true]:data-[hover=true]:text-secondary-foreground"]}},{isRange:!1,color:"success",class:{cellButton:["data-[selected=true]:bg-success","data-[selected=true]:text-success-foreground","data-[hover=true]:bg-success-100","data-[hover=true]:text-success-600","dark:data-[hover=true]:bg-success-50","dark:data-[hover=true]:text-success-500","data-[selected=true]:data-[hover=true]:bg-success","dark:data-[selected=true]:data-[hover=true]:bg-success","dark:data-[selected=true]:data-[hover=true]:text-success-foreground","data-[selected=true]:data-[hover=true]:text-success-foreground"]}},{isRange:!1,color:"warning",class:{cellButton:["data-[selected=true]:bg-warning","data-[selected=true]:text-warning-foreground","data-[hover=true]:bg-warning-100","data-[hover=true]:text-warning-600","dark:data-[hover=true]:bg-warning-50","dark:data-[hover=true]:text-warning-500","data-[selected=true]:data-[hover=true]:bg-warning","dark:data-[selected=true]:data-[hover=true]:bg-warning","dark:data-[selected=true]:data-[hover=true]:text-warning-foreground","data-[selected=true]:data-[hover=true]:text-warning-foreground"]}},{isRange:!1,color:"danger",class:{cellButton:["data-[selected=true]:bg-danger","data-[selected=true]:text-danger-foreground","data-[hover=true]:bg-danger-100","data-[hover=true]:text-danger-500","dark:data-[hover=true]:bg-danger-50","dark:data-[hover=true]:text-danger-500","data-[selected=true]:data-[hover=true]:bg-danger","dark:data-[selected=true]:data-[hover=true]:bg-danger","dark:data-[selected=true]:data-[hover=true]:text-danger-foreground","data-[selected=true]:data-[hover=true]:text-danger-foreground"]}},{isRange:!0,color:"foreground",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-foreground/10","data-[selected=true]:data-[range-selection=true]:text-foreground","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-foreground","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-background","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-background"]}},{isRange:!0,color:"primary",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-primary-50","data-[selected=true]:data-[range-selection=true]:text-primary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-primary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-primary-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-primary","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-primary-foreground"]}},{isRange:!0,color:"secondary",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-secondary-50","data-[selected=true]:data-[range-selection=true]:text-secondary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-secondary","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-secondary-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-secondary","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-secondary-foreground"]}},{isRange:!0,color:"success",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-success-100","data-[selected=true]:data-[range-selection=true]:text-success-600","dark:data-[selected=true]:data-[range-selection=true]:before:bg-success-50","dark:data-[selected=true]:data-[range-selection=true]:text-success-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-success","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-success-foreground","dark:data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-success-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-success","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-success-foreground","dark:data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-success-foreground"]}},{isRange:!0,color:"warning",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-warning-100","dark:data-[selected=true]:data-[range-selection=true]:before:bg-warning-50","data-[selected=true]:data-[range-selection=true]:text-warning-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-warning","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-warning-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-warning","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-warning-foreground"]}},{isRange:!0,color:"danger",class:{cellButton:["data-[selected=true]:data-[range-selection=true]:before:bg-danger-50","data-[selected=true]:data-[range-selection=true]:text-danger-500","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:bg-danger","data-[selected=true]:data-[selection-start=true]:data-[range-selection=true]:text-danger-foreground","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:bg-danger","data-[selected=true]:data-[selection-end=true]:data-[range-selection=true]:text-danger-foreground"]}},{showShadow:!0,color:"foreground",class:{cellButton:"data-[selected=true]:shadow-foreground/40"}},{showShadow:!0,color:"primary",class:{cellButton:"data-[selected=true]:shadow-primary/40"}},{showShadow:!0,color:"secondary",class:{cellButton:"data-[selected=true]:shadow-secondary/40"}},{showShadow:!0,color:"success",class:{cellButton:"data-[selected=true]:shadow-success/40"}},{showShadow:!0,color:"warning",class:{cellButton:"data-[selected=true]:shadow-warning/40"}},{showShadow:!0,color:"danger",class:{cellButton:"data-[selected=true]:shadow-danger/40"}},{showShadow:!0,isRange:!0,class:{cellButton:["data-[selected=true]:shadow-none","data-[selected=true]:data-[selection-start=true]:shadow-md","data-[selected=true]:data-[selection-end=true]:shadow-md"]}}],compoundSlots:[{slots:["prevButton","nextButton"],class:["text-medium","text-default-400"]},{slots:["pickerMonthList","pickerYearList"],class:["flex flex-col px-4 overflow-y-scroll scrollbar-hide snap-y snap-mandatory","[--scroll-shadow-size:100px]","[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"]}]}),ok=Sn({slots:{base:["flex","flex-col","relative","overflow-hidden","height-auto","outline-none","text-foreground","box-border","bg-content1",...zo],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,disableAnimation:!1,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,disableAnimation:!1,isFooterBlurred:!1}}),k9=Sn({slots:{base:["flex","relative","justify-center","items-center","box-border","overflow-hidden","align-middle","text-white","z-0",...zo],img:["flex","object-cover","w-full","h-full","transition-opacity","!duration-500","opacity-0","data-[loaded=true]:opacity-100"],fallback:[...V1,"flex","items-center","justify-center"],name:[...V1,"font-normal","text-center","text-inherit"],icon:[...V1,"flex","items-center","justify-center","text-inherit","w-full","h-full"]},variants:{size:{sm:{base:"w-8 h-8 text-tiny"},md:{base:"w-10 h-10 text-tiny"},lg:{base:"w-14 h-14 text-small"}},color:{default:{base:$t.solid.default},primary:{base:$t.solid.primary},secondary:{base:$t.solid.secondary},success:{base:$t.solid.success},warning:{base:$t.solid.warning},danger:{base:$t.solid.danger}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"},full:{base:"rounded-full"}},isBordered:{true:{base:"ring-2 ring-offset-2 ring-offset-background dark:ring-offset-background-dark"}},isDisabled:{true:{base:"opacity-disabled"}},isInGroup:{true:{base:["-ms-2 data-[hover=true]:-translate-x-3 rtl:data-[hover=true]:translate-x-3 transition-transform","data-[focus-visible=true]:-translate-x-3 rtl:data-[focus-visible=true]:translate-x-3"]}},isInGridGroup:{true:{base:"m-0 data-[hover=true]:translate-x-0"}}},defaultVariants:{size:"md",color:"default",radius:"full"},compoundVariants:[{color:"default",isBordered:!0,class:{base:"ring-default"}},{color:"primary",isBordered:!0,class:{base:"ring-primary"}},{color:"secondary",isBordered:!0,class:{base:"ring-secondary"}},{color:"success",isBordered:!0,class:{base:"ring-success"}},{color:"warning",isBordered:!0,class:{base:"ring-warning"}},{color:"danger",isBordered:!0,class:{base:"ring-danger"}}]});Sn({slots:{base:"flex items-center justify-center h-auto w-max-content",count:"hover:-translate-x-0"},variants:{isGrid:{true:"inline-grid grid-cols-4 gap-3"}}});var A9=Sn({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...zo],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:$t.solid.default},{variant:"solid",color:"primary",class:$t.solid.primary},{variant:"solid",color:"secondary",class:$t.solid.secondary},{variant:"solid",color:"success",class:$t.solid.success},{variant:"solid",color:"warning",class:$t.solid.warning},{variant:"solid",color:"danger",class:$t.solid.danger},{variant:"shadow",color:"default",class:$t.shadow.default},{variant:"shadow",color:"primary",class:$t.shadow.primary},{variant:"shadow",color:"secondary",class:$t.shadow.secondary},{variant:"shadow",color:"success",class:$t.shadow.success},{variant:"shadow",color:"warning",class:$t.shadow.warning},{variant:"shadow",color:"danger",class:$t.shadow.danger},{variant:"bordered",color:"default",class:$t.bordered.default},{variant:"bordered",color:"primary",class:$t.bordered.primary},{variant:"bordered",color:"secondary",class:$t.bordered.secondary},{variant:"bordered",color:"success",class:$t.bordered.success},{variant:"bordered",color:"warning",class:$t.bordered.warning},{variant:"bordered",color:"danger",class:$t.bordered.danger},{variant:"flat",color:"default",class:$t.flat.default},{variant:"flat",color:"primary",class:$t.flat.primary},{variant:"flat",color:"secondary",class:$t.flat.secondary},{variant:"flat",color:"success",class:$t.flat.success},{variant:"flat",color:"warning",class:$t.flat.warning},{variant:"flat",color:"danger",class:$t.flat.danger},{variant:"faded",color:"default",class:$t.faded.default},{variant:"faded",color:"primary",class:$t.faded.primary},{variant:"faded",color:"secondary",class:$t.faded.secondary},{variant:"faded",color:"success",class:$t.faded.success},{variant:"faded",color:"warning",class:$t.faded.warning},{variant:"faded",color:"danger",class:$t.faded.danger},{variant:"light",color:"default",class:[$t.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[$t.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[$t.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[$t.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[$t.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[$t.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:$t.ghost.default},{variant:"ghost",color:"primary",class:$t.ghost.primary},{variant:"ghost",color:"secondary",class:$t.ghost.secondary},{variant:"ghost",color:"success",class:$t.ghost.success},{variant:"ghost",color:"warning",class:$t.ghost.warning},{variant:"ghost",color:"danger",class:$t.ghost.danger},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:cd.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:cd.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:cd.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:cd.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:cd.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:cd.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});Sn({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});function Zb(e){return b7()?e.altKey:e.ctrlKey}function fd(e){return Qc()?e.metaKey:e.ctrlKey}const I9=1e3;function M9(e){let{keyboardDelegate:t,selectionManager:r,onTypeSelect:n}=e,s=z.useRef({search:"",timeout:null}).current,h=d=>{let c=D9(d.key);if(!c||d.ctrlKey||d.metaKey||!d.currentTarget.contains(d.target))return;c===" "&&s.search.trim().length>0&&(d.preventDefault(),"continuePropagation"in d||d.stopPropagation()),s.search+=c;let v=t.getKeyForSearch(s.search,r.focusedKey);v==null&&(v=t.getKeyForSearch(s.search)),v!=null&&(r.setFocusedKey(v),n&&n(v)),clearTimeout(s.timeout),s.timeout=setTimeout(()=>{s.search=""},I9)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?h:null}}}function D9(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function $9(e){let{selectionManager:t,keyboardDelegate:r,ref:n,autoFocus:s=!1,shouldFocusWrap:h=!1,disallowEmptySelection:d=!1,disallowSelectAll:c=!1,selectOnFocus:v=t.selectionBehavior==="replace",disallowTypeAhead:w=!1,shouldUseVirtualFocus:S,allowsTabNavigation:T=!1,isVirtualized:C,scrollRef:D=n,linkBehavior:B="action"}=e,{direction:j}=uo(),Y=w0(),V=xe=>{if(xe.altKey&&xe.key==="Tab"&&xe.preventDefault(),!n.current.contains(xe.target))return;const le=(Oe,se)=>{if(Oe!=null){if(t.isLink(Oe)&&B==="selection"&&v&&!Zb(xe)){L2.flushSync(()=>{t.setFocusedKey(Oe,se)});let ze=D.current.querySelector(`[data-key="${CSS.escape(Oe.toString())}"]`);Y.open(ze,xe);return}if(t.setFocusedKey(Oe,se),t.isLink(Oe)&&B==="override")return;xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&!Zb(xe)&&t.replaceSelection(Oe)}};switch(xe.key){case"ArrowDown":if(r.getKeyBelow){var Se,ge;xe.preventDefault();let Oe=t.focusedKey!=null?r.getKeyBelow(t.focusedKey):(Se=r.getFirstKey)===null||Se===void 0?void 0:Se.call(r);Oe==null&&h&&(Oe=(ge=r.getFirstKey)===null||ge===void 0?void 0:ge.call(r,t.focusedKey)),le(Oe)}break;case"ArrowUp":if(r.getKeyAbove){var ye,Be;xe.preventDefault();let Oe=t.focusedKey!=null?r.getKeyAbove(t.focusedKey):(ye=r.getLastKey)===null||ye===void 0?void 0:ye.call(r);Oe==null&&h&&(Oe=(Be=r.getLastKey)===null||Be===void 0?void 0:Be.call(r,t.focusedKey)),le(Oe)}break;case"ArrowLeft":if(r.getKeyLeftOf){var Re,ae;xe.preventDefault();let Oe=r.getKeyLeftOf(t.focusedKey);Oe==null&&h&&(Oe=j==="rtl"?(Re=r.getFirstKey)===null||Re===void 0?void 0:Re.call(r,t.focusedKey):(ae=r.getLastKey)===null||ae===void 0?void 0:ae.call(r,t.focusedKey)),le(Oe,j==="rtl"?"first":"last")}break;case"ArrowRight":if(r.getKeyRightOf){var De,je;xe.preventDefault();let Oe=r.getKeyRightOf(t.focusedKey);Oe==null&&h&&(Oe=j==="rtl"?(De=r.getLastKey)===null||De===void 0?void 0:De.call(r,t.focusedKey):(je=r.getFirstKey)===null||je===void 0?void 0:je.call(r,t.focusedKey)),le(Oe,j==="rtl"?"last":"first")}break;case"Home":if(r.getFirstKey){xe.preventDefault();let Oe=r.getFirstKey(t.focusedKey,fd(xe));t.setFocusedKey(Oe),fd(xe)&&xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&t.replaceSelection(Oe)}break;case"End":if(r.getLastKey){xe.preventDefault();let Oe=r.getLastKey(t.focusedKey,fd(xe));t.setFocusedKey(Oe),fd(xe)&&xe.shiftKey&&t.selectionMode==="multiple"?t.extendSelection(Oe):v&&t.replaceSelection(Oe)}break;case"PageDown":if(r.getKeyPageBelow){xe.preventDefault();let Oe=r.getKeyPageBelow(t.focusedKey);le(Oe)}break;case"PageUp":if(r.getKeyPageAbove){xe.preventDefault();let Oe=r.getKeyPageAbove(t.focusedKey);le(Oe)}break;case"a":fd(xe)&&t.selectionMode==="multiple"&&c!==!0&&(xe.preventDefault(),t.selectAll());break;case"Escape":xe.preventDefault(),d||t.clearSelection();break;case"Tab":if(!T){if(xe.shiftKey)n.current.focus();else{let Oe=hs(n.current,{tabbable:!0}),se,ze;do ze=Oe.lastChild(),ze&&(se=ze);while(ze);se&&!se.contains(document.activeElement)&&Io(se)}break}}},F=z.useRef({top:0,left:0});sp(D,"scroll",C?null:()=>{F.current={top:D.current.scrollTop,left:D.current.scrollLeft}});let N=xe=>{if(t.isFocused){xe.currentTarget.contains(xe.target)||t.setFocused(!1);return}if(xe.currentTarget.contains(xe.target)){if(t.setFocused(!0),t.focusedKey==null){let ge=Be=>{Be!=null&&(t.setFocusedKey(Be),v&&t.replaceSelection(Be))},ye=xe.relatedTarget;var le,Se;ye&&xe.currentTarget.compareDocumentPosition(ye)&Node.DOCUMENT_POSITION_FOLLOWING?ge((le=t.lastSelectedKey)!==null&&le!==void 0?le:r.getLastKey()):ge((Se=t.firstSelectedKey)!==null&&Se!==void 0?Se:r.getFirstKey())}else C||(D.current.scrollTop=F.current.top,D.current.scrollLeft=F.current.left);if(!C&&t.focusedKey!=null){let ge=D.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);ge&&(ge.contains(document.activeElement)||Io(ge),kv()==="keyboard"&&Db(ge,{containingElement:n.current}))}}},ee=xe=>{xe.currentTarget.contains(xe.relatedTarget)||t.setFocused(!1)};const ie=z.useRef(s);z.useEffect(()=>{if(ie.current){let xe=null;s==="first"&&(xe=r.getFirstKey()),s==="last"&&(xe=r.getLastKey());let le=t.selectedKeys;if(le.size){for(let Se of le)if(t.canSelectItem(Se)){xe=Se;break}}t.setFocused(!0),t.setFocusedKey(xe),xe==null&&!S&&tu(n.current)}},[]);let fe=z.useRef(t.focusedKey);z.useEffect(()=>{let xe=kv();if(t.isFocused&&t.focusedKey!=null&&(D!=null&&D.current)){let le=D.current.querySelector(`[data-key="${CSS.escape(t.focusedKey.toString())}"]`);le&&(xe==="keyboard"||ie.current)&&(C||O3(D.current,le),xe!=="virtual"&&Db(le,{containingElement:n.current}))}t.isFocused&&t.focusedKey==null&&fe.current!=null&&tu(n.current),fe.current=t.focusedKey,ie.current=!1},[C,D,t.focusedKey,t.isFocused,n]);let be={onKeyDown:V,onFocus:N,onBlur:ee,onMouseDown(xe){D.current===xe.target&&xe.preventDefault()}},{typeSelectProps:q}=M9({keyboardDelegate:r,selectionManager:t});w||(be=Ut(q,be));let pe;return S||(pe=t.focusedKey==null?0:-1),{collectionProps:{...be,tabIndex:pe}}}function R9(e){let{selectionManager:t,key:r,ref:n,shouldSelectOnPressUp:s,shouldUseVirtualFocus:h,focus:d,isDisabled:c,onAction:v,allowsDifferentPressOrigin:w,linkBehavior:S="action"}=e,T=w0(),C=ae=>{if(ae.pointerType==="keyboard"&&Zb(ae))t.toggleSelection(r);else{if(t.selectionMode==="none")return;if(t.isLink(r)){if(S==="selection"){T.open(n.current,ae),t.setSelectedKeys(t.selectedKeys);return}else if(S==="override"||S==="none")return}t.selectionMode==="single"?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):ae&&ae.shiftKey?t.extendSelection(r):t.selectionBehavior==="toggle"||ae&&(fd(ae)||ae.pointerType==="touch"||ae.pointerType==="virtual")?t.toggleSelection(r):t.replaceSelection(r)}};z.useEffect(()=>{r===t.focusedKey&&t.isFocused&&!h&&(d?d():document.activeElement!==n.current&&tu(n.current))},[n,r,t.focusedKey,t.childFocusStrategy,t.isFocused,h]),c=c||t.isDisabled(r);let D={};!h&&!c?D={tabIndex:r===t.focusedKey?0:-1,onFocus(ae){ae.target===n.current&&t.setFocusedKey(r)}}:c&&(D.onMouseDown=ae=>{ae.preventDefault()});let B=t.isLink(r)&&S==="override",j=t.isLink(r)&&S!=="selection"&&S!=="none",Y=!c&&t.canSelectItem(r)&&!B,V=(v||j)&&!c,F=V&&(t.selectionBehavior==="replace"?!Y:!Y||t.isEmpty),N=V&&Y&&t.selectionBehavior==="replace",ee=F||N,ie=z.useRef(null),fe=ee&&Y,be=z.useRef(!1),q=z.useRef(!1),pe=ae=>{v&&v(),j&&T.open(n.current,ae)},xe={};s?(xe.onPressStart=ae=>{ie.current=ae.pointerType,be.current=fe,ae.pointerType==="keyboard"&&(!ee||lk())&&C(ae)},w?(xe.onPressUp=F?null:ae=>{ae.pointerType!=="keyboard"&&Y&&C(ae)},xe.onPress=F?pe:null):xe.onPress=ae=>{if(F||N&&ae.pointerType!=="mouse"){if(ae.pointerType==="keyboard"&&!sk())return;pe(ae)}else ae.pointerType!=="keyboard"&&Y&&C(ae)}):(xe.onPressStart=ae=>{ie.current=ae.pointerType,be.current=fe,q.current=F,Y&&(ae.pointerType==="mouse"&&!F||ae.pointerType==="keyboard"&&(!V||lk()))&&C(ae)},xe.onPress=ae=>{(ae.pointerType==="touch"||ae.pointerType==="pen"||ae.pointerType==="virtual"||ae.pointerType==="keyboard"&&ee&&sk()||ae.pointerType==="mouse"&&q.current)&&(ee?pe(ae):Y&&C(ae))}),D["data-key"]=r,xe.preventFocusOnPress=h;let{pressProps:le,isPressed:Se}=yh(xe),ge=N?ae=>{ie.current==="mouse"&&(ae.stopPropagation(),ae.preventDefault(),pe(ae))}:void 0,{longPressProps:ye}=LD({isDisabled:!fe,onLongPress(ae){ae.pointerType==="touch"&&(C(ae),t.setSelectionBehavior("toggle"))}}),Be=ae=>{ie.current==="touch"&&be.current&&ae.preventDefault()},Re=t.isLink(r)?ae=>{Fl.isOpening||ae.preventDefault()}:void 0;return{itemProps:Ut(D,Y||F?le:{},fe?ye:{},{onDoubleClick:ge,onDragStartCapture:Be,onClick:Re}),isPressed:Se,isSelected:t.isSelected(r),isFocused:t.isFocused&&t.focusedKey===r,isDisabled:c,allowsSelection:Y,hasAction:ee}}function sk(){let e=window.event;return(e==null?void 0:e.key)==="Enter"}function lk(){let e=window.event;return(e==null?void 0:e.key)===" "||(e==null?void 0:e.code)==="Space"}class L9{getNextKey(t){for(t=this.collection.getKeyAfter(t);t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyAfter(t)}return null}getPreviousKey(t){for(t=this.collection.getKeyBefore(t);t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyBefore(t)}return null}findKey(t,r,n){let s=this.getItem(t);if(!s)return null;let h=s.getBoundingClientRect();do t=r(t),s=this.getItem(t);while(s&&n(h,s.getBoundingClientRect()));return t}isSameRow(t,r){return t.top===r.top||t.left!==r.left}isSameColumn(t,r){return t.left===r.left||t.top!==r.top}getKeyBelow(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getNextKey(r),this.isSameRow):this.getNextKey(t)}getKeyAbove(t){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(t,r=>this.getPreviousKey(r),this.isSameRow):this.getPreviousKey(t)}getNextColumn(t,r){return r?this.getPreviousKey(t):this.getNextKey(t)}getKeyRightOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="rtl"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="rtl"):null}getKeyLeftOf(t){return this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(t,this.direction==="ltr"):this.findKey(t,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(t,this.direction==="ltr"):null}getFirstKey(){let t=this.collection.getFirstKey();for(;t!=null;){let r=this.collection.getItem(t);if((r==null?void 0:r.type)==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyAfter(t)}return null}getLastKey(){let t=this.collection.getLastKey();for(;t!=null;){if(this.collection.getItem(t).type==="item"&&!this.disabledKeys.has(t))return t;t=this.collection.getKeyBefore(t)}return null}getItem(t){return this.ref.current.querySelector(`[data-key="${CSS.escape(t.toString())}"]`)}getKeyPageAbove(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!Cv(r))return this.getFirstKey();let s=r.getBoundingClientRect(),h=n.getBoundingClientRect();if(this.orientation==="horizontal"){let d=s.x-r.scrollLeft,c=Math.max(0,h.x-d+h.width-s.width);for(;n&&h.x-d>c;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}else{let d=s.y-r.scrollTop,c=Math.max(0,h.y-d+h.height-s.height);for(;n&&h.y-d>c;)t=this.getKeyAbove(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}return t??this.getFirstKey()}getKeyPageBelow(t){let r=this.ref.current,n=this.getItem(t);if(!n)return null;if(!Cv(r))return this.getLastKey();let s=r.getBoundingClientRect(),h=n.getBoundingClientRect();if(this.orientation==="horizontal"){let d=s.x-r.scrollLeft,c=Math.min(r.scrollWidth,h.x-d-h.width+s.width);for(;n&&h.x-d<c;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}else{let d=s.y-r.scrollTop,c=Math.min(r.scrollHeight,h.y-d-h.height+s.height);for(;n&&h.y-d<c;)t=this.getKeyBelow(t),n=t==null?null:this.getItem(t),h=n==null?void 0:n.getBoundingClientRect()}return t??this.getLastKey()}getKeyForSearch(t,r){if(!this.collator)return null;let n=this.collection,s=r||this.getFirstKey();for(;s!=null;){let h=n.getItem(s),d=h.textValue.slice(0,t.length);if(h.textValue&&this.collator.compare(d,t)===0)return s;s=this.getKeyBelow(s)}return null}constructor(...t){if(t.length===1){let r=t[0];this.collection=r.collection,this.ref=r.ref,this.collator=r.collator,this.disabledKeys=r.disabledKeys||new Set,this.orientation=r.orientation,this.direction=r.direction,this.layout=r.layout||"stack"}else this.collection=t[0],this.disabledKeys=t[1],this.ref=t[2],this.collator=t[3],this.layout="stack",this.orientation="vertical";this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function z9(e){let{selectionManager:t,collection:r,disabledKeys:n,ref:s,keyboardDelegate:h}=e,d=z7({usage:"search",sensitivity:"base"}),c=t.disabledBehavior,v=z.useMemo(()=>h||new L9(r,c==="selection"?new Set:n,s,d),[h,r,n,s,d,c]),{collectionProps:w}=$9({...e,ref:s,selectionManager:t,keyboardDelegate:v});return{listProps:w}}var F9=e=>L.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[L.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),L.jsx("path",{d:"M15 3h6v6"}),L.jsx("path",{d:"M10 14L21 3"})]});const nS=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),S0=z.createContext({}),P0=z.createContext(null),iS=typeof document<"u",aS=iS?z.useLayoutEffect:z.useEffect,oS=z.createContext({strict:!1}),sS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B9="framerAppearId",n4="data-"+sS(B9),N9={skipAnimations:!1,useManualTiming:!1};let ck=class{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}};function O9(e){let t=new ck,r=new ck,n=0,s=!1,h=!1;const d=new WeakSet,c={schedule:(v,w=!1,S=!1)=>{const T=S&&s,C=T?t:r;return w&&d.add(v),C.add(v)&&T&&s&&(n=t.order.length),v},cancel:v=>{r.remove(v),d.delete(v)},process:v=>{if(s){h=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let w=0;w<n;w++){const S=t.order[w];d.has(S)&&(c.schedule(S),e()),S(v)}s=!1,h&&(h=!1,c.process(v))}};return c}const cy=["read","resolveKeyframes","update","preRender","render","postRender"],j9=40;function i4(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},h=cy.reduce((T,C)=>(T[C]=O9(()=>r=!0),T),{}),d=T=>{h[T].process(s)},c=()=>{const T=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(T-s.timestamp,j9),1),s.timestamp=T,s.isProcessing=!0,cy.forEach(d),s.isProcessing=!1,r&&t&&(n=!1,e(c))},v=()=>{r=!0,n=!0,s.isProcessing||e(c)};return{schedule:cy.reduce((T,C)=>{const D=h[C];return T[C]=(B,j=!1,Y=!1)=>(r||v(),D.schedule(B,j,Y)),T},{}),cancel:T=>cy.forEach(C=>h[C].cancel(T)),state:s,steps:h}}const{schedule:lS,cancel:lre}=i4(queueMicrotask,!1);function V9(e,t,r,n){const{visualElement:s}=z.useContext(S0),h=z.useContext(oS),d=z.useContext(P0),c=z.useContext(nS).reducedMotion,v=z.useRef();n=n||h.renderer,!v.current&&n&&(v.current=n(e,{visualState:t,parent:s,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:c}));const w=v.current;z.useInsertionEffect(()=>{w&&w.update(r,d)});const S=z.useRef(!!(r[n4]&&!window.HandoffComplete));return aS(()=>{w&&(lS.postRender(w.render),S.current&&w.animationState&&w.animationState.animateChanges())}),z.useEffect(()=>{w&&(w.updateFeatures(),!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(S.current=!1,window.HandoffComplete=!0))}),w}function Ad(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function U9(e,t,r){return z.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ad(r)&&(r.current=n))},[t])}function Xp(e){return typeof e=="string"||Array.isArray(e)}function T0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const cS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uS=["initial",...cS];function C0(e){return T0(e.animate)||uS.some(t=>Xp(e[t]))}function a4(e){return!!(C0(e)||e.variants)}function K9(e,t){if(C0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Xp(r)?r:void 0,animate:Xp(n)?n:void 0}}return e.inherit!==!1?t:{}}function H9(e){const{initial:t,animate:r}=K9(e,z.useContext(S0));return z.useMemo(()=>({initial:t,animate:r}),[uk(t),uk(r)])}function uk(e){return Array.isArray(e)?e.join(" "):e}const dk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jp={};for(const e in dk)Jp[e]={isEnabled:t=>dk[e].some(r=>!!t[r])};function Yb(e){for(const t in e)Jp[t]={...Jp[t],...e[t]}}const dS=z.createContext({}),o4=z.createContext({}),W9=Symbol.for("motionComponentSymbol");function G9({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&Yb(e);function h(c,v){let w;const S={...z.useContext(nS),...c,layoutId:q9(c)},{isStatic:T}=S,C=H9(c),D=n(c,T);if(!T&&iS){C.visualElement=V9(s,D,S,t);const B=z.useContext(o4),j=z.useContext(oS).strict;C.visualElement&&(w=C.visualElement.loadFeatures(S,j,e,B))}return L.jsxs(S0.Provider,{value:C,children:[w&&C.visualElement?L.jsx(w,{visualElement:C.visualElement,...S}):null,r(s,c,U9(D,C.visualElement,v),D,T,C.visualElement)]})}const d=z.forwardRef(h);return d[W9]=s,d}function q9({layoutId:e}){const t=z.useContext(dS).id;return t&&e!==void 0?t+"-"+e:e}function s4(e){function t(n,s={}){return G9(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const Z9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hS(e){return typeof e!="string"||e.includes("-")?!1:!!(Z9.indexOf(e)>-1||/[A-Z]/u.test(e))}const Lv={};function Y9(e){Object.assign(Lv,e)}const gm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(gm);function l4(e,{layout:t,layoutId:r}){return ou.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Lv[e]||e==="opacity")}const xi=e=>!!(e&&e.getVelocity),X9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J9=gm.length;function Q9(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let h="";for(let d=0;d<J9;d++){const c=gm[d];if(e[c]!==void 0){const v=X9[c]||c;h+=`${v}(${e[c]}) `}}return t&&!e.z&&(h+="translateZ(0)"),h=h.trim(),s?h=s(e,n?"":h):r&&n&&(h="none"),h}const c4=e=>t=>typeof t=="string"&&t.startsWith(e),u4=c4("--"),eU=c4("var(--"),fS=e=>eU(e)?tU.test(e.split("/*")[0].trim()):!1,tU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Bl=(e,t,r)=>r>t?t:r<e?e:r,xh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tp={...xh,transform:e=>Bl(0,1,e)},uy={...xh,default:1},Cp=e=>Math.round(e*1e5)/1e5,pS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,nU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,iU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ym(e){return typeof e=="string"}const vm=e=>({test:t=>ym(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ll=vm("deg"),Ro=vm("%"),Bt=vm("px"),aU=vm("vh"),oU=vm("vw"),hk={...Ro,parse:e=>Ro.parse(e)/100,transform:e=>Ro.transform(e*100)},fk={...xh,transform:Math.round},d4={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:ll,rotateX:ll,rotateY:ll,rotateZ:ll,scale:uy,scaleX:uy,scaleY:uy,scaleZ:uy,skew:ll,skewX:ll,skewY:ll,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Tp,originX:hk,originY:hk,originZ:Bt,zIndex:fk,backgroundPositionX:Bt,backgroundPositionY:Bt,fillOpacity:Tp,strokeOpacity:Tp,numOctaves:fk};function mS(e,t,r,n){const{style:s,vars:h,transform:d,transformOrigin:c}=e;let v=!1,w=!1,S=!0;for(const T in t){const C=t[T];if(u4(T)){h[T]=C;continue}const D=d4[T],B=rU(C,D);if(ou.has(T)){if(v=!0,d[T]=B,!S)continue;C!==(D.default||0)&&(S=!1)}else T.startsWith("origin")?(w=!0,c[T]=B):s[T]=B}if(t.transform||(v||n?s.transform=Q9(e.transform,r,S,n):s.transform&&(s.transform="none")),w){const{originX:T="50%",originY:C="50%",originZ:D=0}=c;s.transformOrigin=`${T} ${C} ${D}`}}const gS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h4(e,t,r){for(const n in t)!xi(t[n])&&!l4(n,r)&&(e[n]=t[n])}function sU({transformTemplate:e},t,r){return z.useMemo(()=>{const n=gS();return mS(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function lU(e,t,r){const n=e.style||{},s={};return h4(s,n,e),Object.assign(s,sU(e,t,r)),s}function cU(e,t,r){const n={},s=lU(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const uU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uU.has(e)}let f4=e=>!zv(e);function dU(e){e&&(f4=t=>t.startsWith("on")?!zv(t):e(t))}try{dU(require("@emotion/is-prop-valid").default)}catch{}function hU(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(f4(s)||r===!0&&zv(s)||!t&&!zv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function pk(e,t,r){return typeof e=="string"?e:Bt.transform(t+r*e)}function fU(e,t,r){const n=pk(t,e.x,e.width),s=pk(r,e.y,e.height);return`${n} ${s}`}const pU={offset:"stroke-dashoffset",array:"stroke-dasharray"},mU={offset:"strokeDashoffset",array:"strokeDasharray"};function gU(e,t,r=1,n=0,s=!0){e.pathLength=1;const h=s?pU:mU;e[h.offset]=Bt.transform(-n);const d=Bt.transform(t),c=Bt.transform(r);e[h.array]=`${d} ${c}`}function yS(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:h,pathLength:d,pathSpacing:c=1,pathOffset:v=0,...w},S,T,C){if(mS(e,w,S,C),T){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:D,style:B,dimensions:j}=e;D.transform&&(j&&(B.transform=D.transform),delete D.transform),j&&(s!==void 0||h!==void 0||B.transform)&&(B.transformOrigin=fU(j,s!==void 0?s:.5,h!==void 0?h:.5)),t!==void 0&&(D.x=t),r!==void 0&&(D.y=r),n!==void 0&&(D.scale=n),d!==void 0&&gU(D,d,c,v,!1)}const p4=()=>({...gS(),attrs:{}}),vS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function yU(e,t,r,n){const s=z.useMemo(()=>{const h=p4();return yS(h,t,{enableHardwareAcceleration:!1},vS(n),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};h4(h,e.style,e),s.style={...h,...s.style}}return s}function vU(e=!1){return(r,n,s,{latestValues:h},d)=>{const v=(hS(r)?yU:cU)(n,h,d,r),w=hU(n,typeof r=="string",e),S=r!==z.Fragment?{...w,...v,ref:s}:{},{children:T}=n,C=z.useMemo(()=>xi(T)?T.get():T,[T]);return z.createElement(r,{...S,children:C})}}function m4(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const h in r)e.style.setProperty(h,r[h])}const g4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y4(e,t,r,n){m4(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(g4.has(s)?s:sS(s),t.attrs[s])}function xS(e,t,r){var n;const{style:s}=e,h={};for(const d in s)(xi(s[d])||t.style&&xi(t.style[d])||l4(d,e)||((n=r==null?void 0:r.getValue(d))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(h[d]=s[d]);return h}function v4(e,t,r){const n=xS(e,t,r);for(const s in e)if(xi(e[s])||xi(t[s])){const h=gm.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[h]=e[s]}return n}function _S(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function x4(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xb=e=>Array.isArray(e),xU=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),_U=e=>Xb(e)?e[e.length-1]||0:e;function Fy(e){const t=xi(e)?e.get():e;return xU(t)?t.toValue():t}function bU({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,h){const d={latestValues:wU(n,s,h,e),renderState:t()};return r&&(d.mount=c=>r(n,c,d)),d}const _4=e=>(t,r)=>{const n=z.useContext(S0),s=z.useContext(P0),h=()=>bU(e,t,n,s);return r?h():x4(h)};function wU(e,t,r,n){const s={},h=n(e,{});for(const C in h)s[C]=Fy(h[C]);let{initial:d,animate:c}=e;const v=C0(e),w=a4(e);t&&w&&!v&&e.inherit!==!1&&(d===void 0&&(d=t.initial),c===void 0&&(c=t.animate));let S=r?r.initial===!1:!1;S=S||d===!1;const T=S?c:d;return T&&typeof T!="boolean"&&!T0(T)&&(Array.isArray(T)?T:[T]).forEach(D=>{const B=_S(e,D);if(!B)return;const{transitionEnd:j,transition:Y,...V}=B;for(const F in V){let N=V[F];if(Array.isArray(N)){const ee=S?N.length-1:0;N=N[ee]}N!==null&&(s[F]=N)}for(const F in j)s[F]=j[F]}),s}const bi=e=>e,{schedule:Un,cancel:Nl,state:Qn,steps:U1}=i4(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0),SU={useVisualState:_4({scrapeMotionValuesFromProps:v4,createRenderState:p4,onMount:(e,t,{renderState:r,latestValues:n})=>{Un.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{yS(r,n,{enableHardwareAcceleration:!1},vS(t.tagName),e.transformTemplate),y4(t,r)})}})},PU={useVisualState:_4({scrapeMotionValuesFromProps:xS,createRenderState:gS})};function b4(e,{forwardMotionProps:t=!1},r,n){return{...hS(e)?SU:PU,preloadedFeatures:r,useRender:vU(t),createVisualElement:n,Component:e}}function fs(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const w4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function E0(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const TU=e=>t=>w4(t)&&e(t,E0(t));function gs(e,t,r,n){return fs(e,t,TU(r),n)}const CU=(e,t)=>r=>t(e(r)),ys=(...e)=>e.reduce(CU);function S4(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const mk=S4("dragHorizontal"),gk=S4("dragVertical");function P4(e){let t=!1;if(e==="y")t=gk();else if(e==="x")t=mk();else{const r=mk(),n=gk();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function T4(){const e=P4(!0);return e?(e(),!1):!0}let Hl=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function yk(e,t){const r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",s=(h,d)=>{if(h.pointerType==="touch"||T4())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t);const v=c[n];v&&v(h,d)};return gs(e.current,r,s,{passive:!e.getProps()[n]})}let EU=class extends Hl{mount(){this.unmount=ys(yk(this.node,!0),yk(this.node,!1))}unmount(){}},kU=class extends Hl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(fs(this.node.current,"focus",()=>this.onFocus()),fs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const C4=(e,t)=>t?e===t?!0:C4(e,t.parentElement):!1;function K1(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,E0(r))}let AU=class extends Hl{constructor(){super(...arguments),this.removeStartListeners=bi,this.removeEndListeners=bi,this.removeAccessibleListeners=bi,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),h=gs(window,"pointerup",(c,v)=>{if(!this.checkPressEnd())return;const{onTap:w,onTapCancel:S,globalTapTarget:T}=this.node.getProps();!T&&!C4(this.node.current,c.target)?S&&S(c,v):w&&w(c,v)},{passive:!(n.onTap||n.onPointerUp)}),d=gs(window,"pointercancel",(c,v)=>this.cancelPress(c,v),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ys(h,d),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=h=>{if(h.key!=="Enter"||this.isPressing)return;const d=c=>{c.key!=="Enter"||!this.checkPressEnd()||K1("up",(v,w)=>{const{onTap:S}=this.node.getProps();S&&S(v,w)})};this.removeEndListeners(),this.removeEndListeners=fs(this.node.current,"keyup",d),K1("down",(c,v)=>{this.startPress(c,v)})},r=fs(this.node.current,"keydown",t),n=()=>{this.isPressing&&K1("cancel",(h,d)=>this.cancelPress(h,d))},s=fs(this.node.current,"blur",n);this.removeAccessibleListeners=ys(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&n(t,r)}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T4()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&n(t,r)}mount(){const t=this.node.getProps(),r=gs(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=fs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ys(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const Jb=new WeakMap,H1=new WeakMap,IU=e=>{const t=Jb.get(e.target);t&&t(e)},MU=e=>{e.forEach(IU)};function DU({root:e,...t}){const r=e||document;H1.has(r)||H1.set(r,{});const n=H1.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(MU,{root:e,...t})),n[s]}function $U(e,t,r){const n=DU(t);return Jb.set(e,r),n.observe(e),()=>{Jb.delete(e),n.unobserve(e)}}const RU={some:0,all:1};let LU=class extends Hl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:h}=t,d={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:RU[s]},c=v=>{const{isIntersecting:w}=v;if(this.isInView===w||(this.isInView=w,h&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:S,onViewportLeave:T}=this.node.getProps(),C=w?S:T;C&&C(v)};return $U(this.node.current,d,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(zU(t,r))&&this.startObserver()}unmount(){}};function zU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const E4={inView:{Feature:LU},tap:{Feature:AU},focus:{Feature:kU},hover:{Feature:EU}};function k4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function FU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function BU(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function k0(e,t,r){const n=e.getProps();return _S(n,t,r!==void 0?r:n.custom,FU(e),BU(e))}const Ml=e=>e*1e3,vs=e=>e/1e3,NU={type:"spring",stiffness:500,damping:25,restSpeed:10},OU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jU={type:"keyframes",duration:.8},VU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UU=(e,{keyframes:t})=>t.length>2?jU:ou.has(e)?e.startsWith("scale")?OU(t[1]):NU:VU;function KU({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:h,repeatType:d,repeatDelay:c,from:v,elapsed:w,...S}){return!!Object.keys(S).length}function bS(e,t){return e[t]||e.default||e}const HU=e=>e!==null;function A0(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(HU),h=t&&r!=="loop"&&t%2===1?0:s.length-1;return!h||n===void 0?s[h]:n}let By;function WU(){By=void 0}const Dl={now:()=>(By===void 0&&Dl.set(Qn.isProcessing||N9.useManualTiming?Qn.timestamp:performance.now()),By),set:e=>{By=e,queueMicrotask(WU)}},A4=e=>/^0[^.\s]+$/u.test(e);function GU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||A4(e):!0}let Qb=bi;const I4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),qU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZU(e){const t=qU.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function M4(e,t,r=1){const[n,s]=ZU(e);if(!n)return;const h=window.getComputedStyle(t).getPropertyValue(n);if(h){const d=h.trim();return I4(d)?parseFloat(d):d}return fS(s)?M4(s,t,r+1):s}const YU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),vk=e=>e===xh||e===Bt,xk=(e,t)=>parseFloat(e.split(", ")[t]),_k=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return xk(s[1],t);{const h=n.match(/^matrix\((.+)\)$/u);return h?xk(h[1],e):0}},XU=new Set(["x","y","z"]),JU=gm.filter(e=>!XU.has(e));function QU(e){const t=[];return JU.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ah={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_k(4,13),y:_k(5,14)};ah.translateX=ah.x;ah.translateY=ah.y;const D4=e=>t=>t.test(e),eK={test:e=>e==="auto",parse:e=>e},$4=[xh,Bt,Ro,ll,oU,aU,eK],bk=e=>$4.find(D4(e)),Vc=new Set;let ew=!1,tw=!1;function R4(){if(tw){const e=Array.from(Vc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=QU(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([h,d])=>{var c;(c=n.getValue(h))===null||c===void 0||c.set(d)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}tw=!1,ew=!1,Vc.forEach(e=>e.complete()),Vc.clear()}function L4(){Vc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tw=!0)})}function tK(){L4(),R4()}class wS{constructor(t,r,n,s,h,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=h,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vc.add(this),ew||(ew=!0,Un.read(L4),Un.resolveKeyframes(R4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let h=0;h<t.length;h++)if(t[h]===null)if(h===0){const d=s==null?void 0:s.get(),c=t[t.length-1];if(d!==void 0)t[0]=d;else if(n&&r){const v=n.readValue(r,c);v!=null&&(t[0]=v)}t[0]===void 0&&(t[0]=c),s&&d===void 0&&s.set(t[0])}else t[h]=t[h-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const SS=(e,t)=>r=>!!(ym(r)&&iU.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),z4=(e,t,r)=>n=>{if(!ym(n))return n;const[s,h,d,c]=n.match(pS);return{[e]:parseFloat(s),[t]:parseFloat(h),[r]:parseFloat(d),alpha:c!==void 0?parseFloat(c):1}},rK=e=>Bl(0,255,e),W1={...xh,transform:e=>Math.round(rK(e))},zc={test:SS("rgb","red"),parse:z4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+W1.transform(e)+", "+W1.transform(t)+", "+W1.transform(r)+", "+Cp(Tp.transform(n))+")"};function nK(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const rw={test:SS("#"),parse:nK,transform:zc.transform},Id={test:SS("hsl","hue"),parse:z4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ro.transform(Cp(t))+", "+Ro.transform(Cp(r))+", "+Cp(Tp.transform(n))+")"},gi={test:e=>zc.test(e)||rw.test(e)||Id.test(e),parse:e=>zc.test(e)?zc.parse(e):Id.test(e)?Id.parse(e):rw.parse(e),transform:e=>ym(e)?e:e.hasOwnProperty("red")?zc.transform(e):Id.transform(e)};function iK(e){var t,r;return isNaN(e)&&ym(e)&&(((t=e.match(pS))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(nU))===null||r===void 0?void 0:r.length)||0)>0}const F4="number",B4="color",aK="var",oK="var(",wk="${}",sK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let h=0;const c=t.replace(sK,v=>(gi.test(v)?(n.color.push(h),s.push(B4),r.push(gi.parse(v))):v.startsWith(oK)?(n.var.push(h),s.push(aK),r.push(v)):(n.number.push(h),s.push(F4),r.push(parseFloat(v))),++h,wk)).split(wk);return{values:r,split:c,indexes:n,types:s}}function N4(e){return Fv(e).values}function O4(e){const{split:t,types:r}=Fv(e),n=t.length;return s=>{let h="";for(let d=0;d<n;d++)if(h+=t[d],s[d]!==void 0){const c=r[d];c===F4?h+=Cp(s[d]):c===B4?h+=gi.transform(s[d]):h+=s[d]}return h}}const lK=e=>typeof e=="number"?0:e;function cK(e){const t=N4(e);return O4(e)(t.map(lK))}const Ol={test:iK,parse:N4,createTransformer:O4,getAnimatableNone:cK},uK=new Set(["brightness","contrast","saturate","opacity"]);function dK(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(pS)||[];if(!n)return e;const s=r.replace(n,"");let h=uK.has(t)?1:0;return n!==r&&(h*=100),t+"("+h+s+")"}const hK=/\b([a-z-]*)\(.*?\)/gu,nw={...Ol,getAnimatableNone:e=>{const t=e.match(hK);return t?t.map(dK).join(" "):e}},fK={...d4,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:nw,WebkitFilter:nw},PS=e=>fK[e];function j4(e,t){let r=PS(e);return r!==nw&&(r=Ol),r.getAnimatableNone?r.getAnimatableNone(t):void 0}function pK(e,t,r){let n=0,s;for(;n<e.length&&!s;)typeof e[n]=="string"&&e[n]!=="none"&&e[n]!=="0"&&(s=e[n]),n++;if(s&&r)for(const h of t)e[h]=j4(r,s)}class V4 extends wS{constructor(t,r,n,s){super(t,r,n,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r.current)return;super.readKeyframes();for(let v=0;v<t.length;v++){const w=t[v];if(typeof w=="string"&&fS(w)){const S=M4(w,r.current);S!==void 0&&(t[v]=S),v===t.length-1&&(this.finalKeyframe=w)}}if(!YU.has(n)||t.length!==2)return this.resolveNoneKeyframes();const[s,h]=t,d=bk(s),c=bk(h);if(d!==c)if(vk(d)&&vk(c))for(let v=0;v<t.length;v++){const w=t[v];typeof w=="string"&&(t[v]=parseFloat(w))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)GU(t[s])&&n.push(s);n.length&&pK(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ah[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r.current)return;const h=r.getValue(n);h&&h.jump(this.measuredOrigin,!1);const d=s.length-1,c=s[d];s[d]=ah[n](r.measureViewportBox(),window.getComputedStyle(r.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([v,w])=>{r.getValue(v).set(w)}),this.resolveNoneKeyframes()}}function mK(e){let t;return()=>(t===void 0&&(t=e()),t)}const Sk=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ol.test(e)||e==="0")&&!e.startsWith("url("));function gK(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function yK(e,t,r,n){const s=e[0];if(s===null)return!1;const h=e[e.length-1],d=Sk(s,t),c=Sk(h,t);return!d||!c?!1:gK(e)||r==="spring"&&n}class U4{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:h=0,repeatType:d="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:h,repeatType:d,...c},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tK(),this._resolved}onKeyframesResolved(t,r){this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:h,delay:d,onComplete:c,onUpdate:v,isGenerator:w}=this.options;if(!w&&!yK(t,n,s,h))if(d)this.options.duration=0;else{v==null||v(A0(t,this.options,r)),c==null||c(),this.resolveFinishedPromise();return}const S=this.initPlayback(t,r);S!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...S},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function K4(e,t){return t?e*(1e3/t):0}const vK=5;function H4(e,t,r){const n=Math.max(t-vK,0);return K4(r-e(n),t-n)}const G1=.001,xK=.01,_K=10,bK=.05,wK=1;function SK({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,h,d=1-t;d=Bl(bK,wK,d),e=Bl(xK,_K,vs(e)),d<1?(s=w=>{const S=w*d,T=S*e,C=S-r,D=iw(w,d),B=Math.exp(-T);return G1-C/D*B},h=w=>{const T=w*d*e,C=T*r+r,D=Math.pow(d,2)*Math.pow(w,2)*e,B=Math.exp(-T),j=iw(Math.pow(w,2),d);return(-s(w)+G1>0?-1:1)*((C-D)*B)/j}):(s=w=>{const S=Math.exp(-w*e),T=(w-r)*e+1;return-G1+S*T},h=w=>{const S=Math.exp(-w*e),T=(r-w)*(e*e);return S*T});const c=5/e,v=TK(s,h,c);if(e=Ml(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const w=Math.pow(v,2)*n;return{stiffness:w,damping:d*2*Math.sqrt(n*w),duration:e}}}const PK=12;function TK(e,t,r){let n=r;for(let s=1;s<PK;s++)n=n-e(n)/t(n);return n}function iw(e,t){return e*Math.sqrt(1-t*t)}const CK=["duration","bounce"],EK=["stiffness","damping","mass"];function Pk(e,t){return t.some(r=>e[r]!==void 0)}function kK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Pk(e,EK)&&Pk(e,CK)){const r=SK(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function W4({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],h=e[e.length-1],d={done:!1,value:s},{stiffness:c,damping:v,mass:w,duration:S,velocity:T,isResolvedFromDuration:C}=kK({...n,velocity:-vs(n.velocity||0)}),D=T||0,B=v/(2*Math.sqrt(c*w)),j=h-s,Y=vs(Math.sqrt(c/w)),V=Math.abs(j)<5;r||(r=V?.01:2),t||(t=V?.005:.5);let F;if(B<1){const N=iw(Y,B);F=ee=>{const ie=Math.exp(-B*Y*ee);return h-ie*((D+B*Y*j)/N*Math.sin(N*ee)+j*Math.cos(N*ee))}}else if(B===1)F=N=>h-Math.exp(-Y*N)*(j+(D+Y*j)*N);else{const N=Y*Math.sqrt(B*B-1);F=ee=>{const ie=Math.exp(-B*Y*ee),fe=Math.min(N*ee,300);return h-ie*((D+B*Y*j)*Math.sinh(fe)+N*j*Math.cosh(fe))/N}}return{calculatedDuration:C&&S||null,next:N=>{const ee=F(N);if(C)d.done=N>=S;else{let ie=D;N!==0&&(B<1?ie=H4(F,N,ee):ie=0);const fe=Math.abs(ie)<=r,be=Math.abs(h-ee)<=t;d.done=fe&&be}return d.value=d.done?h:ee,d}}}function Tk({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:h=500,modifyTarget:d,min:c,max:v,restDelta:w=.5,restSpeed:S}){const T=e[0],C={done:!1,value:T},D=q=>c!==void 0&&q<c||v!==void 0&&q>v,B=q=>c===void 0?v:v===void 0||Math.abs(c-q)<Math.abs(v-q)?c:v;let j=r*t;const Y=T+j,V=d===void 0?Y:d(Y);V!==Y&&(j=V-T);const F=q=>-j*Math.exp(-q/n),N=q=>V+F(q),ee=q=>{const pe=F(q),xe=N(q);C.done=Math.abs(pe)<=w,C.value=C.done?V:xe};let ie,fe;const be=q=>{D(C.value)&&(ie=q,fe=W4({keyframes:[C.value,B(C.value)],velocity:H4(N,q,C.value),damping:s,stiffness:h,restDelta:w,restSpeed:S}))};return be(0),{calculatedDuration:null,next:q=>{let pe=!1;return!fe&&ie===void 0&&(pe=!0,ee(q),be(q)),ie!==void 0&&q>=ie?fe.next(q-ie):(!pe&&ee(q),C)}}}const G4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,AK=1e-7,IK=12;function MK(e,t,r,n,s){let h,d,c=0;do d=t+(r-t)/2,h=G4(d,n,s)-e,h>0?r=d:t=d;while(Math.abs(h)>AK&&++c<IK);return d}function xm(e,t,r,n){if(e===t&&r===n)return bi;const s=h=>MK(h,0,1,e,r);return h=>h===0||h===1?h:G4(s(h),t,n)}const DK=xm(.42,0,1,1),$K=xm(0,0,.58,1),q4=xm(.42,0,.58,1),RK=e=>Array.isArray(e)&&typeof e[0]!="number",Z4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Y4=e=>t=>1-e(1-t),TS=e=>1-Math.sin(Math.acos(e)),X4=Y4(TS),LK=Z4(TS),J4=xm(.33,1.53,.69,.99),CS=Y4(J4),zK=Z4(CS),FK=e=>(e*=2)<1?.5*CS(e):.5*(2-Math.pow(2,-10*(e-1))),Ck={linear:bi,easeIn:DK,easeInOut:q4,easeOut:$K,circIn:TS,circInOut:LK,circOut:X4,backIn:CS,backInOut:zK,backOut:J4,anticipate:FK},Ek=e=>{if(Array.isArray(e)){Qb(e.length===4);const[t,r,n,s]=e;return xm(t,r,n,s)}else if(typeof e=="string")return Qb(Ck[e]!==void 0),Ck[e];return e},Qp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Xr=(e,t,r)=>e+(t-e)*r;function q1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function BK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,h=0,d=0;if(!t)s=h=d=r;else{const c=r<.5?r*(1+t):r+t-r*t,v=2*r-c;s=q1(v,c,e+1/3),h=q1(v,c,e),d=q1(v,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:n}}const Z1=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},NK=[rw,zc,Id],OK=e=>NK.find(t=>t.test(e));function kk(e){const t=OK(e);let r=t.parse(e);return t===Id&&(r=BK(r)),r}const Ak=(e,t)=>{const r=kk(e),n=kk(t),s={...r};return h=>(s.red=Z1(r.red,n.red,h),s.green=Z1(r.green,n.green,h),s.blue=Z1(r.blue,n.blue,h),s.alpha=Xr(r.alpha,n.alpha,h),zc.transform(s))};function aw(e,t){return r=>r>0?t:e}function jK(e,t){return r=>Xr(e,t,r)}function ES(e){return typeof e=="number"?jK:typeof e=="string"?fS(e)?aw:gi.test(e)?Ak:KK:Array.isArray(e)?Q4:typeof e=="object"?gi.test(e)?Ak:VK:aw}function Q4(e,t){const r=[...e],n=r.length,s=e.map((h,d)=>ES(h)(h,t[d]));return h=>{for(let d=0;d<n;d++)r[d]=s[d](h);return r}}function VK(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=ES(e[s])(e[s],t[s]));return s=>{for(const h in n)r[h]=n[h](s);return r}}function UK(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let h=0;h<t.values.length;h++){const d=t.types[h],c=e.indexes[d][s[d]],v=(r=e.values[c])!==null&&r!==void 0?r:0;n[h]=v,s[d]++}return n}const KK=(e,t)=>{const r=Ol.createTransformer(t),n=Fv(e),s=Fv(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?ys(Q4(UK(n,s),s.values),r):aw(e,t)};function e$(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Xr(e,t,r):ES(e)(e,t)}function HK(e,t,r){const n=[],s=r||e$,h=e.length-1;for(let d=0;d<h;d++){let c=s(e[d],e[d+1]);if(t){const v=Array.isArray(t)?t[d]||bi:t;c=ys(v,c)}n.push(c)}return n}function WK(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const h=e.length;if(Qb(h===t.length),h===1)return()=>t[0];if(h===2&&e[0]===e[1])return()=>t[1];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=HK(t,n,s),c=d.length,v=w=>{let S=0;if(c>1)for(;S<e.length-2&&!(w<e[S+1]);S++);const T=Qp(e[S],e[S+1],w);return d[S](T)};return r?w=>v(Bl(e[0],e[h-1],w)):v}function GK(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Qp(0,t,n);e.push(Xr(r,1,s))}}function qK(e){const t=[0];return GK(t,e.length-1),t}function ZK(e,t){return e.map(r=>r*t)}function YK(e,t){return e.map(()=>t||q4).splice(0,e.length-1)}function Bv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=RK(n)?n.map(Ek):Ek(n),h={done:!1,value:t[0]},d=ZK(r&&r.length===t.length?r:qK(t),e),c=WK(d,t,{ease:Array.isArray(s)?s:YK(t,s)});return{calculatedDuration:e,next:v=>(h.value=c(v),h.done=v>=e,h)}}const Ik=2e4;function XK(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Ik;)t+=r,n=e.next(t);return t>=Ik?1/0:t}const JK=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Un.update(t,!0),stop:()=>Nl(t),now:()=>Qn.isProcessing?Qn.timestamp:Dl.now()}},QK={decay:Tk,inertia:Tk,tween:Bv,keyframes:Bv,spring:W4},eH=e=>e/100;class kS extends U4{constructor({KeyframeResolver:t=wS,...r}){super(r),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,keyframes:h}=this.options,d=(c,v)=>this.onKeyframesResolved(c,v);n&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(h,d,n,s):this.resolver=new t(h,d,n,s),this.resolver.scheduleResolve()}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:h,velocity:d=0}=this.options,c=QK[r]||Bv;let v,w;c!==Bv&&typeof t[0]!="number"&&(v=ys(eH,e$(t[0],t[1])),t=[0,100]);const S=c({...this.options,keyframes:t});h==="mirror"&&(w=c({...this.options,keyframes:[...t].reverse(),velocity:-d})),S.calculatedDuration===null&&(S.calculatedDuration=XK(S));const{calculatedDuration:T}=S,C=T+s,D=C*(n+1)-s;return{generator:S,mirroredGenerator:w,mapPercentToKeyframes:v,calculatedDuration:T,resolvedDuration:C,totalDuration:D}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:q}=this.options;return{done:!0,value:q[q.length-1]}}const{finalKeyframe:s,generator:h,mirroredGenerator:d,mapPercentToKeyframes:c,keyframes:v,calculatedDuration:w,totalDuration:S,resolvedDuration:T}=n;if(this.startTime===null)return h.next(0);const{delay:C,repeat:D,repeatType:B,repeatDelay:j,onUpdate:Y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-S/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const V=this.currentTime-C*(this.speed>=0?1:-1),F=this.speed>=0?V<0:V>S;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let N=this.currentTime,ee=h;if(D){const q=Math.min(this.currentTime,S)/T;let pe=Math.floor(q),xe=q%1;!xe&&q>=1&&(xe=1),xe===1&&pe--,pe=Math.min(pe,D+1),!!(pe%2)&&(B==="reverse"?(xe=1-xe,j&&(xe-=j/T)):B==="mirror"&&(ee=d)),N=Bl(0,1,xe)*T}const ie=F?{done:!1,value:v[0]}:ee.next(N);c&&(ie.value=c(ie.value));let{done:fe}=ie;!F&&w!==null&&(fe=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const be=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&fe);return be&&s!==void 0&&(ie.value=A0(v,this.options,s)),Y&&Y(ie.value),be&&this.finish(),ie}get duration(){const{resolved:t}=this;return t?vs(t.calculatedDuration):0}get time(){return vs(this.currentTime)}set time(t){t=Ml(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=vs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=JK,onPlay:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const n=this.driver.now();this.holdTime!==null?this.startTime=n-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=n),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const t$=e=>Array.isArray(e)&&typeof e[0]=="number";function r$(e){return!!(!e||typeof e=="string"&&e in AS||t$(e)||Array.isArray(e)&&e.every(r$))}const up=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,AS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:up([0,.65,.55,1]),circOut:up([.55,0,1,.45]),backIn:up([.31,.01,.66,-.59]),backOut:up([.33,1.53,.69,.99])};function tH(e){return n$(e)||AS.easeOut}function n$(e){if(e)return t$(e)?up(e):Array.isArray(e)?e.map(tH):AS[e]}function rH(e,t,r,{delay:n=0,duration:s=300,repeat:h=0,repeatType:d="loop",ease:c,times:v}={}){const w={[t]:r};v&&(w.offset=v);const S=n$(c);return Array.isArray(S)&&(w.easing=S),e.animate(w,{delay:n,duration:s,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"})}const nH=mK(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),iH=new Set(["opacity","clipPath","filter","transform"]),Nv=10,aH=2e4;function oH(e){return e.type==="spring"||e.name==="backgroundColor"||!r$(e.ease)}function sH(e,t){const r=new kS({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let h=0;for(;!n.done&&h<aH;)n=r.sample(h),s.push(n.value),h+=Nv;return{times:void 0,keyframes:s,duration:h-Nv,ease:"linear"}}class Mk extends U4{constructor(t){super(t);const{name:r,motionValue:n,keyframes:s}=this.options;this.resolver=new V4(s,(h,d)=>this.onKeyframesResolved(h,d),r,n),this.resolver.scheduleResolve()}initPlayback(t,r){var n;let{duration:s=300,times:h,ease:d,type:c,motionValue:v,name:w}=this.options;if(!(!((n=v.owner)===null||n===void 0)&&n.current))return!1;if(oH(this.options)){const{onComplete:T,onUpdate:C,motionValue:D,...B}=this.options,j=sH(t,B);t=j.keyframes,t.length===1&&(t[1]=t[0]),s=j.duration,h=j.times,d=j.ease,c="keyframes"}const S=rH(v.owner.current,w,t,{...this.options,duration:s,times:h,ease:d});return S.startTime=Dl.now(),this.pendingTimeline?(S.timeline=this.pendingTimeline,this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:T}=this.options;v.set(A0(t,this.options,r)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:s,times:h,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return vs(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return vs(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ml(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return bi;const{animation:n}=r;n.timeline=t,n.onfinish=null}return bi}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:h,ease:d,times:c}=t;if(!(r.playState==="idle"||r.playState==="finished")){if(this.time){const{motionValue:v,onUpdate:w,onComplete:S,...T}=this.options,C=new kS({...T,keyframes:n,duration:s,type:h,ease:d,times:c,isGenerator:!0}),D=Ml(this.time);v.setWithVelocity(C.sample(D-Nv).value,C.sample(D).value,Nv)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:h,damping:d,type:c}=t;return nH()&&n&&iH.has(n)&&r&&r.owner&&r.owner.current instanceof HTMLElement&&!r.owner.getProps().onUpdate&&!s&&h!=="mirror"&&d!==0&&c!=="inertia"}}const IS=(e,t,r,n={},s,h)=>d=>{const c=bS(n,e)||{},v=c.delay||n.delay||0;let{elapsed:w=0}=n;w=w-Ml(v);let S={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-w,onUpdate:C=>{t.set(C),c.onUpdate&&c.onUpdate(C)},onComplete:()=>{d(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:h?void 0:s};KU(c)||(S={...S,...UU(e,S)}),S.duration&&(S.duration=Ml(S.duration)),S.repeatDelay&&(S.repeatDelay=Ml(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let T=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(T=!0)),T&&!h&&t.get()!==void 0){const C=A0(S.keyframes,c);if(C!==void 0){Un.update(()=>{S.onUpdate(C),S.onComplete()});return}}return!h&&Mk.supports(S)?new Mk(S):new kS(S)};function Ov(e){return!!(xi(e)&&e.add)}function MS(e,t){e.indexOf(t)===-1&&e.push(t)}function DS(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let $S=class{constructor(){this.subscriptions=[]}add(t){return MS(this.subscriptions,t),()=>DS(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let h=0;h<s;h++){const d=this.subscriptions[h];d&&d(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const Dk=30,lH=e=>!isNaN(parseFloat(e));let cH=class{constructor(t,r={}){this.version="11.1.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{const h=Dl.now();this.updatedAt!==h&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=lH(this.current),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Dl.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new $S);const n=this.events[t].add(r);return t==="change"?()=>{n(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Dk)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Dk);return K4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function em(e,t){return new cH(e,t)}function uH(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,em(r))}function dH(e,t){const r=k0(e,t);let{transitionEnd:n={},transition:s={},...h}=r||{};h={...h,...n};for(const d in h){const c=_U(h[d]);uH(e,d,c)}}function hH({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function i$(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var h;let{transition:d=e.getDefaultTransition(),transitionEnd:c,...v}=t;const w=e.getValue("willChange");n&&(d=n);const S=[],T=s&&e.animationState&&e.animationState.getState()[s];for(const C in v){const D=e.getValue(C,(h=e.latestValues[C])!==null&&h!==void 0?h:null),B=v[C];if(B===void 0||T&&hH(T,C))continue;const j={delay:r,elapsed:0,...bS(d||{},C)};let Y=!1;if(window.HandoffAppearAnimations){const N=e.getProps()[n4];if(N){const ee=window.HandoffAppearAnimations(N,C);ee!==null&&(j.elapsed=ee,Y=!0)}}D.start(IS(C,D,B,e.shouldReduceMotion&&ou.has(C)?{type:!1}:j,e,Y));const V=D.animation;V&&(Ov(w)&&(w.add(C),V.then(()=>w.remove(C))),S.push(V))}return c&&Promise.all(S).then(()=>{Un.update(()=>{c&&dH(e,c)})}),S}function ow(e,t,r={}){var n;const s=k0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:h=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(h=r.transitionOverride);const d=s?()=>Promise.all(i$(e,s,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(w=0)=>{const{delayChildren:S=0,staggerChildren:T,staggerDirection:C}=h;return fH(e,t,S+w,T,C,r)}:()=>Promise.resolve(),{when:v}=h;if(v){const[w,S]=v==="beforeChildren"?[d,c]:[c,d];return w().then(()=>S())}else return Promise.all([d(),c(r.delay)])}function fH(e,t,r=0,n=0,s=1,h){const d=[],c=(e.variantChildren.size-1)*n,v=s===1?(w=0)=>w*n:(w=0)=>c-w*n;return Array.from(e.variantChildren).sort(pH).forEach((w,S)=>{w.notify("AnimationStart",t),d.push(ow(w,t,{...h,delay:r+v(S)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(d)}function pH(e,t){return e.sortNodePosition(t)}function mH(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(h=>ow(e,h,r));n=Promise.all(s)}else if(typeof t=="string")n=ow(e,t,r);else{const s=typeof t=="function"?k0(e,t,r.custom):t;n=Promise.all(i$(e,s,r))}return n.then(()=>{Un.postRender(()=>{e.notify("AnimationComplete",t)})})}const gH=[...cS].reverse(),yH=cS.length;function vH(e){return t=>Promise.all(t.map(({animation:r,options:n})=>mH(e,r,n)))}function xH(e){let t=vH(e);const r=bH();let n=!0;const s=v=>(w,S)=>{var T;const C=k0(e,S,v==="exit"?(T=e.presenceContext)===null||T===void 0?void 0:T.custom:void 0);if(C){const{transition:D,transitionEnd:B,...j}=C;w={...w,...j,...B}}return w};function h(v){t=v(e)}function d(v){const w=e.getProps(),S=e.getVariantContext(!0)||{},T=[],C=new Set;let D={},B=1/0;for(let Y=0;Y<yH;Y++){const V=gH[Y],F=r[V],N=w[V]!==void 0?w[V]:S[V],ee=Xp(N),ie=V===v?F.isActive:null;ie===!1&&(B=Y);let fe=N===S[V]&&N!==w[V]&&ee;if(fe&&n&&e.manuallyAnimateOnMount&&(fe=!1),F.protectedKeys={...D},!F.isActive&&ie===null||!N&&!F.prevProp||T0(N)||typeof N=="boolean")continue;let q=_H(F.prevProp,N)||V===v&&F.isActive&&!fe&&ee||Y>B&&ee,pe=!1;const xe=Array.isArray(N)?N:[N];let le=xe.reduce(s(V),{});ie===!1&&(le={});const{prevResolvedValues:Se={}}=F,ge={...Se,...le},ye=Be=>{q=!0,C.has(Be)&&(pe=!0,C.delete(Be)),F.needsAnimating[Be]=!0;const Re=e.getValue(Be);Re&&(Re.liveStyle=!1)};for(const Be in ge){const Re=le[Be],ae=Se[Be];if(D.hasOwnProperty(Be))continue;let De=!1;Xb(Re)&&Xb(ae)?De=!k4(Re,ae):De=Re!==ae,De?Re!=null?ye(Be):C.add(Be):Re!==void 0&&C.has(Be)?ye(Be):F.protectedKeys[Be]=!0}F.prevProp=N,F.prevResolvedValues=le,F.isActive&&(D={...D,...le}),n&&e.blockInitialAnimation&&(q=!1),q&&(!fe||pe)&&T.push(...xe.map(Be=>({animation:Be,options:{type:V}})))}if(C.size){const Y={};C.forEach(V=>{const F=e.getBaseTarget(V),N=e.getValue(V);N&&(N.liveStyle=!0),Y[V]=F??null}),T.push({animation:Y})}let j=!!T.length;return n&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(j=!1),n=!1,j?t(T):Promise.resolve()}function c(v,w){var S;if(r[v].isActive===w)return Promise.resolve();(S=e.variantChildren)===null||S===void 0||S.forEach(C=>{var D;return(D=C.animationState)===null||D===void 0?void 0:D.setActive(v,w)}),r[v].isActive=w;const T=d(v);for(const C in r)r[C].protectedKeys={};return T}return{animateChanges:d,setActive:c,setAnimateFunction:h,getState:()=>r}}function _H(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!k4(t,e):!1}function xc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bH(){return{animate:xc(!0),whileInView:xc(),whileHover:xc(),whileTap:xc(),whileDrag:xc(),whileFocus:xc(),exit:xc()}}let wH=class extends Hl{constructor(t){super(t),t.animationState||(t.animationState=xH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),T0(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}},SH=0,PH=class extends Hl{constructor(){super(...arguments),this.id=SH++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const a$={animation:{Feature:wH},exit:{Feature:PH}},$k=(e,t)=>Math.abs(e-t);function TH(e,t){const r=$k(e.x,t.x),n=$k(e.y,t.y);return Math.sqrt(r**2+n**2)}class o${constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:h=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=X1(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,D=TH(T.offset,{x:0,y:0})>=3;if(!C&&!D)return;const{point:B}=T,{timestamp:j}=Qn;this.history.push({...B,timestamp:j});const{onStart:Y,onMove:V}=this.handlers;C||(Y&&Y(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Y1(C,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:D,onSessionEnd:B,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=X1(T.type==="pointercancel"?this.lastMoveEventInfo:Y1(C,this.transformPagePoint),this.history);this.startEvent&&D&&D(T,Y),B&&B(T,Y)},!w4(t))return;this.dragSnapToOrigin=h,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const d=E0(t),c=Y1(d,this.transformPagePoint),{point:v}=c,{timestamp:w}=Qn;this.history=[{...v,timestamp:w}];const{onSessionStart:S}=r;S&&S(t,X1(c,this.history)),this.removeListeners=ys(gs(this.contextWindow,"pointermove",this.handlePointerMove),gs(this.contextWindow,"pointerup",this.handlePointerUp),gs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nl(this.updatePoint)}}function Y1(e,t){return t?{point:t(e.point)}:e}function Rk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function X1({point:e},t){return{point:e,delta:Rk(e,s$(t)),offset:Rk(e,CH(t)),velocity:EH(t,.1)}}function CH(e){return e[0]}function s$(e){return e[e.length-1]}function EH(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=s$(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ml(t)));)r--;if(!n)return{x:0,y:0};const h=vs(s.timestamp-n.timestamp);if(h===0)return{x:0,y:0};const d={x:(s.x-n.x)/h,y:(s.y-n.y)/h};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function ga(e){return e.max-e.min}function sw(e,t=0,r=.01){return Math.abs(e-t)<=r}function Lk(e,t,r,n=.5){e.origin=n,e.originPoint=Xr(t.min,t.max,e.origin),e.scale=ga(r)/ga(t),(sw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Xr(r.min,r.max,e.origin)-e.originPoint,(sw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ep(e,t,r,n){Lk(e.x,t.x,r.x,n?n.originX:void 0),Lk(e.y,t.y,r.y,n?n.originY:void 0)}function zk(e,t,r){e.min=r.min+t.min,e.max=e.min+ga(t)}function kH(e,t,r){zk(e.x,t.x,r.x),zk(e.y,t.y,r.y)}function Fk(e,t,r){e.min=t.min-r.min,e.max=e.min+ga(t)}function kp(e,t,r){Fk(e.x,t.x,r.x),Fk(e.y,t.y,r.y)}function AH(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Xr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Xr(r,e,n.max):Math.min(e,r)),e}function Bk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function IH(e,{top:t,left:r,bottom:n,right:s}){return{x:Bk(e.x,r,s),y:Bk(e.y,t,n)}}function Nk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function MH(e,t){return{x:Nk(e.x,t.x),y:Nk(e.y,t.y)}}function DH(e,t){let r=.5;const n=ga(e),s=ga(t);return s>n?r=Qp(t.min,t.max-n,e.min):n>s&&(r=Qp(e.min,e.max-s,t.min)),Bl(0,1,r)}function $H(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const lw=.35;function RH(e=lw){return e===!1?e=0:e===!0&&(e=lw),{x:Ok(e,"left","right"),y:Ok(e,"top","bottom")}}function Ok(e,t,r){return{min:jk(e,t),max:jk(e,r)}}function jk(e,t){return typeof e=="number"?e:e[t]||0}const Vk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Md=()=>({x:Vk(),y:Vk()}),Uk=()=>({min:0,max:0}),hn=()=>({x:Uk(),y:Uk()});function Aa(e){return[e("x"),e("y")]}function l$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function LH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zH(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function J1(e){return e===void 0||e===1}function cw({scale:e,scaleX:t,scaleY:r}){return!J1(e)||!J1(t)||!J1(r)}function Pc(e){return cw(e)||c$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function c$(e){return Kk(e.x)||Kk(e.y)}function Kk(e){return e&&e!=="0%"}function jv(e,t,r){const n=e-r,s=t*n;return r+s}function Hk(e,t,r,n,s){return s!==void 0&&(e=jv(e,s,n)),jv(e,r,n)+t}function uw(e,t=0,r=1,n,s){e.min=Hk(e.min,t,r,n,s),e.max=Hk(e.max,t,r,n,s)}function u$(e,{x:t,y:r}){uw(e.x,t.translate,t.scale,t.originPoint),uw(e.y,r.translate,r.scale,r.originPoint)}function FH(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let h,d;for(let c=0;c<s;c++){h=r[c],d=h.projectionDelta;const v=h.instance;v&&v.style&&v.style.display==="contents"||(n&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Dd(e,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,u$(e,d)),n&&Pc(h.latestValues)&&Dd(e,h.latestValues))}t.x=Wk(t.x),t.y=Wk(t.y)}function Wk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function pl(e,t){e.min=e.min+t,e.max=e.max+t}function Gk(e,t,[r,n,s]){const h=t[s]!==void 0?t[s]:.5,d=Xr(e.min,e.max,h);uw(e,t[r],t[n],d,t.scale)}const BH=["x","scaleX","originX"],NH=["y","scaleY","originY"];function Dd(e,t){Gk(e.x,t,BH),Gk(e.y,t,NH)}function d$(e,t){return l$(zH(e.getBoundingClientRect(),t))}function OH(e,t,r){const n=d$(e,r),{scroll:s}=t;return s&&(pl(n.x,s.offset.x),pl(n.y,s.offset.y)),n}const h$=({current:e})=>e?e.ownerDocument.defaultView:null,jH=new WeakMap;class VH{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(E0(S,"page").point)},h=(S,T)=>{const{drag:C,dragPropagation:D,onDragStart:B}=this.getProps();if(C&&!D&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P4(C),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Aa(Y=>{let V=this.getAxisMotionValue(Y).get()||0;if(Ro.test(V)){const{projection:F}=this.visualElement;if(F&&F.layout){const N=F.layout.layoutBox[Y];N&&(V=ga(N)*(parseFloat(V)/100))}}this.originPoint[Y]=V}),B&&B(S,T);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(S,T)=>{const{dragPropagation:C,dragDirectionLock:D,onDirectionLock:B,onDrag:j}=this.getProps();if(!C&&!this.openGlobalLock)return;const{offset:Y}=T;if(D&&this.currentDirection===null){this.currentDirection=UH(Y),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",T.point,Y),this.updateAxis("y",T.point,Y),this.visualElement.render(),j&&j(S,T)},c=(S,T)=>this.stop(S,T),v=()=>Aa(S=>{var T;return this.getAnimationState(S)==="paused"&&((T=this.getAxisMotionValue(S).animation)===null||T===void 0?void 0:T.play())}),{dragSnapToOrigin:w}=this.getProps();this.panSession=new o$(t,{onSessionStart:s,onStart:h,onMove:d,onSessionEnd:c,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:h$(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:h}=this.getProps();h&&h(t,r)}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!dy(t,s,this.currentDirection))return;const h=this.getAxisMotionValue(t);let d=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(d=AH(d,this.constraints[t],this.elastic[t])),h.set(d)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,h=this.constraints;r&&Ad(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=IH(s.layoutBox,r):this.constraints=!1,this.elastic=RH(n),h!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Aa(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=$H(s.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ad(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const h=OH(n,s.root,this.visualElement.getTransformPagePoint());let d=MH(s.layout.layoutBox,h);if(r){const c=r(LH(d));this.hasMutatedConstraints=!!c,c&&(d=l$(c))}return d}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:h,dragSnapToOrigin:d,onDragTransitionEnd:c}=this.getProps(),v=this.constraints||{},w=Aa(S=>{if(!dy(S,r,this.currentDirection))return;let T=v&&v[S]||{};d&&(T={min:0,max:0});const C=s?200:1e6,D=s?40:1e7,B={type:"inertia",velocity:n?t[S]:0,bounceStiffness:C,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...h,...T};return this.startAxisValueAnimation(S,B)});return Promise.all(w).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(IS(t,n,0,r,this.visualElement))}stopAnimation(){Aa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Aa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Aa(r=>{const{drag:n}=this.getProps();if(!dy(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,h=this.getAxisMotionValue(r);if(s&&s.layout){const{min:d,max:c}=s.layout.layoutBox[r];h.set(t[r]-Xr(d,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ad(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Aa(d=>{const c=this.getAxisMotionValue(d);if(c&&this.constraints!==!1){const v=c.get();s[d]=DH({min:v,max:v},this.constraints[d])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Aa(d=>{if(!dy(d,t,null))return;const c=this.getAxisMotionValue(d),{min:v,max:w}=this.constraints[d];c.set(Xr(v,w,s[d]))})}addListeners(){if(!this.visualElement.current)return;jH.set(this.visualElement,this);const t=this.visualElement.current,r=gs(t,"pointerdown",v=>{const{drag:w,dragListener:S=!0}=this.getProps();w&&S&&this.start(v)}),n=()=>{const{dragConstraints:v}=this.getProps();Ad(v)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,h=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const d=fs(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w})=>{this.isDragging&&w&&(Aa(S=>{const T=this.getAxisMotionValue(S);T&&(this.originPoint[S]+=v[S].translate,T.set(T.get()+v[S].translate))}),this.visualElement.render())});return()=>{d(),r(),h(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:h=!1,dragElastic:d=lw,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:h,dragElastic:d,dragMomentum:c}}}function dy(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function UH(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class KH extends Hl{constructor(t){super(t),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new VH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}unmount(){this.removeGroupControls(),this.removeListeners()}}const qk=e=>(t,r)=>{e&&e(t,r)};class HH extends Hl{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(t){this.session=new o$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:qk(t),onStart:qk(r),onMove:n,onEnd:(h,d)=>{delete this.session,s&&s(h,d)}}}mount(){this.removePointerDownListener=gs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function WH(){const e=z.useContext(P0);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=z.useId();return z.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const Ny={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Bt.test(e))e=parseFloat(e);else return e;const r=Zk(e,t.target.x),n=Zk(e,t.target.y);return`${r}% ${n}%`}},GH={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Ol.parse(e);if(s.length>5)return n;const h=Ol.createTransformer(e),d=typeof s[0]!="number"?1:0,c=r.x.scale*t.x,v=r.y.scale*t.y;s[0+d]/=c,s[1+d]/=v;const w=Xr(c,v,.5);return typeof s[2+d]=="number"&&(s[2+d]/=w),typeof s[3+d]=="number"&&(s[3+d]/=w),h(s)}};class qH extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:h}=t;Y9(ZH),h&&(r.group&&r.group.add(h),n&&n.register&&s&&n.register(h),h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,onExitComplete:()=>this.safeToRemove()})),Ny.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:h}=this.props,d=n.projection;return d&&(d.isPresent=h,s||t.layoutDependency!==r||r===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==h&&(h?d.promote():d.relegate()||Un.postRender(()=>{const c=d.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function f$(e){const[t,r]=WH(),n=z.useContext(dS);return L.jsx(qH,{...e,layoutGroup:n,switchLayoutGroup:z.useContext(o4),isPresent:t,safeToRemove:r})}const ZH={borderRadius:{...Zf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zf,borderTopRightRadius:Zf,borderBottomLeftRadius:Zf,borderBottomRightRadius:Zf,boxShadow:GH},p$=["TopLeft","TopRight","BottomLeft","BottomRight"],YH=p$.length,Yk=e=>typeof e=="string"?parseFloat(e):e,Xk=e=>typeof e=="number"||Bt.test(e);function XH(e,t,r,n,s,h){s?(e.opacity=Xr(0,r.opacity!==void 0?r.opacity:1,JH(n)),e.opacityExit=Xr(t.opacity!==void 0?t.opacity:1,0,QH(n))):h&&(e.opacity=Xr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let d=0;d<YH;d++){const c=`border${p$[d]}Radius`;let v=Jk(t,c),w=Jk(r,c);if(v===void 0&&w===void 0)continue;v||(v=0),w||(w=0),v===0||w===0||Xk(v)===Xk(w)?(e[c]=Math.max(Xr(Yk(v),Yk(w),n),0),(Ro.test(w)||Ro.test(v))&&(e[c]+="%")):e[c]=w}(t.rotate||r.rotate)&&(e.rotate=Xr(t.rotate||0,r.rotate||0,n))}function Jk(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JH=m$(0,.5,X4),QH=m$(.5,.95,bi);function m$(e,t,r){return n=>n<e?0:n>t?1:r(Qp(e,t,n))}function Qk(e,t){e.min=t.min,e.max=t.max}function Ca(e,t){Qk(e.x,t.x),Qk(e.y,t.y)}function eA(e,t,r,n,s){return e-=t,e=jv(e,1/r,n),s!==void 0&&(e=jv(e,1/s,n)),e}function eW(e,t=0,r=1,n=.5,s,h=e,d=e){if(Ro.test(t)&&(t=parseFloat(t),t=Xr(d.min,d.max,t/100)-d.min),typeof t!="number")return;let c=Xr(h.min,h.max,n);e===h&&(c-=t),e.min=eA(e.min,t,r,c,s),e.max=eA(e.max,t,r,c,s)}function tA(e,t,[r,n,s],h,d){eW(e,t[r],t[n],t[s],t.scale,h,d)}const tW=["x","scaleX","originX"],rW=["y","scaleY","originY"];function rA(e,t,r,n){tA(e.x,t,tW,r?r.x:void 0,n?n.x:void 0),tA(e.y,t,rW,r?r.y:void 0,n?n.y:void 0)}function nA(e){return e.translate===0&&e.scale===1}function g$(e){return nA(e.x)&&nA(e.y)}function nW(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function y$(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function iA(e){return ga(e.x)/ga(e.y)}class iW{constructor(){this.members=[]}add(t){MS(this.members,t),t.scheduleRender()}remove(t){if(DS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const h=this.members[s];if(h.isPresent!==!1){n=h;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aA(e,t,r){let n="";const s=e.x.translate/t.x,h=e.y.translate/t.y,d=(r==null?void 0:r.z)||0;if((s||h||d)&&(n=`translate3d(${s}px, ${h}px, ${d}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:w,rotate:S,rotateX:T,rotateY:C,skewX:D,skewY:B}=r;w&&(n=`perspective(${w}px) ${n}`),S&&(n+=`rotate(${S}deg) `),T&&(n+=`rotateX(${T}deg) `),C&&(n+=`rotateY(${C}deg) `),D&&(n+=`skewX(${D}deg) `),B&&(n+=`skewY(${B}deg) `)}const c=e.x.scale*t.x,v=e.y.scale*t.y;return(c!==1||v!==1)&&(n+=`scale(${c}, ${v})`),n||"none"}const aW=(e,t)=>e.depth-t.depth;class oW{constructor(){this.children=[],this.isDirty=!1}add(t){MS(this.children,t),this.isDirty=!0}remove(t){DS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aW),this.isDirty=!1,this.children.forEach(t)}}function sW(e,t){const r=Dl.now(),n=({timestamp:s})=>{const h=s-r;h>=t&&(Nl(n),e(h-t))};return Un.read(n,!0),()=>Nl(n)}function lW(e){window.MotionDebug&&window.MotionDebug.record(e)}function cW(e){return e instanceof SVGElement&&e.tagName!=="svg"}function uW(e,t,r){const n=xi(e)?e:em(e);return n.start(IS("",n,t,r)),n.animation}const Q1=["","X","Y","Z"],dW={visibility:"hidden"},oA=1e3;let hW=0;const Tc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function e_(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function v$({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(d={},c=t==null?void 0:t()){this.id=hW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tc.totalNodes=Tc.resolvedTargetDeltas=Tc.recalculatedProjection=0,this.nodes.forEach(mW),this.nodes.forEach(_W),this.nodes.forEach(bW),this.nodes.forEach(gW),lW(Tc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new oW)}addEventListener(d,c){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new $S),this.eventHandlers.get(d).add(c)}notifyListeners(d,...c){const v=this.eventHandlers.get(d);v&&v.notify(...c)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cW(d),this.instance=d;const{layoutId:v,layout:w,visualElement:S}=this.options;if(S&&!S.current&&S.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(w||v)&&(this.isLayoutDirty=!0),e){let T;const C=()=>this.root.updateBlockedByResize=!1;e(d,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=sW(C,250),Ny.hasAnimatedSinceResize&&(Ny.hasAnimatedSinceResize=!1,this.nodes.forEach(lA))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&S&&(v||w)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:C,hasRelativeTargetChanged:D,layout:B})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||S.getDefaultTransition()||CW,{onLayoutAnimationStart:Y,onLayoutAnimationComplete:V}=S.getProps(),F=!this.targetLayout||!y$(this.targetLayout,B)||D,N=!C&&D;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||C&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,N);const ee={...bS(j,"layout"),onPlay:Y,onComplete:V};(S.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else C||lA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=B})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wW),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const T=this.path[S];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:c,layout:v}=this.options;if(c===void 0&&!v)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sA);return}this.isUpdating||this.nodes.forEach(vW),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(xW),this.nodes.forEach(fW),this.nodes.forEach(pW),this.clearAllSnapshots();const c=Dl.now();Qn.delta=Bl(0,1e3/60,c-Qn.timestamp),Qn.timestamp=c,Qn.isProcessing=!0,U1.update.process(Qn),U1.preRender.process(Qn),U1.render.process(Qn),Qn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lS.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yW),this.sharedNodes.forEach(SW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Un.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:d,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const d=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!g$(this.projectionDelta),v=this.getTransformTemplate(),w=v?v(this.latestValues,""):void 0,S=w!==this.prevTransformTemplateValue;d&&(c||Pc(this.latestValues)||S)&&(s(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const c=this.measurePageBox();let v=this.removeElementScroll(c);return d&&(v=this.removeTransform(v)),EW(v),{animationId:this.root.animationId,measuredBox:c,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return hn();const c=d.measureViewportBox(),{scroll:v}=this.root;return v&&(pl(c.x,v.offset.x),pl(c.y,v.offset.y)),c}removeElementScroll(d){const c=hn();Ca(c,d);for(let v=0;v<this.path.length;v++){const w=this.path[v],{scroll:S,options:T}=w;if(w!==this.root&&S&&T.layoutScroll){if(S.isRoot){Ca(c,d);const{scroll:C}=this.root;C&&(pl(c.x,-C.offset.x),pl(c.y,-C.offset.y))}pl(c.x,S.offset.x),pl(c.y,S.offset.y)}}return c}applyTransform(d,c=!1){const v=hn();Ca(v,d);for(let w=0;w<this.path.length;w++){const S=this.path[w];!c&&S.options.layoutScroll&&S.scroll&&S!==S.root&&Dd(v,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),Pc(S.latestValues)&&Dd(v,S.latestValues)}return Pc(this.latestValues)&&Dd(v,this.latestValues),v}removeTransform(d){const c=hn();Ca(c,d);for(let v=0;v<this.path.length;v++){const w=this.path[v];if(!w.instance||!Pc(w.latestValues))continue;cw(w.latestValues)&&w.updateSnapshot();const S=hn(),T=w.measurePageBox();Ca(S,T),rA(c,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,S)}return Pc(this.latestValues)&&rA(c,this.latestValues),c}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var c;const v=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=v.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=v.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=v.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==v;if(!(d||w&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:T,layoutId:C}=this.options;if(!(!this.layout||!(T||C))){if(this.resolvedRelativeTargetAt=Qn.timestamp,!this.targetDelta&&!this.relativeTarget){const D=this.getClosestProjectingParent();D&&D.layout&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),kp(this.relativeTargetOrigin,this.layout.layoutBox,D.layout.layoutBox),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ca(this.target,this.layout.layoutBox),u$(this.target,this.targetDelta)):Ca(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const D=this.getClosestProjectingParent();D&&!!D.resumingFrom==!!this.resumingFrom&&!D.options.layoutScroll&&D.target&&this.animationProgress!==1?(this.relativeParent=D,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),kp(this.relativeTargetOrigin,this.target,D.target),Ca(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cw(this.parent.latestValues)||c$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const c=this.getLead(),v=!!this.resumingFrom||this!==c;let w=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(w=!1),v&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Qn.timestamp&&(w=!1),w)return;const{layout:S,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(S||T))return;Ca(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,D=this.treeScale.y;FH(this.layoutCorrected,this.treeScale,this.path,v),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=hn());const{target:B}=c;if(!B){this.projectionTransform&&(this.projectionDelta=Md(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Md(),this.projectionDeltaWithTransform=Md());const j=this.projectionTransform;Ep(this.projectionDelta,this.layoutCorrected,B,this.latestValues),this.projectionTransform=aA(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==C||this.treeScale.y!==D)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",B)),Tc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),d){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(d,c=!1){const v=this.snapshot,w=v?v.latestValues:{},S={...this.latestValues},T=Md();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const C=hn(),D=v?v.source:void 0,B=this.layout?this.layout.source:void 0,j=D!==B,Y=this.getStack(),V=!Y||Y.members.length<=1,F=!!(j&&!V&&this.options.crossfade===!0&&!this.path.some(TW));this.animationProgress=0;let N;this.mixTargetDelta=ee=>{const ie=ee/1e3;cA(T.x,d.x,ie),cA(T.y,d.y,ie),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kp(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PW(this.relativeTarget,this.relativeTargetOrigin,C,ie),N&&nW(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=hn()),Ca(N,this.relativeTarget)),j&&(this.animationValues=S,XH(S,w,this.latestValues,ie,F,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{Ny.hasAnimatedSinceResize=!0,this.currentAnimation=uW(0,oA,{...d,onUpdate:c=>{this.mixTargetDelta(c),d.onUpdate&&d.onUpdate(c)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:c,target:v,layout:w,latestValues:S}=d;if(!(!c||!v||!w)){if(this!==d&&this.layout&&w&&x$(this.options.animationType,this.layout.layoutBox,w.layoutBox)){v=this.target||hn();const T=ga(this.layout.layoutBox.x);v.x.min=d.target.x.min,v.x.max=v.x.min+T;const C=ga(this.layout.layoutBox.y);v.y.min=d.target.y.min,v.y.max=v.y.min+C}Ca(c,v),Dd(c,S),Ep(this.projectionDeltaWithTransform,this.layoutCorrected,c,S)}}registerSharedNode(d,c){this.sharedNodes.has(d)||this.sharedNodes.set(d,new iW),this.sharedNodes.get(d).add(c);const w=c.options.initialPromotionConfig;c.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(c):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:c,preserveFollowOpacity:v}={}){const w=this.getStack();w&&w.promote(this,v),d&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let c=!1;const{latestValues:v}=d;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(c=!0),!c)return;const w={};v.z&&e_("z",d,w,this.animationValues);for(let S=0;S<Q1.length;S++)e_(`rotate${Q1[S]}`,d,w,this.animationValues),e_(`skew${Q1[S]}`,d,w,this.animationValues);d.render();for(const S in w)d.setStaticValue(S,w[S]),this.animationValues&&(this.animationValues[S]=w[S]);d.scheduleRender()}getProjectionStyles(d){var c,v;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dW;const w={visibility:""},S=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,w.opacity="",w.pointerEvents=Fy(d==null?void 0:d.pointerEvents)||"",w.transform=S?S(this.latestValues,""):"none",w;const T=this.getLead();if(!this.projectionDelta||!this.layout||!T.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=Fy(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Pc(this.latestValues)&&(j.transform=S?S({},""):"none",this.hasProjected=!1),j}const C=T.animationValues||T.latestValues;this.applyTransformsToTarget(),w.transform=aA(this.projectionDeltaWithTransform,this.treeScale,C),S&&(w.transform=S(C,w.transform));const{x:D,y:B}=this.projectionDelta;w.transformOrigin=`${D.origin*100}% ${B.origin*100}% 0`,T.animationValues?w.opacity=T===this?(v=(c=C.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&v!==void 0?v:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:w.opacity=T===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const j in Lv){if(C[j]===void 0)continue;const{correct:Y,applyTo:V}=Lv[j],F=w.transform==="none"?C[j]:Y(C[j],T);if(V){const N=V.length;for(let ee=0;ee<N;ee++)w[V[ee]]=F}else w[j]=F}return this.options.layoutId&&(w.pointerEvents=T===this?Fy(d==null?void 0:d.pointerEvents)||"":"none"),w}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var c;return(c=d.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(sA),this.root.sharedNodes.clear()}}}function fW(e){e.updateLayout()}function pW(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:h}=e.options,d=r.source!==e.layout.source;h==="size"?Aa(T=>{const C=d?r.measuredBox[T]:r.layoutBox[T],D=ga(C);C.min=n[T].min,C.max=C.min+D}):x$(h,r.layoutBox,n)&&Aa(T=>{const C=d?r.measuredBox[T]:r.layoutBox[T],D=ga(n[T]);C.max=C.min+D,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[T].max=e.relativeTarget[T].min+D)});const c=Md();Ep(c,n,r.layoutBox);const v=Md();d?Ep(v,e.applyTransform(s,!0),r.measuredBox):Ep(v,n,r.layoutBox);const w=!g$(c);let S=!1;if(!e.resumeFrom){const T=e.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:C,layout:D}=T;if(C&&D){const B=hn();kp(B,r.layoutBox,C.layoutBox);const j=hn();kp(j,n,D.layoutBox),y$(B,j)||(S=!0),T.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=B,e.relativeParent=T)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:v,layoutDelta:c,hasLayoutChanged:w,hasRelativeTargetChanged:S})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mW(e){Tc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gW(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yW(e){e.clearSnapshot()}function sA(e){e.clearMeasurements()}function vW(e){e.isLayoutDirty=!1}function xW(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _W(e){e.resolveTargetDelta()}function bW(e){e.calcProjection()}function wW(e){e.resetSkewAndRotation()}function SW(e){e.removeLeadSnapshot()}function cA(e,t,r){e.translate=Xr(t.translate,0,r),e.scale=Xr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function uA(e,t,r,n){e.min=Xr(t.min,r.min,n),e.max=Xr(t.max,r.max,n)}function PW(e,t,r,n){uA(e.x,t.x,r.x,n),uA(e.y,t.y,r.y,n)}function TW(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CW={duration:.45,ease:[.4,0,.1,1]},dA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hA=dA("applewebkit/")&&!dA("chrome/")?Math.round:bi;function fA(e){e.min=hA(e.min),e.max=hA(e.max)}function EW(e){fA(e.x),fA(e.y)}function x$(e,t,r){return e==="position"||e==="preserve-aspect"&&!sw(iA(t),iA(r),.2)}const kW=v$({attachResizeListener:(e,t)=>fs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t_={current:void 0},_$=v$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!t_.current){const e=new kW({});e.mount(window),e.setOptions({layoutScroll:!0}),t_.current=e}return t_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),AW={pan:{Feature:HH},drag:{Feature:KH,ProjectionNode:_$,MeasureLayout:f$}},dw={current:null},b$={current:!1};function IW(){if(b$.current=!0,!!iS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dw.current=e.matches;e.addListener(t),t()}else dw.current=!1}function MW(e,t,r){const{willChange:n}=t;for(const s in t){const h=t[s],d=r[s];if(xi(h))e.addValue(s,h),Ov(n)&&n.add(s);else if(xi(d))e.addValue(s,em(h,{owner:e})),Ov(n)&&n.remove(s);else if(d!==h)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(h):c.hasAnimated||c.set(h)}else{const c=e.getStaticValue(s);e.addValue(s,em(c!==void 0?c:h,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const pA=new WeakMap,DW=[...$4,gi,Ol],$W=e=>DW.find(D4(e)),w$=Object.keys(Jp),RW=w$.length,mA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],LW=uS.length;function S$(e){if(e)return e.options.allowProjection!==!1?e.projection:S$(e.parent)}let zW=class{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:h,visualState:d},c={}){this.resolveKeyframes=(C,D,B,j)=>new this.KeyframeResolver(C,D,B,j,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:v,renderState:w}=d;this.latestValues=v,this.baseTarget={...v},this.initialValues=r.initial?{...v}:{},this.renderState=w,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!h,this.isControllingVariants=C0(r),this.isVariantNode=a4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:S,...T}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in T){const D=T[C];v[C]!==void 0&&xi(D)&&(D.set(v[C],!1),Ov(S)&&S.add(C))}}mount(t){this.current=t,pA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),b$.current||IW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;pA.delete(this.current),this.projection&&this.projection.unmount(),Nl(this.notifyUpdate),Nl(this.render),this.valueSubscriptions.forEach(r=>r()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const r in this.events)this.events[r].clear();for(const r in this.features)(t=this.features[r])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,r){const n=ou.has(t),s=r.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Un.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),h=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),h(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,h){let d,c;for(let v=0;v<RW;v++){const w=w$[v],{isEnabled:S,Feature:T,ProjectionNode:C,MeasureLayout:D}=Jp[w];C&&(d=C),S(r)&&(!this.features[w]&&T&&(this.features[w]=new T(this)),D&&(c=D))}if((this.type==="html"||this.type==="svg")&&!this.projection&&d){this.projection=new d(this.latestValues,S$(this.parent));const{layoutId:v,layout:w,drag:S,dragConstraints:T,layoutScroll:C,layoutRoot:D}=r;this.projection.setOptions({layoutId:v,layout:w,alwaysMeasureLayout:!!S||T&&Ad(T),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof w=="string"?w:"both",initialPromotionConfig:h,layoutScroll:C,layoutRoot:D})}return c}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<mA.length;n++){const s=mA[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const h="on"+s,d=t[h];d&&(this.propEventSubscriptions[s]=this.on(s,d))}this.prevMotionValues=MW(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<LW;n++){const s=uS[n],h=this.props[s];(Xp(h)||h===!1)&&(r[s]=h)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=em(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(I4(s)||A4(s))?s=parseFloat(s):!$W(s)&&Ol.test(r)&&(s=j4(t,r)),this.setBaseTarget(t,xi(s)?s.get():s)),xi(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const d=_S(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);d&&(s=d[t])}if(n&&s!==void 0)return s;const h=this.getBaseTargetFromProps(this.props,t);return h!==void 0&&!xi(h)?h:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new $S),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}},P$=class extends zW{constructor(){super(...arguments),this.KeyframeResolver=V4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}};function FW(e){return window.getComputedStyle(e)}let BW=class extends P${constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(ou.has(r)){const n=PS(r);return n&&n.default||0}else{const n=FW(t),s=(u4(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return d$(t,r)}build(t,r,n,s){mS(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return xS(t,r,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xi(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){m4(t,r,n,s)}},NW=class extends P${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ou.has(r)){const n=PS(r);return n&&n.default||0}return r=g4.has(r)?r:sS(r),t.getAttribute(r)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(t,r,n){return v4(t,r,n)}build(t,r,n,s){yS(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){y4(t,r,n,s)}mount(t){this.isSVGTag=vS(t.tagName),super.mount(t)}};const T$=(e,t)=>hS(e)?new NW(t,{enableHardwareAcceleration:!1}):new BW(t,{allowProjection:e!==z.Fragment,enableHardwareAcceleration:!0}),OW={layout:{ProjectionNode:_$,MeasureLayout:f$}},jW={...a$,...E4,...AW,...OW},r_=s4((e,t)=>b4(e,t,jW,T$)),oh=s4(b4);function C$(){const e=z.useRef(!1);return aS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function VW(){const e=C$(),[t,r]=z.useState(0),n=z.useCallback(()=>{e.current&&r(t+1)},[t]);return[z.useCallback(()=>Un.postRender(n),[n]),t]}let UW=class extends z.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function KW({children:e,isPresent:t}){const r=z.useId(),n=z.useRef(null),s=z.useRef({width:0,height:0,top:0,left:0}),{nonce:h}=z.useContext(nS);return z.useInsertionEffect(()=>{const{width:d,height:c,top:v,left:w}=s.current;if(t||!n.current||!d||!c)return;n.current.dataset.motionPopId=r;const S=document.createElement("style");return h&&(S.nonce=h),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${c}px !important;
            top: ${v}px !important;
            left: ${w}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[t]),L.jsx(UW,{isPresent:t,childRef:n,sizeRef:s,children:z.cloneElement(e,{ref:n})})}const n_=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:h,mode:d})=>{const c=x4(HW),v=z.useId(),w=z.useMemo(()=>({id:v,initial:t,isPresent:r,custom:s,onExitComplete:S=>{c.set(S,!0);for(const T of c.values())if(!T)return;n&&n()},register:S=>(c.set(S,!1),()=>c.delete(S))}),h?[Math.random()]:[r]);return z.useMemo(()=>{c.forEach((S,T)=>c.set(T,!1))},[r]),z.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),d==="popLayout"&&(e=L.jsx(KW,{isPresent:r,children:e})),L.jsx(P0.Provider,{value:w,children:e})};function HW(){return new Map}function WW(e){return z.useEffect(()=>()=>e(),[])}const Cc=e=>e.key||"";function GW(e,t){e.forEach(r=>{const n=Cc(r);t.set(n,r)})}function qW(e){const t=[];return z.Children.forEach(e,r=>{z.isValidElement(r)&&t.push(r)}),t}const RS=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:h=!0,mode:d="sync"})=>{const c=z.useContext(dS).forceRender||VW()[0],v=C$(),w=qW(e);let S=w;const T=z.useRef(new Map).current,C=z.useRef(S),D=z.useRef(new Map).current,B=z.useRef(!0);if(aS(()=>{B.current=!1,GW(w,D),C.current=S}),WW(()=>{B.current=!0,D.clear(),T.clear()}),B.current)return L.jsx(L.Fragment,{children:S.map(F=>L.jsx(n_,{isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:h,mode:d,children:F},Cc(F)))});S=[...S];const j=C.current.map(Cc),Y=w.map(Cc),V=j.length;for(let F=0;F<V;F++){const N=j[F];Y.indexOf(N)===-1&&!T.has(N)&&T.set(N,void 0)}return d==="wait"&&T.size&&(S=[]),T.forEach((F,N)=>{if(Y.indexOf(N)!==-1)return;const ee=D.get(N);if(!ee)return;const ie=j.indexOf(N);let fe=F;if(!fe){const be=()=>{T.delete(N);const q=Array.from(D.keys()).filter(pe=>!Y.includes(pe));if(q.forEach(pe=>D.delete(pe)),C.current=w.filter(pe=>{const xe=Cc(pe);return xe===N||q.includes(xe)}),!T.size){if(v.current===!1)return;c(),n&&n()}};fe=L.jsx(n_,{isPresent:!1,onExitComplete:be,custom:t,presenceAffectsLayout:h,mode:d,children:ee},Cc(ee)),T.set(N,fe)}S.splice(ie,0,fe)}),S=S.map(F=>{const N=F.key;return T.has(N)?F:L.jsx(n_,{isPresent:!0,presenceAffectsLayout:h,mode:d,children:F},Cc(F))}),L.jsx(L.Fragment,{children:T.size?S:S.map(F=>z.cloneElement(F))})};function sh({children:e,features:t,strict:r=!1}){const[,n]=z.useState(!i_(t)),s=z.useRef(void 0);if(!i_(t)){const{renderer:h,...d}=t;s.current=h,Yb(d)}return z.useEffect(()=>{i_(t)&&t().then(({renderer:h,...d})=>{Yb(d),s.current=h,n(!0)})},[]),L.jsx(oS.Provider,{value:{renderer:s.current,strict:r},children:e})}function i_(e){return typeof e=="function"}const lh={renderer:T$,...a$,...E4};function ZW(){const[e,t]=z.useState({width:null,height:null}),r=z.useRef(null);return[z.useCallback(s=>{if(r.current&&(r.current.disconnect(),r.current=null),(s==null?void 0:s.nodeType)===Node.ELEMENT_NODE){const h=new ResizeObserver(([d])=>{if(d&&d.borderBoxSize){const{inlineSize:c,blockSize:v}=d.borderBoxSize[0];t({width:c,height:v})}});h.observe(s),r.current=h}},[]),e]}var E$=z.forwardRef((e,t)=>{const{children:r,...n}=e;let[s,h]=ZW();return L.jsx(sh,{features:lh,children:L.jsx(oh.div,{ref:t,animate:{width:h.width&&(h==null?void 0:h.width)>0?h.width:"auto",height:h.height&&h.height>0?h.height:"auto"},children:L.jsx("div",{ref:s,...n,children:r})})})});E$.displayName="NextUI - ResizablePanel";var ml={ease:[.36,.66,.4,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1],spring:[.155,1.105,.295,1.12],springOut:[.57,-.15,.62,.07],softSpring:[.16,1.11,.3,1.02]},gA={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.3}},exit:{transform:"scale(0.6)",opacity:0,transition:{type:"easeOut",duration:.2}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},scale:{enter:{scale:1},exit:{scale:.95}},scaleFadeIn:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.25,ease:ml.easeIn}},exit:{transform:"scale(0.95)",opacity:0,transition:{duration:.2,ease:ml.easeOut}}},scaleInOut:{enter:{transform:"scale(1)",opacity:1,transition:{duration:.4,ease:ml.ease}},exit:{transform:"scale(1.03)",opacity:0,transition:{duration:.3,ease:ml.ease}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:ml.ease}},exit:{opacity:0,transition:{duration:.3,ease:ml.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}};function k$(e){return null}k$.getCollectionNode=function*(t,r){let{childItems:n,title:s,children:h}=t,d=t.title||t.children,c=t.textValue||(typeof d=="string"?d:"")||t["aria-label"]||"";!c&&!(r!=null&&r.suppressTextValueWarning)&&console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:t,rendered:d,textValue:c,"aria-label":t["aria-label"],hasChildNodes:YW(t),*childNodes(){if(n)for(let v of n)yield{type:"item",value:v};else if(s){let v=[];Qt.Children.forEach(h,w=>{v.push({type:"item",element:w})}),yield*v}}}};function YW(e){return e.hasChildItems!=null?e.hasChildItems:!!(e.childItems||e.title&&Qt.Children.count(e.children)>0)}let XW=k$;class JW{build(t,r){return this.context=r,yA(()=>this.iterateCollection(t))}*iterateCollection(t){let{children:r,items:n}=t;if(typeof r=="function"){if(!n)throw new Error("props.children was a function but props.items is missing");for(let s of t.items)yield*this.getFullNode({value:s},{renderer:r})}else{let s=[];Qt.Children.forEach(r,d=>{s.push(d)});let h=0;for(let d of s){let c=this.getFullNode({element:d,index:h},{});for(let v of c)h++,yield v}}}getKey(t,r,n,s){if(t.key!=null)return t.key;if(r.type==="cell"&&r.key!=null)return`${s}${r.key}`;let h=r.value;if(h!=null){var d;let c=(d=h.key)!==null&&d!==void 0?d:h.id;if(c==null)throw new Error("No key found for item");return c}return s?`${s}.${r.index}`:`$.${r.index}`}getChildState(t,r){return{renderer:r.renderer||t.renderer}}*getFullNode(t,r,n,s){let h=t.element;if(!h&&t.value&&r&&r.renderer){let v=this.cache.get(t.value);if(v&&(!v.shouldInvalidate||!v.shouldInvalidate(this.context))){v.index=t.index,v.parentKey=s?s.key:null,yield v;return}h=r.renderer(t.value)}if(Qt.isValidElement(h)){let v=h.type;if(typeof v!="function"&&typeof v.getCollectionNode!="function"){let C=typeof h.type=="function"?h.type.name:h.type;throw new Error(`Unknown element <${C}> in collection.`)}let w=v.getCollectionNode(h.props,this.context),S=t.index,T=w.next();for(;!T.done&&T.value;){let C=T.value;t.index=S;let D=C.key;D||(D=C.element?null:this.getKey(h,t,r,n));let j=[...this.getFullNode({...C,key:D,index:S,wrapper:QW(t.wrapper,C.wrapper)},this.getChildState(r,C),n?`${n}${h.key}`:h.key,s)];for(let Y of j){if(Y.value=C.value||t.value,Y.value&&this.cache.set(Y.value,Y),t.type&&Y.type!==t.type)throw new Error(`Unsupported type <${a_(Y.type)}> in <${a_(s.type)}>. Only <${a_(t.type)}> is supported.`);S++,yield Y}T=w.next(j)}return}if(t.key==null)return;let d=this,c={type:t.type,props:t.props,key:t.key,parentKey:s?s.key:null,value:t.value,level:s?s.level+1:0,index:t.index,rendered:t.rendered,textValue:t.textValue,"aria-label":t["aria-label"],wrapper:t.wrapper,shouldInvalidate:t.shouldInvalidate,hasChildNodes:t.hasChildNodes,childNodes:yA(function*(){if(!t.hasChildNodes)return;let v=0;for(let w of t.childNodes()){w.key!=null&&(w.key=`${c.key}${w.key}`),w.index=v;let S=d.getFullNode(w,d.getChildState(r,w),c.key,c);for(let T of S)v++,yield T}})};yield c}constructor(){this.cache=new WeakMap}}function yA(e){let t=[],r=null;return{*[Symbol.iterator](){for(let n of t)yield n;r||(r=e());for(let n of r)t.push(n),yield n}}}function QW(e,t){if(e&&t)return r=>e(t(r));if(e)return e;if(t)return t}function a_(e){return e[0].toUpperCase()+e.slice(1)}function eG(e,t,r){let n=z.useMemo(()=>new JW,[]),{children:s,items:h,collection:d}=e;return z.useMemo(()=>{if(d)return d;let v=n.build({children:s,items:h},r);return t(v)},[n,s,h,d,r,t])}function A$(e,t){return typeof t.getChildren=="function"?t.getChildren(e.key):e.childNodes}function tG(e){return rG(e)}function rG(e,t){for(let r of e)return r}function o_(e,t,r){if(t.parentKey===r.parentKey)return t.index-r.index;let n=[...vA(e,t),t],s=[...vA(e,r),r],h=n.slice(0,s.length).findIndex((d,c)=>d!==s[c]);return h!==-1?(t=n[h],r=s[h],t.index-r.index):n.findIndex(d=>d===r)>=0?1:(s.findIndex(d=>d===t)>=0,-1)}function vA(e,t){let r=[];for(;(t==null?void 0:t.parentKey)!=null;)t=e.getItem(t.parentKey),r.unshift(t);return r}const xA=new WeakMap;function nG(e){let t=xA.get(e);if(t!=null)return t;t=0;let r=n=>{for(let s of n)s.type==="section"?r(A$(s,e)):t++};return r(e),xA.set(e,t),t}class ro extends Set{constructor(t,r,n){super(t),t instanceof ro?(this.anchorKey=r||t.anchorKey,this.currentKey=n||t.currentKey):(this.anchorKey=r,this.currentKey=n)}}function iG(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}function aG(e){let{selectionMode:t="none",disallowEmptySelection:r,allowDuplicateSelectionEvents:n,selectionBehavior:s="toggle",disabledBehavior:h="all"}=e,d=z.useRef(!1),[,c]=z.useState(!1),v=z.useRef(null),w=z.useRef(null),[,S]=z.useState(null),T=z.useMemo(()=>_A(e.selectedKeys),[e.selectedKeys]),C=z.useMemo(()=>_A(e.defaultSelectedKeys,new ro),[e.defaultSelectedKeys]),[D,B]=Ss(T,C,e.onSelectionChange),j=z.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),[Y,V]=z.useState(s);s==="replace"&&Y==="toggle"&&typeof D=="object"&&D.size===0&&V("replace");let F=z.useRef(s);return z.useEffect(()=>{s!==F.current&&(V(s),F.current=s)},[s]),{selectionMode:t,disallowEmptySelection:r,selectionBehavior:Y,setSelectionBehavior:V,get isFocused(){return d.current},setFocused(N){d.current=N,c(N)},get focusedKey(){return v.current},get childFocusStrategy(){return w.current},setFocusedKey(N,ee="first"){v.current=N,w.current=ee,S(N)},selectedKeys:D,setSelectedKeys(N){(n||!iG(N,D))&&B(N)},disabledKeys:j,disabledBehavior:h}}function _A(e,t){return e?e==="all"?"all":new ro(e):t}class oG{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(t){this.state.setSelectionBehavior(t)}get isFocused(){return this.state.isFocused}setFocused(t){this.state.setFocused(t)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(t,r){(t==null||this.collection.getItem(t))&&this.state.setFocusedKey(t,r)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(t){return this.state.selectionMode==="none"?!1:(t=this.getKey(t),this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let t=this.getSelectAllKeys(),r=this.state.selectedKeys;return this._isSelectAll=t.every(n=>r.has(n)),this._isSelectAll}get firstSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&o_(this.collection,n,t)<0)&&(t=n)}return t==null?void 0:t.key}get lastSelectedKey(){let t=null;for(let r of this.state.selectedKeys){let n=this.collection.getItem(r);(!t||n&&o_(this.collection,n,t)>0)&&(t=n)}return t==null?void 0:t.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(t);return}t=this.getKey(t);let r;if(this.state.selectedKeys==="all")r=new ro([t],t,t);else{let n=this.state.selectedKeys,s=n.anchorKey||t;r=new ro(n,s,t);for(let h of this.getKeyRange(s,n.currentKey||t))r.delete(h);for(let h of this.getKeyRange(t,s))this.canSelectItem(h)&&r.add(h)}this.state.setSelectedKeys(r)}getKeyRange(t,r){let n=this.collection.getItem(t),s=this.collection.getItem(r);return n&&s?o_(this.collection,n,s)<=0?this.getKeyRangeInternal(t,r):this.getKeyRangeInternal(r,t):[]}getKeyRangeInternal(t,r){let n=[],s=t;for(;s;){let h=this.collection.getItem(s);if((h&&h.type==="item"||h.type==="cell"&&this.allowsCellSelection)&&n.push(s),s===r)return n;s=this.collection.getKeyAfter(s)}return[]}getKey(t){let r=this.collection.getItem(t);if(!r||r.type==="cell"&&this.allowsCellSelection)return t;for(;r.type!=="item"&&r.parentKey!=null;)r=this.collection.getItem(r.parentKey);return!r||r.type!=="item"?null:r.key}toggleSelection(t){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(t)){this.replaceSelection(t);return}if(t=this.getKey(t),t==null)return;let r=new ro(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);r.has(t)?r.delete(t):this.canSelectItem(t)&&(r.add(t),r.anchorKey=t,r.currentKey=t),!(this.disallowEmptySelection&&r.size===0)&&this.state.setSelectedKeys(r)}replaceSelection(t){if(this.selectionMode==="none"||(t=this.getKey(t),t==null))return;let r=this.canSelectItem(t)?new ro([t],t,t):new ro;this.state.setSelectedKeys(r)}setSelectedKeys(t){if(this.selectionMode==="none")return;let r=new ro;for(let n of t)if(n=this.getKey(n),n!=null&&(r.add(n),this.selectionMode==="single"))break;this.state.setSelectedKeys(r)}getSelectAllKeys(){let t=[],r=n=>{for(;n;){if(this.canSelectItem(n)){let s=this.collection.getItem(n);s.type==="item"&&t.push(n),s.hasChildNodes&&(this.allowsCellSelection||s.type!=="item")&&r(tG(A$(s,this.collection)).key)}n=this.collection.getKeyAfter(n)}};return r(this.collection.getFirstKey()),t}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new ro)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(t,r){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(t)&&!this.disallowEmptySelection?this.toggleSelection(t):this.replaceSelection(t):this.selectionBehavior==="toggle"||r&&(r.pointerType==="touch"||r.pointerType==="virtual")?this.toggleSelection(t):this.replaceSelection(t))}isSelectionEqual(t){if(t===this.state.selectedKeys)return!0;let r=this.selectedKeys;if(t.size!==r.size)return!1;for(let n of t)if(!r.has(n))return!1;for(let n of r)if(!t.has(n))return!1;return!0}canSelectItem(t){if(this.state.selectionMode==="none"||this.state.disabledKeys.has(t))return!1;let r=this.collection.getItem(t);return!(!r||r.type==="cell"&&!this.allowsCellSelection)}isDisabled(t){return this.state.disabledKeys.has(t)&&this.state.disabledBehavior==="all"}isLink(t){var r,n;return!!(!((n=this.collection.getItem(t))===null||n===void 0||(r=n.props)===null||r===void 0)&&r.href)}constructor(t,r,n){this.collection=t,this.state=r;var s;this.allowsCellSelection=(s=n==null?void 0:n.allowsCellSelection)!==null&&s!==void 0?s:!1,this._isSelectAll=null}}class sG{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(t){let r=this.keyMap.get(t);return r?r.prevKey:null}getKeyAfter(t){let r=this.keyMap.get(t);return r?r.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(t){return this.keyMap.get(t)}at(t){const r=[...this.getKeys()];return this.getItem(r[t])}constructor(t,{expandedKeys:r}={}){this.keyMap=new Map,this.iterable=t,r=r||new Set;let n=d=>{if(this.keyMap.set(d.key,d),d.childNodes&&(d.type==="section"||r.has(d.key)))for(let c of d.childNodes)n(c)};for(let d of t)n(d);let s,h=0;for(let[d,c]of this.keyMap)s?(s.nextKey=d,c.prevKey=s.key):(this.firstKey=d,c.prevKey=void 0),c.type==="item"&&(c.index=h++),s=c,s.nextKey=void 0;this.lastKey=s==null?void 0:s.key}}function lG(e){let[t,r]=Ss(e.expandedKeys?new Set(e.expandedKeys):void 0,e.defaultExpandedKeys?new Set(e.defaultExpandedKeys):new Set,e.onExpandedChange),n=aG(e),s=z.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),h=eG(e,z.useCallback(c=>new sG(c,{expandedKeys:t}),[t]),null);return z.useEffect(()=>{n.focusedKey!=null&&!h.getItem(n.focusedKey)&&n.setFocusedKey(null)},[h,n.focusedKey]),{collection:h,expandedKeys:t,disabledKeys:s,toggleKey:c=>{r(cG(t,c))},setExpandedKeys:r,selectionManager:new oG(h,n)}}function cG(e,t){let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r}function uG(e){let t=Lo(e,{enabled:typeof e.elementType=="string"}),r;return e.orientation==="vertical"&&(r="vertical"),e.elementType!=="hr"?{separatorProps:{...t,role:"separator","aria-orientation":r}}:{separatorProps:t}}function dG(e){const{as:t,className:r,orientation:n,...s}=e;let h=t||"hr";h==="hr"&&n==="vertical"&&(h="div");const{separatorProps:d}=uG({elementType:typeof h=="string"?h:"hr",orientation:n}),c=z.useMemo(()=>T9({orientation:n,className:r}),[n,r]),v=z.useCallback((w={})=>({className:c,role:"separator","data-orientation":n,...d,...s,...w}),[c,n,d,s]);return{Component:h,getDividerProps:v}}var I$=Er((e,t)=>{const{Component:r,getDividerProps:n}=dG({...e});return L.jsx(r,{ref:t,...n()})});I$.displayName="NextUI.Divider";var $l=I$,hG=e=>{const t={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return(t==null?void 0:t[e])||{}},fG=e=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[e],pG=(e,t)=>{if(t.includes("-")){const[r]=t.split("-");if(r.includes(e))return!1}return!0},bA=(e,t)=>{if(t.includes("-")){const[,r]=t.split("-");return`${e}-${r}`}return e},Yf=new WeakMap,Ea=[];function mG(e,t=document.body){let r=new Set(e),n=new Set,s=v=>{for(let C of v.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(C);let w=C=>{const D=C.parentElement;if(r.has(C)||n.has(D)&&D.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let B of r)if(C.contains(B))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,{acceptNode:w}),T=w(v);if(T===NodeFilter.FILTER_ACCEPT&&h(v),T!==NodeFilter.FILTER_REJECT){let C=S.nextNode();for(;C!=null;)h(C),C=S.nextNode()}},h=v=>{var w;let S=(w=Yf.get(v))!=null?w:0;v.getAttribute("aria-hidden")==="true"&&S===0||(S===0&&v.setAttribute("aria-hidden","true"),n.add(v),Yf.set(v,S+1))};Ea.length&&Ea[Ea.length-1].disconnect(),s(t);let d=new MutationObserver(v=>{for(let w of v)if(!(w.type!=="childList"||w.addedNodes.length===0)&&![...r,...n].some(S=>S.contains(w.target))){for(let S of w.removedNodes)S instanceof Element&&(r.delete(S),n.delete(S));for(let S of w.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?r.add(S):S instanceof Element&&s(S)}});d.observe(t,{childList:!0,subtree:!0});let c={observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return Ea.push(c),()=>{d.disconnect();for(let v of n){let w=Yf.get(v);w!=null&&(w===1?(v.removeAttribute("aria-hidden"),Yf.delete(v)):Yf.set(v,w-1))}c===Ea[Ea.length-1]?(Ea.pop(),Ea.length&&Ea[Ea.length-1].observe()):Ea.splice(Ea.indexOf(c),1)}}var gG=()=>L.jsxs("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[L.jsx("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),L.jsx("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]}),[Pre,yG]=Kl({name:"AvatarGroupContext",strict:!1}),M$=globalThis!=null&&globalThis.document?z.useLayoutEffect:z.useEffect;function D$(e={}){const{loading:t,src:r,srcSet:n,onLoad:s,onError:h,crossOrigin:d,sizes:c,ignoreFallback:v}=e,[w,S]=z.useState("pending");z.useEffect(()=>{S(r?"loading":"pending")},[r]);const T=z.useRef(),C=z.useCallback(()=>{if(!r)return;D();const B=new Image;B.src=r,d&&(B.crossOrigin=d),n&&(B.srcset=n),c&&(B.sizes=c),t&&(B.loading=t),B.onload=j=>{D(),S("loaded"),s==null||s(j)},B.onerror=j=>{D(),S("failed"),h==null||h(j)},T.current=B},[r,d,n,c,s,h,t]),D=()=>{T.current&&(T.current.onload=null,T.current.onerror=null,T.current=null)};return M$(()=>{if(!v)return w==="loading"&&C(),()=>{D()}},[w,C,v]),v?"loaded":w}function vG(e={}){var t,r,n,s,h;const d=yG(),c=!!d,{as:v,ref:w,src:S,name:T,icon:C,classNames:D,fallback:B,alt:j=T||"avatar",imgRef:Y,color:V=(t=d==null?void 0:d.color)!=null?t:"default",radius:F=(r=d==null?void 0:d.radius)!=null?r:"full",size:N=(n=d==null?void 0:d.size)!=null?n:"md",isBordered:ee=(s=d==null?void 0:d.isBordered)!=null?s:!1,isDisabled:ie=(h=d==null?void 0:d.isDisabled)!=null?h:!1,isFocusable:fe=!1,getInitials:be=MO,ignoreFallback:q=!1,showFallback:pe=!1,ImgComponent:xe="img",imgProps:le,className:Se,onError:ge,...ye}=e,Be=v||"span",Re=wn(w),ae=wn(Y),{isFocusVisible:De,isFocused:je,focusProps:Oe}=As(),{isHovered:se,hoverProps:ze}=iu({isDisabled:ie}),lt=D$({src:S,onError:ge,ignoreFallback:q})==="loaded",mt=(!S||!lt)&&pe,gt=z.useMemo(()=>{var Nt;return k9({color:V,radius:F,size:N,isBordered:ee,isDisabled:ie,isInGroup:c,isInGridGroup:(Nt=d==null?void 0:d.isGrid)!=null?Nt:!1})},[V,F,N,ee,ie,c,d==null?void 0:d.isGrid]),Et=ur(D==null?void 0:D.base,Se),Pt=z.useMemo(()=>fe||v==="button",[fe,v]),At=z.useCallback((Nt={})=>({ref:Re,tabIndex:Pt?0:-1,"data-hover":vt(se),"data-focus":vt(je),"data-focus-visible":vt(De),className:gt.base({class:ur(Et,Nt==null?void 0:Nt.className)}),...Ut(ye,ze,Pt?Oe:{})}),[Pt,gt,Et,Oe,ye]),zt=z.useCallback((Nt={})=>({ref:ae,src:S,"data-loaded":vt(lt),className:gt.img({class:D==null?void 0:D.img}),...Ut(le,Nt)}),[gt,lt,le,S,ae]);return{Component:Be,ImgComponent:xe,src:S,alt:j,icon:C,name:T,imgRef:ae,slots:gt,classNames:D,fallback:B,isImgLoaded:lt,showFallback:mt,ignoreFallback:q,getInitials:be,getAvatarProps:At,getImageProps:zt}}var $$=Er((e,t)=>{const{Component:r,ImgComponent:n,src:s,icon:h=L.jsx(gG,{}),alt:d,classNames:c,slots:v,name:w,showFallback:S,fallback:T,getInitials:C,getAvatarProps:D,getImageProps:B}=vG({...e,ref:t}),j=z.useMemo(()=>!S&&s?null:T?L.jsx("div",{"aria-label":d,className:v.fallback({class:c==null?void 0:c.fallback}),role:"img",children:T}):w?L.jsx("span",{"aria-label":d,className:v.name({class:c==null?void 0:c.name}),role:"img",children:C(w)}):L.jsx("span",{"aria-label":d,className:v.icon({class:c==null?void 0:c.icon}),role:"img",children:h}),[S,s,T,w,c]);return L.jsxs(r,{...D(),children:[s&&L.jsx(n,{...B(),alt:d}),j]})});$$.displayName="NextUI.Avatar";var Xf=$$,[Tre,xG]=Kl({name:"ButtonGroupContext",strict:!1});function _m(e,t){let{elementType:r="button",isDisabled:n,onPress:s,onPressStart:h,onPressEnd:d,onPressChange:c,preventFocusOnPress:v,allowFocusWhenDisabled:w,onClick:S,href:T,target:C,rel:D,type:B="button",allowTextSelectionOnPress:j}=e,Y;r==="button"?Y={type:B,disabled:n}:Y={role:"button",tabIndex:n?void 0:0,href:r==="a"&&n?void 0:T,target:r==="a"?C:void 0,type:r==="input"?B:void 0,disabled:r==="input"?n:void 0,"aria-disabled":!n||r==="input"?void 0:n,rel:r==="a"?D:void 0};let{pressProps:V,isPressed:F}=yh({onPressStart:h,onPressEnd:d,onPressChange:c,onPress:s,isDisabled:n,preventFocusOnPress:v,allowTextSelectionOnPress:j,ref:t}),{focusableProps:N}=ND(e,t);w&&(N.tabIndex=n?-1:N.tabIndex);let ee=Ut(N,V,mh(e,{labelable:!0}));return{isPressed:F,buttonProps:Ut(Y,ee,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:ie=>{S==null||S(ie)}})}}var R$=e=>{const{ripples:t=[],motionProps:r,color:n="currentColor",style:s,onClear:h}=e;return L.jsx(L.Fragment,{children:t.map(d=>{const c=X5(.01*d.size,.2,d.size>100?.75:.5);return L.jsx(RS,{mode:"popLayout",children:L.jsx(L.Fragment,{children:L.jsx(sh,{features:lh,children:L.jsx(oh.span,{animate:{transform:"scale(2)",opacity:0},className:"nextui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:n,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:d.y,left:d.x,width:`${d.size}px`,height:`${d.size}px`,...s},transition:{duration:c},onAnimationComplete:()=>{h(d.key)},...r})})})},d.key)})})};R$.displayName="NextUI.Ripple";var L$=R$;function z$(e={}){const[t,r]=z.useState([]),n=z.useCallback(h=>{const d=h.currentTarget,c=Math.max(d.clientWidth,d.clientHeight),v=d.getBoundingClientRect();r(w=>[...w,{key:DO(w.length.toString()),size:c,x:h.clientX-v.left-c/2,y:h.clientY-v.top-c/2}])},[]),s=z.useCallback(h=>{r(d=>d.filter(c=>c.key!==h))},[]);return{ripples:t,onClick:n,onClear:s,...e}}function _G(e){var t,r,n,s,h,d,c,v;const w=xG(),S=!!w,{ref:T,as:C,children:D,startContent:B,endContent:j,autoFocus:Y,className:V,spinner:F,fullWidth:N=(t=w==null?void 0:w.fullWidth)!=null?t:!1,size:ee=(r=w==null?void 0:w.size)!=null?r:"md",color:ie=(n=w==null?void 0:w.color)!=null?n:"default",variant:fe=(s=w==null?void 0:w.variant)!=null?s:"solid",disableAnimation:be=(h=w==null?void 0:w.disableAnimation)!=null?h:!1,radius:q=w==null?void 0:w.radius,disableRipple:pe=(d=w==null?void 0:w.disableRipple)!=null?d:!1,isDisabled:xe=(c=w==null?void 0:w.isDisabled)!=null?c:!1,isIconOnly:le=(v=w==null?void 0:w.isIconOnly)!=null?v:!1,isLoading:Se=!1,spinnerPlacement:ge="start",onPress:ye,onClick:Be,...Re}=e,ae=C||"button",De=typeof ae=="string",je=wn(T),{isFocusVisible:Oe,isFocused:se,focusProps:ze}=As({autoFocus:Y}),Ze=xe||Se,lt=z.useMemo(()=>A9({size:ee,color:ie,variant:fe,radius:q,fullWidth:N,isDisabled:Ze,isInGroup:S,disableAnimation:be,isIconOnly:le,className:V}),[ee,ie,fe,q,N,Ze,S,le,be,V]),{onClick:mt,onClear:gt,ripples:Et}=z$(),Pt=z.useCallback(Gt=>{pe||Ze||be||je.current&&mt(Gt)},[pe,Ze,be,je,mt]),{buttonProps:At,isPressed:zt}=_m({elementType:C,isDisabled:Ze,onPress:ye,onClick:Ps(Be,Pt),...Re},je),{isHovered:Nt,hoverProps:ar}=iu({isDisabled:Ze}),Zt=z.useCallback((Gt={})=>({"data-disabled":vt(Ze),"data-focus":vt(se),"data-pressed":vt(zt),"data-focus-visible":vt(Oe),"data-hover":vt(Nt),"data-loading":vt(Se),...Ut(At,ze,ar,Lo(Re,{enabled:De}),Lo(Gt))}),[Se,Ze,se,zt,De,Oe,Nt,At,ze,ar,Re]),Yt=Gt=>z.isValidElement(Gt)?z.cloneElement(Gt,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,Kn=Yt(B),Ve=Yt(j),ni=z.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[ee],[ee]),kr=z.useCallback(()=>({ripples:Et,onClear:gt}),[Et,gt]);return{Component:ae,children:D,domRef:je,spinner:F,styles:lt,startContent:Kn,endContent:Ve,isLoading:Se,spinnerPlacement:ge,spinnerSize:ni,disableRipple:pe,getButtonProps:Zt,getRippleProps:kr,isIconOnly:le}}function bG(e){const[t,r]=Is(e,QE.variantKeys),{children:n,className:s,classNames:h,label:d,...c}=t,v=z.useMemo(()=>QE({...r}),[ks(r)]),w=ur(h==null?void 0:h.base,s),S=d||n,T=z.useMemo(()=>S&&typeof S=="string"?S:c["aria-label"]?"":"Loading",[n,S,c["aria-label"]]),C=z.useCallback(()=>({"aria-label":T,className:v.base({class:w}),...c}),[T,v,w,c]);return{label:S,slots:v,classNames:h,getSpinnerProps:C}}var F$=Er((e,t)=>{const{slots:r,classNames:n,label:s,getSpinnerProps:h}=bG({...e});return L.jsxs("div",{ref:t,...h(),children:[L.jsxs("div",{className:r.wrapper({class:n==null?void 0:n.wrapper}),children:[L.jsx("i",{className:r.circle1({class:n==null?void 0:n.circle1})}),L.jsx("i",{className:r.circle2({class:n==null?void 0:n.circle2})})]}),s&&L.jsx("span",{className:r.label({class:n==null?void 0:n.label}),children:s})]})});F$.displayName="NextUI.Spinner";var wG=F$,B$=Er((e,t)=>{const{Component:r,domRef:n,children:s,styles:h,spinnerSize:d,spinner:c=L.jsx(wG,{color:"current",size:d}),spinnerPlacement:v,startContent:w,endContent:S,isLoading:T,disableRipple:C,getButtonProps:D,getRippleProps:B,isIconOnly:j}=_G({...e,ref:t});return L.jsxs(r,{ref:n,className:h,...D(),children:[w,T&&v==="start"&&c,T&&j?null:s,T&&v==="end"&&c,S,!C&&L.jsx(L$,{...B()})]})});B$.displayName="NextUI.Button";var Cs=B$,[SG,LS]=Kl({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),N$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=wn(t),{slots:w,classNames:S}=LS(),T=ur(S==null?void 0:S.body,s);return L.jsx(c,{ref:v,className:(r=w.body)==null?void 0:r.call(w,{class:T}),...d,children:h})});N$.displayName="NextUI.CardBody";var La=N$,O$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=wn(t),{slots:w,classNames:S}=LS(),T=ur(S==null?void 0:S.footer,s);return L.jsx(c,{ref:v,className:(r=w.footer)==null?void 0:r.call(w,{class:T}),...d,children:h})});O$.displayName="NextUI.CardFooter";var Jf=O$,j$=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=wn(t),{slots:w,classNames:S}=LS(),T=ur(S==null?void 0:S.header,s);return L.jsx(c,{ref:v,className:(r=w.header)==null?void 0:r.call(w,{class:T}),...d,children:h})});j$.displayName="NextUI.CardHeader";var za=j$;function PG(e){const[t,r]=Is(e,ok.variantKeys),{ref:n,as:s,children:h,disableRipple:d=!1,onClick:c,onPress:v,autoFocus:w,className:S,classNames:T,allowTextSelectionOnPress:C=!0,...D}=t,B=wn(n),j=s||(e.isPressable?"button":"div"),Y=typeof j=="string",V=ur(T==null?void 0:T.base,S),{onClick:F,onClear:N,ripples:ee}=z$(),ie=ae=>{!e.disableAnimation&&!d&&B.current&&F(ae)},{buttonProps:fe,isPressed:be}=_m({onPress:v,elementType:s,isDisabled:!e.isPressable,onClick:Ps(c,ie),allowTextSelectionOnPress:C,...D},B),{hoverProps:q,isHovered:pe}=iu({isDisabled:!e.isHoverable,...D}),{isFocusVisible:xe,isFocused:le,focusProps:Se}=As({autoFocus:w}),ge=z.useMemo(()=>ok({...r}),[ks(r)]),ye=z.useMemo(()=>({isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,disableAnimation:e.disableAnimation,fullWidth:e.fullWidth,slots:ge,classNames:T}),[ge,T,e.isDisabled,e.isFooterBlurred,e.disableAnimation,e.fullWidth]),Be=z.useCallback((ae={})=>({ref:B,className:ge.base({class:V}),tabIndex:e.isPressable?0:-1,"data-hover":vt(pe),"data-pressed":vt(be),"data-focus":vt(le),"data-focus-visible":vt(xe),"data-disabled":vt(e.isDisabled),...Ut(e.isPressable?{...fe,...Se,role:"button"}:{},e.isHoverable?q:{},Lo(D,{enabled:Y}),Lo(ae))}),[B,ge,V,Y,e.isPressable,e.isHoverable,e.isDisabled,pe,be,xe,fe,Se,q,D]),Re=z.useCallback(()=>({ripples:ee,onClear:N}),[ee,N]);return{context:ye,domRef:B,Component:j,classNames:T,children:h,isHovered:pe,isPressed:be,isPressable:e.isPressable,isHoverable:e.isHoverable,disableAnimation:e.disableAnimation,disableRipple:d,handleClick:ie,isFocusVisible:xe,getCardProps:Be,getRippleProps:Re}}var V$=Er((e,t)=>{const{children:r,context:n,Component:s,isPressable:h,disableAnimation:d,disableRipple:c,getCardProps:v,getRippleProps:w}=PG({...e,ref:t});return L.jsxs(s,{...v(),children:[L.jsx(SG,{value:n,children:r}),h&&!d&&!c&&L.jsx(L$,{...w()})]})});V$.displayName="NextUI.Card";var da=V$;function TG(e={}){let{isReadOnly:t}=e,[r,n]=Ss(e.isSelected,e.defaultSelected||!1,e.onChange);function s(d){t||n(d)}function h(){t||n(!r)}return{isSelected:r,setSelected:s,toggle:h}}function CG(e,t){let{elementType:r="a",onPress:n,onPressStart:s,onPressEnd:h,onClick:d,isDisabled:c,...v}=e,w={};r!=="a"&&(w={role:"link",tabIndex:c?void 0:0});let{focusableProps:S}=ND(e,t),{pressProps:T,isPressed:C}=yh({onPress:n,onPressStart:s,onPressEnd:h,isDisabled:c,ref:t}),D=mh(v,{labelable:!0,isLink:r==="a"}),B=Ut(S,T),j=w0();return{isPressed:C,linkProps:Ut(D,{...B,...w,"aria-disabled":c||void 0,"aria-current":e["aria-current"],onClick:Y=>{var V;(V=T.onClick)==null||V.call(T,Y),d&&d(Y),!j.isNative&&Y.currentTarget instanceof HTMLAnchorElement&&Y.currentTarget.href&&!Y.isDefaultPrevented()&&$3(Y.currentTarget,Y)&&(Y.preventDefault(),j.open(Y.currentTarget,Y))}})}}function EG(e){var t,r;const[n,s]=Is(e,ik.variantKeys),{ref:h,as:d,children:c,anchorIcon:v,isExternal:w=!1,showAnchorIcon:S=!1,autoFocus:T=!1,className:C,onPress:D,onPressStart:B,onPressEnd:j,onClick:Y,...V}=n,F=d||"a",N=wn(h),{linkProps:ee}=CG({...V,onPress:D,onPressStart:B,onPressEnd:j,onClick:Y,isDisabled:e.isDisabled,elementType:`${d}`},N),{isFocused:ie,isFocusVisible:fe,focusProps:be}=As({autoFocus:T});w&&(V.rel=(t=V.rel)!=null?t:"noopener noreferrer",V.target=(r=V.target)!=null?r:"_blank");const q=z.useMemo(()=>ik({...s,className:C}),[ks(s),C]),pe=z.useCallback(()=>({ref:N,className:q,"data-focus":vt(ie),"data-disabled":vt(e.isDisabled),"data-focus-visible":vt(fe),...Ut(be,ee,V)}),[q,ie,fe,be,ee,V]);return{Component:F,children:c,anchorIcon:v,showAnchorIcon:S,getLinkProps:pe}}var U$=Er((e,t)=>{const{Component:r,children:n,showAnchorIcon:s,anchorIcon:h=L.jsx(F9,{className:E9}),getLinkProps:d}=EG({ref:t,...e});return L.jsx(r,{...d(),children:L.jsxs(L.Fragment,{children:[n,s&&h]})})});U$.displayName="NextUI.Link";var kG=U$;const wA=e=>typeof e=="object"&&e!=null&&e.nodeType===1,SA=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",s_=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return SA(r.overflowY,t)||SA(r.overflowX,t)||(n=>{const s=(h=>{if(!h.ownerDocument||!h.ownerDocument.defaultView)return null;try{return h.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!s&&(s.clientHeight<n.scrollHeight||s.clientWidth<n.scrollWidth)})(e)}return!1},hy=(e,t,r,n,s,h,d,c)=>h<e&&d>t||h>e&&d<t?0:h<=e&&c<=r||d>=t&&c>=r?h-e-n:d>t&&c<r||h<e&&c>r?d-t+s:0,AG=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},PA=(e,t)=>{var r,n,s,h;if(typeof document>"u")return[];const{scrollMode:d,block:c,inline:v,boundary:w,skipOverflowHiddenElements:S}=t,T=typeof w=="function"?w:Re=>Re!==w;if(!wA(e))throw new TypeError("Invalid target");const C=document.scrollingElement||document.documentElement,D=[];let B=e;for(;wA(B)&&T(B);){if(B=AG(B),B===C){D.push(B);break}B!=null&&B===document.body&&s_(B)&&!s_(document.documentElement)||B!=null&&s_(B,S)&&D.push(B)}const j=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,Y=(h=(s=window.visualViewport)==null?void 0:s.height)!=null?h:innerHeight,{scrollX:V,scrollY:F}=window,{height:N,width:ee,top:ie,right:fe,bottom:be,left:q}=e.getBoundingClientRect(),{top:pe,right:xe,bottom:le,left:Se}=(Re=>{const ae=window.getComputedStyle(Re);return{top:parseFloat(ae.scrollMarginTop)||0,right:parseFloat(ae.scrollMarginRight)||0,bottom:parseFloat(ae.scrollMarginBottom)||0,left:parseFloat(ae.scrollMarginLeft)||0}})(e);let ge=c==="start"||c==="nearest"?ie-pe:c==="end"?be+le:ie+N/2-pe+le,ye=v==="center"?q+ee/2-Se+xe:v==="end"?fe+xe:q-Se;const Be=[];for(let Re=0;Re<D.length;Re++){const ae=D[Re],{height:De,width:je,top:Oe,right:se,bottom:ze,left:Ze}=ae.getBoundingClientRect();if(d==="if-needed"&&ie>=0&&q>=0&&be<=Y&&fe<=j&&ie>=Oe&&be<=ze&&q>=Ze&&fe<=se)return Be;const lt=getComputedStyle(ae),mt=parseInt(lt.borderLeftWidth,10),gt=parseInt(lt.borderTopWidth,10),Et=parseInt(lt.borderRightWidth,10),Pt=parseInt(lt.borderBottomWidth,10);let At=0,zt=0;const Nt="offsetWidth"in ae?ae.offsetWidth-ae.clientWidth-mt-Et:0,ar="offsetHeight"in ae?ae.offsetHeight-ae.clientHeight-gt-Pt:0,Zt="offsetWidth"in ae?ae.offsetWidth===0?0:je/ae.offsetWidth:0,Yt="offsetHeight"in ae?ae.offsetHeight===0?0:De/ae.offsetHeight:0;if(C===ae)At=c==="start"?ge:c==="end"?ge-Y:c==="nearest"?hy(F,F+Y,Y,gt,Pt,F+ge,F+ge+N,N):ge-Y/2,zt=v==="start"?ye:v==="center"?ye-j/2:v==="end"?ye-j:hy(V,V+j,j,mt,Et,V+ye,V+ye+ee,ee),At=Math.max(0,At+F),zt=Math.max(0,zt+V);else{At=c==="start"?ge-Oe-gt:c==="end"?ge-ze+Pt+ar:c==="nearest"?hy(Oe,ze,De,gt,Pt+ar,ge,ge+N,N):ge-(Oe+De/2)+ar/2,zt=v==="start"?ye-Ze-mt:v==="center"?ye-(Ze+je/2)+Nt/2:v==="end"?ye-se+Et+Nt:hy(Ze,se,je,mt,Et+Nt,ye,ye+ee,ee);const{scrollLeft:Kn,scrollTop:Ve}=ae;At=Yt===0?0:Math.max(0,Math.min(Ve+At/Yt,ae.scrollHeight-De/Yt+ar)),zt=Zt===0?0:Math.max(0,Math.min(Kn+zt/Zt,ae.scrollWidth-je/Zt+Nt)),ge+=Ve-At,ye+=Kn-zt}Be.push({el:ae,top:At,left:zt})}return Be},IG=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function MG(e,t){if(!e.isConnected||!(n=>{let s=n;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(PA(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:s,left:h}of PA(e,IG(t)))n.scroll({top:s,left:h,behavior:r})}function K$(e){let[t,r]=Ss(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const n=z.useCallback(()=>{r(!0)},[r]),s=z.useCallback(()=>{r(!1)},[r]),h=z.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:n,close:s,toggle:h}}function DG(e,t){const{triggerRef:r,popoverRef:n,showArrow:s,offset:h=7,crossOffset:d=0,scrollRef:c,shouldFlip:v,boundaryElement:w,isDismissable:S=!0,shouldCloseOnBlur:T=!0,placement:C="top",containerPadding:D,shouldCloseOnInteractOutside:B,isNonModal:j,isKeyboardDismissDisabled:Y,updatePositionDeps:V=[],...F}=e,N=j||!0,{overlayProps:ee,underlayProps:ie}=AV({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:T,isDismissable:S,isKeyboardDismissDisabled:Y,shouldCloseOnInteractOutside:B||(xe=>{let le=r==null?void 0:r.current;return!le||!le.contains(xe)})},n),{overlayProps:fe,arrowProps:be,placement:q,updatePosition:pe}=CV({...F,shouldFlip:v,crossOffset:d,targetRef:r,overlayRef:n,isOpen:t.isOpen,scrollRef:c,boundaryElement:w,containerPadding:D,placement:fG(C),offset:s?h+3:h,onClose:()=>{}});return M$(()=>{V.length&&pe()},V),z.useEffect(()=>{if(t.isOpen&&!N&&n.current)return mG([n.current])},[N,t.isOpen,n]),{popoverProps:Ut(ee,fe),arrowProps:be,underlayProps:ie,placement:q}}function $G(e,t){let{role:r="dialog"}=e,n=Sp();n=e["aria-label"]?void 0:n;let s=z.useRef(!1);return z.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){tu(t.current);let h=setTimeout(()=>{document.activeElement===t.current&&(s.current=!0,t.current&&(t.current.blur(),tu(t.current)),s.current=!1)},500);return()=>{clearTimeout(h)}}},[t]),LV(),{dialogProps:{...mh(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:h=>{s.current&&h.stopPropagation()}},titleProps:{id:n}}}function RG(e){var t,r;const[n,s]=Is(e,rk.variantKeys),{as:h,ref:d,children:c,state:v,triggerRef:w,scrollRef:S,defaultOpen:T,onOpenChange:C,isOpen:D,isNonModal:B=!0,shouldFlip:j=!0,containerPadding:Y=12,shouldBlockScroll:V=!1,isDismissable:F=!0,shouldCloseOnBlur:N,portalContainer:ee,updatePositionDeps:ie,dialogProps:fe,placement:be="top",triggerType:q="dialog",showArrow:pe=!1,offset:xe=7,crossOffset:le=0,boundaryElement:Se,isKeyboardDismissDisabled:ge,shouldCloseOnInteractOutside:ye,motionProps:Be,className:Re,classNames:ae,onClose:De,...je}=n,Oe=h||"div",se=wn(d),ze=z.useRef(null),Ze=z.useRef(!1),lt=z.useRef(null),mt=w||ze,gt=(t=e.disableAnimation)!=null?t:!1,Et=K$({isOpen:D,defaultOpen:T,onOpenChange:Vr=>{C==null||C(Vr),Vr||De==null||De()}}),Pt=v||Et,{popoverProps:At,underlayProps:zt,placement:Nt}=DG({triggerRef:mt,isNonModal:B,popoverRef:se,placement:be,offset:xe,scrollRef:S,isDismissable:F,shouldCloseOnBlur:N,boundaryElement:Se,crossOffset:le,shouldFlip:j,containerPadding:Y,updatePositionDeps:ie,isKeyboardDismissDisabled:ge,shouldCloseOnInteractOutside:ye},Pt),{triggerProps:ar}=VD({type:q},Pt,mt),{isFocusVisible:Zt,isFocused:Yt,focusProps:Kn}=As(),{dialogProps:Ve,titleProps:ni}=$G({},lt),kr=z.useMemo(()=>rk({...s}),[ks(s)]),Gt=ur(ae==null?void 0:ae.base,Re),yr=(Vr={})=>({ref:se,...Ut(At,je,Vr),style:Ut(At.style,je.style,Vr.style)}),Yi=(Vr={})=>({ref:lt,"data-slot":"base","data-open":vt(Pt.isOpen),"data-focus":vt(Yt),"data-arrow":vt(pe),"data-focus-visible":vt(Zt),"data-placement":bA(Nt,be),...Ut(Kn,Ve,fe,Vr),className:kr.base({class:ur(Gt)}),style:{outline:"none"}}),ho=z.useCallback((Vr={})=>({"data-slot":"content","data-open":vt(Pt.isOpen),"data-arrow":vt(pe),"data-placement":bA(Nt,be),className:kr.content({class:ur(ae==null?void 0:ae.content,Vr.className)})}),[kr,Pt.isOpen,pe,Nt,be,ae]),Fo=z.useMemo(()=>pG(Nt,be)&&Nt||be,[Nt,be]),ja=z.useCallback(Vr=>{var Je;let en;return Vr.pointerType==="touch"&&((e==null?void 0:e.backdrop)==="blur"||(e==null?void 0:e.backdrop)==="opaque")?en=setTimeout(()=>{Ze.current=!0},100):Ze.current=!0,(Je=ar.onPress)==null||Je.call(ar,Vr),()=>{clearTimeout(en)}},[ar==null?void 0:ar.onPress]),Xi=z.useCallback((Vr={},Je=null)=>{const{isDisabled:en,...In}=Vr;return{"data-slot":"trigger","aria-haspopup":"dialog",...Ut(ar,In),onPress:ja,isDisabled:en,className:kr.trigger({class:ur(ae==null?void 0:ae.trigger,Vr.className),isTriggerDisabled:en}),ref:h7(Je,mt)}},[Pt,ar,ja,mt]),fo=z.useCallback((Vr={})=>({"data-slot":"backdrop",className:kr.backdrop({class:ae==null?void 0:ae.backdrop}),onClick:Je=>{if(!Ze.current){Je.preventDefault();return}Pt.close(),Ze.current=!1},...zt,...Vr}),[kr,Pt.isOpen,ae,zt]);return z.useEffect(()=>{if(Pt.isOpen&&(se!=null&&se.current))return RV([se==null?void 0:se.current])},[Pt.isOpen,se]),{state:Pt,Component:Oe,children:c,classNames:ae,showArrow:pe,triggerRef:mt,placement:Fo,isNonModal:B,titleProps:ni,popoverRef:se,portalContainer:ee,isOpen:Pt.isOpen,onClose:Pt.close,disableAnimation:gt,shouldBlockScroll:V,backdrop:(r=e.backdrop)!=null?r:"transparent",motionProps:Be,getBackdropProps:fo,getPopoverProps:yr,getTriggerProps:Xi,getDialogProps:Yi,getContentProps:ho}}var[LG,H$]=Kl({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),Oy="right-scroll-bar-position",jy="width-before-scroll-bar",zG="with-scroll-bars-hidden",FG="--removed-body-scroll-bar-size";function l_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function BG(e,t){var r=z.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var NG=typeof window<"u"?z.useLayoutEffect:z.useEffect,TA=new WeakMap;function OG(e,t){var r=BG(null,function(n){return e.forEach(function(s){return l_(s,n)})});return NG(function(){var n=TA.get(r);if(n){var s=new Set(n),h=new Set(e),d=r.current;s.forEach(function(c){h.has(c)||l_(c,null)}),h.forEach(function(c){s.has(c)||l_(c,d)})}TA.set(r,e)},[e]),r}function jG(e){return e}function VG(e,t){t===void 0&&(t=jG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(h){var d=t(h,n);return r.push(d),function(){r=r.filter(function(c){return c!==d})}},assignSyncMedium:function(h){for(n=!0;r.length;){var d=r;r=[],d.forEach(h)}r={push:function(c){return h(c)},filter:function(){return r}}},assignMedium:function(h){n=!0;var d=[];if(r.length){var c=r;r=[],c.forEach(h),d=r}var v=function(){var S=d;d=[],S.forEach(h)},w=function(){return Promise.resolve().then(v)};w(),r={push:function(S){d.push(S),w()},filter:function(S){return d=d.filter(S),r}}}};return s}function UG(e){e===void 0&&(e={});var t=VG(null);return t.options=Ao({async:!0,ssr:!1},e),t}var W$=function(e){var t=e.sideCar,r=W3(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return z.createElement(n,Ao({},r))};W$.isSideCarExport=!0;function KG(e,t){return e.useMedium(t),W$}var G$=UG(),c_=function(){},I0=z.forwardRef(function(e,t){var r=z.useRef(null),n=z.useState({onScrollCapture:c_,onWheelCapture:c_,onTouchMoveCapture:c_}),s=n[0],h=n[1],d=e.forwardProps,c=e.children,v=e.className,w=e.removeScrollBar,S=e.enabled,T=e.shards,C=e.sideCar,D=e.noIsolation,B=e.inert,j=e.allowPinchZoom,Y=e.as,V=Y===void 0?"div":Y,F=e.gapMode,N=W3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),ee=C,ie=OG([r,t]),fe=Ao(Ao({},N),s);return z.createElement(z.Fragment,null,S&&z.createElement(ee,{sideCar:G$,removeScrollBar:w,shards:T,noIsolation:D,inert:B,setCallbacks:h,allowPinchZoom:!!j,lockRef:r,gapMode:F}),d?z.cloneElement(z.Children.only(c),Ao(Ao({},fe),{ref:ie})):z.createElement(V,Ao({},fe,{className:v,ref:ie}),c))});I0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I0.classNames={fullWidth:jy,zeroRight:Oy};var HG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function WG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HG();return t&&e.setAttribute("nonce",t),e}function GG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=WG())&&(GG(t,r),qG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YG=function(){var e=ZG();return function(t,r){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q$=function(){var e=YG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},XG={left:0,top:0,right:0,gap:0},u_=function(e){return parseInt(e||"",10)||0},JG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[u_(r),u_(n),u_(s)]},QG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XG;var t=JG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eq=q$(),Ud="data-scroll-locked",tq=function(e,t,r,n){var s=e.left,h=e.top,d=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ud,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oy,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(jy,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Oy," .").concat(Oy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jy," .").concat(jy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ud,`] {
    `).concat(FG,": ").concat(c,`px;
  }
`)},CA=function(){var e=parseInt(document.body.getAttribute(Ud)||"0",10);return isFinite(e)?e:0},rq=function(){z.useEffect(function(){return document.body.setAttribute(Ud,(CA()+1).toString()),function(){var e=CA()-1;e<=0?document.body.removeAttribute(Ud):document.body.setAttribute(Ud,e.toString())}},[])},nq=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;rq();var h=z.useMemo(function(){return QG(s)},[s]);return z.createElement(eq,{styles:tq(h,!t,s,r?"":"!important")})},hw=!1;if(typeof window<"u")try{var fy=Object.defineProperty({},"passive",{get:function(){return hw=!0,!0}});window.addEventListener("test",fy,fy),window.removeEventListener("test",fy,fy)}catch{hw=!1}var ud=hw?{passive:!1}:!1,iq=function(e){return e.tagName==="TEXTAREA"},Z$=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!iq(e)&&r[t]==="visible")},aq=function(e){return Z$(e,"overflowY")},oq=function(e){return Z$(e,"overflowX")},EA=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Y$(e,n);if(s){var h=X$(e,n),d=h[1],c=h[2];if(d>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sq=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lq=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Y$=function(e,t){return e==="v"?aq(t):oq(t)},X$=function(e,t){return e==="v"?sq(t):lq(t)},cq=function(e,t){return e==="h"&&t==="rtl"?-1:1},uq=function(e,t,r,n,s){var h=cq(e,window.getComputedStyle(t).direction),d=h*n,c=r.target,v=t.contains(c),w=!1,S=d>0,T=0,C=0;do{var D=X$(e,c),B=D[0],j=D[1],Y=D[2],V=j-Y-h*B;(B||V)&&Y$(e,c)&&(T+=V,C+=B),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!v&&c!==document.body||v&&(t.contains(c)||t===c));return(S&&(Math.abs(T)<1||!s)||!S&&(Math.abs(C)<1||!s))&&(w=!0),w},py=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},kA=function(e){return[e.deltaX,e.deltaY]},AA=function(e){return e&&"current"in e?e.current:e},dq=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hq=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fq=0,dd=[];function pq(e){var t=z.useRef([]),r=z.useRef([0,0]),n=z.useRef(),s=z.useState(fq++)[0],h=z.useState(q$)[0],d=z.useRef(e);z.useEffect(function(){d.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var j=F7([e.lockRef.current],(e.shards||[]).map(AA),!0).filter(Boolean);return j.forEach(function(Y){return Y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),j.forEach(function(Y){return Y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=z.useCallback(function(j,Y){if("touches"in j&&j.touches.length===2)return!d.current.allowPinchZoom;var V=py(j),F=r.current,N="deltaX"in j?j.deltaX:F[0]-V[0],ee="deltaY"in j?j.deltaY:F[1]-V[1],ie,fe=j.target,be=Math.abs(N)>Math.abs(ee)?"h":"v";if("touches"in j&&be==="h"&&fe.type==="range")return!1;var q=EA(be,fe);if(!q)return!0;if(q?ie=be:(ie=be==="v"?"h":"v",q=EA(be,fe)),!q)return!1;if(!n.current&&"changedTouches"in j&&(N||ee)&&(n.current=ie),!ie)return!0;var pe=n.current||ie;return uq(pe,Y,j,pe==="h"?N:ee,!0)},[]),v=z.useCallback(function(j){var Y=j;if(!(!dd.length||dd[dd.length-1]!==h)){var V="deltaY"in Y?kA(Y):py(Y),F=t.current.filter(function(ie){return ie.name===Y.type&&(ie.target===Y.target||Y.target===ie.shadowParent)&&dq(ie.delta,V)})[0];if(F&&F.should){Y.cancelable&&Y.preventDefault();return}if(!F){var N=(d.current.shards||[]).map(AA).filter(Boolean).filter(function(ie){return ie.contains(Y.target)}),ee=N.length>0?c(Y,N[0]):!d.current.noIsolation;ee&&Y.cancelable&&Y.preventDefault()}}},[]),w=z.useCallback(function(j,Y,V,F){var N={name:j,delta:Y,target:V,should:F,shadowParent:mq(V)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(ee){return ee!==N})},1)},[]),S=z.useCallback(function(j){r.current=py(j),n.current=void 0},[]),T=z.useCallback(function(j){w(j.type,kA(j),j.target,c(j,e.lockRef.current))},[]),C=z.useCallback(function(j){w(j.type,py(j),j.target,c(j,e.lockRef.current))},[]);z.useEffect(function(){return dd.push(h),e.setCallbacks({onScrollCapture:T,onWheelCapture:T,onTouchMoveCapture:C}),document.addEventListener("wheel",v,ud),document.addEventListener("touchmove",v,ud),document.addEventListener("touchstart",S,ud),function(){dd=dd.filter(function(j){return j!==h}),document.removeEventListener("wheel",v,ud),document.removeEventListener("touchmove",v,ud),document.removeEventListener("touchstart",S,ud)}},[]);var D=e.removeScrollBar,B=e.inert;return z.createElement(z.Fragment,null,B?z.createElement(h,{styles:hq(s)}):null,D?z.createElement(nq,{gapMode:e.gapMode}):null)}function mq(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gq=KG(G$,pq);var zS=z.forwardRef(function(e,t){return z.createElement(I0,Ao({},e,{ref:t,sideCar:gq}))});zS.classNames=I0.classNames;var J$=Er((e,t)=>{const{as:r,children:n,className:s,...h}=e,{Component:d,isOpen:c,placement:v,backdrop:w,motionProps:S,titleProps:T,disableAnimation:C,shouldBlockScroll:D,getPopoverProps:B,getDialogProps:j,getBackdropProps:Y,getContentProps:V,isNonModal:F,onClose:N}=H$(),ee=j(h);delete ee.role;const ie=r||d||"div",fe=L.jsxs(L.Fragment,{children:[!F&&L.jsx(HE,{onDismiss:N}),L.jsx(ie,{...ee,children:L.jsx("div",{...V({className:s}),children:typeof n=="function"?n(T):n})}),L.jsx(HE,{onDismiss:N})]}),be=z.useMemo(()=>w==="transparent"?null:C?L.jsx("div",{...Y()}):L.jsx(sh,{features:lh,children:L.jsx(oh.div,{animate:"enter",exit:"exit",initial:"exit",variants:gA.fade,...Y()})}),[w,C,Y]),q=z.useCallback(({children:xe})=>L.jsx(zS,{enabled:D&&c,removeScrollBar:!1,children:xe}),[D,c]),pe=C?L.jsx(q,{children:fe}):L.jsx(sh,{features:lh,children:L.jsx(oh.div,{animate:"enter",exit:"exit",initial:"initial",style:{...hG(v==="center"?"top":v)},variants:gA.scaleSpringOpacity,...S,children:L.jsx(q,{children:fe})})});return L.jsxs("div",{...B(),children:[be,pe]})});J$.displayName="NextUI.PopoverContent";var yq=J$,Q$=Er((e,t)=>{const{triggerRef:r,getTriggerProps:n}=H$(),{children:s,...h}=e,d=z.useMemo(()=>typeof s=="string"?L.jsx("p",{children:s}):z.Children.only(s),[s]),{onPress:c,isDisabled:v,...w}=z.useMemo(()=>n(Ut(h,d.props),d.ref),[n,d.props,h,d.ref]),[,S]=t3(s,Cs),{buttonProps:T}=_m({onPress:c,isDisabled:v},r),C=z.useMemo(()=>(S==null?void 0:S[0])!==void 0,[S]);return z.cloneElement(d,Ut(w,C?{onPress:c,isDisabled:v}:T))});Q$.displayName="NextUI.PopoverTrigger";var vq=Q$,eR=Er((e,t)=>{const{children:r,...n}=e,s=RG({...n,ref:t}),[h,d]=z.Children.toArray(r),c=L.jsx(HD,{portalContainer:s.portalContainer,children:d});return L.jsxs(LG,{value:s,children:[h,s.disableAnimation&&s.isOpen?c:L.jsx(RS,{children:s.isOpen?c:null})]})});eR.displayName="NextUI.Popover";var xq=eR,[_q,tR]=Kl({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function bq(e){const{isSelected:t,disableAnimation:r,...n}=e;return L.jsx("svg",{"aria-hidden":"true","data-selected":t,role:"presentation",viewBox:"0 0 17 18",...n,children:L.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:t?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:r?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var rR=new WeakMap;function wq(e,t,r){let{shouldFocusWrap:n=!0,onKeyDown:s,onKeyUp:h,...d}=e;!e["aria-label"]&&!e["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let c=mh(e,{labelable:!0}),{listProps:v}=z9({...d,ref:r,selectionManager:t.selectionManager,collection:t.collection,disabledKeys:t.disabledKeys,shouldFocusWrap:n,linkBehavior:"override"});return rR.set(t,{onClose:e.onClose,onAction:e.onAction}),{menuProps:Ut(c,{onKeyDown:s,onKeyUp:h},{role:"menu",...v,onKeyDown:w=>{w.key!=="Escape"&&v.onKeyDown(w)}})}}function Sq(e,t,r){var n,s,h;let{key:d,closeOnSelect:c,isVirtualized:v,"aria-haspopup":w,onPressStart:S,onPressUp:T,onPress:C,onPressChange:D,onPressEnd:B,onHoverStart:j,onHoverChange:Y,onHoverEnd:V,onKeyDown:F,onKeyUp:N,onFocus:ee,onFocusChange:ie,onBlur:fe,onClick:be}=e,q=!!w,pe=(n=e.isDisabled)!=null?n:t.disabledKeys.has(d),xe=(s=e.isSelected)!=null?s:t.selectionManager.isSelected(d),le=rR.get(t),Se=e.onClose||le.onClose,ge=q?()=>{}:e.onAction||le.onAction,ye=w0(),Be=Zt=>{ge&&ge(d),Zt.target instanceof HTMLAnchorElement&&ye.open(Zt.target,Zt)},Re="menuitem";q||(t.selectionManager.selectionMode==="single"?Re="menuitemradio":t.selectionManager.selectionMode==="multiple"&&(Re="menuitemcheckbox"));let ae=Sp(),De=Sp(),je=Sp(),Oe={"aria-disabled":pe||void 0,role:Re,"aria-label":e["aria-label"],"aria-labelledby":ae,"aria-describedby":[De,je].filter(Boolean).join(" ")||void 0,"aria-controls":e["aria-controls"],"aria-haspopup":w,"aria-expanded":e["aria-expanded"]};t.selectionManager.selectionMode!=="none"&&!q&&(Oe["aria-checked"]=xe);let se=t.collection.getItem(d);v&&(Oe["aria-posinset"]=se==null?void 0:se.index,Oe["aria-setsize"]=nG(t.collection));let ze=Zt=>{Zt.pointerType==="keyboard"&&Be(Zt),S==null||S(Zt)},Ze=Zt=>{Zt.pointerType!=="keyboard"&&(setTimeout(()=>{Be(Zt)}),!q&&Se&&(c??(t.selectionManager.selectionMode!=="multiple"||t.selectionManager.isLink(d)))&&setTimeout(()=>{Se==null||Se()})),T==null||T(Zt)},{itemProps:lt,isFocused:mt}=R9({selectionManager:t.selectionManager,key:d,ref:r,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:gt,isPressed:Et}=yh({onPressStart:ze,onPress:C,onPressUp:Ze,onPressChange:D,onPressEnd:B,isDisabled:pe}),{isHovered:Pt,hoverProps:At}=iu({isDisabled:pe,onHoverStart(Zt){J2()||(t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(d)),j==null||j(Zt)},onHoverChange:Y,onHoverEnd:V}),{keyboardProps:zt}=RD({onKeyDown:Zt=>{if(Zt.repeat){Zt.continuePropagation();return}switch(Zt.key){case" ":!pe&&t.selectionManager.selectionMode==="none"&&!q&&c!==!1&&Se&&Se();break;case"Enter":!pe&&c!==!1&&!q&&Se&&Se();break;default:q||Zt.continuePropagation(),F==null||F(Zt);break}},onKeyUp:N}),{focusProps:Nt}=Y2({onBlur:fe,onFocus:ee,onFocusChange:ie}),ar=mh(se.props,{isLink:!!((h=se==null?void 0:se.props)!=null&&h.href)});return delete ar.id,{menuItemProps:{...Oe,...Ut(ar,q?{onFocus:lt.onFocus}:lt,gt,At,zt,Nt),onClick:Ps(be,gt.onClick),tabIndex:lt.tabIndex!=null?-1:void 0},labelProps:{id:ae},descriptionProps:{id:De},keyboardShortcutProps:{id:je},isHovered:Pt,isFocused:mt,isSelected:xe,isPressed:Et,isDisabled:pe}}var Pq=700;function Tq(){return m0()||typeof window>"u"?!1:window.screen.width<=Pq}function Cq(e){const[t,r]=Is(e,ek.variantKeys),{as:n,item:s,state:h,shortcut:d,description:c,startContent:v,endContent:w,isVirtualized:S,selectedIcon:T,className:C,classNames:D,onAction:B,autoFocus:j,onClick:Y,onPress:V,onPressStart:F,onPressUp:N,onPressEnd:ee,onPressChange:ie,hideSelectedIcon:fe=!1,isReadOnly:be=!1,closeOnSelect:q,onClose:pe,...xe}=t,le=e.disableAnimation,Se=z.useRef(null),ge=n||(xe!=null&&xe.href?"a":"li"),ye=typeof ge=="string",{rendered:Be,key:Re}=s,ae=h.disabledKeys.has(Re)||e.isDisabled,De=h.selectionManager.selectionMode!=="none",je=Tq(),{isFocusVisible:Oe,focusProps:se}=As({autoFocus:j}),{isHovered:ze,isPressed:Ze,isFocused:lt,isSelected:mt,menuItemProps:gt,labelProps:Et,descriptionProps:Pt,keyboardShortcutProps:At}=Sq({key:Re,onClose:pe,isDisabled:ae,onPress:V,onClick:Y,onPressStart:F,onPressUp:N,onPressEnd:ee,onPressChange:ie,"aria-label":t["aria-label"],closeOnSelect:q,isVirtualized:S,onAction:B},h,Se);let zt=gt;const Nt=z.useMemo(()=>ek({...r,isDisabled:ae,disableAnimation:le}),[ks(r),ae,le]),ar=ur(D==null?void 0:D.base,C);be&&(zt=$O(zt));const Zt=(kr={})=>({ref:Se,...Ut(be?{}:se,Lo(xe,{enabled:ye}),zt,kr),"data-focus":vt(lt),"data-selectable":vt(De),"data-hover":vt(je?ze||Ze:ze),"data-disabled":vt(ae),"data-selected":vt(mt),"data-pressed":vt(Ze),"data-focus-visible":vt(Oe),className:Nt.base({class:ur(ar,kr.className)})}),Yt=(kr={})=>({...Ut(Et,kr),className:Nt.title({class:D==null?void 0:D.title})}),Kn=(kr={})=>({...Ut(Pt,kr),className:Nt.description({class:D==null?void 0:D.description})}),Ve=(kr={})=>({...Ut(At,kr),className:Nt.shortcut({class:D==null?void 0:D.shortcut})}),ni=z.useCallback((kr={})=>({"aria-hidden":vt(!0),"data-disabled":vt(ae),className:Nt.selectedIcon({class:D==null?void 0:D.selectedIcon}),...kr}),[ae,Nt,D]);return{Component:ge,domRef:Se,slots:Nt,classNames:D,isSelectable:De,isSelected:mt,isDisabled:ae,rendered:Be,shortcut:d,description:c,startContent:v,endContent:w,selectedIcon:T,disableAnimation:le,getItemProps:Zt,getLabelProps:Yt,hideSelectedIcon:fe,getDescriptionProps:Kn,getKeyboardShortcutProps:Ve,getSelectedIconProps:ni}}var nR=Er((e,t)=>{const{Component:r,slots:n,classNames:s,rendered:h,shortcut:d,description:c,isSelectable:v,isSelected:w,isDisabled:S,selectedIcon:T,startContent:C,endContent:D,disableAnimation:B,hideSelectedIcon:j,getItemProps:Y,getLabelProps:V,getDescriptionProps:F,getKeyboardShortcutProps:N,getSelectedIconProps:ee}=Cq(e),ie=z.useMemo(()=>{const fe=L.jsx(bq,{disableAnimation:B,isSelected:w});return typeof T=="function"?T({icon:fe,isSelected:w,isDisabled:S}):T||fe},[T,w,S,B]);return L.jsxs(r,{...Y(),children:[C,c?L.jsxs("div",{className:n.wrapper({class:s==null?void 0:s.wrapper}),children:[L.jsx("span",{...V(),children:h}),L.jsx("span",{...F(),children:c})]}):L.jsx("span",{...V(),children:h}),d&&L.jsx("kbd",{...N(),children:d}),v&&!j&&L.jsx("span",{...ee(),children:ie}),D]})});nR.displayName="NextUI.MenuItem";var iR=nR,aR={};aR={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var oR={};oR={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var sR={};sR={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var lR={};lR={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var cR={};cR={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var uR={};uR={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var dR={};dR={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var hR={};hR={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var fR={};fR={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var pR={};pR={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var mR={};mR={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var gR={};gR={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var yR={};yR={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var vR={};vR={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var xR={};xR={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var _R={};_R={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var bR={};bR={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var wR={};wR={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var SR={};SR={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var PR={};PR={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var TR={};TR={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var CR={};CR={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var ER={};ER={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var kR={};kR={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var AR={};AR={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var IR={};IR={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var MR={};MR={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var DR={};DR={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var $R={};$R={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var RR={};RR={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var LR={};LR={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var zR={};zR={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var FR={};FR={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var BR={};BR={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};function Eq(e){return e&&e.__esModule?e.default:e}var NR={};NR={"ar-AE":aR,"bg-BG":oR,"cs-CZ":sR,"da-DK":lR,"de-DE":cR,"el-GR":uR,"en-US":dR,"es-ES":hR,"et-EE":fR,"fi-FI":pR,"fr-FR":mR,"he-IL":gR,"hr-HR":yR,"hu-HU":vR,"it-IT":xR,"ja-JP":_R,"ko-KR":bR,"lt-LT":wR,"lv-LV":SR,"nb-NO":PR,"nl-NL":TR,"pl-PL":CR,"pt-BR":ER,"pt-PT":kR,"ro-RO":AR,"ru-RU":IR,"sk-SK":MR,"sl-SI":DR,"sr-SP":$R,"sv-SE":RR,"tr-TR":LR,"uk-UA":zR,"zh-CN":FR,"zh-TW":BR};function kq(e,t,r){let{type:n="menu",isDisabled:s,trigger:h="press"}=e,d=mm(),{triggerProps:c,overlayProps:v}=VD({type:n},t,r),w=D=>{if(!s&&!(h==="longPress"&&!D.altKey)&&r&&r.current)switch(D.key){case"Enter":case" ":if(h==="longPress")return;case"ArrowDown":"continuePropagation"in D||D.stopPropagation(),D.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in D||D.stopPropagation(),D.preventDefault(),t.toggle("last");break;default:"continuePropagation"in D&&D.continuePropagation()}},S=gh(Eq(NR),"@react-aria/menu"),{longPressProps:T}=LD({isDisabled:s||h!=="longPress",accessibilityDescription:S.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),C={onPressStart(D){D.pointerType!=="touch"&&D.pointerType!=="keyboard"&&!s&&t.toggle(D.pointerType==="virtual"?"first":null)},onPress(D){D.pointerType==="touch"&&!s&&t.toggle()}};return delete c.onPress,{menuTriggerProps:{...c,...h==="press"?C:T,id:d,onKeyDown:w},menuProps:{...v,"aria-labelledby":d,autoFocus:t.focusStrategy||!0,onClose:t.close}}}function Aq(e){let{heading:t,"aria-label":r}=e,n=mm();return{itemProps:{role:"presentation"},headingProps:t?{id:n,role:"presentation"}:{},groupProps:{role:"group","aria-label":r,"aria-labelledby":t?n:void 0}}}var OR=Er(({item:e,state:t,as:r,variant:n,color:s,disableAnimation:h,onAction:d,closeOnSelect:c,className:v,classNames:w,showDivider:S=!1,hideSelectedIcon:T,dividerProps:C={},itemClasses:D,title:B,...j},Y)=>{const V=r||"li",F=z.useMemo(()=>P9(),[]),N=ur(w==null?void 0:w.base,v),ee=ur(w==null?void 0:w.divider,C==null?void 0:C.className),{itemProps:ie,headingProps:fe,groupProps:be}=Aq({heading:e.rendered,"aria-label":e["aria-label"]});return L.jsxs(V,{"data-slot":"base",...Ut(ie,j),className:F.base({class:N}),children:[e.rendered&&L.jsx("span",{...fe,className:F.heading({class:w==null?void 0:w.heading}),"data-slot":"heading",children:e.rendered}),L.jsxs("ul",{...be,className:F.group({class:w==null?void 0:w.group}),"data-has-title":!!e.rendered,"data-slot":"group",children:[[...e.childNodes].map(q=>{const{key:pe,props:xe}=q;let le=L.jsx(iR,{classNames:D,closeOnSelect:c,color:s,disableAnimation:h,hideSelectedIcon:T,item:q,state:t,variant:n,onAction:d,...xe},pe);return q.wrapper&&(le=q.wrapper(le)),le}),S&&L.jsx($l,{as:"li",className:F.divider({class:ee}),...C})]})]})});OR.displayName="NextUI.MenuSection";var Iq=OR;function Mq(e){const{as:t,ref:r,variant:n,color:s,children:h,disableAnimation:d,onAction:c,closeOnSelect:v,itemClasses:w,className:S,state:T,topContent:C,bottomContent:D,hideEmptyContent:B=!1,hideSelectedIcon:j=!1,emptyContent:Y="No items.",menuProps:V,onClose:F,classNames:N,...ee}=e,ie=t||"ul",fe=wn(r),be=typeof ie=="string",q=lG({...ee,children:h}),pe=T||q,{menuProps:xe}=wq(ee,pe,fe),le=z.useMemo(()=>S9({className:S}),[S]),Se=ur(N==null?void 0:N.base,S);return{Component:ie,state:pe,variant:n,color:s,disableAnimation:d,onAction:c,onClose:F,topContent:C,bottomContent:D,closeOnSelect:v,className:S,itemClasses:w,getBaseProps:(Re={})=>({ref:fe,"data-slot":"base",className:le.base({class:Se}),...Lo(ee,{enabled:be}),...Re}),getListProps:(Re={})=>({"data-slot":"list",className:le.list({class:N==null?void 0:N.list}),...V,...xe,...Re}),hideEmptyContent:B,hideSelectedIcon:j,getEmptyContentProps:(Re={})=>({children:Y,className:le.emptyContent({class:N==null?void 0:N.emptyContent}),...Re})}}function jR(e,t){const{Component:r,state:n,closeOnSelect:s,color:h,disableAnimation:d,hideSelectedIcon:c,hideEmptyContent:v,variant:w,onClose:S,onAction:T,topContent:C,bottomContent:D,itemClasses:B,getBaseProps:j,getListProps:Y,getEmptyContentProps:V}=Mq({...e,ref:t}),F=L.jsxs(r,{...Y(),children:[!n.collection.size&&!v&&L.jsx("li",{children:L.jsx("div",{...V()})}),[...n.collection].map(N=>{const ee={closeOnSelect:s,color:h,disableAnimation:d,item:N,state:n,variant:w,onClose:S,onAction:T,hideSelectedIcon:c,...N.props};if(N.type==="section")return L.jsx(Iq,{...ee,itemClasses:B},N.key);let ie=L.jsx(iR,{...ee,classNames:B},N.key);return N.wrapper&&(ie=N.wrapper(ie)),ie})]});return L.jsxs("div",{...j(),children:[C,F,D]})}var Dq=Er(jR);jR.displayName="NextUI.Menu";var $q=XW,IA=$q;function VR(e,t){const{getMenuProps:r}=tR();return L.jsx(yq,{children:L.jsx(FD,{contain:!0,restoreFocus:!0,children:L.jsx(Dq,{...r(e,t)})})})}var Rq=Er(VR);VR.displayName="NextUI.DropdownMenu";var UR=Er((e,t)=>{const{getMenuTriggerProps:r}=tR(),{children:n,...s}=e;return L.jsx(vq,{...r(s),children:n})});UR.displayName="NextUI.DropdownTrigger";var Lq=UR;function zq(e){let t=K$(e),[r,n]=z.useState(null),[s,h]=z.useState([]),d=()=>{h([]),t.close()};return{focusStrategy:r,...t,open(w=null){n(w),t.open()},toggle(w=null){n(w),t.toggle()},close(){d()},UNSTABLE_expandedKeysStack:s,UNSTABLE_openSubmenu:(w,S)=>{h(T=>S>T.length?T:[...T.slice(0,S),w])},UNSTABLE_closeSubmenu:(w,S)=>{h(T=>T[S]===w?T.slice(0,S):T)}}}function Fq(e){const{as:t,triggerRef:r,isOpen:n,defaultOpen:s,onOpenChange:h,isDisabled:d,type:c="menu",trigger:v="press",placement:w="bottom",closeOnSelect:S=!0,shouldBlockScroll:T=!0,classNames:C,disableAnimation:D=!1,onClose:B,className:j,...Y}=e,V=t||"div",F=z.useRef(null),N=r||F,ee=z.useRef(null),ie=z.useRef(null),fe=zq({trigger:v,isOpen:n,defaultOpen:s,onOpenChange:ye=>{h==null||h(ye),ye||B==null||B()}}),{menuTriggerProps:be,menuProps:q}=kq({type:c,trigger:v,isDisabled:d},fe,N),pe=z.useMemo(()=>C9({className:j}),[j]),xe=ye=>{ye!==void 0&&!ye||S&&fe.close()},le=(ye={})=>({state:fe,placement:w,ref:ie,disableAnimation:D,shouldBlockScroll:T,scrollRef:ee,triggerRef:N,...Ut(Y,ye),classNames:{...C,...ye.classNames,content:ur(pe,C==null?void 0:C.content,ye.className)}}),Se=(ye={},Be=null)=>{const{onKeyDown:Re,onPress:ae,onPressStart:De,...je}=be;return{...Ut(je,{isDisabled:d},ye),ref:nE(Be,F)}},ge=(ye,Be=null)=>({ref:nE(Be,ee),menuProps:q,closeOnSelect:S,...Ut(ye,{onAction:()=>xe(ye==null?void 0:ye.closeOnSelect),onClose:fe.close})});return{Component:V,menuRef:ee,menuProps:q,classNames:pe,closeOnSelect:S,onClose:fe.close,autoFocus:fe.focusStrategy||!0,disableAnimation:D,getPopoverProps:le,getMenuProps:ge,getMenuTriggerProps:Se}}var KR=e=>{const{children:t,...r}=e,n=Fq(r),[s,h]=Qt.Children.toArray(t);return L.jsx(_q,{value:n,children:L.jsxs(xq,{...n.getPopoverProps(),children:[s,h]})})};KR.displayName="NextUI.Dropdown";var Bq=KR;function Nq(e){const[t,r]=Is(e,nk.variantKeys),{ref:n,as:s,src:h,className:d,classNames:c,loading:v,isBlurred:w,fallbackSrc:S,isLoading:T,disableSkeleton:C=!!S,removeWrapper:D=!1,onError:B,onLoad:j,srcSet:Y,sizes:V,crossOrigin:F,...N}=t,ee=D$({src:h,loading:v,onError:B,onLoad:j,ignoreFallback:!1,srcSet:Y,sizes:V,crossOrigin:F}),ie=ee==="loaded"&&!T,fe=ee==="loading"||T,be=e.isZoomed,q=s||"img",pe=wn(n),{w:xe}=z.useMemo(()=>({w:t.width?typeof t.width=="number"?`${t.width}px`:t.width:"fit-content"}),[t==null?void 0:t.width]),le=(!h||!ie)&&!!S,Se=fe&&!C,ge=z.useMemo(()=>nk({...r,showSkeleton:Se}),[ks(r),Se]),ye=ur(d,c==null?void 0:c.img),Be=(De={})=>{const je=ur(ye,De==null?void 0:De.className);return{src:h,ref:pe,"data-loaded":vt(ie),className:ge.img({class:je}),loading:v,srcSet:Y,sizes:V,crossOrigin:F,...N}},Re=z.useCallback(()=>{const De=le?{backgroundImage:`url(${S})`}:{};return{className:ge.wrapper({class:c==null?void 0:c.wrapper}),style:{...De,maxWidth:xe}}},[ge,le,S,c==null?void 0:c.wrapper]),ae=z.useCallback(()=>({src:h,"aria-hidden":vt(!0),className:ge.blurredImg({class:c==null?void 0:c.blurredImg})}),[ge,h,c==null?void 0:c.blurredImg]);return{Component:q,domRef:pe,slots:ge,classNames:c,isBlurred:w,disableSkeleton:C,fallbackSrc:S,removeWrapper:D,isZoomed:be,isLoading:fe,getImgProps:Be,getWrapperProps:Re,getBlurredImgProps:ae}}var HR=Er((e,t)=>{const{Component:r,domRef:n,slots:s,classNames:h,isBlurred:d,isZoomed:c,fallbackSrc:v,removeWrapper:w,disableSkeleton:S,getImgProps:T,getWrapperProps:C,getBlurredImgProps:D}=Nq({...e,ref:t}),B=L.jsx(r,{ref:n,...T()});if(w)return B;const j=L.jsx("div",{className:s.zoomedWrapper({class:h==null?void 0:h.zoomedWrapper}),children:B});return d?L.jsxs("div",{...C(),children:[c?j:B,z.cloneElement(B,D())]}):c||!S||v?L.jsxs("div",{...C(),children:[" ",c?j:B]}):B});HR.displayName="NextUI.Image";var ch=HR,[Oq,_h]=Kl({name:"NavbarContext",strict:!0,errorMessage:"useNavbarContext: `context` is undefined. Seems you forgot to wrap component within <Navbar />"}),jq={enter:{height:"calc(100vh - var(--navbar-height) - 1px)",transition:{duration:.3,easings:"easeOut"}},exit:{height:0,transition:{duration:.25,easings:"easeIn"}}},WR=Er((e,t)=>{var r,n;const{className:s,children:h,portalContainer:d,motionProps:c,style:v,...w}=e,S=wn(t),{slots:T,isMenuOpen:C,height:D,disableAnimation:B,classNames:j}=_h(),Y=ur(j==null?void 0:j.menu,s),V=z.useCallback(({children:N})=>L.jsx(zS,{forwardProps:!0,enabled:C,removeScrollBar:!1,children:N}),[C]),F=B?L.jsx(V,{children:L.jsx("ul",{ref:S,className:(r=T.menu)==null?void 0:r.call(T,{class:Y}),"data-open":vt(C),style:{"--navbar-height":D},...w,children:h})}):L.jsx(RS,{mode:"wait",children:C?L.jsx(sh,{features:lh,children:L.jsx(V,{children:L.jsx(oh.ul,{ref:S,layoutScroll:!0,animate:"enter",className:(n=T.menu)==null?void 0:n.call(T,{class:Y}),"data-open":vt(C),exit:"exit",initial:"exit",style:{"--navbar-height":D,...v},variants:jq,...Ut(c,w),children:h})})}):null});return L.jsx(HD,{portalContainer:d,children:F})});WR.displayName="NextUI.NavbarMenu";var GR=WR,Vq={visible:{y:0,transition:{ease:ml.easeOut}},hidden:{y:"-100%",transition:{ease:ml.easeIn}}},Uq=typeof window<"u";function MA(e){return Uq?e?{x:e.scrollLeft,y:e.scrollTop}:{x:window.scrollX,y:window.scrollY}:{x:0,y:0}}var Kq=e=>{const{elementRef:t,delay:r=30,callback:n,isEnabled:s}=e,h=z.useRef(s?MA(t==null?void 0:t.current):{x:0,y:0});let d=null;const c=()=>{const v=MA(t==null?void 0:t.current);typeof n=="function"&&n({prevPos:h.current,currPos:v}),h.current=v,d=null};return z.useEffect(()=>{if(!s)return;const v=()=>{r?d===null&&(d=setTimeout(c,r)):c()},w=(t==null?void 0:t.current)||window;return w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)},[t==null?void 0:t.current,r,s]),h.current};function Hq(e){var t;const[r,n]=Is(e,tk.variantKeys),{ref:s,as:h,parentRef:d,height:c="4rem",shouldHideOnScroll:v=!1,disableScrollHandler:w=!1,onScrollPositionChange:S,isMenuOpen:T,isMenuDefaultOpen:C,onMenuOpenChange:D=()=>{},motionProps:B,className:j,classNames:Y,...V}=r,F=h||"nav",N=wn(s),ee=z.useRef(0),ie=z.useRef(0),[fe,be]=z.useState(!1),q=z.useCallback(Re=>{D(Re||!1)},[D]),[pe,xe]=Ss(T,C??!1,q),le=()=>{if(N.current){const Re=N.current.offsetWidth;Re!==ee.current&&(ee.current=Re)}};F3({ref:N,onResize:()=>{var Re;((Re=N.current)==null?void 0:Re.offsetWidth)!==ee.current&&(le(),xe(!1))}}),z.useEffect(()=>{var Re;le(),ie.current=((Re=N.current)==null?void 0:Re.offsetHeight)||0},[]);const Se=z.useMemo(()=>tk({...n,hideOnScroll:v}),[ks(n),v]),ge=ur(Y==null?void 0:Y.base,j);Kq({elementRef:d,isEnabled:v||!w,callback:({prevPos:Re,currPos:ae})=>{S==null||S(ae.y),v&&be(De=>{const je=ae.y>Re.y&&ae.y>ie.current;return je!==De?je:De})}});const ye=(Re={})=>({...Ut(V,Re),"data-hidden":vt(fe),"data-menu-open":vt(pe),ref:N,className:Se.base({class:ur(ge,Re==null?void 0:Re.className)}),style:{"--navbar-height":c,...V==null?void 0:V.style,...Re==null?void 0:Re.style}}),Be=(Re={})=>({...Re,"data-menu-open":vt(pe),className:Se.wrapper({class:ur(Y==null?void 0:Y.wrapper,Re==null?void 0:Re.className)})});return{Component:F,slots:Se,domRef:N,height:c,isHidden:fe,disableAnimation:(t=e.disableAnimation)!=null?t:!1,shouldHideOnScroll:v,isMenuOpen:pe,classNames:Y,setIsMenuOpen:xe,motionProps:B,getBaseProps:ye,getWrapperProps:Be}}var qR=Er((e,t)=>{const{children:r,...n}=e,s=Hq({...n,ref:t}),h=s.Component,[d,c]=t3(r,GR),v=L.jsxs(L.Fragment,{children:[L.jsx("header",{...s.getWrapperProps(),children:d}),c]});return L.jsx(Oq,{value:s,children:s.shouldHideOnScroll?L.jsx(sh,{features:lh,children:L.jsx(oh.nav,{animate:s.isHidden?"hidden":"visible",initial:!1,variants:Vq,...Ut(s.getBaseProps(),s.motionProps),children:v})}):L.jsx(h,{...s.getBaseProps(),children:v})})});qR.displayName="NextUI.Navbar";var Wq=qR,ZR=Er((e,t)=>{var r;const{as:n,className:s,children:h,...d}=e,c=n||"div",v=wn(t),{slots:w,classNames:S}=_h(),T=ur(S==null?void 0:S.brand,s);return L.jsx(c,{ref:v,className:(r=w.brand)==null?void 0:r.call(w,{class:T}),...d,children:h})});ZR.displayName="NextUI.NavbarBrand";var Gq=ZR,YR=Er((e,t)=>{var r;const{as:n,className:s,children:h,justify:d="start",...c}=e,v=n||"ul",w=wn(t),{slots:S,classNames:T}=_h(),C=ur(T==null?void 0:T.content,s);return L.jsx(v,{ref:w,className:(r=S.content)==null?void 0:r.call(S,{class:C}),"data-justify":d,...c,children:h})});YR.displayName="NextUI.NavbarContent";var d_=YR,XR=Er((e,t)=>{var r;const{as:n,className:s,children:h,isActive:d,...c}=e,v=n||"li",w=wn(t),{slots:S,classNames:T}=_h(),C=ur(T==null?void 0:T.item,s);return L.jsx(v,{ref:w,className:(r=S.item)==null?void 0:r.call(S,{class:C}),"data-active":vt(d),...c,children:h})});XR.displayName="NextUI.NavbarItem";var il=XR,JR=Er((e,t)=>{var r;const{className:n,children:s,isActive:h,...d}=e,c=wn(t),{slots:v,isMenuOpen:w,classNames:S}=_h(),T=ur(S==null?void 0:S.menuItem,n);return L.jsx("li",{ref:c,className:(r=v.menuItem)==null?void 0:r.call(v,{class:T}),"data-active":vt(h),"data-open":vt(w),...d,children:s})});JR.displayName="NextUI.NavbarMenuItem";var qq=JR;function Zq(e,t,r){const{isSelected:n}=t,{isPressed:s,buttonProps:h}=_m({...e,onPress:Ps(t.toggle,e.onPress)},r);return{isPressed:s,buttonProps:Ut(h,{"aria-pressed":n})}}var QR=Er((e,t)=>{var r;const{as:n,icon:s,className:h,onChange:d,autoFocus:c,srOnlyText:v,...w}=e,S=n||"button",T=wn(t),{slots:C,classNames:D,isMenuOpen:B,setIsMenuOpen:j}=_h(),V=TG({...w,isSelected:B,onChange:le=>{d==null||d(le),j(le)}}),{buttonProps:F,isPressed:N}=Zq(e,V,T),{isFocusVisible:ee,focusProps:ie}=As({autoFocus:c}),{isHovered:fe,hoverProps:be}=iu({}),q=ur(D==null?void 0:D.toggle,h),pe=z.useMemo(()=>typeof s=="function"?s(B??!1):s||L.jsx("span",{className:C.toggleIcon({class:D==null?void 0:D.toggleIcon})}),[s,B,C.toggleIcon,D==null?void 0:D.toggleIcon]),xe=z.useMemo(()=>v||(V.isSelected?"close navigation menu":"open navigation menu"),[v,B]);return L.jsxs(S,{ref:T,className:(r=C.toggle)==null?void 0:r.call(C,{class:q}),"data-focus-visible":vt(ee),"data-hover":vt(fe),"data-open":vt(B),"data-pressed":vt(N),...Ut(F,ie,be,w),children:[L.jsx("span",{className:C.srOnly(),children:xe}),pe]})});QR.displayName="NextUI.NavbarMenuToggle";var Yq=QR;const eL=7e3;let h_=null;function DA(e,t="assertive",r=eL){h_||(h_=new Xq),h_.announce(e,t,r)}class Xq{createLog(t){let r=document.createElement("div");return r.setAttribute("role","log"),r.setAttribute("aria-live",t),r.setAttribute("aria-relevant","additions"),r}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(t,r="assertive",n=eL){if(!this.node)return;let s=document.createElement("div");s.textContent=t,r==="assertive"?this.assertiveLog.appendChild(s):this.politeLog.appendChild(s),t!==""&&setTimeout(()=>{s.remove()},n)}clear(t){this.node&&((!t||t==="assertive")&&(this.assertiveLog.innerHTML=""),(!t||t==="polite")&&(this.politeLog.innerHTML=""))}constructor(){this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}}function Jq(e){const[t,r]=Is(e,JE.variantKeys),{as:n,children:s,isLoaded:h=!1,className:d,classNames:c,...v}=t,w=n||"div",S=z.useMemo(()=>JE({...r}),[ks(r),s]),T=ur(c==null?void 0:c.base,d);return{Component:w,children:s,slots:S,classNames:c,getSkeletonProps:(B={})=>({"data-loaded":vt(h),className:S.base({class:ur(T,B==null?void 0:B.className)}),...v}),getContentProps:(B={})=>({className:S.content({class:ur(c==null?void 0:c.content,B==null?void 0:B.className)})})}}var tL=Er((e,t)=>{const{Component:r,children:n,getSkeletonProps:s,getContentProps:h}=Jq({...e});return L.jsx(r,{ref:t,...s(),children:L.jsx("div",{...h(),children:n})})});tL.displayName="NextUI.Skeleton";var rL=tL;function nL(e){var t,r,n,s,h,d;const[c,v]=Is(e,ak.variantKeys),w=qO(),{ref:S,as:T,children:C,className:D,topContent:B,bottomContent:j,showHelper:Y=!0,calendarWidth:V=256,visibleMonths:F=1,weekdayStyle:N="narrow",navButtonProps:ee={},isHeaderExpanded:ie,isHeaderDefaultExpanded:fe,onHeaderExpandedChange:be=()=>{},minValue:q=(r=(t=w==null?void 0:w.defaultDates)==null?void 0:t.minDate)!=null?r:new Lr(1900,1,1),maxValue:pe=(s=(n=w==null?void 0:w.defaultDates)==null?void 0:n.maxDate)!=null?s:new Lr(2099,12,31),createCalendar:xe=(h=w==null?void 0:w.createCalendar)!=null?h:null,prevButtonProps:le,nextButtonProps:Se,errorMessage:ge,classNames:ye,...Be}=c,Re=T||"div",ae=X5(F,1,3),De=e.showMonthAndYearPickers&&ae===1&&!(e!=null&&e.isRange),je=wn(S),Oe=z.useCallback(Yt=>{be(Yt||!1)},[be]),[se,ze]=Ss(ie,fe??!1,Oe),Ze=z.useMemo(()=>({months:ae}),[ae]),lt=ae>1,mt=typeof Re=="string",{locale:gt}=uo(),Et=z.useMemo(()=>ak({...v,showMonthAndYearPickers:De,isRange:!!e.isRange,isHeaderWrapperExpanded:se,className:D}),[ks(v),De,se,D]),At={size:"sm",variant:"light",radius:"full",isIconOnly:!0,disableAnimation:(d=e.disableAnimation)!=null?d:!1,...ee},zt={"data-slot":"base","data-has-multiple-months":vt(lt),style:{"--visible-months":ae,"--calendar-width":V}};return{Component:Re,children:C,domRef:je,slots:Et,locale:gt,minValue:q,maxValue:pe,baseProps:zt,showHelper:Y,weekdayStyle:N,visibleMonths:ae,visibleDuration:Ze,shouldFilterDOMProps:mt,isHeaderExpanded:se,showMonthAndYearPickers:De,createCalendar:xe,getPrevButtonProps:(Yt={})=>({"data-slot":"prev-button",tabIndex:se?-1:0,className:Et.prevButton({class:ye==null?void 0:ye.prevButton}),...Ut(At,le,Yt)}),getNextButtonProps:(Yt={})=>({"data-slot":"next-button",tabIndex:se?-1:0,className:Et.nextButton({class:ye==null?void 0:ye.nextButton}),...Ut(At,Se,Yt)}),getErrorMessageProps:(Yt={})=>({"data-slot":"error-message",className:Et.errorMessage({class:ye==null?void 0:ye.errorMessage}),...Yt}),setIsHeaderExpanded:ze,topContent:B,bottomContent:j,errorMessage:ge,classNames:ye,otherProps:Be}}function M0(e){return e&&e.__esModule?e.default:e}var bm={},iL={};iL={dateRange:e=>`${e.startDate} إلى ${e.endDate}`,dateSelected:e=>`${e.date} المحدد`,finishRangeSelectionPrompt:"انقر لإنهاء عملية تحديد نطاق التاريخ",maximumDate:"آخر تاريخ متاح",minimumDate:"أول تاريخ متاح",next:"التالي",previous:"السابق",selectedDateDescription:e=>`تاريخ محدد: ${e.date}`,selectedRangeDescription:e=>`المدى الزمني المحدد: ${e.dateRange}`,startRangeSelectionPrompt:"انقر لبدء عملية تحديد نطاق التاريخ",todayDate:e=>`اليوم، ${e.date}`,todayDateSelected:e=>`اليوم، ${e.date} محدد`};var aL={};aL={dateRange:e=>`${e.startDate} до ${e.endDate}`,dateSelected:e=>`Избрано е ${e.date}`,finishRangeSelectionPrompt:"Натиснете, за да довършите избора на времеви интервал",maximumDate:"Последна налична дата",minimumDate:"Първа налична дата",next:"Напред",previous:"Назад",selectedDateDescription:e=>`Избрана дата: ${e.date}`,selectedRangeDescription:e=>`Избран диапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Натиснете, за да пристъпите към избора на времеви интервал",todayDate:e=>`Днес, ${e.date}`,todayDateSelected:e=>`Днес, ${e.date} са избрани`};var oL={};oL={dateRange:e=>`${e.startDate} až ${e.endDate}`,dateSelected:e=>`Vybráno ${e.date}`,finishRangeSelectionPrompt:"Kliknutím dokončíte výběr rozsahu dat",maximumDate:"Poslední dostupné datum",minimumDate:"První dostupné datum",next:"Další",previous:"Předchozí",selectedDateDescription:e=>`Vybrané datum: ${e.date}`,selectedRangeDescription:e=>`Vybrané období: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutím zahájíte výběr rozsahu dat",todayDate:e=>`Dnes, ${e.date}`,todayDateSelected:e=>`Dnes, vybráno ${e.date}`};var sL={};sL={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klik for at fuldføre valg af datoområde",maximumDate:"Sidste ledige dato",minimumDate:"Første ledige dato",next:"Næste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt interval: ${e.dateRange}`,startRangeSelectionPrompt:"Klik for at starte valg af datoområde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var lL={};lL={dateRange:e=>`${e.startDate} bis ${e.endDate}`,dateSelected:e=>`${e.date} ausgewählt`,finishRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beenden",maximumDate:"Letztes verfügbares Datum",minimumDate:"Erstes verfügbares Datum",next:"Weiter",previous:"Zurück",selectedDateDescription:e=>`Ausgewähltes Datum: ${e.date}`,selectedRangeDescription:e=>`Ausgewählter Bereich: ${e.dateRange}`,startRangeSelectionPrompt:"Klicken, um die Auswahl des Datumsbereichs zu beginnen",todayDate:e=>`Heute, ${e.date}`,todayDateSelected:e=>`Heute, ${e.date} ausgewählt`};var cL={};cL={dateRange:e=>`${e.startDate} έως ${e.endDate}`,dateSelected:e=>`Επιλέχθηκε ${e.date}`,finishRangeSelectionPrompt:"Κάντε κλικ για να ολοκληρώσετε την επιλογή εύρους ημερομηνιών",maximumDate:"Τελευταία διαθέσιμη ημερομηνία",minimumDate:"Πρώτη διαθέσιμη ημερομηνία",next:"Επόμενο",previous:"Προηγούμενο",selectedDateDescription:e=>`Επιλεγμένη ημερομηνία: ${e.date}`,selectedRangeDescription:e=>`Επιλεγμένο εύρος: ${e.dateRange}`,startRangeSelectionPrompt:"Κάντε κλικ για να ξεκινήσετε την επιλογή εύρους ημερομηνιών",todayDate:e=>`Σήμερα, ${e.date}`,todayDateSelected:e=>`Σήμερα, επιλέχτηκε ${e.date}`};var uL={};uL={previous:"Previous",next:"Next",selectedDateDescription:e=>`Selected Date: ${e.date}`,selectedRangeDescription:e=>`Selected Range: ${e.dateRange}`,todayDate:e=>`Today, ${e.date}`,todayDateSelected:e=>`Today, ${e.date} selected`,dateSelected:e=>`${e.date} selected`,startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",minimumDate:"First available date",maximumDate:"Last available date",dateRange:e=>`${e.startDate} to ${e.endDate}`};var dL={};dL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} seleccionado`,finishRangeSelectionPrompt:"Haga clic para terminar de seleccionar rango de fechas",maximumDate:"Última fecha disponible",minimumDate:"Primera fecha disponible",next:"Siguiente",previous:"Anterior",selectedDateDescription:e=>`Fecha seleccionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo seleccionado: ${e.dateRange}`,startRangeSelectionPrompt:"Haga clic para comenzar a seleccionar un rango de fechas",todayDate:e=>`Hoy, ${e.date}`,todayDateSelected:e=>`Hoy, ${e.date} seleccionado`};var hL={};hL={dateRange:e=>`${e.startDate} kuni ${e.endDate}`,dateSelected:e=>`${e.date} valitud`,finishRangeSelectionPrompt:"Klõpsake kuupäevavahemiku valimise lõpetamiseks",maximumDate:"Viimane saadaolev kuupäev",minimumDate:"Esimene saadaolev kuupäev",next:"Järgmine",previous:"Eelmine",selectedDateDescription:e=>`Valitud kuupäev: ${e.date}`,selectedRangeDescription:e=>`Valitud vahemik: ${e.dateRange}`,startRangeSelectionPrompt:"Klõpsake kuupäevavahemiku valimiseks",todayDate:e=>`Täna, ${e.date}`,todayDateSelected:e=>`Täna, ${e.date} valitud`};var fL={};fL={dateRange:e=>`${e.startDate} – ${e.endDate}`,dateSelected:e=>`${e.date} valittu`,finishRangeSelectionPrompt:"Lopeta päivämääräalueen valinta napsauttamalla tätä.",maximumDate:"Viimeinen varattavissa oleva päivämäärä",minimumDate:"Ensimmäinen varattavissa oleva päivämäärä",next:"Seuraava",previous:"Edellinen",selectedDateDescription:e=>`Valittu päivämäärä: ${e.date}`,selectedRangeDescription:e=>`Valittu aikaväli: ${e.dateRange}`,startRangeSelectionPrompt:"Aloita päivämääräalueen valinta napsauttamalla tätä.",todayDate:e=>`Tänään, ${e.date}`,todayDateSelected:e=>`Tänään, ${e.date} valittu`};var pL={};pL={dateRange:e=>`${e.startDate} à ${e.endDate}`,dateSelected:e=>`${e.date} sélectionné`,finishRangeSelectionPrompt:"Cliquer pour finir de sélectionner la plage de dates",maximumDate:"Dernière date disponible",minimumDate:"Première date disponible",next:"Suivant",previous:"Précédent",selectedDateDescription:e=>`Date sélectionnée : ${e.date}`,selectedRangeDescription:e=>`Plage sélectionnée : ${e.dateRange}`,startRangeSelectionPrompt:"Cliquer pour commencer à sélectionner la plage de dates",todayDate:e=>`Aujourd'hui, ${e.date}`,todayDateSelected:e=>`Aujourd’hui, ${e.date} sélectionné`};var mL={};mL={dateRange:e=>`${e.startDate} עד ${e.endDate}`,dateSelected:e=>`${e.date} נבחר`,finishRangeSelectionPrompt:"חץ כדי לסיים את בחירת טווח התאריכים",maximumDate:"תאריך פנוי אחרון",minimumDate:"תאריך פנוי ראשון",next:"הבא",previous:"הקודם",selectedDateDescription:e=>`תאריך נבחר: ${e.date}`,selectedRangeDescription:e=>`טווח נבחר: ${e.dateRange}`,startRangeSelectionPrompt:"לחץ כדי להתחיל בבחירת טווח התאריכים",todayDate:e=>`היום, ${e.date}`,todayDateSelected:e=>`היום, ${e.date} נבחר`};var gL={};gL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} odabran`,finishRangeSelectionPrompt:"Kliknite da dovršite raspon odabranih datuma",maximumDate:"Posljednji raspoloživi datum",minimumDate:"Prvi raspoloživi datum",next:"Sljedeći",previous:"Prethodni",selectedDateDescription:e=>`Odabrani datum: ${e.date}`,selectedRangeDescription:e=>`Odabrani raspon: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da započnete raspon odabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, odabran ${e.date}`};var yL={};yL={dateRange:e=>`${e.startDate}–${e.endDate}`,dateSelected:e=>`${e.date} kiválasztva`,finishRangeSelectionPrompt:"Kattintson a dátumtartomány kijelölésének befejezéséhez",maximumDate:"Utolsó elérhető dátum",minimumDate:"Az első elérhető dátum",next:"Következő",previous:"Előző",selectedDateDescription:e=>`Kijelölt dátum: ${e.date}`,selectedRangeDescription:e=>`Kijelölt tartomány: ${e.dateRange}`,startRangeSelectionPrompt:"Kattintson a dátumtartomány kijelölésének indításához",todayDate:e=>`Ma, ${e.date}`,todayDateSelected:e=>`Ma, ${e.date} kijelölve`};var vL={};vL={dateRange:e=>`Da ${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selezionata`,finishRangeSelectionPrompt:"Fai clic per completare la selezione dell’intervallo di date",maximumDate:"Ultima data disponibile",minimumDate:"Prima data disponibile",next:"Successivo",previous:"Precedente",selectedDateDescription:e=>`Data selezionata: ${e.date}`,selectedRangeDescription:e=>`Intervallo selezionato: ${e.dateRange}`,startRangeSelectionPrompt:"Fai clic per selezionare l’intervallo di date",todayDate:e=>`Oggi, ${e.date}`,todayDateSelected:e=>`Oggi, ${e.date} selezionata`};var xL={};xL={dateRange:e=>`${e.startDate} から ${e.endDate}`,dateSelected:e=>`${e.date} を選択`,finishRangeSelectionPrompt:"クリックして日付範囲の選択を終了",maximumDate:"最終利用可能日",minimumDate:"最初の利用可能日",next:"次へ",previous:"前へ",selectedDateDescription:e=>`選択した日付 : ${e.date}`,selectedRangeDescription:e=>`選択範囲 : ${e.dateRange}`,startRangeSelectionPrompt:"クリックして日付範囲の選択を開始",todayDate:e=>`本日、${e.date}`,todayDateSelected:e=>`本日、${e.date} を選択`};var _L={};_L={dateRange:e=>`${e.startDate} ~ ${e.endDate}`,dateSelected:e=>`${e.date} 선택됨`,finishRangeSelectionPrompt:"날짜 범위 선택을 완료하려면 클릭하십시오.",maximumDate:"마지막으로 사용 가능한 일자",minimumDate:"처음으로 사용 가능한 일자",next:"다음",previous:"이전",selectedDateDescription:e=>`선택 일자: ${e.date}`,selectedRangeDescription:e=>`선택 범위: ${e.dateRange}`,startRangeSelectionPrompt:"날짜 범위 선택을 시작하려면 클릭하십시오.",todayDate:e=>`오늘, ${e.date}`,todayDateSelected:e=>`오늘, ${e.date} 선택됨`};var bL={};bL={dateRange:e=>`Nuo ${e.startDate} iki ${e.endDate}`,dateSelected:e=>`Pasirinkta ${e.date}`,finishRangeSelectionPrompt:"Spustelėkite, kad baigtumėte pasirinkti datų intervalą",maximumDate:"Paskutinė galima data",minimumDate:"Pirmoji galima data",next:"Paskesnis",previous:"Ankstesnis",selectedDateDescription:e=>`Pasirinkta data: ${e.date}`,selectedRangeDescription:e=>`Pasirinktas intervalas: ${e.dateRange}`,startRangeSelectionPrompt:"Spustelėkite, kad pradėtumėte pasirinkti datų intervalą",todayDate:e=>`Šiandien, ${e.date}`,todayDateSelected:e=>`Šiandien, pasirinkta ${e.date}`};var wL={};wL={dateRange:e=>`No ${e.startDate} līdz ${e.endDate}`,dateSelected:e=>`Atlasīts: ${e.date}`,finishRangeSelectionPrompt:"Noklikšķiniet, lai pabeigtu datumu diapazona atlasi",maximumDate:"Pēdējais pieejamais datums",minimumDate:"Pirmais pieejamais datums",next:"Tālāk",previous:"Atpakaļ",selectedDateDescription:e=>`Atlasītais datums: ${e.date}`,selectedRangeDescription:e=>`Atlasītais diapazons: ${e.dateRange}`,startRangeSelectionPrompt:"Noklikšķiniet, lai sāktu datumu diapazona atlasi",todayDate:e=>`Šodien, ${e.date}`,todayDateSelected:e=>`Atlasīta šodiena, ${e.date}`};var SL={};SL={dateRange:e=>`${e.startDate} til ${e.endDate}`,dateSelected:e=>`${e.date} valgt`,finishRangeSelectionPrompt:"Klikk for å fullføre valg av datoområde",maximumDate:"Siste tilgjengelige dato",minimumDate:"Første tilgjengelige dato",next:"Neste",previous:"Forrige",selectedDateDescription:e=>`Valgt dato: ${e.date}`,selectedRangeDescription:e=>`Valgt område: ${e.dateRange}`,startRangeSelectionPrompt:"Klikk for å starte valg av datoområde",todayDate:e=>`I dag, ${e.date}`,todayDateSelected:e=>`I dag, ${e.date} valgt`};var PL={};PL={dateRange:e=>`${e.startDate} tot ${e.endDate}`,dateSelected:e=>`${e.date} geselecteerd`,finishRangeSelectionPrompt:"Klik om de selectie van het datumbereik te voltooien",maximumDate:"Laatste beschikbare datum",minimumDate:"Eerste beschikbare datum",next:"Volgende",previous:"Vorige",selectedDateDescription:e=>`Geselecteerde datum: ${e.date}`,selectedRangeDescription:e=>`Geselecteerd bereik: ${e.dateRange}`,startRangeSelectionPrompt:"Klik om het datumbereik te selecteren",todayDate:e=>`Vandaag, ${e.date}`,todayDateSelected:e=>`Vandaag, ${e.date} geselecteerd`};var TL={};TL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`Wybrano ${e.date}`,finishRangeSelectionPrompt:"Kliknij, aby zakończyć wybór zakresu dat",maximumDate:"Ostatnia dostępna data",minimumDate:"Pierwsza dostępna data",next:"Dalej",previous:"Wstecz",selectedDateDescription:e=>`Wybrana data: ${e.date}`,selectedRangeDescription:e=>`Wybrany zakres: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknij, aby rozpocząć wybór zakresu dat",todayDate:e=>`Dzisiaj, ${e.date}`,todayDateSelected:e=>`Dzisiaj wybrano ${e.date}`};var CL={};CL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para concluir a seleção do intervalo de datas",maximumDate:"Última data disponível",minimumDate:"Primeira data disponível",next:"Próximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para iniciar a seleção do intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var EL={};EL={dateRange:e=>`${e.startDate} a ${e.endDate}`,dateSelected:e=>`${e.date} selecionado`,finishRangeSelectionPrompt:"Clique para terminar de selecionar o intervalo de datas",maximumDate:"Última data disponível",minimumDate:"Primeira data disponível",next:"Próximo",previous:"Anterior",selectedDateDescription:e=>`Data selecionada: ${e.date}`,selectedRangeDescription:e=>`Intervalo selecionado: ${e.dateRange}`,startRangeSelectionPrompt:"Clique para começar a selecionar o intervalo de datas",todayDate:e=>`Hoje, ${e.date}`,todayDateSelected:e=>`Hoje, ${e.date} selecionado`};var kL={};kL={dateRange:e=>`De la ${e.startDate} până la ${e.endDate}`,dateSelected:e=>`${e.date} selectată`,finishRangeSelectionPrompt:"Apăsaţi pentru a finaliza selecţia razei pentru dată",maximumDate:"Ultima dată disponibilă",minimumDate:"Prima dată disponibilă",next:"Următorul",previous:"Înainte",selectedDateDescription:e=>`Dată selectată: ${e.date}`,selectedRangeDescription:e=>`Interval selectat: ${e.dateRange}`,startRangeSelectionPrompt:"Apăsaţi pentru a începe selecţia razei pentru dată",todayDate:e=>`Astăzi, ${e.date}`,todayDateSelected:e=>`Azi, ${e.date} selectată`};var AL={};AL={dateRange:e=>`С ${e.startDate} по ${e.endDate}`,dateSelected:e=>`Выбрано ${e.date}`,finishRangeSelectionPrompt:"Щелкните, чтобы завершить выбор диапазона дат",maximumDate:"Последняя доступная дата",minimumDate:"Первая доступная дата",next:"Далее",previous:"Назад",selectedDateDescription:e=>`Выбранная дата: ${e.date}`,selectedRangeDescription:e=>`Выбранный диапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Щелкните, чтобы начать выбор диапазона дат",todayDate:e=>`Сегодня, ${e.date}`,todayDateSelected:e=>`Сегодня, выбрано ${e.date}`};var IL={};IL={dateRange:e=>`Od ${e.startDate} do ${e.endDate}`,dateSelected:e=>`Vybratý dátum ${e.date}`,finishRangeSelectionPrompt:"Kliknutím dokončíte výber rozsahu dátumov",maximumDate:"Posledný dostupný dátum",minimumDate:"Prvý dostupný dátum",next:"Nasledujúce",previous:"Predchádzajúce",selectedDateDescription:e=>`Vybratý dátum: ${e.date}`,selectedRangeDescription:e=>`Vybratý rozsah: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknutím spustíte výber rozsahu dátumov",todayDate:e=>`Dnes ${e.date}`,todayDateSelected:e=>`Vybratý dnešný dátum ${e.date}`};var ML={};ML={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izbrano`,finishRangeSelectionPrompt:"Kliknite za dokončanje izbire datumskega obsega",maximumDate:"Zadnji razpoložljivi datum",minimumDate:"Prvi razpoložljivi datum",next:"Naprej",previous:"Nazaj",selectedDateDescription:e=>`Izbrani datum: ${e.date}`,selectedRangeDescription:e=>`Izbrano območje: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite za začetek izbire datumskega obsega",todayDate:e=>`Danes, ${e.date}`,todayDateSelected:e=>`Danes, ${e.date} izbrano`};var DL={};DL={dateRange:e=>`${e.startDate} do ${e.endDate}`,dateSelected:e=>`${e.date} izabran`,finishRangeSelectionPrompt:"Kliknite da dovršite opseg izabranih datuma",maximumDate:"Zadnji raspoloživi datum",minimumDate:"Prvi raspoloživi datum",next:"Sledeći",previous:"Prethodni",selectedDateDescription:e=>`Izabrani datum: ${e.date}`,selectedRangeDescription:e=>`Izabrani period: ${e.dateRange}`,startRangeSelectionPrompt:"Kliknite da započnete opseg izabranih datuma",todayDate:e=>`Danas, ${e.date}`,todayDateSelected:e=>`Danas, izabran ${e.date}`};var $L={};$L={dateRange:e=>`${e.startDate} till ${e.endDate}`,dateSelected:e=>`${e.date} har valts`,finishRangeSelectionPrompt:"Klicka för att avsluta val av datumintervall",maximumDate:"Sista tillgängliga datum",minimumDate:"Första tillgängliga datum",next:"Nästa",previous:"Föregående",selectedDateDescription:e=>`Valt datum: ${e.date}`,selectedRangeDescription:e=>`Valt intervall: ${e.dateRange}`,startRangeSelectionPrompt:"Klicka för att välja datumintervall",todayDate:e=>`Idag, ${e.date}`,todayDateSelected:e=>`Idag, ${e.date} har valts`};var RL={};RL={dateRange:e=>`${e.startDate} - ${e.endDate}`,dateSelected:e=>`${e.date} seçildi`,finishRangeSelectionPrompt:"Tarih aralığı seçimini tamamlamak için tıklayın",maximumDate:"Son müsait tarih",minimumDate:"İlk müsait tarih",next:"Sonraki",previous:"Önceki",selectedDateDescription:e=>`Seçilen Tarih: ${e.date}`,selectedRangeDescription:e=>`Seçilen Aralık: ${e.dateRange}`,startRangeSelectionPrompt:"Tarih aralığı seçimini başlatmak için tıklayın",todayDate:e=>`Bugün, ${e.date}`,todayDateSelected:e=>`Bugün, ${e.date} seçildi`};var LL={};LL={dateRange:e=>`${e.startDate} — ${e.endDate}`,dateSelected:e=>`Вибрано ${e.date}`,finishRangeSelectionPrompt:"Натисніть, щоб завершити вибір діапазону дат",maximumDate:"Остання доступна дата",minimumDate:"Перша доступна дата",next:"Наступний",previous:"Попередній",selectedDateDescription:e=>`Вибрана дата: ${e.date}`,selectedRangeDescription:e=>`Вибраний діапазон: ${e.dateRange}`,startRangeSelectionPrompt:"Натисніть, щоб почати вибір діапазону дат",todayDate:e=>`Сьогодні, ${e.date}`,todayDateSelected:e=>`Сьогодні, вибрано ${e.date}`};var zL={};zL={dateRange:e=>`${e.startDate} 至 ${e.endDate}`,dateSelected:e=>`已选择 ${e.date}`,finishRangeSelectionPrompt:"单击以完成选择日期范围",maximumDate:"最后一个可用日期",minimumDate:"第一个可用日期",next:"下一页",previous:"上一页",selectedDateDescription:e=>`选定的日期：${e.date}`,selectedRangeDescription:e=>`选定的范围：${e.dateRange}`,startRangeSelectionPrompt:"单击以开始选择日期范围",todayDate:e=>`今天，即 ${e.date}`,todayDateSelected:e=>`已选择今天，即 ${e.date}`};var FL={};FL={dateRange:e=>`${e.startDate} 至 ${e.endDate}`,dateSelected:e=>`已選取 ${e.date}`,finishRangeSelectionPrompt:"按一下以完成選取日期範圍",maximumDate:"最後一個可用日期",minimumDate:"第一個可用日期",next:"下一頁",previous:"上一頁",selectedDateDescription:e=>`選定的日期：${e.date}`,selectedRangeDescription:e=>`選定的範圍：${e.dateRange}`,startRangeSelectionPrompt:"按一下以開始選取日期範圍",todayDate:e=>`今天，${e.date}`,todayDateSelected:e=>`已選取今天，${e.date}`};bm={"ar-AE":iL,"bg-BG":aL,"cs-CZ":oL,"da-DK":sL,"de-DE":lL,"el-GR":cL,"en-US":uL,"es-ES":dL,"et-EE":hL,"fi-FI":fL,"fr-FR":pL,"he-IL":mL,"hr-HR":gL,"hu-HU":yL,"it-IT":vL,"ja-JP":xL,"ko-KR":_L,"lt-LT":bL,"lv-LV":wL,"nb-NO":SL,"nl-NL":PL,"pl-PL":TL,"pt-BR":CL,"pt-PT":EL,"ro-RO":kL,"ru-RU":AL,"sk-SK":IL,"sl-SI":ML,"sr-SP":DL,"sv-SE":$L,"tr-TR":RL,"uk-UA":LL,"zh-CN":zL,"zh-TW":FL};const FS=new WeakMap;function tm(e){return(e==null?void 0:e.calendar.identifier)==="gregory"&&e.era==="BC"?"short":void 0}function Qq(e){let t=gh(M0(bm)),r,n;"highlightedRange"in e?{start:r,end:n}=e.highlightedRange||{}:r=n=e.value;let s=Ts({weekday:"long",month:"long",year:"numeric",day:"numeric",era:tm(r)||tm(n),timeZone:e.timeZone}),h="anchorDate"in e?e.anchorDate:null;return z.useMemo(()=>{if(!h&&r&&n)if(_n(r,n)){let d=s.format(r.toDate(e.timeZone));return t.format("selectedDateDescription",{date:d})}else{let d=pw(s,t,r,n,e.timeZone);return t.format("selectedRangeDescription",{dateRange:d})}return""},[r,n,h,e.timeZone,t,s])}function fw(e,t,r,n){let s=gh(M0(bm)),h=tm(e)||tm(t),d=Ts({month:"long",year:"numeric",era:h,calendar:e.calendar.identifier,timeZone:r}),c=Ts({month:"long",year:"numeric",day:"numeric",era:h,calendar:e.calendar.identifier,timeZone:r});return z.useMemo(()=>{if(_n(e,Xc(e))){if(_n(t,yv(e)))return d.format(e.toDate(r));if(_n(t,yv(t)))return n?pw(d,s,e,t,r):d.formatRange(e.toDate(r),t.toDate(r))}return n?pw(c,s,e,t,r):c.formatRange(e.toDate(r),t.toDate(r))},[e,t,d,c,s,r,n])}function pw(e,t,r,n,s){let h=e.formatRangeToParts(r.toDate(s),n.toDate(s)),d=-1;for(let w=0;w<h.length;w++){let S=h[w];if(S.source==="shared"&&S.type==="literal")d=w;else if(S.source==="endRange")break}let c="",v="";for(let w=0;w<h.length;w++)w<d?c+=h[w].value:w>d&&(v+=h[w].value);return t.format("dateRange",{startDate:c,endDate:v})}function BL(e,t){let r=gh(M0(bm)),n=mh(e),s=fw(t.visibleRange.start,t.visibleRange.end,t.timeZone,!1),h=fw(t.visibleRange.start,t.visibleRange.end,t.timeZone,!0);CE(()=>{t.isFocused||DA(h)},[h]);let d=Qq(t);CE(()=>{d&&DA(d,"polite",4e3)},[d]);let c=Sp([!!e.errorMessage,e.isInvalid,e.validationState]);FS.set(t,{ariaLabel:e["aria-label"],ariaLabelledBy:e["aria-labelledby"],errorMessageId:c,selectedDateDescription:d});let[v,w]=z.useState(!1),S=e.isDisabled||t.isNextVisibleRangeInvalid();S&&v&&(w(!1),t.setFocused(!0));let[T,C]=z.useState(!1),D=e.isDisabled||t.isPreviousVisibleRangeInvalid();D&&T&&(C(!1),t.setFocused(!0));let B=G2({id:e.id,"aria-label":[e["aria-label"],h].filter(Boolean).join(", "),"aria-labelledby":e["aria-labelledby"]});return{calendarProps:Ut(n,B,{role:"application","aria-describedby":e["aria-describedby"]||void 0}),nextButtonProps:{onPress:()=>t.focusNextPage(),"aria-label":r.format("next"),isDisabled:S,onFocusChange:w},prevButtonProps:{onPress:()=>t.focusPreviousPage(),"aria-label":r.format("previous"),isDisabled:D,onFocusChange:C},errorMessageProps:{id:c},title:s}}function eZ(e,t){return BL(e,t)}function tZ(e,t,r){let n=BL(e,t),s=z.useRef(!1),h=z.useRef(typeof window<"u"?window:null);sp(h,"pointerdown",c=>{s.current=c.width===0&&c.height===0});let d=c=>{if(s.current){s.current=!1;return}if(t.setDragging(!1),!t.anchorDate)return;let v=c.target,w=document.getElementById(n.calendarProps.id);w&&w.contains(document.activeElement)&&(!w.contains(v)||!v.closest('button, [role="button"]'))&&t.selectFocusedDate()};return sp(h,"pointerup",d),sp(h,"pointercancel",d),n.calendarProps.onBlur=c=>{(!c.relatedTarget||!r.current.contains(c.relatedTarget))&&t.anchorDate&&t.selectFocusedDate()},sp(r,"touchmove",c=>{t.isDragging&&c.preventDefault()},{passive:!1,capture:!0}),n}function rZ(e,t){let{startDate:r=t.visibleRange.start,endDate:n=t.visibleRange.end}=e,{direction:s}=uo(),h=D=>{switch(D.key){case"Enter":case" ":D.preventDefault(),t.selectFocusedDate();break;case"PageUp":D.preventDefault(),D.stopPropagation(),t.focusPreviousSection(D.shiftKey);break;case"PageDown":D.preventDefault(),D.stopPropagation(),t.focusNextSection(D.shiftKey);break;case"End":D.preventDefault(),D.stopPropagation(),t.focusSectionEnd();break;case"Home":D.preventDefault(),D.stopPropagation(),t.focusSectionStart();break;case"ArrowLeft":D.preventDefault(),D.stopPropagation(),s==="rtl"?t.focusNextDay():t.focusPreviousDay();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),t.focusPreviousRow();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),s==="rtl"?t.focusPreviousDay():t.focusNextDay();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),t.focusNextRow();break;case"Escape":"setAnchorDate"in t&&(D.preventDefault(),t.setAnchorDate(null));break}},d=fw(r,n,t.timeZone,!0),{ariaLabel:c,ariaLabelledBy:v}=FS.get(t),w=G2({"aria-label":[c,d].filter(Boolean).join(", "),"aria-labelledby":v}),S=Ts({weekday:e.weekdayStyle||"narrow",timeZone:t.timeZone}),{locale:T}=uo(),C=z.useMemo(()=>{let D=qp(z2(t.timeZone),T);return[...new Array(7).keys()].map(B=>{let Y=D.add({days:B}).toDate(t.timeZone);return S.format(Y)})},[T,t.timeZone,S]);return{gridProps:Ut(w,{role:"grid","aria-readonly":t.isReadOnly||null,"aria-disabled":t.isDisabled||null,"aria-multiselectable":"highlightedRange"in t||void 0,onKeyDown:h,onFocus:()=>t.setFocused(!0),onBlur:()=>t.setFocused(!1)}),headerProps:{"aria-hidden":!0},weekDays:C}}function nZ(e,t,r){let{date:n,isDisabled:s}=e,{errorMessageId:h,selectedDateDescription:d}=FS.get(t),c=gh(M0(bm)),v=Ts({weekday:"long",day:"numeric",month:"long",year:"numeric",era:tm(n),timeZone:t.timeZone}),w=t.isSelected(n),S=t.isCellFocused(n);s=s||t.isCellDisabled(n);let T=t.isCellUnavailable(n),C=!s&&!T,D=t.isValueInvalid&&("highlightedRange"in t?!t.anchorDate&&t.highlightedRange&&n.compare(t.highlightedRange.start)>=0&&n.compare(t.highlightedRange.end)<=0:t.value&&_n(t.value,n));D&&(w=!0),n=j3(n,wb);let B=z.useMemo(()=>n.toDate(t.timeZone),[n,t.timeZone]),j=i3(n,t.timeZone),Y=z.useMemo(()=>{let le="";return"highlightedRange"in t&&t.value&&!t.anchorDate&&(_n(n,t.value.start)||_n(n,t.value.end))&&(le=d+", "),le+=v.format(B),j?le=c.format(w?"todayDateSelected":"todayDate",{date:le}):w&&(le=c.format("dateSelected",{date:le})),t.minValue&&_n(n,t.minValue)?le+=", "+c.format("minimumDate"):t.maxValue&&_n(n,t.maxValue)&&(le+=", "+c.format("maximumDate")),le},[v,B,c,w,j,n,t,d]),V="";"anchorDate"in t&&S&&!t.isReadOnly&&C&&(t.anchorDate?V=c.format("finishRangeSelectionPrompt"):V=c.format("startRangeSelectionPrompt"));let F=N3(V),N=z.useRef(!1),ee=z.useRef(!1),ie=z.useRef(null),{pressProps:fe,isPressed:be}=yh({shouldCancelOnPointerExit:"anchorDate"in t&&!!t.anchorDate,preventFocusOnPress:!0,isDisabled:!C||t.isReadOnly,onPressStart(le){if(t.isReadOnly){t.setFocusedDate(n);return}if("highlightedRange"in t&&!t.anchorDate&&(le.pointerType==="mouse"||le.pointerType==="touch")){if(t.highlightedRange&&!D){if(_n(n,t.highlightedRange.start)){t.setAnchorDate(t.highlightedRange.end),t.setFocusedDate(n),t.setDragging(!0),ee.current=!0;return}else if(_n(n,t.highlightedRange.end)){t.setAnchorDate(t.highlightedRange.start),t.setFocusedDate(n),t.setDragging(!0),ee.current=!0;return}}let Se=()=>{t.setDragging(!0),ie.current=null,t.selectDate(n),t.setFocusedDate(n),N.current=!0};le.pointerType==="touch"?ie.current=setTimeout(Se,200):Se()}},onPressEnd(){ee.current=!1,N.current=!1,clearTimeout(ie.current),ie.current=null},onPress(){!("anchorDate"in t)&&!t.isReadOnly&&(t.selectDate(n),t.setFocusedDate(n))},onPressUp(le){if(!t.isReadOnly&&("anchorDate"in t&&ie.current&&(t.selectDate(n),t.setFocusedDate(n)),"anchorDate"in t))if(ee.current)t.setAnchorDate(n);else if(t.anchorDate&&!N.current)t.selectDate(n),t.setFocusedDate(n);else if(le.pointerType==="keyboard"&&!t.anchorDate){t.selectDate(n);let Se=n.add({days:1});t.isInvalid(Se)&&(Se=n.subtract({days:1})),t.isInvalid(Se)||t.setFocusedDate(Se)}else le.pointerType==="virtual"&&(t.selectDate(n),t.setFocusedDate(n))}}),q=null;s||(q=_n(n,t.focusedDate)?0:-1),z.useEffect(()=>{S&&r.current&&(Io(r.current),kv()!=="pointer"&&document.activeElement===r.current&&Db(r.current,{containingElement:Mb(r.current)}))},[S,r]);let pe=Ts({day:"numeric",timeZone:t.timeZone,calendar:n.calendar.identifier}),xe=z.useMemo(()=>pe.formatToParts(B).find(le=>le.type==="day").value,[pe,B]);return{cellProps:{role:"gridcell","aria-disabled":!C||null,"aria-selected":w||null,"aria-invalid":D||null},buttonProps:Ut(fe,{onFocus(){s||t.setFocusedDate(n)},tabIndex:q,role:"button","aria-disabled":!C||null,"aria-label":Y,"aria-invalid":D||null,"aria-describedby":[D?h:null,F["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(le){"highlightDate"in t&&(le.pointerType!=="touch"||t.isDragging)&&C&&t.highlightDate(n)},onPointerDown(le){"releasePointerCapture"in le.target&&le.target.releasePointerCapture(le.pointerId)},onContextMenu(le){le.preventDefault()}}),isPressed:be,isFocused:S,isSelected:w,isDisabled:s,isUnavailable:T,isOutsideVisibleRange:n.compare(t.visibleRange.start)<0||n.compare(t.visibleRange.end)>0,isInvalid:D,formattedDate:xe}}function Kd(e,t,r){return t!=null&&e.compare(t)<0||r!=null&&e.compare(r)>0}function mw(e,t,r,n,s){let h={};for(let c in t)h[c]=Math.floor(t[c]/2),h[c]>0&&t[c]%2===0&&h[c]--;let d=Fc(e,t,r).subtract(h);return rm(e,d,t,r,n,s)}function Fc(e,t,r,n,s){let h=e;return t.years?h=vv(e):t.months?h=Xc(e):t.weeks&&(h=qp(e,r)),rm(e,h,t,r,n,s)}function gw(e,t,r,n,s){let h={...t};t.days?h.days--:t.weeks?h.weeks--:t.months?h.months--:t.years&&h.years--;let d=Fc(e,t,r).subtract(h);return rm(e,d,t,r,n,s)}function rm(e,t,r,n,s,h){return s&&e.compare(s)>=0&&(t=B2(t,Fc(lo(s),r,n))),h&&e.compare(h)<=0&&(t=F2(t,gw(lo(h),r,n))),t}function cl(e,t,r){return t&&(e=B2(e,lo(t))),r&&(e=F2(e,lo(r))),e}function NL(e,t,r){if(!r)return e;for(;e.compare(t)>=0&&r(e);)e=e.subtract({days:1});if(e.compare(t)>=0)return e}function OL(e){let t=z.useMemo(()=>new C3(e.locale),[e.locale]),r=z.useMemo(()=>t.resolvedOptions(),[t]),{locale:n,createCalendar:s,visibleDuration:h={months:1},minValue:d,maxValue:c,selectionAlignment:v,isDateUnavailable:w,pageBehavior:S="visible"}=e,T=z.useMemo(()=>s(r.calendar),[s,r.calendar]),[C,D]=Ss(e.value,e.defaultValue,e.onChange),B=z.useMemo(()=>C?En(lo(C),T):null,[C,T]),j=z.useMemo(()=>C&&"timeZone"in C?C.timeZone:r.timeZone,[C,r.timeZone]),Y=z.useMemo(()=>e.focusedValue?cl(En(lo(e.focusedValue),T),d,c):void 0,[e.focusedValue,T,d,c]),V=z.useMemo(()=>cl(e.defaultFocusedValue?En(lo(e.defaultFocusedValue),T):B||En(z2(j),T),d,c),[e.defaultFocusedValue,B,j,T,d,c]),[F,N]=Ss(Y,V,e.onFocusChange),[ee,ie]=z.useState(()=>{switch(v){case"start":return Fc(F,h,n,d,c);case"end":return gw(F,h,n,d,c);case"center":default:return mw(F,h,n,d,c)}}),[fe,be]=z.useState(e.autoFocus||!1),q=z.useMemo(()=>{let ae={...h};return ae.days?ae.days--:ae.days=-1,ee.add(ae)},[ee,h]),[pe,xe]=z.useState(T.identifier);if(T.identifier!==pe){let ae=En(F,T);ie(mw(ae,h,n,d,c)),N(ae),xe(T.identifier)}Kd(F,d,c)?N(cl(F,d,c)):F.compare(ee)<0?ie(gw(F,h,n,d,c)):F.compare(q)>0&&ie(Fc(F,h,n,d,c));function le(ae){ae=cl(ae,d,c),N(ae)}function Se(ae){if(!e.isDisabled&&!e.isReadOnly){if(ae=cl(ae,d,c),ae=NL(ae,ee,w),!ae)return;ae=En(ae,(C==null?void 0:C.calendar)||new ma),C&&"hour"in C?D(C.set(ae)):D(ae)}}let ge=z.useMemo(()=>B?w&&w(B)?!0:Kd(B,d,c):!1,[B,w,d,c]),ye=e.isInvalid||e.validationState==="invalid"||ge,Be=ye?"invalid":null,Re=z.useMemo(()=>S==="visible"?h:f_(h),[S,h]);return{isDisabled:e.isDisabled,isReadOnly:e.isReadOnly,value:B,setValue:Se,visibleRange:{start:ee,end:q},minValue:d,maxValue:c,focusedDate:F,timeZone:j,validationState:Be,isValueInvalid:ye,setFocusedDate(ae){le(ae),be(!0)},focusNextDay(){le(F.add({days:1}))},focusPreviousDay(){le(F.subtract({days:1}))},focusNextRow(){h.days?this.focusNextPage():(h.weeks||h.months||h.years)&&le(F.add({weeks:1}))},focusPreviousRow(){h.days?this.focusPreviousPage():(h.weeks||h.months||h.years)&&le(F.subtract({weeks:1}))},focusNextPage(){let ae=ee.add(Re);N(cl(F.add(Re),d,c)),ie(Fc(rm(F,ae,Re,n,d,c),Re,n))},focusPreviousPage(){let ae=ee.subtract(Re);N(cl(F.subtract(Re),d,c)),ie(Fc(rm(F,ae,Re,n,d,c),Re,n))},focusSectionStart(){h.days?le(ee):h.weeks?le(qp(F,n)):(h.months||h.years)&&le(Xc(F))},focusSectionEnd(){h.days?le(q):h.weeks?le(pj(F,n)):(h.months||h.years)&&le(yv(F))},focusNextSection(ae){if(!ae&&!h.days){le(F.add(f_(h)));return}h.days?this.focusNextPage():h.weeks?le(F.add({months:1})):(h.months||h.years)&&le(F.add({years:1}))},focusPreviousSection(ae){if(!ae&&!h.days){le(F.subtract(f_(h)));return}h.days?this.focusPreviousPage():h.weeks?le(F.subtract({months:1})):(h.months||h.years)&&le(F.subtract({years:1}))},selectFocusedDate(){Se(F)},selectDate(ae){Se(ae)},isFocused:fe,setFocused:be,isInvalid(ae){return Kd(ae,d,c)},isSelected(ae){return B!=null&&_n(ae,B)&&!this.isCellDisabled(ae)&&!this.isCellUnavailable(ae)},isCellFocused(ae){return fe&&F&&_n(ae,F)},isCellDisabled(ae){return e.isDisabled||ae.compare(ee)<0||ae.compare(q)>0||this.isInvalid(ae,d,c)},isCellUnavailable(ae){return e.isDateUnavailable&&e.isDateUnavailable(ae)},isPreviousVisibleRangeInvalid(){let ae=ee.subtract({days:1});return _n(ae,ee)||this.isInvalid(ae,d,c)},isNextVisibleRangeInvalid(){let ae=q.add({days:1});return _n(ae,q)||this.isInvalid(ae,d,c)},getDatesInWeek(ae,De=ee){let je=De.add({weeks:ae}),Oe=[];je=qp(je,n);let se=x0(je,n);for(let ze=0;ze<se;ze++)Oe.push(null);for(;Oe.length<7;){Oe.push(je);let ze=je.add({days:1});if(_n(je,ze))break;je=ze}for(;Oe.length<7;)Oe.push(null);return Oe}}}function f_(e){let t={...e};for(let r in e)t[r]=1;return t}function iZ(e){let{value:t,defaultValue:r,onChange:n,createCalendar:s,locale:h,visibleDuration:d={months:1},minValue:c,maxValue:v,...w}=e,[S,T]=Ss(t,r||null,n),[C,D]=z.useState(null),B="center";if(S&&S.start&&S.end){let De=mw(lo(S.start),d,h,c,v).add(d).subtract({days:1});S.end.compare(De)>0&&(B="start")}let j=z.useRef(null),[Y,V]=z.useState(null),F=z.useMemo(()=>B2(c,Y==null?void 0:Y.start),[c,Y]),N=z.useMemo(()=>F2(v,Y==null?void 0:Y.end),[v,Y]),ee=OL({...w,value:S&&S.start,createCalendar:s,locale:h,visibleDuration:d,minValue:F,maxValue:N,selectionAlignment:B}),ie=ae=>{ae&&e.isDateUnavailable&&!e.allowsNonContiguousRanges?(j.current={start:RA(ae,ee,-1),end:RA(ae,ee,1)},V(j.current)):(j.current=null,V(null))},[fe,be]=z.useState(ee.visibleRange);(!wb(ee.visibleRange.start,fe.start)||!wb(ee.visibleRange.end,fe.end))&&(ie(C),be(ee.visibleRange));let q=ae=>{ae?(D(ae),ie(ae)):(D(null),ie(null))},pe=C?p_(C,ee.focusedDate):S&&p_(S.start,S.end),xe=ae=>{if(!e.isReadOnly&&(ae=cl(ae,F,N),ae=NL(ae,ee.visibleRange.start,e.isDateUnavailable),!!ae))if(!C)q(ae);else{let De=p_(C,ae);T({start:$A(De.start,S==null?void 0:S.start),end:$A(De.end,S==null?void 0:S.end)}),q(null)}},[le,Se]=z.useState(!1),{isDateUnavailable:ge}=e,ye=z.useMemo(()=>!S||C?!1:ge&&(ge(S.start)||ge(S.end))?!0:Kd(S.start,c,v)||Kd(S.end,c,v),[ge,S,C,c,v]),Be=e.isInvalid||e.validationState==="invalid"||ye;return{...ee,value:S,setValue:T,anchorDate:C,setAnchorDate:q,highlightedRange:pe,validationState:Be?"invalid":null,isValueInvalid:Be,selectFocusedDate(){xe(ee.focusedDate)},selectDate:xe,highlightDate(ae){C&&ee.setFocusedDate(ae)},isSelected(ae){return pe&&ae.compare(pe.start)>=0&&ae.compare(pe.end)<=0&&!ee.isCellDisabled(ae)&&!ee.isCellUnavailable(ae)},isInvalid(ae){var De,je;return ee.isInvalid(ae)||Kd(ae,(De=j.current)===null||De===void 0?void 0:De.start,(je=j.current)===null||je===void 0?void 0:je.end)},isDragging:le,setDragging:Se}}function p_(e,t){return!e||!t?null:(t.compare(e)<0&&([e,t]=[t,e]),{start:lo(e),end:lo(t)})}function $A(e,t){return e=En(e,(t==null?void 0:t.calendar)||new ma),t&&"hour"in t?t.set(e):e}function RA(e,t,r){let n=e.add({days:r});for(;(r<0?n.compare(t.visibleRange.start)>=0:n.compare(t.visibleRange.end)<=0)&&!t.isCellUnavailable(n);)n=n.add({days:r});return t.isCellUnavailable(n)?n.add({days:-r}):null}function aZ({buttonPickerProps:e,className:t,...r}){var n;const{Component:s,slots:h,children:d,domRef:c,locale:v,minValue:w,maxValue:S,showHelper:T,weekdayStyle:C,visibleDuration:D,baseProps:B,shouldFilterDOMProps:j,isHeaderExpanded:Y,visibleMonths:V,createCalendar:F,showMonthAndYearPickers:N,getPrevButtonProps:ee,getNextButtonProps:ie,getErrorMessageProps:fe,setIsHeaderExpanded:be,topContent:q,bottomContent:pe,errorMessage:xe,classNames:le,otherProps:Se}=nL(r),ge=z.useRef(null),ye=OL({...r,locale:v,minValue:w,maxValue:S,visibleDuration:D,createCalendar:!F||typeof F!="function"?T3:F}),{title:Be,calendarProps:Re,prevButtonProps:ae,nextButtonProps:De,errorMessageProps:je}=eZ(r,ye),Oe=ur(le==null?void 0:le.base,t),se=(n=r.disableAnimation)!=null?n:!1,ze={...e,onPress:Ps(e==null?void 0:e.onPress,()=>be(!Y))},Ze=(mt={})=>({...B,Component:s,showHelper:T,topContent:q,bottomContent:pe,buttonPickerProps:ze,calendarRef:c,calendarProps:Re,prevButtonProps:ee(ae),nextButtonProps:ie(De),errorMessageProps:fe(je),className:h.base({class:Oe}),errorMessage:xe,...Lo(Se,{enabled:j}),...mt}),lt=z.useMemo(()=>({state:ye,slots:h,headerRef:ge,weekdayStyle:C,isHeaderExpanded:Y,setIsHeaderExpanded:be,visibleMonths:V,classNames:le,showMonthAndYearPickers:N,disableAnimation:se}),[ye,h,le,C,Y,be,V,se,N]);return{Component:s,children:d,domRef:c,context:lt,state:ye,slots:h,title:Be,classNames:le,getBaseCalendarProps:Ze}}var LA=e=>L.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 16 16",width:"1em",...e,children:L.jsx("path",{d:"M10 3.33334L6 8.00001L10 12.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),zA=e=>L.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 16 16",width:"1em",...e,children:L.jsx("path",{d:"M6 3.33334L10 8.00001L6 12.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),oZ=e=>L.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...e,children:L.jsx("path",{d:"M19 9L12 15L5 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),BS=Object.defineProperty,sZ=Object.getOwnPropertyDescriptor,jL=Object.getOwnPropertyNames,lZ=Object.prototype.hasOwnProperty,VL=(e,t)=>function(){return e&&(t=(0,e[jL(e)[0]])(e=0)),t},cZ=(e,t)=>{for(var r in t)BS(e,r,{get:t[r],enumerable:!0})},uZ=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jL(t))!lZ.call(e,s)&&s!==r&&BS(e,s,{get:()=>t[s],enumerable:!(n=sZ(t,s))||n.enumerable});return e},dZ=e=>uZ(BS({},"__esModule",{value:!0}),e);function hZ(e){var t={};return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var UL,fZ=VL({"../../../node_modules/.pnpm/@emotion+memoize@0.7.4/node_modules/@emotion/memoize/dist/memoize.esm.js"(){UL=hZ}}),KL={};cZ(KL,{default:()=>HL});var FA,BA,HL,pZ=VL({"../../../node_modules/.pnpm/@emotion+is-prop-valid@0.8.8/node_modules/@emotion/is-prop-valid/dist/is-prop-valid.esm.js"(){fZ(),FA=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BA=UL(function(e){return FA.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),HL=BA}}),Vv=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),D0=z.createContext({}),NS=z.createContext(null),$0=typeof document<"u",OS=$0?z.useLayoutEffect:z.useEffect,jS=z.createContext({strict:!1}),VS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),mZ="framerAppearId",WL="data-"+VS(mZ);function gZ(e,t,r,n){const{visualElement:s}=z.useContext(D0),h=z.useContext(jS),d=z.useContext(NS),c=z.useContext(Vv).reducedMotion,v=z.useRef();n=n||h.renderer,!v.current&&n&&(v.current=n(e,{visualState:t,parent:s,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:c}));const w=v.current;z.useInsertionEffect(()=>{w&&w.update(r,d)});const S=z.useRef(!!(r[WL]&&!window.HandoffComplete));return OS(()=>{w&&(w.render(),S.current&&w.animationState&&w.animationState.animateChanges())}),z.useEffect(()=>{w&&(w.updateFeatures(),!S.current&&w.animationState&&w.animationState.animateChanges(),S.current&&(S.current=!1,window.HandoffComplete=!0))}),w}function GL(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yZ(e,t,r){return z.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):GL(r)&&(r.current=n))},[t])}function nm(e){return typeof e=="string"||Array.isArray(e)}function R0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}var US=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],KS=["initial",...US];function L0(e){return R0(e.animate)||KS.some(t=>nm(e[t]))}function qL(e){return!!(L0(e)||e.variants)}function vZ(e,t){if(L0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||nm(r)?r:void 0,animate:nm(n)?n:void 0}}return e.inherit!==!1?t:{}}function xZ(e){const{initial:t,animate:r}=vZ(e,z.useContext(D0));return z.useMemo(()=>({initial:t,animate:r}),[NA(t),NA(r)])}function NA(e){return Array.isArray(e)?e.join(" "):e}var OA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const e in OA)im[e]={isEnabled:t=>OA[e].some(r=>!!t[r])};function yw(e){for(const t in e)im[t]={...im[t],...e[t]}}var ZL=z.createContext({}),_Z=z.createContext({}),bZ=Symbol.for("motionComponentSymbol");function wZ({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&yw(e);function h(c,v){let w;const S={...z.useContext(Vv),...c,layoutId:SZ(c)},{isStatic:T}=S,C=xZ(c),D=n(c,T);if(!T&&$0){C.visualElement=gZ(s,D,S,t);const B=z.useContext(_Z),j=z.useContext(jS).strict;C.visualElement&&(w=C.visualElement.loadFeatures(S,j,e,B))}return z.createElement(D0.Provider,{value:C},w&&C.visualElement?z.createElement(w,{visualElement:C.visualElement,...S}):null,r(s,c,yZ(D,C.visualElement,v),D,T,C.visualElement))}const d=z.forwardRef(h);return d[bZ]=s,d}function SZ({layoutId:e}){const t=z.useContext(ZL).id;return t&&e!==void 0?t+"-"+e:e}function PZ(e){function t(n,s={}){return wZ(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}var TZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HS(e){return typeof e!="string"||e.includes("-")?!1:!!(TZ.indexOf(e)>-1||/[A-Z]/.test(e))}var CZ={},wm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],su=new Set(wm);function YL(e,{layout:t,layoutId:r}){return su.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!CZ[e]||e==="opacity")}var ya=e=>!!(e&&e.getVelocity),EZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kZ=wm.length;function AZ(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let h="";for(let d=0;d<kZ;d++){const c=wm[d];if(e[c]!==void 0){const v=EZ[c]||c;h+=`${v}(${e[c]}) `}}return t&&!e.z&&(h+="translateZ(0)"),h=h.trim(),s?h=s(e,n?"":h):r&&n&&(h="none"),h}var XL=e=>t=>typeof t=="string"&&t.startsWith(e),JL=XL("--"),vw=XL("var(--"),IZ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MZ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,uh=(e,t,r)=>Math.min(Math.max(r,e),t),lu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ap={...lu,transform:e=>uh(0,1,e)},my={...lu,default:1},Ip=e=>Math.round(e*1e5)/1e5,z0=/(-)?([\d]*\.?[\d])+/g,QL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DZ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Sm(e){return typeof e=="string"}var Pm=e=>({test:t=>Sm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ul=Pm("deg"),Hd=Pm("%"),Vt=Pm("px"),$Z=Pm("vh"),RZ=Pm("vw"),jA={...Hd,parse:e=>Hd.parse(e)/100,transform:e=>Hd.transform(e*100)},VA={...lu,transform:Math.round},e6={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,size:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,rotate:ul,rotateX:ul,rotateY:ul,rotateZ:ul,scale:my,scaleX:my,scaleY:my,scaleZ:my,skew:ul,skewX:ul,skewY:ul,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:Ap,originX:jA,originY:jA,originZ:Vt,zIndex:VA,fillOpacity:Ap,strokeOpacity:Ap,numOctaves:VA};function WS(e,t,r,n){const{style:s,vars:h,transform:d,transformOrigin:c}=e;let v=!1,w=!1,S=!0;for(const T in t){const C=t[T];if(JL(T)){h[T]=C;continue}const D=e6[T],B=MZ(C,D);if(su.has(T)){if(v=!0,d[T]=B,!S)continue;C!==(D.default||0)&&(S=!1)}else T.startsWith("origin")?(w=!0,c[T]=B):s[T]=B}if(t.transform||(v||n?s.transform=AZ(e.transform,r,S,n):s.transform&&(s.transform="none")),w){const{originX:T="50%",originY:C="50%",originZ:D=0}=c;s.transformOrigin=`${T} ${C} ${D}`}}var GS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t6(e,t,r){for(const n in t)!ya(t[n])&&!YL(n,r)&&(e[n]=t[n])}function LZ({transformTemplate:e},t,r){return z.useMemo(()=>{const n=GS();return WS(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function zZ(e,t,r){const n=e.style||{},s={};return t6(s,n,e),Object.assign(s,LZ(e,t,r)),e.transformValues?e.transformValues(s):s}function FZ(e,t,r){const n={},s=zZ(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}var BZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BZ.has(e)}var r6=e=>!Uv(e);function n6(e){e&&(r6=t=>t.startsWith("on")?!Uv(t):e(t))}try{n6((pZ(),dZ(KL)).default)}catch{}function NZ(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(r6(s)||r===!0&&Uv(s)||!t&&!Uv(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function UA(e,t,r){return typeof e=="string"?e:Vt.transform(t+r*e)}function OZ(e,t,r){const n=UA(t,e.x,e.width),s=UA(r,e.y,e.height);return`${n} ${s}`}var jZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},VZ={offset:"strokeDashoffset",array:"strokeDasharray"};function UZ(e,t,r=1,n=0,s=!0){e.pathLength=1;const h=s?jZ:VZ;e[h.offset]=Vt.transform(-n);const d=Vt.transform(t),c=Vt.transform(r);e[h.array]=`${d} ${c}`}function qS(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:h,pathLength:d,pathSpacing:c=1,pathOffset:v=0,...w},S,T,C){if(WS(e,w,S,C),T){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:D,style:B,dimensions:j}=e;D.transform&&(j&&(B.transform=D.transform),delete D.transform),j&&(s!==void 0||h!==void 0||B.transform)&&(B.transformOrigin=OZ(j,s!==void 0?s:.5,h!==void 0?h:.5)),t!==void 0&&(D.x=t),r!==void 0&&(D.y=r),n!==void 0&&(D.scale=n),d!==void 0&&UZ(D,d,c,v,!1)}var i6=()=>({...GS(),attrs:{}}),ZS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KZ(e,t,r,n){const s=z.useMemo(()=>{const h=i6();return qS(h,t,{enableHardwareAcceleration:!1},ZS(n),e.transformTemplate),{...h.attrs,style:{...h.style}}},[t]);if(e.style){const h={};t6(h,e.style,e),s.style={...h,...s.style}}return s}function HZ(e=!1){return(r,n,s,{latestValues:h},d)=>{const v=(HS(r)?KZ:FZ)(n,h,d,r),S={...NZ(n,typeof r=="string",e),...v,ref:s},{children:T}=n,C=z.useMemo(()=>ya(T)?T.get():T,[T]);return z.createElement(r,{...S,children:C})}}function a6(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const h in r)e.style.setProperty(h,r[h])}var o6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s6(e,t,r,n){a6(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(o6.has(s)?s:VS(s),t.attrs[s])}function YS(e,t){const{style:r}=e,n={};for(const s in r)(ya(r[s])||t.style&&ya(t.style[s])||YL(s,e))&&(n[s]=r[s]);return n}function l6(e,t){const r=YS(e,t);for(const n in e)if(ya(e[n])||ya(t[n])){const s=wm.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function XS(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function JS(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}var Kv=e=>Array.isArray(e),WZ=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),GZ=e=>Kv(e)?e[e.length-1]||0:e;function qZ(e){const t=ya(e)?e.get():e;return WZ(t)?t.toValue():t}function ZZ({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,h){const d={latestValues:YZ(n,s,h,e),renderState:t()};return r&&(d.mount=c=>r(n,c,d)),d}var c6=e=>(t,r)=>{const n=z.useContext(D0),s=z.useContext(NS),h=()=>ZZ(e,t,n,s);return r?h():JS(h)};function YZ(e,t,r,n){const s={},h=n(e,{});for(const C in h)s[C]=qZ(h[C]);let{initial:d,animate:c}=e;const v=L0(e),w=qL(e);t&&w&&!v&&e.inherit!==!1&&(d===void 0&&(d=t.initial),c===void 0&&(c=t.animate));let S=r?r.initial===!1:!1;S=S||d===!1;const T=S?c:d;return T&&typeof T!="boolean"&&!R0(T)&&(Array.isArray(T)?T:[T]).forEach(D=>{const B=XS(e,D);if(!B)return;const{transitionEnd:j,transition:Y,...V}=B;for(const F in V){let N=V[F];if(Array.isArray(N)){const ee=S?N.length-1:0;N=N[ee]}N!==null&&(s[F]=N)}for(const F in j)s[F]=j[F]}),s}var Ri=e=>e,KA=class{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}};function XZ(e){let t=new KA,r=new KA,n=0,s=!1,h=!1;const d=new WeakSet,c={schedule:(v,w=!1,S=!1)=>{const T=S&&s,C=T?t:r;return w&&d.add(v),C.add(v)&&T&&s&&(n=t.order.length),v},cancel:v=>{r.remove(v),d.delete(v)},process:v=>{if(s){h=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let w=0;w<n;w++){const S=t.order[w];S(v),d.has(S)&&(c.schedule(S),e())}s=!1,h&&(h=!1,c.process(v))}};return c}var gy=["prepare","read","update","preRender","render","postRender"],JZ=40;function QZ(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},h=gy.reduce((T,C)=>(T[C]=XZ(()=>r=!0),T),{}),d=T=>h[T].process(s),c=()=>{const T=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(T-s.timestamp,JZ),1),s.timestamp=T,s.isProcessing=!0,gy.forEach(d),s.isProcessing=!1,r&&t&&(n=!1,e(c))},v=()=>{r=!0,n=!0,s.isProcessing||e(c)};return{schedule:gy.reduce((T,C)=>{const D=h[C];return T[C]=(B,j=!1,Y=!1)=>(r||v(),D.schedule(B,j,Y)),T},{}),cancel:T=>gy.forEach(C=>h[C].cancel(T)),state:s,steps:h}}var{schedule:_i,cancel:Hv,state:xw,steps:Cre}=QZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ri,!0),eY={useVisualState:c6({scrapeMotionValuesFromProps:l6,createRenderState:i6,onMount:(e,t,{renderState:r,latestValues:n})=>{_i.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),_i.render(()=>{qS(r,n,{enableHardwareAcceleration:!1},ZS(t.tagName),e.transformTemplate),s6(t,r)})}})},tY={useVisualState:c6({scrapeMotionValuesFromProps:YS,createRenderState:GS})};function rY(e,{forwardMotionProps:t=!1},r,n){return{...HS(e)?eY:tY,preloadedFeatures:r,useRender:HZ(t),createVisualElement:n,Component:e}}var u6=PZ(rY);function d6(){const e=z.useRef(!1);return OS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function nY(){const e=d6(),[t,r]=z.useState(0),n=z.useCallback(()=>{e.current&&r(t+1)},[t]);return[z.useCallback(()=>_i.postRender(n),[n]),t]}var iY=class extends z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}};function aY({children:e,isPresent:t}){const r=z.useId(),n=z.useRef(null),s=z.useRef({width:0,height:0,top:0,left:0});return z.useInsertionEffect(()=>{const{width:h,height:d,top:c,left:v}=s.current;if(t||!n.current||!h||!d)return;n.current.dataset.motionPopId=r;const w=document.createElement("style");return document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            top: ${c}px !important;
            left: ${v}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[t]),z.createElement(iY,{isPresent:t,childRef:n,sizeRef:s},z.cloneElement(e,{ref:n}))}var m_=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:h,mode:d})=>{const c=JS(oY),v=z.useId(),w=z.useMemo(()=>({id:v,initial:t,isPresent:r,custom:s,onExitComplete:S=>{c.set(S,!0);for(const T of c.values())if(!T)return;n&&n()},register:S=>(c.set(S,!1),()=>c.delete(S))}),h?void 0:[r]);return z.useMemo(()=>{c.forEach((S,T)=>c.set(T,!1))},[r]),z.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),d==="popLayout"&&(e=z.createElement(aY,{isPresent:r},e)),z.createElement(NS.Provider,{value:w},e)};function oY(){return new Map}function sY(e){return z.useEffect(()=>()=>e(),[])}var Wv=Ri,Ec=e=>e.key||"";function lY(e,t){e.forEach(r=>{const n=Ec(r);t.set(n,r)})}function cY(e){const t=[];return z.Children.forEach(e,r=>{z.isValidElement(r)&&t.push(r)}),t}var uY=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:h=!0,mode:d="sync"})=>{const c=z.useContext(ZL).forceRender||nY()[0],v=d6(),w=cY(e);let S=w;const T=z.useRef(new Map).current,C=z.useRef(S),D=z.useRef(new Map).current,B=z.useRef(!0);if(OS(()=>{B.current=!1,lY(w,D),C.current=S}),sY(()=>{B.current=!0,D.clear(),T.clear()}),B.current)return z.createElement(z.Fragment,null,S.map(F=>z.createElement(m_,{key:Ec(F),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:h,mode:d},F)));S=[...S];const j=C.current.map(Ec),Y=w.map(Ec),V=j.length;for(let F=0;F<V;F++){const N=j[F];Y.indexOf(N)===-1&&!T.has(N)&&T.set(N,void 0)}return d==="wait"&&T.size&&(S=[]),T.forEach((F,N)=>{if(Y.indexOf(N)!==-1)return;const ee=D.get(N);if(!ee)return;const ie=j.indexOf(N);let fe=F;if(!fe){const be=()=>{T.delete(N);const q=Array.from(D.keys()).filter(pe=>!Y.includes(pe));if(q.forEach(pe=>D.delete(pe)),C.current=w.filter(pe=>{const xe=Ec(pe);return xe===N||q.includes(xe)}),!T.size){if(v.current===!1)return;c(),n&&n()}};fe=z.createElement(m_,{key:Ec(ee),isPresent:!1,onExitComplete:be,custom:t,presenceAffectsLayout:h,mode:d},ee),T.set(N,fe)}S.splice(ie,0,fe)}),S=S.map(F=>{const N=F.key;return T.has(N)?F:z.createElement(m_,{key:Ec(F),isPresent:!0,presenceAffectsLayout:h,mode:d},F)}),z.createElement(z.Fragment,null,T.size?S:S.map(F=>z.cloneElement(F)))};function dY({children:e,isValidProp:t,...r}){t&&n6(t),r={...z.useContext(Vv),...r},r.isStatic=JS(()=>r.isStatic);const n=z.useMemo(()=>r,[JSON.stringify(r.transition),r.transformPagePoint,r.reducedMotion]);return z.createElement(Vv.Provider,{value:n},e)}function hY({children:e,features:t,strict:r=!1}){const[,n]=z.useState(!g_(t)),s=z.useRef(void 0);if(!g_(t)){const{renderer:h,...d}=t;s.current=h,yw(d)}return z.useEffect(()=>{g_(t)&&t().then(({renderer:h,...d})=>{yw(d),s.current=h,n(!0)})},[]),z.createElement(jS.Provider,{value:{renderer:s.current,strict:r}},e)}function g_(e){return typeof e=="function"}function h6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function fY(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function pY(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function F0(e,t,r){const n=e.getProps();return XS(n,t,r!==void 0?r:n.custom,fY(e),pY(e))}var Wd=e=>e*1e3,Rl=e=>e/1e3,mY={current:!1},f6=e=>Array.isArray(e)&&typeof e[0]=="number";function p6(e){return!!(!e||typeof e=="string"&&m6[e]||f6(e)||Array.isArray(e)&&e.every(p6))}var dp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,m6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dp([0,.65,.55,1]),circOut:dp([.55,0,1,.45]),backIn:dp([.31,.01,.66,-.59]),backOut:dp([.33,1.53,.69,.99])};function g6(e){if(e)return f6(e)?dp(e):Array.isArray(e)?e.map(g6):m6[e]}function gY(e,t,r,{delay:n=0,duration:s,repeat:h=0,repeatType:d="loop",ease:c,times:v}={}){const w={[t]:r};v&&(w.offset=v);const S=g6(c);return Array.isArray(S)&&(w.easing=S),e.animate(w,{delay:n,duration:s,easing:Array.isArray(S)?"linear":S,fill:"both",iterations:h+1,direction:d==="reverse"?"alternate":"normal"})}function yY(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}var y6=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vY=1e-7,xY=12;function _Y(e,t,r,n,s){let h,d,c=0;do d=t+(r-t)/2,h=y6(d,n,s)-e,h>0?r=d:t=d;while(Math.abs(h)>vY&&++c<xY);return d}function Tm(e,t,r,n){if(e===t&&r===n)return Ri;const s=h=>_Y(h,0,1,e,r);return h=>h===0||h===1?h:y6(s(h),t,n)}var bY=Tm(.42,0,1,1),wY=Tm(0,0,.58,1),v6=Tm(.42,0,.58,1),SY=e=>Array.isArray(e)&&typeof e[0]!="number",x6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_6=e=>t=>1-e(1-t),QS=e=>1-Math.sin(Math.acos(e)),PY=_6(QS),TY=x6(QS),b6=Tm(.33,1.53,.69,.99),eP=_6(b6),CY=x6(eP),EY=e=>(e*=2)<1?.5*eP(e):.5*(2-Math.pow(2,-10*(e-1))),HA={linear:Ri,easeIn:bY,easeInOut:v6,easeOut:wY,circIn:QS,circInOut:TY,circOut:PY,backIn:eP,backInOut:CY,backOut:b6,anticipate:EY},WA=e=>{if(Array.isArray(e)){Wv(e.length===4);const[t,r,n,s]=e;return Tm(t,r,n,s)}else if(typeof e=="string")return Wv(HA[e]!==void 0),HA[e];return e},tP=(e,t)=>r=>!!(Sm(r)&&DZ.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),w6=(e,t,r)=>n=>{if(!Sm(n))return n;const[s,h,d,c]=n.match(z0);return{[e]:parseFloat(s),[t]:parseFloat(h),[r]:parseFloat(d),alpha:c!==void 0?parseFloat(c):1}},kY=e=>uh(0,255,e),y_={...lu,transform:e=>Math.round(kY(e))},Bc={test:tP("rgb","red"),parse:w6("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+y_.transform(e)+", "+y_.transform(t)+", "+y_.transform(r)+", "+Ip(Ap.transform(n))+")"};function AY(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}var _w={test:tP("#"),parse:AY,transform:Bc.transform},$d={test:tP("hsl","hue"),parse:w6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Hd.transform(Ip(t))+", "+Hd.transform(Ip(r))+", "+Ip(Ap.transform(n))+")"},Di={test:e=>Bc.test(e)||_w.test(e)||$d.test(e),parse:e=>Bc.test(e)?Bc.parse(e):$d.test(e)?$d.parse(e):_w.parse(e),transform:e=>Sm(e)?e:e.hasOwnProperty("red")?Bc.transform(e):$d.transform(e)},B0=(e,t,r)=>-r*e+r*t+e;function v_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function IY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,h=0,d=0;if(!t)s=h=d=r;else{const c=r<.5?r*(1+t):r+t-r*t,v=2*r-c;s=v_(v,c,e+1/3),h=v_(v,c,e),d=v_(v,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(h*255),blue:Math.round(d*255),alpha:n}}var x_=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},MY=[_w,Bc,$d],DY=e=>MY.find(t=>t.test(e));function GA(e){const t=DY(e);let r=t.parse(e);return t===$d&&(r=IY(r)),r}var S6=(e,t)=>{const r=GA(e),n=GA(t),s={...r};return h=>(s.red=x_(r.red,n.red,h),s.green=x_(r.green,n.green,h),s.blue=x_(r.blue,n.blue,h),s.alpha=B0(r.alpha,n.alpha,h),Bc.transform(s))},$Y=(e,t)=>r=>t(e(r)),Uc=(...e)=>e.reduce($Y);function RY(e){var t,r;return isNaN(e)&&Sm(e)&&(((t=e.match(z0))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(QL))===null||r===void 0?void 0:r.length)||0)>0}var P6={regex:IZ,countKey:"Vars",token:"${v}",parse:Ri},T6={regex:QL,countKey:"Colors",token:"${c}",parse:Di.parse},C6={regex:z0,countKey:"Numbers",token:"${n}",parse:lu.parse};function __(e,{regex:t,countKey:r,token:n,parse:s}){const h=e.tokenised.match(t);h&&(e["num"+r]=h.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...h.map(s)))}function Gv(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&__(r,P6),__(r,T6),__(r,C6),r}function E6(e){return Gv(e).values}function k6(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Gv(e),h=t.length;return d=>{let c=s;for(let v=0;v<h;v++)v<n?c=c.replace(P6.token,d[v]):v<n+r?c=c.replace(T6.token,Di.transform(d[v])):c=c.replace(C6.token,Ip(d[v]));return c}}var LY=e=>typeof e=="number"?0:e;function zY(e){const t=E6(e);return k6(e)(t.map(LY))}var bh={test:RY,parse:E6,createTransformer:k6,getAnimatableNone:zY},A6=(e,t)=>r=>`${r>0?t:e}`;function I6(e,t){return typeof e=="number"?r=>B0(e,t,r):Di.test(e)?S6(e,t):e.startsWith("var(")?A6(e,t):D6(e,t)}var M6=(e,t)=>{const r=[...e],n=r.length,s=e.map((h,d)=>I6(h,t[d]));return h=>{for(let d=0;d<n;d++)r[d]=s[d](h);return r}},FY=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=I6(e[s],t[s]));return s=>{for(const h in n)r[h]=n[h](s);return r}},D6=(e,t)=>{const r=bh.createTransformer(t),n=Gv(e),s=Gv(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Uc(M6(n.values,s.values),r):A6(e,t)},$6=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},qA=(e,t)=>r=>B0(e,t,r);function BY(e){return typeof e=="number"?qA:typeof e=="string"?Di.test(e)?S6:D6:Array.isArray(e)?M6:typeof e=="object"?FY:qA}function NY(e,t,r){const n=[],s=r||BY(e[0]),h=e.length-1;for(let d=0;d<h;d++){let c=s(e[d],e[d+1]);if(t){const v=Array.isArray(t)?t[d]||Ri:t;c=Uc(v,c)}n.push(c)}return n}function R6(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const h=e.length;if(Wv(h===t.length),h===1)return()=>t[0];e[0]>e[h-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=NY(t,n,s),c=d.length,v=w=>{let S=0;if(c>1)for(;S<e.length-2&&!(w<e[S+1]);S++);const T=$6(e[S],e[S+1],w);return d[S](T)};return r?w=>v(uh(e[0],e[h-1],w)):v}function OY(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=$6(0,t,n);e.push(B0(r,1,s))}}function jY(e){const t=[0];return OY(t,e.length-1),t}function VY(e,t){return e.map(r=>r*t)}function UY(e,t){return e.map(()=>t||v6).splice(0,e.length-1)}function qv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=SY(n)?n.map(WA):WA(n),h={done:!1,value:t[0]},d=VY(r&&r.length===t.length?r:jY(t),e),c=R6(d,t,{ease:Array.isArray(s)?s:UY(t,s)});return{calculatedDuration:e,next:v=>(h.value=c(v),h.done=v>=e,h)}}function L6(e,t){return t?e*(1e3/t):0}var KY=5;function z6(e,t,r){const n=Math.max(t-KY,0);return L6(r-e(n),t-n)}var b_=.001,HY=.01,WY=10,GY=.05,qY=1;function ZY({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,h,d=1-t;d=uh(GY,qY,d),e=uh(HY,WY,Rl(e)),d<1?(s=w=>{const S=w*d,T=S*e,C=S-r,D=bw(w,d),B=Math.exp(-T);return b_-C/D*B},h=w=>{const T=w*d*e,C=T*r+r,D=Math.pow(d,2)*Math.pow(w,2)*e,B=Math.exp(-T),j=bw(Math.pow(w,2),d);return(-s(w)+b_>0?-1:1)*((C-D)*B)/j}):(s=w=>{const S=Math.exp(-w*e),T=(w-r)*e+1;return-b_+S*T},h=w=>{const S=Math.exp(-w*e),T=(r-w)*(e*e);return S*T});const c=5/e,v=XY(s,h,c);if(e=Wd(e),isNaN(v))return{stiffness:100,damping:10,duration:e};{const w=Math.pow(v,2)*n;return{stiffness:w,damping:d*2*Math.sqrt(n*w),duration:e}}}var YY=12;function XY(e,t,r){let n=r;for(let s=1;s<YY;s++)n=n-e(n)/t(n);return n}function bw(e,t){return e*Math.sqrt(1-t*t)}var JY=["duration","bounce"],QY=["stiffness","damping","mass"];function ZA(e,t){return t.some(r=>e[r]!==void 0)}function eX(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ZA(e,QY)&&ZA(e,JY)){const r=ZY(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function F6({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],h=e[e.length-1],d={done:!1,value:s},{stiffness:c,damping:v,mass:w,duration:S,velocity:T,isResolvedFromDuration:C}=eX({...n,velocity:-Rl(n.velocity||0)}),D=T||0,B=v/(2*Math.sqrt(c*w)),j=h-s,Y=Rl(Math.sqrt(c/w)),V=Math.abs(j)<5;r||(r=V?.01:2),t||(t=V?.005:.5);let F;if(B<1){const N=bw(Y,B);F=ee=>{const ie=Math.exp(-B*Y*ee);return h-ie*((D+B*Y*j)/N*Math.sin(N*ee)+j*Math.cos(N*ee))}}else if(B===1)F=N=>h-Math.exp(-Y*N)*(j+(D+Y*j)*N);else{const N=Y*Math.sqrt(B*B-1);F=ee=>{const ie=Math.exp(-B*Y*ee),fe=Math.min(N*ee,300);return h-ie*((D+B*Y*j)*Math.sinh(fe)+N*j*Math.cosh(fe))/N}}return{calculatedDuration:C&&S||null,next:N=>{const ee=F(N);if(C)d.done=N>=S;else{let ie=D;N!==0&&(B<1?ie=z6(F,N,ee):ie=0);const fe=Math.abs(ie)<=r,be=Math.abs(h-ee)<=t;d.done=fe&&be}return d.value=d.done?h:ee,d}}}function YA({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:h=500,modifyTarget:d,min:c,max:v,restDelta:w=.5,restSpeed:S}){const T=e[0],C={done:!1,value:T},D=q=>c!==void 0&&q<c||v!==void 0&&q>v,B=q=>c===void 0?v:v===void 0||Math.abs(c-q)<Math.abs(v-q)?c:v;let j=r*t;const Y=T+j,V=d===void 0?Y:d(Y);V!==Y&&(j=V-T);const F=q=>-j*Math.exp(-q/n),N=q=>V+F(q),ee=q=>{const pe=F(q),xe=N(q);C.done=Math.abs(pe)<=w,C.value=C.done?V:xe};let ie,fe;const be=q=>{D(C.value)&&(ie=q,fe=F6({keyframes:[C.value,B(C.value)],velocity:z6(N,q,C.value),damping:s,stiffness:h,restDelta:w,restSpeed:S}))};return be(0),{calculatedDuration:null,next:q=>{let pe=!1;return!fe&&ie===void 0&&(pe=!0,ee(q),be(q)),ie!==void 0&&q>ie?fe.next(q-ie):(!pe&&ee(q),C)}}}var tX=e=>{const t=({timestamp:r})=>e(r);return{start:()=>_i.update(t,!0),stop:()=>Hv(t),now:()=>xw.isProcessing?xw.timestamp:performance.now()}},XA=2e4;function JA(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<XA;)t+=r,n=e.next(t);return t>=XA?1/0:t}var rX={decay:YA,inertia:YA,tween:qv,keyframes:qv,spring:F6};function Zv({autoplay:e=!0,delay:t=0,driver:r=tX,keyframes:n,type:s="keyframes",repeat:h=0,repeatDelay:d=0,repeatType:c="loop",onPlay:v,onStop:w,onComplete:S,onUpdate:T,...C}){let D=1,B=!1,j,Y;const V=()=>{Y=new Promise(se=>{j=se})};V();let F;const N=rX[s]||qv;let ee;N!==qv&&typeof n[0]!="number"&&(ee=R6([0,100],n,{clamp:!1}),n=[0,100]);const ie=N({...C,keyframes:n});let fe;c==="mirror"&&(fe=N({...C,keyframes:[...n].reverse(),velocity:-(C.velocity||0)}));let be="idle",q=null,pe=null,xe=null;ie.calculatedDuration===null&&h&&(ie.calculatedDuration=JA(ie));const{calculatedDuration:le}=ie;let Se=1/0,ge=1/0;le!==null&&(Se=le+d,ge=Se*(h+1)-d);let ye=0;const Be=se=>{if(pe===null)return;D>0&&(pe=Math.min(pe,se)),D<0&&(pe=Math.min(se-ge/D,pe)),q!==null?ye=q:ye=Math.round(se-pe)*D;const ze=ye-t*(D>=0?1:-1),Ze=D>=0?ze<0:ze>ge;ye=Math.max(ze,0),be==="finished"&&q===null&&(ye=ge);let lt=ye,mt=ie;if(h){const At=Math.min(ye,ge)/Se;let zt=Math.floor(At),Nt=At%1;!Nt&&At>=1&&(Nt=1),Nt===1&&zt--,zt=Math.min(zt,h+1),!!(zt%2)&&(c==="reverse"?(Nt=1-Nt,d&&(Nt-=d/Se)):c==="mirror"&&(mt=fe)),lt=uh(0,1,Nt)*Se}const gt=Ze?{done:!1,value:n[0]}:mt.next(lt);ee&&(gt.value=ee(gt.value));let{done:Et}=gt;!Ze&&le!==null&&(Et=D>=0?ye>=ge:ye<=0);const Pt=q===null&&(be==="finished"||be==="running"&&Et);return T&&T(gt.value),Pt&&De(),gt},Re=()=>{F&&F.stop(),F=void 0},ae=()=>{be="idle",Re(),j(),V(),pe=xe=null},De=()=>{be="finished",S&&S(),Re(),j()},je=()=>{if(B)return;F||(F=r(Be));const se=F.now();v&&v(),q!==null?pe=se-q:(!pe||be==="finished")&&(pe=se),be==="finished"&&V(),xe=pe,q=null,be="running",F.start()};e&&je();const Oe={then(se,ze){return Y.then(se,ze)},get time(){return Rl(ye)},set time(se){se=Wd(se),ye=se,q!==null||!F||D===0?q=se:pe=F.now()-se/D},get duration(){const se=ie.calculatedDuration===null?JA(ie):ie.calculatedDuration;return Rl(se)},get speed(){return D},set speed(se){se===D||!F||(D=se,Oe.time=Rl(ye))},get state(){return be},play:je,pause:()=>{be="paused",q=ye},stop:()=>{B=!0,be!=="idle"&&(be="idle",w&&w(),ae())},cancel:()=>{xe!==null&&Be(xe),ae()},complete:()=>{be="finished"},sample:se=>(pe=0,Be(se))};return Oe}function nX(e){let t;return()=>(t===void 0&&(t=e()),t)}var iX=nX(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aX=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),yy=10,oX=2e4,sX=(e,t)=>t.type==="spring"||e==="backgroundColor"||!p6(t.ease);function lX(e,t,{onUpdate:r,onComplete:n,...s}){if(!(iX()&&aX.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let d=!1,c,v,w=!1;const S=()=>{v=new Promise(N=>{c=N})};S();let{keyframes:T,duration:C=300,ease:D,times:B}=s;if(sX(t,s)){const N=Zv({...s,repeat:0,delay:0});let ee={done:!1,value:T[0]};const ie=[];let fe=0;for(;!ee.done&&fe<oX;)ee=N.sample(fe),ie.push(ee.value),fe+=yy;B=void 0,T=ie,C=fe-yy,D="linear"}const j=gY(e.owner.current,t,T,{...s,duration:C,ease:D,times:B}),Y=()=>{w=!1,j.cancel()},V=()=>{w=!0,_i.update(Y),c(),S()};return j.onfinish=()=>{w||(e.set(yY(T,s)),n&&n(),V())},{then(N,ee){return v.then(N,ee)},attachTimeline(N){return j.timeline=N,j.onfinish=null,Ri},get time(){return Rl(j.currentTime||0)},set time(N){j.currentTime=Wd(N)},get speed(){return j.playbackRate},set speed(N){j.playbackRate=N},get duration(){return Rl(C)},play:()=>{d||(j.play(),Hv(Y))},pause:()=>j.pause(),stop:()=>{if(d=!0,j.playState==="idle")return;const{currentTime:N}=j;if(N){const ee=Zv({...s,autoplay:!1});e.setWithVelocity(ee.sample(N-yy).value,ee.sample(N).value,yy)}V()},complete:()=>{w||j.finish()},cancel:V}}function cX({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ri,pause:Ri,stop:Ri,then:h=>(h(),Promise.resolve()),cancel:Ri,complete:Ri});return t?Zv({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}var uX={type:"spring",stiffness:500,damping:25,restSpeed:10},dX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hX={type:"keyframes",duration:.8},fX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pX=(e,{keyframes:t})=>t.length>2?hX:su.has(e)?e.startsWith("scale")?dX(t[1]):uX:fX,ww=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bh.test(t)||t==="0")&&!t.startsWith("url(")),mX=new Set(["brightness","contrast","saturate","opacity"]);function gX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(z0)||[];if(!n)return e;const s=r.replace(n,"");let h=mX.has(t)?1:0;return n!==r&&(h*=100),t+"("+h+s+")"}var yX=/([a-z-]*)\(.*?\)/g,Sw={...bh,getAnimatableNone:e=>{const t=e.match(yX);return t?t.map(gX).join(" "):e}},vX={...e6,color:Di,backgroundColor:Di,outlineColor:Di,fill:Di,stroke:Di,borderColor:Di,borderTopColor:Di,borderRightColor:Di,borderBottomColor:Di,borderLeftColor:Di,filter:Sw,WebkitFilter:Sw},rP=e=>vX[e];function B6(e,t){let r=rP(e);return r!==Sw&&(r=bh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}var N6=e=>/^0[^.\s]+$/.test(e);function xX(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||N6(e)}function _X(e,t,r,n){const s=ww(t,r);let h;Array.isArray(r)?h=[...r]:h=[null,r];const d=n.from!==void 0?n.from:e.get();let c;const v=[];for(let w=0;w<h.length;w++)h[w]===null&&(h[w]=w===0?d:h[w-1]),xX(h[w])&&v.push(w),typeof h[w]=="string"&&h[w]!=="none"&&h[w]!=="0"&&(c=h[w]);if(s&&v.length&&c)for(let w=0;w<v.length;w++){const S=v[w];h[S]=B6(t,c)}return h}function bX({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:h,repeatType:d,repeatDelay:c,from:v,elapsed:w,...S}){return!!Object.keys(S).length}function O6(e,t){return e[t]||e.default||e}var wX={skipAnimations:!1},SX=(e,t,r,n={})=>s=>{const h=O6(n,e)||{},d=h.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Wd(d);const v=_X(t,e,r,h),w=v[0],S=v[v.length-1],T=ww(e,w),C=ww(e,S);let D={keyframes:v,velocity:t.getVelocity(),ease:"easeOut",...h,delay:-c,onUpdate:B=>{t.set(B),h.onUpdate&&h.onUpdate(B)},onComplete:()=>{s(),h.onComplete&&h.onComplete()}};if(bX(h)||(D={...D,...pX(e,D)}),D.duration&&(D.duration=Wd(D.duration)),D.repeatDelay&&(D.repeatDelay=Wd(D.repeatDelay)),!T||!C||mY.current||h.type===!1||wX.skipAnimations)return cX(D);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const B=lX(t,e,D);if(B)return B}return Zv(D)};function Yv(e){return!!(ya(e)&&e.add)}var j6=e=>/^\-?\d*\.?\d+$/.test(e);function PX(e,t){e.indexOf(t)===-1&&e.push(t)}function TX(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}var V6=class{constructor(){this.subscriptions=[]}add(e){return PX(this.subscriptions,e),()=>TX(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const h=this.subscriptions[s];h&&h(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},CX=e=>!isNaN(parseFloat(e)),EX=class{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,n=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:h}=xw;this.lastUpdated!==h&&(this.timeDelta=s,this.lastUpdated=h,_i.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_i.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=CX(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new V6);const r=this.events[e].add(t);return e==="change"?()=>{r(),_i.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?L6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function am(e,t){return new EX(e,t)}var U6=e=>t=>t.test(e),kX={test:e=>e==="auto",parse:e=>e},K6=[lu,Vt,Hd,ul,RZ,$Z,kX],Qf=e=>K6.find(U6(e)),AX=[...K6,Di,bh],IX=e=>AX.find(U6(e));function MX(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,am(r))}function DX(e,t){const r=F0(e,t);let{transitionEnd:n={},transition:s={},...h}=r?e.makeTargetAnimatable(r,!1):{};h={...h,...n};for(const d in h){const c=GZ(h[d]);MX(e,d,c)}}function $X(e,t,r){var n,s;const h=Object.keys(t).filter(c=>!e.hasValue(c)),d=h.length;if(d)for(let c=0;c<d;c++){const v=h[c],w=t[v];let S=null;Array.isArray(w)&&(S=w[0]),S===null&&(S=(s=(n=r[v])!==null&&n!==void 0?n:e.readValue(v))!==null&&s!==void 0?s:t[v]),S!=null&&(typeof S=="string"&&(j6(S)||N6(S))?S=parseFloat(S):!IX(S)&&bh.test(w)&&(S=B6(v,w)),e.addValue(v,am(S,{owner:e})),r[v]===void 0&&(r[v]=S),S!==null&&e.setBaseTarget(v,S))}}function RX(e,t){return t?(t[e]||t.default||t).from:void 0}function LX(e,t,r){const n={};for(const s in e){const h=RX(s,t);if(h!==void 0)n[s]=h;else{const d=r.getValue(s);d&&(n[s]=d.get())}}return n}function zX({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function FX(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function H6(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:h=e.getDefaultTransition(),transitionEnd:d,...c}=e.makeTargetAnimatable(t);const v=e.getValue("willChange");n&&(h=n);const w=[],S=s&&e.animationState&&e.animationState.getState()[s];for(const T in c){const C=e.getValue(T),D=c[T];if(!C||D===void 0||S&&zX(S,T))continue;const B={delay:r,elapsed:0,...O6(h||{},T)};if(window.HandoffAppearAnimations){const V=e.getProps()[WL];if(V){const F=window.HandoffAppearAnimations(V,T,C,_i);F!==null&&(B.elapsed=F,B.isHandoff=!0)}}let j=!B.isHandoff&&!FX(C,D);if(B.type==="spring"&&(C.getVelocity()||B.velocity)&&(j=!1),C.animation&&(j=!1),j)continue;C.start(SX(T,C,D,e.shouldReduceMotion&&su.has(T)?{type:!1}:B));const Y=C.animation;Yv(v)&&(v.add(T),Y.then(()=>v.remove(T))),w.push(Y)}return d&&Promise.all(w).then(()=>{d&&DX(e,d)}),w}function Pw(e,t,r={}){const n=F0(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const h=n?()=>Promise.all(H6(e,n,r)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(v=0)=>{const{delayChildren:w=0,staggerChildren:S,staggerDirection:T}=s;return BX(e,t,w+v,S,T,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[v,w]=c==="beforeChildren"?[h,d]:[d,h];return v().then(()=>w())}else return Promise.all([h(),d(r.delay)])}function BX(e,t,r=0,n=0,s=1,h){const d=[],c=(e.variantChildren.size-1)*n,v=s===1?(w=0)=>w*n:(w=0)=>c-w*n;return Array.from(e.variantChildren).sort(NX).forEach((w,S)=>{w.notify("AnimationStart",t),d.push(Pw(w,t,{...h,delay:r+v(S)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(d)}function NX(e,t){return e.sortNodePosition(t)}function OX(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(h=>Pw(e,h,r));n=Promise.all(s)}else if(typeof t=="string")n=Pw(e,t,r);else{const s=typeof t=="function"?F0(e,t,r.custom):t;n=Promise.all(H6(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}var jX=[...US].reverse(),VX=US.length;function UX(e){return t=>Promise.all(t.map(({animation:r,options:n})=>OX(e,r,n)))}function KX(e){let t=UX(e);const r=WX();let n=!0;const s=(v,w)=>{const S=F0(e,w);if(S){const{transition:T,transitionEnd:C,...D}=S;v={...v,...D,...C}}return v};function h(v){t=v(e)}function d(v,w){const S=e.getProps(),T=e.getVariantContext(!0)||{},C=[],D=new Set;let B={},j=1/0;for(let V=0;V<VX;V++){const F=jX[V],N=r[F],ee=S[F]!==void 0?S[F]:T[F],ie=nm(ee),fe=F===w?N.isActive:null;fe===!1&&(j=V);let be=ee===T[F]&&ee!==S[F]&&ie;if(be&&n&&e.manuallyAnimateOnMount&&(be=!1),N.protectedKeys={...B},!N.isActive&&fe===null||!ee&&!N.prevProp||R0(ee)||typeof ee=="boolean")continue;let pe=HX(N.prevProp,ee)||F===w&&N.isActive&&!be&&ie||V>j&&ie,xe=!1;const le=Array.isArray(ee)?ee:[ee];let Se=le.reduce(s,{});fe===!1&&(Se={});const{prevResolvedValues:ge={}}=N,ye={...ge,...Se},Be=Re=>{pe=!0,D.has(Re)&&(xe=!0,D.delete(Re)),N.needsAnimating[Re]=!0};for(const Re in ye){const ae=Se[Re],De=ge[Re];if(B.hasOwnProperty(Re))continue;let je=!1;Kv(ae)&&Kv(De)?je=!h6(ae,De):je=ae!==De,je?ae!==void 0?Be(Re):D.add(Re):ae!==void 0&&D.has(Re)?Be(Re):N.protectedKeys[Re]=!0}N.prevProp=ee,N.prevResolvedValues=Se,N.isActive&&(B={...B,...Se}),n&&e.blockInitialAnimation&&(pe=!1),pe&&(!be||xe)&&C.push(...le.map(Re=>({animation:Re,options:{type:F,...v}})))}if(D.size){const V={};D.forEach(F=>{const N=e.getBaseTarget(F);N!==void 0&&(V[F]=N)}),C.push({animation:V})}let Y=!!C.length;return n&&(S.initial===!1||S.initial===S.animate)&&!e.manuallyAnimateOnMount&&(Y=!1),n=!1,Y?t(C):Promise.resolve()}function c(v,w,S){var T;if(r[v].isActive===w)return Promise.resolve();(T=e.variantChildren)===null||T===void 0||T.forEach(D=>{var B;return(B=D.animationState)===null||B===void 0?void 0:B.setActive(v,w)}),r[v].isActive=w;const C=d(S,v);for(const D in r)r[D].protectedKeys={};return C}return{animateChanges:d,setActive:c,setAnimateFunction:h,getState:()=>r}}function HX(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!h6(t,e):!1}function _c(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WX(){return{animate:_c(!0),whileInView:_c(),whileHover:_c(),whileTap:_c(),whileDrag:_c(),whileFocus:_c(),exit:_c()}}var wh=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},GX=class extends wh{constructor(e){super(e),e.animationState||(e.animationState=KX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),R0(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}},qX=0,ZX=class extends wh{constructor(){super(...arguments),this.id=qX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}},YX={animation:{Feature:GX},exit:{Feature:ZX}};function Nc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}var XX=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function W6(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}var JX=e=>t=>XX(t)&&e(t,W6(t));function Vy(e,t,r,n){return Nc(e,t,JX(r),n)}function G6(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}var QX=G6("dragHorizontal"),eJ=G6("dragVertical");function tJ(e){let t=!1;{const r=QX(),n=eJ();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function q6(){const e=tJ();return e?(e(),!1):!0}function QA(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(h,d)=>{if(h.pointerType==="touch"||q6())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[n]&&_i.update(()=>c[n](h,d))};return Vy(e.current,r,s,{passive:!e.getProps()[n]})}var rJ=class extends wh{mount(){this.unmount=Uc(QA(this.node,!0),QA(this.node,!1))}unmount(){}},nJ=class extends wh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}},Z6=(e,t)=>t?e===t?!0:Z6(e,t.parentElement):!1;function w_(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,W6(r))}var iJ=class extends wh{constructor(){super(...arguments),this.removeStartListeners=Ri,this.removeEndListeners=Ri,this.removeAccessibleListeners=Ri,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Vy(window,"pointerup",(d,c)=>{if(!this.checkPressEnd())return;const{onTap:v,onTapCancel:w,globalTapTarget:S}=this.node.getProps();_i.update(()=>{!S&&!Z6(this.node.current,d.target)?w&&w(d,c):v&&v(d,c)})},{passive:!(r.onTap||r.onPointerUp)}),h=Vy(window,"pointercancel",(d,c)=>this.cancelPress(d,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Uc(s,h),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const h=d=>{d.key!=="Enter"||!this.checkPressEnd()||w_("up",(c,v)=>{const{onTap:w}=this.node.getProps();w&&_i.update(()=>w(c,v))})};this.removeEndListeners(),this.removeEndListeners=Nc(this.node.current,"keyup",h),w_("down",(d,c)=>{this.startPress(d,c)})},t=Nc(this.node.current,"keydown",e),r=()=>{this.isPressing&&w_("cancel",(s,h)=>this.cancelPress(s,h))},n=Nc(this.node.current,"blur",r);this.removeAccessibleListeners=Uc(t,n)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&_i.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!q6()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&_i.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=Vy(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Nc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uc(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}},Tw=new WeakMap,S_=new WeakMap,aJ=e=>{const t=Tw.get(e.target);t&&t(e)},oJ=e=>{e.forEach(aJ)};function sJ({root:e,...t}){const r=e||document;S_.has(r)||S_.set(r,{});const n=S_.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(oJ,{root:e,...t})),n[s]}function lJ(e,t,r){const n=sJ(t);return Tw.set(e,r),n.observe(e),()=>{Tw.delete(e),n.unobserve(e)}}var cJ={some:0,all:1},uJ=class extends wh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,h={root:t?t.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:cJ[n]},d=c=>{const{isIntersecting:v}=c;if(this.isInView===v||(this.isInView=v,s&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:w,onViewportLeave:S}=this.node.getProps(),T=v?w:S;T&&T(c)};return lJ(this.node.current,h,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(dJ(e,t))&&this.startObserver()}unmount(){}};function dJ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}var hJ={inView:{Feature:uJ},tap:{Feature:iJ},focus:{Feature:nJ},hover:{Feature:rJ}};function fJ({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function pJ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mJ(e,t){return fJ(pJ(e.getBoundingClientRect(),t))}var gJ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function yJ(e){const t=gJ.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function Cw(e,t,r=1){const[n,s]=yJ(e);if(!n)return;const h=window.getComputedStyle(t).getPropertyValue(n);if(h){const d=h.trim();return j6(d)?parseFloat(d):d}else return vw(s)?Cw(s,t,r+1):s}function vJ(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const h=s.get();if(!vw(h))return;const d=Cw(h,n);d&&s.set(d)});for(const s in t){const h=t[s];if(!vw(h))continue;const d=Cw(h,n);d&&(t[s]=d,r||(r={}),r[s]===void 0&&(r[s]=h))}return{target:t,transitionEnd:r}}var xJ=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Y6=e=>xJ.has(e),_J=e=>Object.keys(e).some(Y6),eI=e=>e===lu||e===Vt,tI=(e,t)=>parseFloat(e.split(", ")[t]),rI=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return tI(s[1],t);{const h=n.match(/^matrix\((.+)\)$/);return h?tI(h[1],e):0}},bJ=new Set(["x","y","z"]),wJ=wm.filter(e=>!bJ.has(e));function SJ(e){const t=[];return wJ.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}var dh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:rI(4,13),y:rI(5,14)};dh.translateX=dh.x;dh.translateY=dh.y;var PJ=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,h=getComputedStyle(s),{display:d}=h,c={};d==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(w=>{c[w]=dh[w](n,h)}),t.render();const v=t.measureViewportBox();return r.forEach(w=>{const S=t.getValue(w);S&&S.jump(c[w]),e[w]=dh[w](v,h)}),e},TJ=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Y6);let h=[],d=!1;const c=[];if(s.forEach(v=>{const w=e.getValue(v);if(!e.hasValue(v))return;let S=r[v],T=Qf(S);const C=t[v];let D;if(Kv(C)){const B=C.length,j=C[0]===null?1:0;S=C[j],T=Qf(S);for(let Y=j;Y<B&&C[Y]!==null;Y++)D?Wv(Qf(C[Y])===D):D=Qf(C[Y])}else D=Qf(C);if(T!==D)if(eI(T)&&eI(D)){const B=w.get();typeof B=="string"&&w.set(parseFloat(B)),typeof C=="string"?t[v]=parseFloat(C):Array.isArray(C)&&D===Vt&&(t[v]=C.map(parseFloat))}else T!=null&&T.transform&&(D!=null&&D.transform)&&(S===0||C===0)?S===0?w.set(D.transform(S)):t[v]=T.transform(C):(d||(h=SJ(e),d=!0),c.push(v),n[v]=n[v]!==void 0?n[v]:t[v],w.jump(C))}),c.length){const v=c.indexOf("height")>=0?window.pageYOffset:null,w=PJ(t,e,c);return h.length&&h.forEach(([S,T])=>{e.getValue(S).set(T)}),e.render(),$0&&v!==null&&window.scrollTo({top:v}),{target:w,transitionEnd:n}}else return{target:t,transitionEnd:n}};function CJ(e,t,r,n){return _J(t)?TJ(e,t,r,n):{target:t,transitionEnd:n}}var EJ=(e,t,r,n)=>{const s=vJ(e,t,n);return t=s.target,n=s.transitionEnd,CJ(e,t,r,n)},nI=()=>({min:0,max:0}),X6=()=>({x:nI(),y:nI()}),Ew={current:null},J6={current:!1};function kJ(){if(J6.current=!0,!!$0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ew.current=e.matches;e.addListener(t),t()}else Ew.current=!1}function AJ(e,t,r){const{willChange:n}=t;for(const s in t){const h=t[s],d=r[s];if(ya(h))e.addValue(s,h),Yv(n)&&n.add(s);else if(ya(d))e.addValue(s,am(h,{owner:e})),Yv(n)&&n.remove(s);else if(d!==h)if(e.hasValue(s)){const c=e.getValue(s);!c.hasAnimated&&c.set(h)}else{const c=e.getStaticValue(s);e.addValue(s,am(c!==void 0?c:h,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}var iI=new WeakMap,Q6=Object.keys(im),IJ=Q6.length,aI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MJ=KS.length,DJ=class{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,visualState:s},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_i.render(this.render,!1,!0);const{latestValues:d,renderState:c}=s;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=h,this.isControllingVariants=L0(t),this.isVariantNode=qL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{});for(const S in w){const T=w[S];d[S]!==void 0&&ya(T)&&(T.set(d[S],!1),Yv(v)&&v.add(S))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,iI.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),J6.current||kJ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ew.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iI.delete(this.current),this.projection&&this.projection.unmount(),Hv(this.notifyUpdate),Hv(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=su.has(e),n=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&_i.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,n,s){let h,d;for(let c=0;c<IJ;c++){const v=Q6[c],{isEnabled:w,Feature:S,ProjectionNode:T,MeasureLayout:C}=im[v];T&&(h=T),w(t)&&(!this.features[v]&&S&&(this.features[v]=new S(this)),C&&(d=C))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:v,drag:w,dragConstraints:S,layoutScroll:T,layoutRoot:C}=t;this.projection.setOptions({layoutId:c,layout:v,alwaysMeasureLayout:!!w||S&&GL(S),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof v=="string"?v:"both",initialPromotionConfig:s,layoutScroll:T,layoutRoot:C})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):X6()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<aI.length;r++){const n=aI[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const s=e["on"+n];s&&(this.propEventSubscriptions[n]=this.on(n,s))}this.prevMotionValues=AJ(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<MJ;r++){const n=KS[r],s=this.props[n];(nm(s)||s===!1)&&(t[n]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=am(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n=typeof r=="string"||typeof r=="object"?(t=XS(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ya(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new V6),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}},ez=class extends DJ{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:n},s){let h=LX(r,e||{},this);if(n&&(t&&(t=n(t)),r&&(r=n(r)),h&&(h=n(h))),s){$X(this,r,h);const d=EJ(this,r,h,t);t=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:t,...r}}};function $J(e){return window.getComputedStyle(e)}var RJ=class extends ez{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(su.has(t)){const r=rP(t);return r&&r.default||0}else{const r=$J(e),n=(JL(t)?r.getPropertyValue(t):r[t])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return mJ(e,t)}build(e,t,r,n){WS(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return YS(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ya(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,n){a6(e,t,r,n)}},LJ=class extends ez{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(su.has(t)){const r=rP(t);return r&&r.default||0}return t=o6.has(t)?t:VS(t),e.getAttribute(t)}measureInstanceViewportBox(){return X6()}scrapeMotionValuesFromProps(e,t){return l6(e,t)}build(e,t,r,n){qS(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){s6(e,t,r,n)}mount(e){this.isSVGTag=ZS(e.tagName),super.mount(e)}},zJ=(e,t)=>HS(e)?new LJ(t,{enableHardwareAcceleration:!1}):new RJ(t,{enableHardwareAcceleration:!0}),FJ={renderer:zJ,...YX,...hJ},[tz,N0]=Kl({name:"CalendarContext",strict:!0,errorMessage:"useContext: `context` is undefined. Seems you forgot to wrap component within the CalendarProvider"}),BJ={type:"spring",bounce:0,duration:.3},rz={enter:e=>({x:`${e*100}%`}),center:{x:"0%"},exit:e=>({x:`${e*-100}%`})};function NJ(e){const{direction:t,date:r,currentMonth:n,buttonPickerProps:s}=e,{state:h,slots:d,headerRef:c,showMonthAndYearPickers:v,isHeaderExpanded:w,setIsHeaderExpanded:S,disableAnimation:T,classNames:C}=N0(),B=Ts({month:"long",era:n.calendar.identifier==="gregory"&&n.era==="BC"?"short":void 0,calendar:n.calendar.identifier,timeZone:h.timeZone,year:"numeric"}).format(r.toDate(h.timeZone)),j=L.jsx(L.Fragment,{children:T?L.jsx("span",{"aria-hidden":!0,className:d==null?void 0:d.title({class:C==null?void 0:C.title}),"data-slot":"title",children:B},n.month):L.jsx(u6.span,{animate:"center","aria-hidden":!0,className:d==null?void 0:d.title({class:C==null?void 0:C.title}),custom:t,"data-slot":"title",exit:"exit",initial:"enter",variants:w?{}:rz,children:B},n.month)}),Y={ref:c,className:d==null?void 0:d.header({class:C==null?void 0:C.header}),"data-slot":"header"},V=z.useCallback(F=>{F.key==="Escape"&&(F.preventDefault(),F.stopPropagation(),S==null||S(!1))},[S]);return v?L.jsx(Cs,{...Y,disableAnimation:T,endContent:L.jsx(oZ,{className:"chevron-icon"}),onKeyDown:V,...s,children:j}):L.jsx("header",{...Y,children:j})}function OJ(e){const{state:t,slots:r,isPickerVisible:n,currentMonth:s,classNames:h,...d}=e,c=z.useRef(null),{cellProps:v,buttonProps:w,isPressed:S,isSelected:T,isDisabled:C,isFocused:D,isInvalid:B,formattedDate:j}=nZ({...d,isDisabled:!lE(d.date,s)||n},t,c),Y=t.isCellUnavailable(d.date)&&!C,V=!C&&!B&&t.isCellUnavailable(d.date.add({days:1})),F=!C&&!B&&t.isCellUnavailable(d.date.subtract({days:1})),N="highlightedRange"in t&&t.highlightedRange,ee=T&&N&&_n(d.date,N.start),ie=T&&N&&_n(d.date,N.end),{locale:fe}=uo(),be=x0(d.date,fe),q=T&&(F||be===0||d.date.day===1),pe=T&&(V||be===6||d.date.day===s.calendar.getDaysInMonth(s)),{focusProps:xe,isFocusVisible:le}=As(),{hoverProps:Se,isHovered:ge}=iu({isDisabled:C||Y||t.isReadOnly});return L.jsx("td",{className:r==null?void 0:r.cell({class:h==null?void 0:h.cell}),"data-slot":"cell",...v,children:L.jsx("span",{...Ut(w,Se,xe),ref:c,className:r==null?void 0:r.cellButton({class:h==null?void 0:h.cellButton}),"data-disabled":vt(C&&!B),"data-focus-visible":vt(D&&le),"data-hover":vt(ge),"data-invalid":vt(B),"data-outside-month":vt(!lE(d.date,s)),"data-pressed":vt(S&&!t.isReadOnly),"data-range-end":vt(pe),"data-range-selection":vt(T&&"highlightedRange"in t),"data-range-start":vt(q),"data-readonly":vt(t.isReadOnly),"data-selected":vt(T),"data-selection-end":vt(ie),"data-selection-start":vt(ee),"data-today":vt(i3(d.date,t.timeZone)),"data-unavailable":vt(Y),children:L.jsx("span",{children:j})})})}function jJ(e){const{startDate:t,direction:r,currentMonth:n}=e,{locale:s}=uo(),h=yj(t,s),{state:d,slots:c,weekdayStyle:v,isHeaderExpanded:w,disableAnimation:S,classNames:T}=N0(),{gridProps:C,headerProps:D,weekDays:B}=rZ({...e,weekdayStyle:v,endDate:yv(t)},d),j=[...new Array(h).keys()].map(Y=>L.jsx("tr",{className:c==null?void 0:c.gridBodyRow({class:T==null?void 0:T.gridBodyRow}),"data-slot":"grid-body-row",inert:w?!0:void 0,children:d.getDatesInWeek(Y,t).map((V,F)=>V?L.jsx(OJ,{classNames:T,currentMonth:t,date:V,isPickerVisible:w,slots:c,state:d},F):L.jsx("td",{},F))},Y));return L.jsxs("table",{...C,"aria-hidden":vt(w),className:c==null?void 0:c.grid({class:T==null?void 0:T.grid}),"data-slot":"grid",tabIndex:-1,children:[L.jsx("thead",{...D,className:c==null?void 0:c.gridHeader({class:T==null?void 0:T.gridHeader}),"data-slot":"grid-header",children:L.jsx("tr",{className:c==null?void 0:c.gridHeaderRow({class:T==null?void 0:T.gridHeaderRow}),"data-slot":"grid-header-row",children:B.map((Y,V)=>L.jsx("th",{className:c==null?void 0:c.gridHeaderCell({class:T==null?void 0:T.gridHeaderCell}),"data-slot":"grid-header-cell",children:L.jsx("span",{children:Y})},V))})}),S?L.jsx("tbody",{className:c==null?void 0:c.gridBody({class:T==null?void 0:T.gridBody}),"data-slot":"grid-body",tabIndex:w?-1:0,children:j},n):L.jsx(u6.tbody,{animate:"center",className:c==null?void 0:c.gridBody({class:T==null?void 0:T.gridBody}),custom:r,"data-slot":"grid-body",exit:"exit",initial:"enter",variants:rz,children:j},n)]})}function VJ(e,t){const r=[];if(!e||!t)return r;let n=vv(e);for(;n.compare(t)<=0;)r.push(n),n=vv(n.add({years:1}));return r}function UJ(e,t){return e.add({months:t})}function KJ(e){const r=[vv(e)];for(;r.length<12;){const n=r[r.length-1];r.push(UJ(n,1))}return r}var HJ="Expected a function",oI=NaN,WJ="[object Symbol]",GJ=/^\s+|\s+$/g,qJ=/^[-+]0x[0-9a-f]+$/i,ZJ=/^0b[01]+$/i,YJ=/^0o[0-7]+$/i,XJ=parseInt,JJ=typeof tp=="object"&&tp&&tp.Object===Object&&tp,QJ=typeof self=="object"&&self&&self.Object===Object&&self,eQ=JJ||QJ||Function("return this")(),tQ=Object.prototype,rQ=tQ.toString,nQ=Math.max,iQ=Math.min,P_=function(){return eQ.Date.now()};function aQ(e,t,r){var n,s,h,d,c,v,w=0,S=!1,T=!1,C=!0;if(typeof e!="function")throw new TypeError(HJ);t=sI(t)||0,kw(r)&&(S=!!r.leading,T="maxWait"in r,h=T?nQ(sI(r.maxWait)||0,t):h,C="trailing"in r?!!r.trailing:C);function D(fe){var be=n,q=s;return n=s=void 0,w=fe,d=e.apply(q,be),d}function B(fe){return w=fe,c=setTimeout(V,t),S?D(fe):d}function j(fe){var be=fe-v,q=fe-w,pe=t-be;return T?iQ(pe,h-q):pe}function Y(fe){var be=fe-v,q=fe-w;return v===void 0||be>=t||be<0||T&&q>=h}function V(){var fe=P_();if(Y(fe))return F(fe);c=setTimeout(V,j(fe))}function F(fe){return c=void 0,C&&n?D(fe):(n=s=void 0,d)}function N(){c!==void 0&&clearTimeout(c),w=0,n=v=s=c=void 0}function ee(){return c===void 0?d:F(P_())}function ie(){var fe=P_(),be=Y(fe);if(n=arguments,s=this,v=fe,be){if(c===void 0)return B(v);if(T)return c=setTimeout(V,t),D(v)}return c===void 0&&(c=setTimeout(V,t)),d}return ie.cancel=N,ie.flush=ee,ie}function kw(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function oQ(e){return!!e&&typeof e=="object"}function sQ(e){return typeof e=="symbol"||oQ(e)&&rQ.call(e)==WJ}function sI(e){if(typeof e=="number")return e;if(sQ(e))return oI;if(kw(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=kw(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(GJ,"");var r=ZJ.test(e);return r||YJ.test(e)?XJ(e.slice(2),r?2:8):qJ.test(e)?oI:+e}var lQ=aQ;const lI=lm(lQ);var cI=200;function cQ(e){var t;const{date:r,currentMonth:n}=e,{slots:s,state:h,headerRef:d,isHeaderExpanded:c,setIsHeaderExpanded:v,classNames:w}=N0(),S=z.useRef(null),T=z.useRef(null),C=z.useRef(null),D=z.useRef(),B=z.useRef(),j=Ts({month:"long",era:n.calendar.identifier==="gregory"&&n.era==="BC"?"short":void 0,calendar:n.calendar.identifier,timeZone:h.timeZone}),Y=Ts({year:"numeric",timeZone:h.timeZone}),V=(t=VJ(h.minValue,h.maxValue))==null?void 0:t.map(pe=>({value:pe.year,label:Y.format(pe.toDate(h.timeZone))})),F=KJ(r).map(pe=>({value:pe.month,label:j.format(pe.toDate(h.timeZone))}));function N(pe){return pe.current||(pe.current=new Map),pe.current}function ee(pe,xe,le){const Se=N(le==="months"?D:B);pe?Se.set(xe,pe):Se.delete(xe)}const ie=z.useCallback((pe,xe,le)=>{if(!(pe.target instanceof HTMLElement))return;const Se=N(le==="months"?D:B),ye=Array.from(Se.values()).find(ae=>{const De=ae.getBoundingClientRect(),je=xe==null?void 0:xe.getBoundingClientRect();return je?IO(De,je):!1}),Be=Number(ye==null?void 0:ye.getAttribute("data-value"));if(!Be)return;let Re=h.focusedDate.set(le==="months"?{month:Be}:{year:Be});h.setFocusedDate(Re)},[h,c]);z.useEffect(()=>{fe(r.month,"months",!1),fe(r.year,"years",!1)},[c]),z.useEffect(()=>{const pe=C.current,xe=T.current,le=S.current;if(!le)return;const Se=lI(ye=>ie(ye,le,"months"),cI),ge=lI(ye=>ie(ye,le,"years"),cI);return pe==null||pe.addEventListener("scroll",Se),xe==null||xe.addEventListener("scroll",ge),()=>{Se&&(pe==null||pe.removeEventListener("scroll",Se)),ge&&(xe==null||xe.removeEventListener("scroll",ge))}},[ie]);function fe(pe,xe,le=!0){const Se=xe==="months"?D:B,ge=xe==="months"?C:T,Be=N(Se).get(pe);Be&&MG(Be,{scrollMode:"always",behavior:le?"smooth":"auto",boundary:ge.current})}const be=z.useCallback((pe,xe)=>{const le=pe.target,Se=Number(le.getAttribute("data-value"));Se&&fe(Se,xe)},[h]),q=z.useCallback((pe,xe,le)=>{var Se;const ge=N(le==="months"?D:B);if(!ge.get(xe))return;let Be=xe;switch(pe.key){case"ArrowDown":Be=xe+1;break;case"ArrowUp":Be=xe-1;break;case"Home":Be=0;break;case"End":Be=F.length-1;break;case"PageUp":Be=xe-3;break;case"PageDown":Be=xe+3;break;case"Escape":case"Enter":case" ":v==null||v(!1),(Se=d==null?void 0:d.current)==null||Se.focus();return}const Re=ge.get(Be);Re==null||Re.focus()},[h]);return{state:h,slots:s,classNames:w,years:V,months:F,highlightRef:S,monthsListRef:C,yearsListRef:T,getItemRef:ee,isHeaderExpanded:c,onPickerItemPressed:be,onPickerItemKeyDown:q}}var Aw=z.forwardRef(({children:e,autoFocus:t,isDisabled:r,onKeyDown:n,...s},h)=>{const d=wn(h),{buttonProps:c,isPressed:v}=_m({elementType:"button",isDisabled:r,onKeyDown:n,...s},d),{isFocusVisible:w,isFocused:S,focusProps:T}=As({autoFocus:t}),{isHovered:C,hoverProps:D}=iu({isDisabled:r});return L.jsx("button",{ref:d,"data-disabled":vt(r),"data-focus":vt(S),"data-focus-visible":vt(w),"data-hover":vt(C),"data-pressed":vt(v),"data-slot":"picker-item",...Ut(T,D,c,Lo(s,{enabled:!0})),children:e})});Aw.displayName="CalendarPickerItem";var uI=3;function uQ(e){const{state:t,slots:r,months:n,years:s,highlightRef:h,monthsListRef:d,yearsListRef:c,classNames:v,getItemRef:w,isHeaderExpanded:S,onPickerItemPressed:T,onPickerItemKeyDown:C}=cQ(e),D=z.useCallback(j=>L.jsx("div",{"aria-hidden":"true",className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-slot":"picker-item-empty",tabIndex:-1,...j,children:" "}),[r,v==null?void 0:v.pickerItem]),B=z.useCallback(({children:j})=>L.jsxs(L.Fragment,{children:[Array.from({length:uI},(Y,V)=>L.jsx(D,{},V)),j,Array.from({length:uI},(Y,V)=>L.jsx(D,{},V))]}),[D]);return L.jsxs("div",{className:r==null?void 0:r.pickerWrapper({class:v==null?void 0:v.pickerWrapper}),"data-slot":"picker-wrapper",inert:S?!0:void 0,children:[L.jsx("div",{ref:h,className:r==null?void 0:r.pickerHighlight({class:v==null?void 0:v.pickerHighlight}),"data-slot":"picker-highlight"}),L.jsx("div",{ref:d,className:r==null?void 0:r.pickerMonthList({class:v==null?void 0:v.pickerMonthList}),"data-slot":"picker-month-list",children:L.jsx(B,{children:n.map(j=>{var Y;return L.jsx(Aw,{ref:V=>w(V,j.value,"months"),className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-value":j.value,tabIndex:!S||((Y=t.focusedDate)==null?void 0:Y.month)!==j.value?-1:0,onKeyDown:V=>C(V,j.value,"months"),onPress:V=>T(V,"months"),children:j.label},`picker-month-${j.value}`)})})}),L.jsx("div",{ref:c,className:r==null?void 0:r.pickerYearList({class:v==null?void 0:v.pickerYearList}),"data-slot":"picker-year-list",children:L.jsx(B,{children:s.map(j=>{var Y;return L.jsx(Aw,{ref:V=>w(V,j.value,"years"),className:r==null?void 0:r.pickerItem({class:v==null?void 0:v.pickerItem}),"data-value":j.value,tabIndex:!S||((Y=t.focusedDate)==null?void 0:Y.year)!==j.value?-1:0,onKeyDown:V=>C(V,j.value,"years"),onPress:V=>T(V,"years"),children:j.label},`picker-year-${j.value}`)})})})]})}function nz(e){const{Component:t="div",showHelper:r,topContent:n,bottomContent:s,calendarProps:h,nextButtonProps:d,prevButtonProps:c,buttonPickerProps:v,errorMessageProps:w,calendarRef:S,errorMessage:T,...C}=e,{state:D,slots:B,visibleMonths:j,showMonthAndYearPickers:Y,disableAnimation:V,classNames:F}=N0(),[N,ee]=z.useState(0),{direction:ie}=uo(),fe=D.visibleRange.start,be=[],q=[];for(let xe=0;xe<j;xe++){let le=fe.add({months:xe});be.push(L.jsxs(z.Fragment,{children:[xe===0&&L.jsx(Cs,{...c,onPress:Ps(c.onPress,()=>ee(-1)),children:ie==="rtl"?L.jsx(zA,{}):L.jsx(LA,{})}),L.jsx(NJ,{buttonPickerProps:v,currentMonth:fe,date:le,direction:N}),xe===j-1&&L.jsx(Cs,{...d,onPress:Ps(d.onPress,()=>ee(1)),children:ie==="rtl"?L.jsx(LA,{}):L.jsx(zA,{})})]},`calendar-header-${xe}`));const Se=z.createElement(jJ,{...e,key:`calendar-month-${xe}`,currentMonth:fe.month,direction:N,startDate:le});q.push(Y?L.jsxs(z.Fragment,{children:[Se,L.jsx(uQ,{currentMonth:fe,date:le})]},`calendar-month-with-pickers-${xe}`):Se)}const pe=L.jsxs(L.Fragment,{children:[L.jsx("div",{className:B==null?void 0:B.headerWrapper({class:F==null?void 0:F.headerWrapper}),"data-slot":"header-wrapper",children:be},"header-wrapper"),L.jsx("div",{className:B==null?void 0:B.gridWrapper({class:F==null?void 0:F.gridWrapper}),"data-slot":"grid-wrapper",children:q},"grid-wrapper")]});return L.jsxs(t,{...Ut(h,C),ref:S,children:[n,L.jsx(jb,{children:L.jsx("h2",{children:h["aria-label"]})}),V?L.jsx("div",{className:B==null?void 0:B.content({class:F==null?void 0:F.content}),"data-slot":"content",children:pe}):L.jsx(E$,{className:B==null?void 0:B.content({class:F==null?void 0:F.content}),"data-slot":"content",children:L.jsx(uY,{custom:N,initial:!1,mode:"popLayout",children:L.jsx(L.Fragment,{children:L.jsx(dY,{transition:BJ,children:L.jsx(hY,{features:FJ,children:pe})})})})}),L.jsx(jb,{children:L.jsx("button",{"aria-label":d["aria-label"],disabled:d.isDisabled,tabIndex:-1,onClick:()=>D.focusNextPage()})}),D.isValueInvalid&&r&&L.jsx("div",{className:B==null?void 0:B.helperWrapper({class:F==null?void 0:F.helperWrapper}),"data-slot":"helper-wrapper",children:L.jsx("span",{...w,className:B==null?void 0:B.errorMessage({class:F==null?void 0:F.errorMessage}),"data-slot":"error-message",children:T||"Selected date unavailable."})}),s]})}function iz(e,t){const{context:r,getBaseCalendarProps:n}=aZ({...e,ref:t});return L.jsx(tz,{value:r,children:L.jsx(nz,{...n()})})}iz.displayName="NextUI.Calendar";var dQ=Er(iz);function hQ({className:e,...t}){var r;const{Component:n,slots:s,children:h,domRef:d,locale:c,showHelper:v,minValue:w,maxValue:S,weekdayStyle:T,visibleDuration:C,shouldFilterDOMProps:D,isHeaderExpanded:B,visibleMonths:j,createCalendar:Y,baseProps:V,getPrevButtonProps:F,getNextButtonProps:N,getErrorMessageProps:ee,setIsHeaderExpanded:ie,topContent:fe,bottomContent:be,errorMessage:q,classNames:pe,otherProps:xe}=nL({...t,isRange:!0}),le=z.useRef(null),Se=iZ({...t,locale:c,minValue:w,maxValue:S,visibleDuration:C,createCalendar:!Y||typeof Y!="function"?T3:Y}),{title:ge,calendarProps:ye,prevButtonProps:Be,nextButtonProps:Re,errorMessageProps:ae}=tZ(t,Se,d),De=ur(pe==null?void 0:pe.base,e),je=(r=t.disableAnimation)!=null?r:!1,Oe=(ze={})=>({...V,Component:n,showHelper:v,topContent:fe,bottomContent:be,calendarRef:d,calendarProps:ye,prevButtonProps:F(Be),nextButtonProps:N(Re),errorMessageProps:ee(ae),className:s.base({class:De}),errorMessage:q,...Lo(xe,{enabled:D}),...ze}),se=z.useMemo(()=>({state:Se,slots:s,headerRef:le,weekdayStyle:T,isHeaderExpanded:B,setIsHeaderExpanded:ie,visibleMonths:j,classNames:pe,disableAnimation:je}),[Se,s,pe,T,B,ie,j,je]);return{Component:n,children:h,domRef:d,context:se,state:Se,slots:s,title:ge,classNames:pe,getBaseCalendarProps:Oe}}function az(e,t){const{context:r,getBaseCalendarProps:n}=hQ({...e,ref:t});return L.jsx(tz,{value:r,children:L.jsx(nz,{...n()})})}az.displayName="NextUI.RangeCalendar";var fQ=Er(az);const pQ=({fill:e,size:t,height:r,width:n,...s})=>L.jsx("svg",{fill:"none",height:t||r||24,viewBox:"0 0 24 24",width:t||n||24,xmlns:"http://www.w3.org/2000/svg",...s,children:L.jsx("path",{d:"m19.92 8.95-6.52 6.52c-.77.77-2.03.77-2.8 0L4.08 8.95",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:1.5})}),mQ=({fill:e,size:t,height:r,width:n,...s})=>L.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:L.jsx("path",{d:"M21.53 15.93c-.16-.27-.61-.69-1.73-.49a8.46 8.46 0 01-1.88.13 8.409 8.409 0 01-5.91-2.82 8.068 8.068 0 01-1.44-8.66c.44-1.01.13-1.54-.09-1.76s-.77-.55-1.83-.11a10.318 10.318 0 00-6.32 10.21 10.475 10.475 0 007.04 8.99 10 10 0 002.89.55c.16.01.32.02.48.02a10.5 10.5 0 008.47-4.27c.67-.93.49-1.519.32-1.79z",fill:"currentColor"})}),gQ=({fill:e,size:t,height:r,width:n,...s})=>L.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:L.jsxs("g",{fill:"currentColor",children:[L.jsx("path",{d:"M19 12a7 7 0 11-7-7 7 7 0 017 7z"}),L.jsx("path",{d:"M12 22.96a.969.969 0 01-1-.96v-.08a1 1 0 012 0 1.038 1.038 0 01-1 1.04zm7.14-2.82a1.024 1.024 0 01-.71-.29l-.13-.13a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.984.984 0 01-.7.29zm-14.28 0a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a1 1 0 01-.7.29zM22 13h-.08a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zM2.08 13H2a1 1 0 010-2 1.038 1.038 0 011.04 1 .969.969 0 01-.96 1zm16.93-7.01a1.024 1.024 0 01-.71-.29 1 1 0 010-1.41l.13-.13a1 1 0 011.41 1.41l-.13.13a.984.984 0 01-.7.29zm-14.02 0a1.024 1.024 0 01-.71-.29l-.13-.14a1 1 0 011.41-1.41l.13.13a1 1 0 010 1.41.97.97 0 01-.7.3zM12 3.04a.969.969 0 01-1-.96V2a1 1 0 012 0 1.038 1.038 0 01-1 1.04z"})]})}),yQ=({fill:e,size:t,height:r,width:n,...s})=>L.jsx("svg",{focusable:"false",height:t||r||24,role:"presentation",viewBox:"0 0 24 24",width:t||r||24,xmlns:"http://www.w3.org/2000/svg",...s,children:L.jsx("path",{fill:"currentColor",d:"M12 12q.825 0 1.413-.587T14 10t-.587-1.412T12 8t-1.412.588T10 10t.588 1.413T12 12m0 10q-4.025-3.425-6.012-6.362T4 10.2q0-3.75 2.413-5.975T12 2t5.588 2.225T20 10.2q0 2.5-1.987 5.438T12 22"})});function vQ(e,t,r=window){const n=z.useRef(t);z.useEffect(()=>{n.current=t},[t]),z.useEffect(()=>{if(r==null)return;const s=h=>n.current(h);return r.addEventListener(e,s),()=>r.removeEventListener(e,s)},[e,r])}function xQ(e){const[t,r]=z.useState(!1),[n,s]=z.useState(null);return z.useEffect(()=>{const h=window.matchMedia(e);s(h),r(h.matches)},[e]),vQ("change",h=>r(h.matches),n),t}function _Q(e,t){return bQ(e,t,window.localStorage)}function bQ(e,t,r){const[n,s]=z.useState(()=>{const d=r.getItem(e);return d!=null?JSON.parse(d):t});z.useEffect(()=>{if(n===void 0)return r.removeItem(e);r.setItem(e,JSON.stringify(n))},[e,n,r]);const h=z.useCallback(()=>{s(void 0)},[]);return[n,s,h]}function oz(){const[e,t]=_Q("useDarkMode"),r=xQ("(prefers-color-scheme: dark)"),n=e??r;return z.useEffect(()=>{document.body.classList.toggle("dark",n),document.body.classList.toggle("light",!n)},[n]),[n,t]}/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}var bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bl||(bl={}));const dI="popstate";function wQ(e){e===void 0&&(e={});function t(n,s){let{pathname:h,search:d,hash:c}=n.location;return Iw("",{pathname:h,search:d,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:lz(s)}return PQ(t,r,null,e)}function An(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sz(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SQ(){return Math.random().toString(36).substr(2,8)}function hI(e,t){return{usr:e.state,key:e.key,idx:t}}function Iw(e,t,r,n){return r===void 0&&(r=null),om({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sh(t):t,{state:r,key:t&&t.key||n||SQ()})}function lz(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function PQ(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:h=!1}=n,d=s.history,c=bl.Pop,v=null,w=S();w==null&&(w=0,d.replaceState(om({},d.state,{idx:w}),""));function S(){return(d.state||{idx:null}).idx}function T(){c=bl.Pop;let Y=S(),V=Y==null?null:Y-w;w=Y,v&&v({action:c,location:j.location,delta:V})}function C(Y,V){c=bl.Push;let F=Iw(j.location,Y,V);w=S()+1;let N=hI(F,w),ee=j.createHref(F);try{d.pushState(N,"",ee)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;s.location.assign(ee)}h&&v&&v({action:c,location:j.location,delta:1})}function D(Y,V){c=bl.Replace;let F=Iw(j.location,Y,V);w=S();let N=hI(F,w),ee=j.createHref(F);d.replaceState(N,"",ee),h&&v&&v({action:c,location:j.location,delta:0})}function B(Y){let V=s.location.origin!=="null"?s.location.origin:s.location.href,F=typeof Y=="string"?Y:lz(Y);return F=F.replace(/ $/,"%20"),An(V,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,V)}let j={get action(){return c},get location(){return e(s,d)},listen(Y){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(dI,T),v=Y,()=>{s.removeEventListener(dI,T),v=null}},createHref(Y){return t(s,Y)},createURL:B,encodeLocation(Y){let V=B(Y);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:C,replace:D,go(Y){return d.go(Y)}};return j}var fI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(fI||(fI={}));function TQ(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Sh(t):t,s=dz(n.pathname||"/",r);if(s==null)return null;let h=cz(e);CQ(h);let d=null;for(let c=0;d==null&&c<h.length;++c){let v=BQ(s);d=LQ(h[c],v)}return d}function cz(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(h,d,c)=>{let v={relativePath:c===void 0?h.path||"":c,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};v.relativePath.startsWith("/")&&(An(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let w=Kc([n,v.relativePath]),S=r.concat(v);h.children&&h.children.length>0&&(An(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),cz(h.children,t,S,w)),!(h.path==null&&!h.index)&&t.push({path:w,score:$Q(w,h.index),routesMeta:S})};return e.forEach((h,d)=>{var c;if(h.path===""||!((c=h.path)!=null&&c.includes("?")))s(h,d);else for(let v of uz(h.path))s(h,d,v)}),t}function uz(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),h=r.replace(/\?$/,"");if(n.length===0)return s?[h,""]:[h];let d=uz(n.join("/")),c=[];return c.push(...d.map(v=>v===""?h:[h,v].join("/"))),s&&c.push(...d),c.map(v=>e.startsWith("/")&&v===""?"/":v)}function CQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const EQ=/^:[\w-]+$/,kQ=3,AQ=2,IQ=1,MQ=10,DQ=-2,pI=e=>e==="*";function $Q(e,t){let r=e.split("/"),n=r.length;return r.some(pI)&&(n+=DQ),t&&(n+=AQ),r.filter(s=>!pI(s)).reduce((s,h)=>s+(EQ.test(h)?kQ:h===""?IQ:MQ),n)}function RQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function LQ(e,t){let{routesMeta:r}=e,n={},s="/",h=[];for(let d=0;d<r.length;++d){let c=r[d],v=d===r.length-1,w=s==="/"?t:t.slice(s.length)||"/",S=zQ({path:c.relativePath,caseSensitive:c.caseSensitive,end:v},w);if(!S)return null;Object.assign(n,S.params);let T=c.route;h.push({params:n,pathname:Kc([s,S.pathname]),pathnameBase:KQ(Kc([s,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(s=Kc([s,S.pathnameBase]))}return h}function zQ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=FQ(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let h=s[0],d=h.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((w,S,T)=>{let{paramName:C,isOptional:D}=S;if(C==="*"){let j=c[T]||"";d=h.slice(0,h.length-j.length).replace(/(.)\/+$/,"$1")}const B=c[T];return D&&!B?w[C]=void 0:w[C]=(B||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:d,pattern:e}}function FQ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),sz(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,c,v)=>(n.push({paramName:c,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BQ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sz(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function dz(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function NQ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Sh(e):e;return{pathname:r?r.startsWith("/")?r:OQ(r,t):t,search:HQ(n),hash:WQ(s)}}function OQ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function T_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jQ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function VQ(e,t){let r=jQ(e);return t?r.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function UQ(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Sh(e):(s=om({},e),An(!s.pathname||!s.pathname.includes("?"),T_("?","pathname","search",s)),An(!s.pathname||!s.pathname.includes("#"),T_("#","pathname","hash",s)),An(!s.search||!s.search.includes("#"),T_("#","search","hash",s)));let h=e===""||s.pathname==="",d=h?"/":s.pathname,c;if(d==null)c=r;else{let T=t.length-1;if(!n&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),T-=1;s.pathname=C.join("/")}c=T>=0?t[T]:"/"}let v=NQ(s,c),w=d&&d!=="/"&&d.endsWith("/"),S=(h||d===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(w||S)&&(v.pathname+="/"),v}const Kc=e=>e.join("/").replace(/\/\/+/g,"/"),KQ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HQ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,WQ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GQ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hz=["post","put","patch","delete"];new Set(hz);const qQ=["get",...hz];new Set(qQ);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sm.apply(this,arguments)}const nP=z.createContext(null),ZQ=z.createContext(null),O0=z.createContext(null),j0=z.createContext(null),Ph=z.createContext({outlet:null,matches:[],isDataRoute:!1}),fz=z.createContext(null);function V0(){return z.useContext(j0)!=null}function iP(){return V0()||An(!1),z.useContext(j0).location}function pz(e){z.useContext(O0).static||z.useLayoutEffect(e)}function cu(){let{isDataRoute:e}=z.useContext(Ph);return e?lee():YQ()}function YQ(){V0()||An(!1);let e=z.useContext(nP),{basename:t,future:r,navigator:n}=z.useContext(O0),{matches:s}=z.useContext(Ph),{pathname:h}=iP(),d=JSON.stringify(VQ(s,r.v7_relativeSplatPath)),c=z.useRef(!1);return pz(()=>{c.current=!0}),z.useCallback(function(w,S){if(S===void 0&&(S={}),!c.current)return;if(typeof w=="number"){n.go(w);return}let T=UQ(w,JSON.parse(d),h,S.relative==="path");e==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Kc([t,T.pathname])),(S.replace?n.replace:n.push)(T,S.state,S)},[t,n,d,h,e])}function XQ(e,t){return JQ(e,t)}function JQ(e,t,r,n){V0()||An(!1);let{navigator:s}=z.useContext(O0),{matches:h}=z.useContext(Ph),d=h[h.length-1],c=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let w=iP(),S;if(t){var T;let Y=typeof t=="string"?Sh(t):t;v==="/"||(T=Y.pathname)!=null&&T.startsWith(v)||An(!1),S=Y}else S=w;let C=S.pathname||"/",D=C;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(Y.length).join("/")}let B=TQ(e,{pathname:D}),j=nee(B&&B.map(Y=>Object.assign({},Y,{params:Object.assign({},c,Y.params),pathname:Kc([v,s.encodeLocation?s.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:Kc([v,s.encodeLocation?s.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),h,r,n);return t&&j?z.createElement(j0.Provider,{value:{location:sm({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:bl.Pop}},j):j}function QQ(){let e=see(),t=GQ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:s},r):null,null)}const eee=z.createElement(QQ,null);class tee extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?z.createElement(Ph.Provider,{value:this.props.routeContext},z.createElement(fz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ree(e){let{routeContext:t,match:r,children:n}=e,s=z.useContext(nP);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(Ph.Provider,{value:t},n)}function nee(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var h;if((h=r)!=null&&h.errors)e=r.matches;else return null}let d=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let S=d.findIndex(T=>T.route.id&&(c==null?void 0:c[T.route.id])!==void 0);S>=0||An(!1),d=d.slice(0,Math.min(d.length,S+1))}let v=!1,w=-1;if(r&&n&&n.v7_partialHydration)for(let S=0;S<d.length;S++){let T=d[S];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(w=S),T.route.id){let{loaderData:C,errors:D}=r,B=T.route.loader&&C[T.route.id]===void 0&&(!D||D[T.route.id]===void 0);if(T.route.lazy||B){v=!0,w>=0?d=d.slice(0,w+1):d=[d[0]];break}}}return d.reduceRight((S,T,C)=>{let D,B=!1,j=null,Y=null;r&&(D=c&&T.route.id?c[T.route.id]:void 0,j=T.route.errorElement||eee,v&&(w<0&&C===0?(B=!0,Y=null):w===C&&(B=!0,Y=T.route.hydrateFallbackElement||null)));let V=t.concat(d.slice(0,C+1)),F=()=>{let N;return D?N=j:B?N=Y:T.route.Component?N=z.createElement(T.route.Component,null):T.route.element?N=T.route.element:N=S,z.createElement(ree,{match:T,routeContext:{outlet:S,matches:V,isDataRoute:r!=null},children:N})};return r&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?z.createElement(tee,{location:r.location,revalidation:r.revalidation,component:j,error:D,children:F(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):F()},null)}var mz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mz||{}),Xv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xv||{});function iee(e){let t=z.useContext(nP);return t||An(!1),t}function aee(e){let t=z.useContext(ZQ);return t||An(!1),t}function oee(e){let t=z.useContext(Ph);return t||An(!1),t}function gz(e){let t=oee(),r=t.matches[t.matches.length-1];return r.route.id||An(!1),r.route.id}function see(){var e;let t=z.useContext(fz),r=aee(Xv.UseRouteError),n=gz(Xv.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function lee(){let{router:e}=iee(mz.UseNavigateStable),t=gz(Xv.UseNavigateStable),r=z.useRef(!1);return pz(()=>{r.current=!0}),z.useCallback(function(s,h){h===void 0&&(h={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,sm({fromRouteId:t},h)))},[e,t])}function Co(e){An(!1)}function cee(e){let{basename:t="/",children:r=null,location:n,navigationType:s=bl.Pop,navigator:h,static:d=!1,future:c}=e;V0()&&An(!1);let v=t.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:v,navigator:h,static:d,future:sm({v7_relativeSplatPath:!1},c)}),[v,c,h,d]);typeof n=="string"&&(n=Sh(n));let{pathname:S="/",search:T="",hash:C="",state:D=null,key:B="default"}=n,j=z.useMemo(()=>{let Y=dz(S,v);return Y==null?null:{location:{pathname:Y,search:T,hash:C,state:D,key:B},navigationType:s}},[v,S,T,C,D,B,s]);return j==null?null:z.createElement(O0.Provider,{value:w},z.createElement(j0.Provider,{children:r,value:j}))}function uee(e){let{children:t,location:r}=e;return XQ(Mw(t),r)}new Promise(()=>{});function Mw(e,t){t===void 0&&(t=[]);let r=[];return z.Children.forEach(e,(n,s)=>{if(!z.isValidElement(n))return;let h=[...t,s];if(n.type===z.Fragment){r.push.apply(r,Mw(n.props.children,h));return}n.type!==Co&&An(!1),!n.props.index||!n.props.children||An(!1);let d={id:n.props.id||h.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=Mw(n.props.children,h)),r.push(d)}),r}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dee="6";try{window.__reactRouterVersion=dee}catch{}const hee="startTransition",mI=vB[hee];function fee(e){let{basename:t,children:r,future:n,window:s}=e,h=z.useRef();h.current==null&&(h.current=wQ({window:s,v5Compat:!0}));let d=h.current,[c,v]=z.useState({action:d.action,location:d.location}),{v7_startTransition:w}=n||{},S=z.useCallback(T=>{w&&mI?mI(()=>v(T)):v(T)},[v,w]);return z.useLayoutEffect(()=>d.listen(S),[d,S]),z.createElement(cee,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:d,future:n})}var gI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gI||(gI={}));var yI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yI||(yI={}));function ns(){const[e,t]=oz(),r=iP(),n=cu(),[s,h]=z.useState(!1),d=[{name:"Home",link:"/"},{name:"About Seth M.R. Jaipuria School",link:"/about/smrj"},{name:"Meet The Team",link:"/about/team"},{name:"Projects",link:"/Projects"},{name:"Partners",link:"/partners"},{name:"Resources",link:"/resources"}];return L.jsxs(Wq,{onMenuOpenChange:h,classNames:{base:["bg-transparent","pt-4 pb-4","fixed","h-[10vh]","flex","justify-center","items-center","w-full"],item:["flex","relative","pt-4 pb-4 pr-3 pl-3","h-8","cursor-pointer","items-center","rounded-3xl","transition-all","data-[active=true]:bg-primary-100","data-[active=true]:text-primary-500","data-[active=true]:font-semibold","font-medium","hover:bg-white","dark:hover:bg-gray-500/40","hover:text-gray","data-[active=true]:shadow data-[links=true]:hover:shadow"]},children:[L.jsxs(d_,{children:[L.jsx(Yq,{"aria-label":s?"Close menu":"Open menu",className:"md:hidden mr-2"}),L.jsxs(Gq,{children:[L.jsx(ch,{draggable:!1,loading:"eager",alt:"JMUN Logo",src:"/logoNT.png",width:75,classNames:{wrapper:"opacity-70 hover:opacity-100 transition-all ease hover:scale-[105%] select-none hidden dark:block"}}),L.jsx(ch,{draggable:!1,loading:"eager",alt:"JMUN Logo",src:"/logoNT.png",width:75,classNames:{wrapper:"opacity-70 hover:opacity-100 transition-all ease hover:scale-[105%] select-none dark:hidden block"}})]})]}),L.jsxs(d_,{"data-links":"true",justify:"center",className:"gap-4 p-2 rounded-3xl h-12 justify-center bg-gray-400/15 shadow-inner hidden md:flex",children:[L.jsx(il,{isActive:r.pathname==="/",onClick:()=>n("/"),children:"Home"}),L.jsx(il,{isActive:r.pathname==="/Projects",onClick:()=>n("/Projects"),children:"Projects"}),L.jsx(il,{isActive:r.pathname==="/Events",onClick:()=>n("/Events"),className:"hidden lg:flex",children:"Events"}),L.jsx(il,{isActive:r.pathname==="/Resources",onClick:()=>n("/Resources"),className:"hidden lg:flex",children:"Resources"}),L.jsx(il,{isActive:r.pathname==="/volunteer",onClick:()=>n("/volunteer"),className:"hidden lg:flex",children:"Volunteer"}),L.jsx(il,{isActive:r.pathname==="/impact",onClick:()=>n("/impact"),className:"hidden lg:flex",children:"Impact"}),L.jsx(il,{isActive:r.pathname==="/contact",onClick:()=>n("/contact"),className:"hidden lg:flex",children:"Contact"}),L.jsxs(Bq,{children:[L.jsx(il,{"data-links":"true",isActive:r.pathname.match("/about"),className:"hidden md:max-lg:flex",children:L.jsx(Lq,{children:L.jsxs("span",{className:"inline-flex content-center flex-wrap",children:["More  ",L.jsx(pQ,{className:"self-center",fill:"currentColor",size:16})]})})}),"3",L.jsxs(Rq,{"aria-label":"Dropdown menu",itemClasses:{base:"gap-4 text-foreground"},onAction:c=>n(c),children:[L.jsx(IA,{children:"Partners"},"/partners"),L.jsx(IA,{children:"Resources"},"/resources")]})]})]}),L.jsxs(d_,{justify:"end",children:[L.jsx(Cs,{auto:!0,onClick:()=>t(!e),isIconOnly:!0,color:"transparent",children:e?L.jsx(gQ,{}):L.jsx(mQ,{})}),L.jsx(Cs,{variant:"shadow",className:"font-semibold text-base bg-gradient-to-tr from-green-900 to-green-800 text-white shadow-lg font-semibold mr-[2vw]",onClick:()=>n("/donate"),children:"Donate"})]}),L.jsx(GR,{className:"pt-8",children:d.map((c,v)=>L.jsx(qq,{children:L.jsx(kG,{color:r.pathname==c.link?"primary":"foreground",className:"w-full",href:c.link,size:"lg",children:c.name})},`${c}-${v}`))})]})}function bc(){return L.jsx("div",{className:"flex fixed h-[100vh] w-full items-center justify-center",children:L.jsx("div",{className:"aspect-square w-[15%] flex justify-center items-center bg-center bg-contain bg-no-repeat pb-5",style:{backgroundImage:"url(/loaderBgWhite.png)"},children:L.jsx("div",{className:`aspect-square w-[70%] bg-center bg-contain bg-no-repeat mb-7 animate-[spin_5s_infinite_linear] duration-[10s]
                `,style:{backgroundImage:"url(/loaderWhite.png)"}})})})}var yz={exports:{}},pee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mee=pee,gee=mee;function vz(){}function xz(){}xz.resetWarningCache=vz;var yee=function(){function e(n,s,h,d,c,v){if(v!==gee){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xz,resetWarningCache:vz};return r.PropTypes=r,r};yz.exports=yee();var Or=yz.exports;function _z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bz(e,t,r){return t&&vee(e.prototype,t),e}function wz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dw(e,t)}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function Dw(e,t){return Dw=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Dw(e,t)}function xee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bee(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:_ee(e)}function Sz(e){var t=xee();return function(){var n=Jv(e),s;if(t){var h=Jv(this).constructor;s=Reflect.construct(n,arguments,h)}else s=n.apply(this,arguments);return bee(this,s)}}function wee(e){return See(e)||Pee(e)||Tee(e)||Cee()}function See(e){if(Array.isArray(e))return $w(e)}function Pee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tee(e,t){if(e){if(typeof e=="string")return $w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(e,t)}}function $w(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ep(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=String(e);if(t===0)return r;var n=r.match(/(.*?)([0-9]+)(.*)/),s=n?n[1]:"",h=n?n[3]:"",d=n?n[2]:r,c=d.length>=t?d:(wee(Array(t)).map(function(){return"0"}).join("")+d).slice(t*-1);return"".concat(s).concat(c).concat(h)}var Pz={daysInHours:!1,zeroPadTime:2};function Eee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.now,n=r===void 0?Date.now:r,s=t.precision,h=s===void 0?0:s,d=t.controlled,c=t.offsetTime,v=c===void 0?0:c,w=t.overtime,S;typeof e=="string"?S=new Date(e).getTime():e instanceof Date?S=e.getTime():S=e,d||(S+=v);var T=d?S:S-n(),C=Math.min(20,Math.max(0,h)),D=Math.round(parseFloat(((w?T:Math.max(0,T))/1e3).toFixed(C))*1e3),B=Math.abs(D)/1e3;return{total:D,days:Math.floor(B/(3600*24)),hours:Math.floor(B/3600%24),minutes:Math.floor(B/60%60),seconds:Math.floor(B%60),milliseconds:Number((B%1*1e3).toFixed()),completed:D<=0}}function kee(e,t){var r=e.days,n=e.hours,s=e.minutes,h=e.seconds,d=Object.assign(Object.assign({},Pz),t),c=d.daysInHours,v=d.zeroPadTime,w=d.zeroPadDays,S=w===void 0?v:w,T=Math.min(2,v),C=c?ep(n+r*24,v):ep(n,T);return{days:c?"":ep(r,S),hours:C,minutes:ep(s,T),seconds:ep(h,T)}}var Tz=function(e){wz(r,e);var t=Sz(r);function r(){var n;return _z(this,r),n=t.apply(this,arguments),n.state={count:n.props.count||3},n.startCountdown=function(){n.interval=window.setInterval(function(){var s=n.state.count-1;s===0?(n.stopCountdown(),n.props.onComplete&&n.props.onComplete()):n.setState(function(h){return{count:h.count-1}})},1e3)},n.stopCountdown=function(){clearInterval(n.interval)},n.addTime=function(s){n.stopCountdown(),n.setState(function(h){return{count:h.count+s}},n.startCountdown)},n}return bz(r,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?z.cloneElement(this.props.children,{count:this.state.count}):null}}]),r}(z.Component);Tz.propTypes={count:Or.number,children:Or.element,onComplete:Or.func};var aP=function(e){wz(r,e);var t=Sz(r);function r(n){var s;if(_z(this,r),s=t.call(this,n),s.mounted=!1,s.initialTimestamp=s.calcOffsetStartTimestamp(),s.offsetStartTimestamp=s.props.autoStart?0:s.initialTimestamp,s.offsetTime=0,s.legacyMode=!1,s.legacyCountdownRef=z.createRef(),s.tick=function(){var d=s.calcTimeDelta(),c=d.completed&&!s.props.overtime?void 0:s.props.onTick;s.setTimeDeltaState(d,void 0,c)},s.start=function(){if(!s.isStarted()){var d=s.offsetStartTimestamp;s.offsetStartTimestamp=0,s.offsetTime+=d?s.calcOffsetStartTimestamp()-d:0;var c=s.calcTimeDelta();s.setTimeDeltaState(c,"STARTED",s.props.onStart),!s.props.controlled&&(!c.completed||s.props.overtime)&&(s.clearTimer(),s.interval=window.setInterval(s.tick,s.props.intervalDelay))}},s.pause=function(){s.isPaused()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.setTimeDeltaState(s.state.timeDelta,"PAUSED",s.props.onPause))},s.stop=function(){s.isStopped()||(s.clearTimer(),s.offsetStartTimestamp=s.calcOffsetStartTimestamp(),s.offsetTime=s.offsetStartTimestamp-s.initialTimestamp,s.setTimeDeltaState(s.calcTimeDelta(),"STOPPED",s.props.onStop))},s.isStarted=function(){return s.isStatus("STARTED")},s.isPaused=function(){return s.isStatus("PAUSED")},s.isStopped=function(){return s.isStatus("STOPPED")},s.isCompleted=function(){return s.isStatus("COMPLETED")},n.date){var h=s.calcTimeDelta();s.state={timeDelta:h,status:h.completed?"COMPLETED":"STOPPED"}}else s.legacyMode=!0;return s}return bz(r,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(s){this.legacyMode||this.props.date!==s.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var s=this.props,h=s.date,d=s.now,c=s.precision,v=s.controlled,w=s.overtime;return Eee(h,{now:d,precision:c,controlled:v,offsetTime:this.offsetTime,overtime:w})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(s){this.legacyCountdownRef.current.addTime(s)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(s){return this.state.status===s}},{key:"setTimeDeltaState",value:function(s,h,d){var c=this;if(this.mounted){var v=s.completed&&!this.state.timeDelta.completed,w=s.completed&&h==="STARTED";v&&!this.props.overtime&&this.clearTimer();var S=function(){d&&d(c.state.timeDelta),c.props.onComplete&&(v||w)&&c.props.onComplete(s,w)};return this.setState(function(T){var C=h||T.status;return s.completed&&!c.props.overtime?C="COMPLETED":!h&&C==="COMPLETED"&&(C="STOPPED"),{timeDelta:s,status:C}},S)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var s=this.props,h=s.daysInHours,d=s.zeroPadTime,c=s.zeroPadDays,v=this.state.timeDelta;return Object.assign(Object.assign({},v),{api:this.getApi(),props:this.props,formatted:kee(v,{daysInHours:h,zeroPadTime:d,zeroPadDays:c})})}},{key:"render",value:function(){if(this.legacyMode){var s=this.props,h=s.count,d=s.children,c=s.onComplete;return z.createElement(Tz,{ref:this.legacyCountdownRef,count:h,onComplete:c},d)}var v=this.props,w=v.className,S=v.overtime,T=v.children,C=v.renderer,D=this.getRenderProps();if(C)return C(D);if(T&&this.state.timeDelta.completed&&!S)return z.cloneElement(T,{countdown:D});var B=D.formatted,j=B.days,Y=B.hours,V=B.minutes,F=B.seconds;return z.createElement("span",{className:w},D.total<0?"-":"",j,j?":":"",Y,":",V,":",F)}}]),r}(z.Component);aP.defaultProps=Object.assign(Object.assign({},Pz),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});aP.propTypes={date:Or.oneOfType([Or.instanceOf(Date),Or.string,Or.number]),daysInHours:Or.bool,zeroPadTime:Or.number,zeroPadDays:Or.number,controlled:Or.bool,intervalDelay:Or.number,precision:Or.number,autoStart:Or.bool,overtime:Or.bool,className:Or.string,children:Or.element,renderer:Or.func,now:Or.func,onMount:Or.func,onStart:Or.func,onPause:Or.func,onStop:Or.func,onTick:Or.func,onComplete:Or.func};const Aee="/bgimg.jpg",vI=()=>L.jsx("svg",{className:"ml-5 fill-n-1",width:"24",height:"24",children:L.jsx("path",{d:"M8.293 5.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414L13.586 12 8.293 6.707a1 1 0 0 1 0-1.414z"})}),Iee="/",Mee=[{src:"/images/Event1.jpg",id:"e1",name:"Recycling Camp",post:"2/8/24",link:"https://youtu.be/4rcWLy2MgDQ?si=C24o5UTFjjLNBPtY",desc:"At GVI, we are passionate about promoting environmental sustainability through our Recycling Camp initiative. This camp is designed to educate participants of all ages about the importance of recycling, waste reduction, and responsible waste management practices."},{src:"/images/Event2.jpg",id:"e2",name:"Project Paws",post:"9/8/24",link:"https://youtu.be/lmboaugl6zg?si=CZquRY4XrcXtBarb",desc:"Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives. "},{src:"/images/Event3.jpg",id:"e3",name:"Go EV",post:"16/8/24",link:"https://youtu.be/0sMKYut0pmQ?si=uhYkGfTgcW7RXgok",desc:"Go EV! stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come."},{src:"/images/Event4.jpg",id:"e4",name:"Tree Plantation",post:"24/8/24",link:"https://youtu.be/uTAVw1sbpno?si=j7oPD7X-f46oYbOE",desc:"At GVI, we are committed to environmental stewardship and sustainability. Our Plantation Drive is a proactive initiative aimed at combating climate change and enhancing our ecosystem through the planting of trees and native vegetation."},{src:"/images/Event5.jpg",id:"e5",name:"Clean the Beech Mission",post:"31/8/24",link:"https://youtu.be/JtGsdiYdObQ?si=y8sm6FnWbQWotX_w",desc:"GVI invites you to participate in our Beach Cleaning event, where we come together to protect and preserve our coastal environments. This initiative is part of our commitment to environmental conservation and ensuring our beaches remain clean and beautiful for everyone to enjoy."}],C_={hidden:{opacity:0,scale:.75},visible:{opacity:1,scale:1,transition:{duration:.5}}};function Dee(){z.useEffect(()=>{document.title="Home | GVI"},[]);const e=cu();return L.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[L.jsxs("div",{className:"w-full h-[100vh] font-generica font-semibold text-center",children:[L.jsx("div",{className:"w-full h-full absolute  bg-cover bg-fixed opacity-[0.4]",style:{backgroundImage:`url(${Aee})`,backgroundPosition:"center"}}),L.jsxs("div",{className:"w-full h-full pt-[10vh] flex justify-center items-center flex-col gap-10",children:[L.jsx(ch,{draggable:!1,src:Iee+"logoNT.png",width:450,className:""}),L.jsxs("h1",{className:"text-5xl",children:["GROW",L.jsx("span",{className:"text-6xl",children:"."})," GREEN",L.jsx("span",{className:"text-6xl",children:"."})," GLOBAL",L.jsx("span",{className:"text-6xl",children:"."})]})]})]}),L.jsxs("div",{className:"min-h-[70vh] flex justify-center items-center flex-col text-center py-20",children:[L.jsx("div",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-black text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"GREEN VILLAGE INITIATIVE"}),L.jsx("div",{className:"w-full  m-1 mt-5 flex justify-center items-center text-2xl md:text-3xl lg:text-5xl xl:text-5xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Next Event : Recycling Camp"}),L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 mt-10 gap-4",children:[L.jsx(aP,{date:new Date("2024-08-02T10:00:00"),intervalDelay:1e3,precision:0,renderer:t=>L.jsxs("div",{className:"h-full w-full col-span-2 flex justify-center items-center font-reguilar text-2xl md:text-3xl lg:text-4xl gap-4 ml-4 mr-4",children:[L.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.days," Days"]}),L.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.hours," Hours"]}),L.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.minutes<10?"0"+t.minutes:t.minutes," ","Minutes"]}),L.jsxs("div",{className:"text-2xl md:text-2xl lg:text-5xl xl:text-5xl text-black font-mono dark:text-white",children:[t.seconds<10?"0"+t.seconds:t.seconds," ","Seconds"]})]})}),L.jsx("div",{className:"flex justify-center mb-3 mt-5",children:L.jsx(fQ,{prevButton:"disabled",isReadOnly:!0,"aria-label":"Display Calendar",title:"Volunteer Now",defaultValue:{start:new Lr(2024,8,2,10,0,0,"UTC"),end:new Lr(2024,8,5,9,0,0,"UTC")}})})]})]}),L.jsx("div",{className:"min-h-[80vh] w-full flex items-center flex-col p-7 mb-7",children:L.jsxs(da,{className:"max-w-[80%]",children:[L.jsx(za,{className:"flex items-center",children:L.jsx("p",{className:"pl-4 text-center w-full h-[10vh] flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Our Mission"})}),L.jsx($l,{}),L.jsx(La,{children:L.jsxs("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:["Greetings!",L.jsx("br",{}),L.jsx("br",{}),"At Green Village Initiative, our mission is centered around promoting sustainable development practices within our community and beyond. We are committed to fostering a greener future by implementing initiatives that reduce carbon footprints, promote recycling, and enhance green spaces. .",L.jsx("br",{}),L.jsx("br",{}),"Through collaborative efforts and community engagement, we aim to raise awareness about environmental issues and inspire actionable steps towards sustainability. Our initiatives are designed to not only mitigate environmental impact but also to create lasting benefits for current and future generations. We believe in the power of education and empowerment. By educating our community about the importance of sustainable living and providing practical solutions, we encourage individuals and businesses to adopt eco-friendly practices in their daily lives and operations.",L.jsx("br",{}),L.jsx("br",{}),"From organizing local clean-up drives to advocating for renewable energy solutions, our projects are diverse and impactful. We work closely with local authorities, businesses, and volunteers to ensure our efforts are aligned with broader environmental goals and contribute positively to our surroundings. Join us in our journey towards a healthier planet and a more resilient community. Together, we can make a significant difference in preserving our natural resources and building a sustainable future for all.",L.jsx("br",{}),L.jsx("br",{})]})})]})}),L.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[L.jsx("p",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Upcoming Events"}),L.jsx("div",{className:"flex flex-col items-center gap-4",children:L.jsx("div",{className:"p-5 mb-12 sm:w-[80vw] md:w-[70vw] w-full lg:w-[70vw] grid grid-cols-5 gap-10",animate:"visible",children:Mee.map((t,r)=>L.jsxs(L.Fragment,{children:[r%2===1&&L.jsx(r_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:C_,className:"flex flex-col col-span-2 gap-2 justify-center items-end",children:L.jsxs(da,{className:"max-w-[100%] p-5",children:[L.jsx(za,{className:"flex items-center",children:L.jsx("p",{className:"pl-4 text-center w-full h-[10vh]flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:L.jsx("p",{className:"text-md md:text-4xl font-semibold",children:t.name})})}),L.jsx($l,{}),L.jsxs(La,{children:[L.jsx("p",{className:"text-sm md:text-lg text-center w-full",children:t.post}),L.jsx("p",{className:"text-sm md:text-lg",children:t.desc}),L.jsx("div",{className:"flex justify-center",children:L.jsx("p",{className:"w-full flex justify-center items-center font-code text-xs font-bold text-n-1 uppercase tracking-wider p-3",children:L.jsxs(Cs,{onClick:()=>e("/Events"),children:[" Explore more ",L.jsx(vI,{})," "]})})})]})]})}),L.jsx(r_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:C_,className:"col-span-3",children:L.jsx(ch,{loading:"eager",classNames:{wrapper:"col-span-3"},src:t.src,alt:"Image of "+t.post},r)}),r%2===0&&L.jsx(r_.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:C_,className:"flex flex-col col-span-2 gap-2 justify-center items-start",children:L.jsxs(da,{className:"max-w-[100%] p-5",children:[L.jsx(za,{className:"flex items-center",children:L.jsx("p",{className:"pl-4 text-center w-full h-[10vh]flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:L.jsx("p",{className:"text-md md:text-4xl font-semibold",children:t.name})})}),L.jsx($l,{}),L.jsxs(La,{children:[L.jsx("p",{className:"text-sm md:text-lg text-center w-full",children:t.post}),L.jsx("p",{className:"text-sm md:text-lg",children:t.desc}),L.jsx("p",{className:"w-full flex justify-center items-center font-code text-xs font-bold text-n-1 uppercase tracking-wider p-3",children:L.jsxs(Cs,{onClick:()=>e("/Events"),children:[" Explore more ",L.jsx(vI,{})," "]})})]})]})})]}))})})]})]})}const $ee="/";function al(){return L.jsxs("div",{id:"footer",className:"w-full grid grid-cols-1 md:grid-cols-2 pt-12 pb-12 pl-8 pr-8 gap-8 bg-[rgb(20,18,18)] text-white",children:[L.jsxs("div",{className:"w-full flex justify-center items-center flex-col gap-8",children:[L.jsx("div",{children:L.jsx("p",{className:"text-2xl font-semibold mb-4 bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:" Go. Green. Global."})}),L.jsxs("div",{className:"flex flex-row gap-4",children:[L.jsx("div",{className:"flex items-center justify-center",children:L.jsx(yQ,{className:"inline row-span-3",size:40})}),L.jsxs("div",{children:[L.jsx("p",{className:"text",children:" MS - 01"}),L.jsx("p",{className:"text",children:"Modern School,"}),L.jsx("p",{className:"text",children:"Hackathon."})]})]})]}),L.jsx("div",{className:"w-full flex justify-center items-center",children:L.jsx(ch,{src:$ee+"logoNT.png",width:150})}),L.jsx("div",{className:"w-full flex justify-center items-center"})]})}function Ree(){z.useState(!0);const[e,t]=z.useState(!0);return z.useEffect(()=>{document.title="Volunteer | GVI"},[]),L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh] flex justify-center",children:L.jsx("div",{className:"w-[95vw] md:w-[80vw] lg:w-[70vw] xl:w-[60vw] py-8",children:L.jsx(da,{children:L.jsx(rL,{isLoaded:!e,classNames:{content:"h-[80vh] w-full"},children:L.jsx("iframe",{onLoad:()=>t(!1),className:"w-full h-full",src:"https://docs.google.com/forms/d/e/1FAIpQLScZ6yF2BS99jF1Y_9xN38uEbL5I30xCIvWUAmA2DjJa5R2S5A/viewform"})})})})})}const Lee="/upiid.jpg";function zee(){return z.useEffect(()=>{document.title="Donate | GVI"},[]),L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:L.jsxs("div",{className:"flex justify-center items-centre w-full h-[110vh]",children:[L.jsxs(da,{className:"py-4 flex w-[35vw] justify-center items-centre",children:[L.jsxs(za,{className:"pb-0 pt-2 px-4 flex-col items-centre justify-centre",children:[L.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-bold text-4xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Donate for the future"}),L.jsx("h4",{className:"font-bold text-2xl mt-5",children:"UPI ID - 9415336120@pthdfc"})]}),L.jsx(La,{className:"overflow-visible py-2 w-full flex items-centre justify-centre",children:L.jsx(ch,{alt:"Card background",className:"object-cover rounded-xl m-auto w-full flex justify-center items-centre",src:Lee,width:500})})]}),L.jsxs(da,{className:"py-4 flex w-[35vw] justify-center items-centre ml-5",children:[L.jsx(za,{className:"pb-0 pt-2 px-4 flex-col items-centre justify-centre",children:L.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-bold text-4xl font-kurale bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"How we use your donations"})}),L.jsx(La,{className:"overflow-visible py-2 w-full flex items-centre justify-centre",children:L.jsxs("p",{className:"w-full flex text-md pl-4",children:["Donations play a crucial role in supporting our mission at Green Village Initiative. We deeply value the trust and generosity of our donors. Here's how donations are typically used:",L.jsx("br",{}),L.jsx("br",{}),"1. Programs and Services: The majority of donations go directly towards funding our core programs and services. These may include initiatives such as environmental conservation projects, educational programs, community outreach efforts, or providing essential services to those in need.",L.jsx("br",{}),L.jsx("br",{}),"2. Operational Support: Donations also contribute to the day-to-day operations of our organization. This includes covering administrative costs, staffing, overhead expenses, and maintaining necessary infrastructure. Operational support ensures that our organization functions smoothly and efficiently, enabling us to focus on our mission without interruption.",L.jsx("br",{}),L.jsx("br",{}),"3. Impact and Expansion: Some donations are allocated towards expanding our impact and reach. This could involve scaling up successful programs, launching new initiatives, or investing in innovative solutions that address emerging challenges. Your support allows us to grow our efforts and make a greater difference in the communities we serve.",L.jsx("br",{}),L.jsx("br",{}),"Every donation, regardless of size, plays a critical role in advancing our mission and creating positive change. We are grateful for your support and remain dedicated to maximizing the impact of every dollar donated towards building a better future for all."]})})]})]})})}var Cz={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.4.1/LICENSE.txt
 */(function(e,t){(function(r,n){e.exports=n()})(tp,function(){var r={},n={};function s(d,c,v){if(n[d]=v,d==="index"){var w="var sharedModule = {}; ("+n.shared+")(sharedModule); ("+n.worker+")(sharedModule);",S={};return n.shared(S),n.index(r,S),typeof window<"u"&&r.setWorkerUrl(window.URL.createObjectURL(new Blob([w],{type:"text/javascript"}))),r}}s("shared",["exports"],function(d){function c(o,i,l,f){return new(l||(l=Promise))(function(m,y){function b(M){try{k(f.next(M))}catch($){y($)}}function P(M){try{k(f.throw(M))}catch($){y($)}}function k(M){var $;M.done?m(M.value):($=M.value,$ instanceof l?$:new l(function(O){O($)})).then(b,P)}k((f=f.apply(o,i||[])).next())})}function v(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}typeof SuppressedError=="function"&&SuppressedError;var w=S;function S(o,i){this.x=o,this.y=i}S.prototype={clone:function(){return new S(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,i){return this.clone()._rotateAround(o,i)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var i=o.x-this.x,l=o.y-this.y;return i*i+l*l},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,i){return Math.atan2(this.x*i-this.y*o,this.x*o+this.y*i)},_matMult:function(o){var i=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=i,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var i=Math.cos(o),l=Math.sin(o),f=l*this.x+i*this.y;return this.x=i*this.x-l*this.y,this.y=f,this},_rotateAround:function(o,i){var l=Math.cos(o),f=Math.sin(o),m=i.y+f*(this.x-i.x)+l*(this.y-i.y);return this.x=i.x+l*(this.x-i.x)-f*(this.y-i.y),this.y=m,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},S.convert=function(o){return o instanceof S?o:Array.isArray(o)?new S(o[0],o[1]):o};var T=v(w),C=D;function D(o,i,l,f){this.cx=3*o,this.bx=3*(l-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=i,this.p2x=l,this.p2y=f}D.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,i){if(i===void 0&&(i=1e-6),o<0)return 0;if(o>1)return 1;for(var l=o,f=0;f<8;f++){var m=this.sampleCurveX(l)-o;if(Math.abs(m)<i)return l;var y=this.sampleCurveDerivativeX(l);if(Math.abs(y)<1e-6)break;l-=m/y}var b=0,P=1;for(l=o,f=0;f<20&&(m=this.sampleCurveX(l),!(Math.abs(m-o)<i));f++)o>m?b=l:P=l,l=.5*(P-b)+b;return l},solve:function(o,i){return this.sampleCurveY(this.solveCurveX(o,i))}};var B=v(C);let j,Y;function V(){return j==null&&(j=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),j}function F(){if(Y==null&&(Y=!1,V())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const m=4*f;i.fillStyle=`rgb(${m},${m+1},${m+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const l=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&l[f]!==f){Y=!0;break}}}return Y||!1}function N(o,i,l,f){const m=new B(o,i,l,f);return y=>m.solve(y)}const ee=N(.25,.1,.25,1);function ie(o,i,l){return Math.min(l,Math.max(i,o))}function fe(o,i,l){const f=l-i,m=((o-i)%f+f)%f+i;return m===i?l:m}function be(o,...i){for(const l of i)for(const f in l)o[f]=l[f];return o}let q=1;function pe(o,i,l){const f={};for(const m in o)f[m]=i.call(this,o[m],m,o);return f}function xe(o,i,l){const f={};for(const m in o)i.call(this,o[m],m,o)&&(f[m]=o[m]);return f}function le(o){return Array.isArray(o)?o.map(le):typeof o=="object"&&o?pe(o,le):o}const Se={};function ge(o){Se[o]||(typeof console<"u"&&console.warn(o),Se[o]=!0)}function ye(o,i,l){return(l.y-o.y)*(i.x-o.x)>(i.y-o.y)*(l.x-o.x)}function Be(o){return typeof WorkerGlobalScope<"u"&&o!==void 0&&o instanceof WorkerGlobalScope}let Re=null;function ae(o){return typeof ImageBitmap<"u"&&o instanceof ImageBitmap}const De="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function je(o,i,l,f,m){return c(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const y=new VideoFrame(o,{timestamp:0});try{const b=y==null?void 0:y.format;if(!b||!b.startsWith("BGR")&&!b.startsWith("RGB"))throw new Error(`Unrecognized format ${b}`);const P=b.startsWith("BGR"),k=new Uint8ClampedArray(f*m*4);if(yield y.copyTo(k,function(M,$,O,H,G){const J=4*Math.max(-$,0),re=(Math.max(0,O)-O)*H*4+J,ce=4*H,ve=Math.max(0,$),Me=Math.max(0,O);return{rect:{x:ve,y:Me,width:Math.min(M.width,$+H)-ve,height:Math.min(M.height,O+G)-Me},layout:[{offset:re,stride:ce}]}}(o,i,l,f,m)),P)for(let M=0;M<k.length;M+=4){const $=k[M];k[M]=k[M+2],k[M+2]=$}return k}finally{y.close()}})}let Oe,se;const ze="AbortError";function Ze(){return new Error(ze)}const lt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function mt(o){return lt.REGISTERED_PROTOCOLS[o.substring(0,o.indexOf("://"))]}const gt="global-dispatcher";class Et extends Error{constructor(i,l,f,m){super(`AJAXError: ${l} (${i}): ${f}`),this.status=i,this.statusText=l,this.url=f,this.body=m}}const Pt=()=>Be(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,At=function(o,i){if(/:\/\//.test(o.url)&&!/^https?:|^file:/.test(o.url)){const f=mt(o.url);if(f)return f(o,i);if(Be(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:o,targetMapId:gt},i)}if(!(/^file:/.test(l=o.url)||/^file:/.test(Pt())&&!/^\w+:/.test(l))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(f,m){return c(this,void 0,void 0,function*(){const y=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:Pt(),signal:m.signal});f.type!=="json"||y.headers.has("Accept")||y.headers.set("Accept","application/json");const b=yield fetch(y);if(!b.ok){const M=yield b.blob();throw new Et(b.status,b.statusText,f.url,M)}let P;P=f.type==="arrayBuffer"||f.type==="image"?b.arrayBuffer():f.type==="json"?b.json():b.text();const k=yield P;if(m.signal.aborted)throw Ze();return{data:k,cacheControl:b.headers.get("Cache-Control"),expires:b.headers.get("Expires")}})}(o,i);if(Be(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:o,mustQueue:!0,targetMapId:gt},i)}var l;return function(f,m){return new Promise((y,b)=>{var P;const k=new XMLHttpRequest;k.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(k.responseType="arraybuffer");for(const M in f.headers)k.setRequestHeader(M,f.headers[M]);f.type==="json"&&(k.responseType="text",!((P=f.headers)===null||P===void 0)&&P.Accept||k.setRequestHeader("Accept","application/json")),k.withCredentials=f.credentials==="include",k.onerror=()=>{b(new Error(k.statusText))},k.onload=()=>{if(!m.signal.aborted)if((k.status>=200&&k.status<300||k.status===0)&&k.response!==null){let M=k.response;if(f.type==="json")try{M=JSON.parse(k.response)}catch($){return void b($)}y({data:M,cacheControl:k.getResponseHeader("Cache-Control"),expires:k.getResponseHeader("Expires")})}else{const M=new Blob([k.response],{type:k.getResponseHeader("Content-Type")});b(new Et(k.status,k.statusText,f.url,M))}},m.signal.addEventListener("abort",()=>{k.abort(),b(Ze())}),k.send(f.body)})}(o,i)};function zt(o){if(!o||o.indexOf("://")<=0||o.indexOf("data:image/")===0||o.indexOf("blob:")===0)return!0;const i=new URL(o),l=window.location;return i.protocol===l.protocol&&i.host===l.host}function Nt(o,i,l){l[o]&&l[o].indexOf(i)!==-1||(l[o]=l[o]||[],l[o].push(i))}function ar(o,i,l){if(l&&l[o]){const f=l[o].indexOf(i);f!==-1&&l[o].splice(f,1)}}class Zt{constructor(i,l={}){be(this,l),this.type=i}}class Yt extends Zt{constructor(i,l={}){super("error",be({error:i},l))}}class Kn{on(i,l){return this._listeners=this._listeners||{},Nt(i,l,this._listeners),this}off(i,l){return ar(i,l,this._listeners),ar(i,l,this._oneTimeListeners),this}once(i,l){return l?(this._oneTimeListeners=this._oneTimeListeners||{},Nt(i,l,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,l){typeof i=="string"&&(i=new Zt(i,l||{}));const f=i.type;if(this.listens(f)){i.target=this;const m=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const P of m)P.call(this,i);const y=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const P of y)ar(f,P,this._oneTimeListeners),P.call(this,i);const b=this._eventedParent;b&&(be(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),b.fire(i))}else i instanceof Yt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,l){return this._eventedParent=i,this._eventedParentData=l,this}}var Ve={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"enum",default:"mercator",values:{mercator:{},globe:{}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const ni=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function kr(o,i){const l={};for(const f in o)f!=="ref"&&(l[f]=o[f]);return ni.forEach(f=>{f in i&&(l[f]=i[f])}),l}function Gt(o,i){if(Array.isArray(o)){if(!Array.isArray(i)||o.length!==i.length)return!1;for(let l=0;l<o.length;l++)if(!Gt(o[l],i[l]))return!1;return!0}if(typeof o=="object"&&o!==null&&i!==null){if(typeof i!="object"||Object.keys(o).length!==Object.keys(i).length)return!1;for(const l in o)if(!Gt(o[l],i[l]))return!1;return!0}return o===i}function yr(o,i){o.push(i)}function Yi(o,i,l){yr(l,{command:"addSource",args:[o,i[o]]})}function ho(o,i,l){yr(i,{command:"removeSource",args:[o]}),l[o]=!0}function Fo(o,i,l,f){ho(o,l,f),Yi(o,i,l)}function ja(o,i,l){let f;for(f in o[l])if(Object.prototype.hasOwnProperty.call(o[l],f)&&f!=="data"&&!Gt(o[l][f],i[l][f]))return!1;for(f in i[l])if(Object.prototype.hasOwnProperty.call(i[l],f)&&f!=="data"&&!Gt(o[l][f],i[l][f]))return!1;return!0}function Xi(o,i,l,f,m,y){o=o||{},i=i||{};for(const b in o)Object.prototype.hasOwnProperty.call(o,b)&&(Gt(o[b],i[b])||l.push({command:y,args:[f,b,i[b],m]}));for(const b in i)Object.prototype.hasOwnProperty.call(i,b)&&!Object.prototype.hasOwnProperty.call(o,b)&&(Gt(o[b],i[b])||l.push({command:y,args:[f,b,i[b],m]}))}function fo(o){return o.id}function Vr(o,i){return o[i.id]=i,o}class Je{constructor(i,l,f,m){this.message=(i?`${i}: `:"")+f,m&&(this.identifier=m),l!=null&&l.__line__&&(this.line=l.__line__)}}function en(o,...i){for(const l of i)for(const f in l)o[f]=l[f];return o}class In extends Error{constructor(i,l){super(l),this.message=l,this.key=i}}class Ms{constructor(i,l=[]){this.parent=i,this.bindings={};for(const[f,m]of l)this.bindings[f]=m}concat(i){return new Ms(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const Bo={kind:"null"},Qe={kind:"number"},Kt={kind:"string"},Ft={kind:"boolean"},Hn={kind:"color"},Wn={kind:"object"},Ot={kind:"value"},Va={kind:"collator"},Ua={kind:"formatted"},mn={kind:"padding"},ue={kind:"resolvedImage"},W={kind:"variableAnchorOffsetCollection"};function Z(o,i){return{kind:"array",itemType:o,N:i}}function Q(o){if(o.kind==="array"){const i=Q(o.itemType);return typeof o.N=="number"?`array<${i}, ${o.N}>`:o.itemType.kind==="value"?"array":`array<${i}>`}return o.kind}const he=[Bo,Qe,Kt,Ft,Hn,Ua,Wn,Z(Ot),mn,ue,W];function Te(o,i){if(i.kind==="error")return null;if(o.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Te(o.itemType,i.itemType))&&(typeof o.N!="number"||o.N===i.N))return null}else{if(o.kind===i.kind)return null;if(o.kind==="value"){for(const l of he)if(!Te(l,i))return null}}return`Expected ${Q(o)} but found ${Q(i)} instead.`}function Ee(o,i){return i.some(l=>l.kind===o.kind)}function Ie(o,i){return i.some(l=>l==="null"?o===null:l==="array"?Array.isArray(o):l==="object"?o&&!Array.isArray(o)&&typeof o=="object":l===typeof o)}function we(o,i){return o.kind==="array"&&i.kind==="array"?o.itemType.kind===i.itemType.kind&&typeof o.N=="number":o.kind===i.kind}const Le=.96422,Ge=.82521,Ke=4/29,Ue=6/29,Tt=3*Ue*Ue,St=Ue*Ue*Ue,qt=Math.PI/180,Rt=180/Math.PI;function Jt(o){return(o%=360)<0&&(o+=360),o}function hr([o,i,l,f]){let m,y;const b=tn((.2225045*(o=br(o))+.7168786*(i=br(i))+.0606169*(l=br(l)))/1);o===i&&i===l?m=y=b:(m=tn((.4360747*o+.3850649*i+.1430804*l)/Le),y=tn((.0139322*o+.0971045*i+.7141733*l)/Ge));const P=116*b-16;return[P<0?0:P,500*(m-b),200*(b-y),f]}function br(o){return o<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function tn(o){return o>St?Math.pow(o,1/3):o/Tt+Ke}function jt([o,i,l,f]){let m=(o+16)/116,y=isNaN(i)?m:m+i/500,b=isNaN(l)?m:m-l/200;return m=1*sn(m),y=Le*sn(y),b=Ge*sn(b),[Ir(3.1338561*y-1.6168667*m-.4906146*b),Ir(-.9787684*y+1.9161415*m+.033454*b),Ir(.0719453*y-.2289914*m+1.4052427*b),f]}function Ir(o){return(o=o<=.00304?12.92*o:1.055*Math.pow(o,1/2.4)-.055)<0?0:o>1?1:o}function sn(o){return o>Ue?o*o*o:Tt*(o-Ke)}function ii(o){return parseInt(o.padEnd(2,o),16)/255}function Si(o,i){return ln(i?o/100:o,0,1)}function ln(o,i,l){return Math.min(Math.max(i,o),l)}function Ds(o){return!o.some(Number.isNaN)}const K0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class dr{constructor(i,l,f,m=1,y=!0){this.r=i,this.g=l,this.b=f,this.a=m,y||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[i,l,f,m]))}static parse(i){if(i instanceof dr)return i;if(typeof i!="string")return;const l=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=K0[f];if(m){const[b,P,k]=m;return[b/255,P/255,k/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const b=f.length<6?1:2;let P=1;return[ii(f.slice(P,P+=b)),ii(f.slice(P,P+=b)),ii(f.slice(P,P+=b)),ii(f.slice(P,P+b)||"ff")]}if(f.startsWith("rgb")){const b=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[P,k,M,$,O,H,G,J,re,ce,ve,Me]=b,Pe=[$||" ",G||" ",ce].join("");if(Pe==="  "||Pe==="  /"||Pe===",,"||Pe===",,,"){const Ae=[M,H,re].join(""),Ne=Ae==="%%%"?100:Ae===""?255:0;if(Ne){const qe=[ln(+k/Ne,0,1),ln(+O/Ne,0,1),ln(+J/Ne,0,1),ve?Si(+ve,Me):1];if(Ds(qe))return qe}}return}}const y=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(y){const[b,P,k,M,$,O,H,G,J]=y,re=[k||" ",$||" ",H].join("");if(re==="  "||re==="  /"||re===",,"||re===",,,"){const ce=[+P,ln(+M,0,100),ln(+O,0,100),G?Si(+G,J):1];if(Ds(ce))return function([ve,Me,Pe,Ae]){function Ne(qe){const it=(qe+ve/30)%12,Ct=Me*Math.min(Pe,1-Pe);return Pe-Ct*Math.max(-1,Math.min(it-3,9-it,1))}return ve=Jt(ve),Me/=100,Pe/=100,[Ne(0),Ne(8),Ne(4),Ae]}(ce)}}}(i);return l?new dr(...l,!1):void 0}get rgb(){const{r:i,g:l,b:f,a:m}=this,y=m||1/0;return this.overwriteGetter("rgb",[i/y,l/y,f/y,m])}get hcl(){return this.overwriteGetter("hcl",function(i){const[l,f,m,y]=hr(i),b=Math.sqrt(f*f+m*m);return[Math.round(1e4*b)?Jt(Math.atan2(m,f)*Rt):NaN,b,l,y]}(this.rgb))}get lab(){return this.overwriteGetter("lab",hr(this.rgb))}overwriteGetter(i,l){return Object.defineProperty(this,i,{value:l}),l}toString(){const[i,l,f,m]=this.rgb;return`rgba(${[i,l,f].map(y=>Math.round(255*y)).join(",")},${m})`}}dr.black=new dr(0,0,0,1),dr.white=new dr(1,1,1,1),dr.transparent=new dr(0,0,0,0),dr.red=new dr(1,0,0,1);class Ch{constructor(i,l,f){this.sensitivity=i?l?"variant":"case":l?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,l){return this.collator.compare(i,l)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Eh{constructor(i,l,f,m,y){this.text=i,this.image=l,this.scale=f,this.fontStack=m,this.textColor=y}}class Pi{constructor(i){this.sections=i}static fromString(i){return new Pi([new Eh(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Pi?i:Pi.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class ai{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ai)return i;if(typeof i=="number")return new ai([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const l of i)if(typeof l!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ai(i)}}toString(){return JSON.stringify(this.values)}}const Wl=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class oi{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof oi)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let l=0;l<i.length;l+=2){const f=i[l],m=i[l+1];if(typeof f!="string"||!Wl.has(f)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new oi(i)}}toString(){return JSON.stringify(this.values)}}class Bi{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Bi({name:i,available:!1}):null}}function Cm(o,i,l,f){return typeof o=="number"&&o>=0&&o<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof l=="number"&&l>=0&&l<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[o,i,l,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[o,i,l,f]:[o,i,l]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ka(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof dr||o instanceof Ch||o instanceof Pi||o instanceof ai||o instanceof oi||o instanceof Bi)return!0;if(Array.isArray(o)){for(const i of o)if(!Ka(i))return!1;return!0}if(typeof o=="object"){for(const i in o)if(!Ka(o[i]))return!1;return!0}return!1}function rn(o){if(o===null)return Bo;if(typeof o=="string")return Kt;if(typeof o=="boolean")return Ft;if(typeof o=="number")return Qe;if(o instanceof dr)return Hn;if(o instanceof Ch)return Va;if(o instanceof Pi)return Ua;if(o instanceof ai)return mn;if(o instanceof oi)return W;if(o instanceof Bi)return ue;if(Array.isArray(o)){const i=o.length;let l;for(const f of o){const m=rn(f);if(l){if(l===m)continue;l=Ot;break}l=m}return Z(l||Ot,i)}return Wn}function Gl(o){const i=typeof o;return o===null?"":i==="string"||i==="number"||i==="boolean"?String(o):o instanceof dr||o instanceof Pi||o instanceof ai||o instanceof oi||o instanceof Bi?o.toString():JSON.stringify(o)}class No{constructor(i,l){this.type=i,this.value=l}static parse(i,l){if(i.length!==2)return l.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Ka(i[1]))return l.error("invalid value");const f=i[1];let m=rn(f);const y=l.expectedType;return m.kind!=="array"||m.N!==0||!y||y.kind!=="array"||typeof y.N=="number"&&y.N!==0||(m=y),new No(m,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ur{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const Oo={string:Kt,number:Qe,boolean:Ft,object:Wn};class Ji{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");let f,m=1;const y=i[0];if(y==="array"){let P,k;if(i.length>2){const M=i[1];if(typeof M!="string"||!(M in Oo)||M==="object")return l.error('The item type argument of "array" must be one of string, number, boolean',1);P=Oo[M],m++}else P=Ot;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return l.error('The length argument to "array" must be a positive integer literal',2);k=i[2],m++}f=Z(P,k)}else{if(!Oo[y])throw new Error(`Types doesn't contain name = ${y}`);f=Oo[y]}const b=[];for(;m<i.length;m++){const P=l.parse(i[m],m,Ot);if(!P)return null;b.push(P)}return new Ji(f,b)}evaluate(i){for(let l=0;l<this.args.length;l++){const f=this.args[l].evaluate(i);if(!Te(this.type,rn(f)))return f;if(l===this.args.length-1)throw new Ur(`Expected value to be of type ${Q(this.type)}, but found ${Q(rn(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const uu={"to-boolean":Ft,"to-color":Hn,"to-number":Qe,"to-string":Kt};class _a{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const f=i[0];if(!uu[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return l.error("Expected one argument.");const m=uu[f],y=[];for(let b=1;b<i.length;b++){const P=l.parse(i[b],b,Ot);if(!P)return null;y.push(P)}return new _a(m,y)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let l,f;for(const m of this.args){if(l=m.evaluate(i),f=null,l instanceof dr)return l;if(typeof l=="string"){const y=i.parseColor(l);if(y)return y}else if(Array.isArray(l)&&(f=l.length<3||l.length>4?`Invalid rbga value ${JSON.stringify(l)}: expected an array containing either three or four numeric values.`:Cm(l[0],l[1],l[2],l[3]),!f))return new dr(l[0]/255,l[1]/255,l[2]/255,l[3])}throw new Ur(f||`Could not parse color from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"padding":{let l;for(const f of this.args){l=f.evaluate(i);const m=ai.parse(l);if(m)return m}throw new Ur(`Could not parse padding from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"variableAnchorOffsetCollection":{let l;for(const f of this.args){l=f.evaluate(i);const m=oi.parse(l);if(m)return m}throw new Ur(`Could not parse variableAnchorOffsetCollection from value '${typeof l=="string"?l:JSON.stringify(l)}'`)}case"number":{let l=null;for(const f of this.args){if(l=f.evaluate(i),l===null)return 0;const m=Number(l);if(!isNaN(m))return m}throw new Ur(`Could not convert ${JSON.stringify(l)} to number.`)}case"formatted":return Pi.fromString(Gl(this.args[0].evaluate(i)));case"resolvedImage":return Bi.fromString(Gl(this.args[0].evaluate(i)));default:return Gl(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const kh=["Unknown","Point","LineString","Polygon"];class $s{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?kh[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let l=this._parseColorCache[i];return l||(l=this._parseColorCache[i]=dr.parse(i)),l}}class or{constructor(i,l,f=[],m,y=new Ms,b=[]){this.registry=i,this.path=f,this.key=f.map(P=>`[${P}]`).join(""),this.scope=y,this.errors=b,this.expectedType=m,this._isConstant=l}parse(i,l,f,m,y={}){return l?this.concat(l,f,m)._parse(i,y):this._parse(i,y)}_parse(i,l){function f(m,y,b){return b==="assert"?new Ji(y,[m]):b==="coerce"?new _a(y,[m]):m}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=i[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const y=this.registry[m];if(y){let b=y.parse(i,this);if(!b)return null;if(this.expectedType){const P=this.expectedType,k=b.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||k.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||k.kind!=="value"&&k.kind!=="string")if(P.kind!=="padding"||k.kind!=="value"&&k.kind!=="number"&&k.kind!=="array")if(P.kind!=="variableAnchorOffsetCollection"||k.kind!=="value"&&k.kind!=="array"){if(this.checkSubtype(P,k))return null}else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"coerce");else b=f(b,P,l.typeAnnotation||"assert")}if(!(b instanceof No)&&b.type.kind!=="resolvedImage"&&this._isConstant(b)){const P=new $s;try{b=new No(b.type,b.evaluate(P))}catch(k){return this.error(k.message),null}}return b}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,l,f){const m=typeof i=="number"?this.path.concat(i):this.path,y=f?this.scope.concat(f):this.scope;return new or(this.registry,this._isConstant,m,l||null,y,this.errors)}error(i,...l){const f=`${this.key}${l.map(m=>`[${m}]`).join("")}`;this.errors.push(new In(f,i))}checkSubtype(i,l){const f=Te(i,l);return f&&this.error(f),f}}class du{constructor(i,l){this.type=l.type,this.bindings=[].concat(i),this.result=l}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const l of this.bindings)i(l[1]);i(this.result)}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let y=1;y<i.length-1;y+=2){const b=i[y];if(typeof b!="string")return l.error(`Expected string, but found ${typeof b} instead.`,y);if(/[^a-zA-Z0-9_]/.test(b))return l.error("Variable names must contain only alphanumeric characters or '_'.",y);const P=l.parse(i[y+1],y+1);if(!P)return null;f.push([b,P])}const m=l.parse(i[i.length-1],i.length-1,l.expectedType,f);return m?new du(f,m):null}outputDefined(){return this.result.outputDefined()}}class Rs{constructor(i,l){this.type=l.type,this.name=i,this.boundExpression=l}static parse(i,l){if(i.length!==2||typeof i[1]!="string")return l.error("'var' expression requires exactly one string literal argument.");const f=i[1];return l.scope.has(f)?new Rs(f,l.scope.get(f)):l.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Ah{constructor(i,l,f){this.type=i,this.index=l,this.input=f}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Qe),m=l.parse(i[2],2,Z(l.expectedType||Ot));return f&&m?new Ah(m.type.itemType,f,m):null}evaluate(i){const l=this.index.evaluate(i),f=this.input.evaluate(i);if(l<0)throw new Ur(`Array index out of bounds: ${l} < 0.`);if(l>=f.length)throw new Ur(`Array index out of bounds: ${l} > ${f.length-1}.`);if(l!==Math.floor(l))throw new Ur(`Array index must be an integer, but found ${l} instead.`);return f[l]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class hu{constructor(i,l){this.type=Ft,this.needle=i,this.haystack=l}static parse(i,l){if(i.length!==3)return l.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Ot);return f&&m?Ee(f.type,[Ft,Kt,Qe,Bo,Ot])?new hu(f,m):l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Q(f.type)} instead`):null}evaluate(i){const l=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Ie(l,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Q(rn(l))} instead.`);if(!Ie(f,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Q(rn(f))} instead.`);return f.indexOf(l)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class ql{constructor(i,l,f){this.type=Qe,this.needle=i,this.haystack=l,this.fromIndex=f}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Ot);if(!f||!m)return null;if(!Ee(f.type,[Ft,Kt,Qe,Bo,Ot]))return l.error(`Expected first argument to be of type boolean, string, number or null, but found ${Q(f.type)} instead`);if(i.length===4){const y=l.parse(i[3],3,Qe);return y?new ql(f,m,y):null}return new ql(f,m)}evaluate(i){const l=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Ie(l,["boolean","string","number","null"]))throw new Ur(`Expected first argument to be of type boolean, string, number or null, but found ${Q(rn(l))} instead.`);if(!Ie(f,["string","array"]))throw new Ur(`Expected second argument to be of type array or string, but found ${Q(rn(f))} instead.`);if(this.fromIndex){const m=this.fromIndex.evaluate(i);return f.indexOf(l,m)}return f.indexOf(l)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class Ih{constructor(i,l,f,m,y,b){this.inputType=i,this.type=l,this.input=f,this.cases=m,this.outputs=y,this.otherwise=b}static parse(i,l){if(i.length<5)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return l.error("Expected an even number of arguments.");let f,m;l.expectedType&&l.expectedType.kind!=="value"&&(m=l.expectedType);const y={},b=[];for(let M=2;M<i.length-1;M+=2){let $=i[M];const O=i[M+1];Array.isArray($)||($=[$]);const H=l.concat(M);if($.length===0)return H.error("Expected at least one branch label.");for(const J of $){if(typeof J!="number"&&typeof J!="string")return H.error("Branch labels must be numbers or strings.");if(typeof J=="number"&&Math.abs(J)>Number.MAX_SAFE_INTEGER)return H.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof J=="number"&&Math.floor(J)!==J)return H.error("Numeric branch labels must be integer values.");if(f){if(H.checkSubtype(f,rn(J)))return null}else f=rn(J);if(y[String(J)]!==void 0)return H.error("Branch labels must be unique.");y[String(J)]=b.length}const G=l.parse(O,M,m);if(!G)return null;m=m||G.type,b.push(G)}const P=l.parse(i[1],1,Ot);if(!P)return null;const k=l.parse(i[i.length-1],i.length-1,m);return k?P.type.kind!=="value"&&l.concat(1).checkSubtype(f,P.type)?null:new Ih(f,m,P,y,b,k):null}evaluate(i){const l=this.input.evaluate(i);return(rn(l)===this.inputType&&this.outputs[this.cases[l]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class fu{constructor(i,l,f){this.type=i,this.branches=l,this.otherwise=f}static parse(i,l){if(i.length<4)return l.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return l.error("Expected an odd number of arguments.");let f;l.expectedType&&l.expectedType.kind!=="value"&&(f=l.expectedType);const m=[];for(let b=1;b<i.length-1;b+=2){const P=l.parse(i[b],b,Ft);if(!P)return null;const k=l.parse(i[b+1],b+1,f);if(!k)return null;m.push([P,k]),f=f||k.type}const y=l.parse(i[i.length-1],i.length-1,f);if(!y)return null;if(!f)throw new Error("Can't infer output type");return new fu(f,m,y)}evaluate(i){for(const[l,f]of this.branches)if(l.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[l,f]of this.branches)i(l),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,l])=>l.outputDefined())&&this.otherwise.outputDefined()}}class Zl{constructor(i,l,f,m){this.type=i,this.input=l,this.beginIndex=f,this.endIndex=m}static parse(i,l){if(i.length<=2||i.length>=5)return l.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=l.parse(i[1],1,Ot),m=l.parse(i[2],2,Qe);if(!f||!m)return null;if(!Ee(f.type,[Z(Ot),Kt,Ot]))return l.error(`Expected first argument to be of type array or string, but found ${Q(f.type)} instead`);if(i.length===4){const y=l.parse(i[3],3,Qe);return y?new Zl(f.type,f,m,y):null}return new Zl(f.type,f,m)}evaluate(i){const l=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Ie(l,["string","array"]))throw new Ur(`Expected first argument to be of type array or string, but found ${Q(rn(l))} instead.`);if(this.endIndex){const m=this.endIndex.evaluate(i);return l.slice(f,m)}return l.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function pu(o,i){const l=o.length-1;let f,m,y=0,b=l,P=0;for(;y<=b;)if(P=Math.floor((y+b)/2),f=o[P],m=o[P+1],f<=i){if(P===l||i<m)return P;y=P+1}else{if(!(f>i))throw new Ur("Input is not a number.");b=P-1}return 0}class Yl{constructor(i,l,f){this.type=i,this.input=l,this.labels=[],this.outputs=[];for(const[m,y]of f)this.labels.push(m),this.outputs.push(y)}static parse(i,l){if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");const f=l.parse(i[1],1,Qe);if(!f)return null;const m=[];let y=null;l.expectedType&&l.expectedType.kind!=="value"&&(y=l.expectedType);for(let b=1;b<i.length;b+=2){const P=b===1?-1/0:i[b],k=i[b+1],M=b,$=b+1;if(typeof P!="number")return l.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(m.length&&m[m.length-1][0]>=P)return l.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const O=l.parse(k,$,y);if(!O)return null;y=y||O.type,m.push([P,O])}return new Yl(y,f,m)}evaluate(i){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=l[0])return f[0].evaluate(i);const y=l.length;return m>=l[y-1]?f[y-1].evaluate(i):f[pu(l,m)].evaluate(i)}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function H0(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var W0=Mh;function Mh(o,i,l,f){this.cx=3*o,this.bx=3*(l-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=i,this.p2x=l,this.p2y=f}Mh.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,i){if(i===void 0&&(i=1e-6),o<0)return 0;if(o>1)return 1;for(var l=o,f=0;f<8;f++){var m=this.sampleCurveX(l)-o;if(Math.abs(m)<i)return l;var y=this.sampleCurveDerivativeX(l);if(Math.abs(y)<1e-6)break;l-=m/y}var b=0,P=1;for(l=o,f=0;f<20&&(m=this.sampleCurveX(l),!(Math.abs(m-o)<i));f++)o>m?b=l:P=l,l=.5*(P-b)+b;return l},solve:function(o,i){return this.sampleCurveY(this.solveCurveX(o,i))}};var Em=H0(W0);function jo(o,i,l){return o+l*(i-o)}function mu(o,i,l){return o.map((f,m)=>jo(f,i[m],l))}const Gn={number:jo,color:function(o,i,l,f="rgb"){switch(f){case"rgb":{const[m,y,b,P]=mu(o.rgb,i.rgb,l);return new dr(m,y,b,P,!1)}case"hcl":{const[m,y,b,P]=o.hcl,[k,M,$,O]=i.hcl;let H,G;if(isNaN(m)||isNaN(k))isNaN(m)?isNaN(k)?H=NaN:(H=k,b!==1&&b!==0||(G=M)):(H=m,$!==1&&$!==0||(G=y));else{let Me=k-m;k>m&&Me>180?Me-=360:k<m&&m-k>180&&(Me+=360),H=m+l*Me}const[J,re,ce,ve]=function([Me,Pe,Ae,Ne]){return Me=isNaN(Me)?0:Me*qt,jt([Ae,Math.cos(Me)*Pe,Math.sin(Me)*Pe,Ne])}([H,G??jo(y,M,l),jo(b,$,l),jo(P,O,l)]);return new dr(J,re,ce,ve,!1)}case"lab":{const[m,y,b,P]=jt(mu(o.lab,i.lab,l));return new dr(m,y,b,P,!1)}}},array:mu,padding:function(o,i,l){return new ai(mu(o.values,i.values,l))},variableAnchorOffsetCollection:function(o,i,l){const f=o.values,m=i.values;if(f.length!==m.length)throw new Ur(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${i.toString()}`);const y=[];for(let b=0;b<f.length;b+=2){if(f[b]!==m[b])throw new Ur(`Cannot interpolate values containing mismatched anchors. from[${b}]: ${f[b]}, to[${b}]: ${m[b]}`);y.push(f[b]);const[P,k]=f[b+1],[M,$]=m[b+1];y.push([jo(P,M,l),jo(k,$,l)])}return new oi(y)}};class Ti{constructor(i,l,f,m,y){this.type=i,this.operator=l,this.interpolation=f,this.input=m,this.labels=[],this.outputs=[];for(const[b,P]of y)this.labels.push(b),this.outputs.push(P)}static interpolationFactor(i,l,f,m){let y=0;if(i.name==="exponential")y=Dh(l,i.base,f,m);else if(i.name==="linear")y=Dh(l,1,f,m);else if(i.name==="cubic-bezier"){const b=i.controlPoints;y=new Em(b[0],b[1],b[2],b[3]).solve(Dh(l,1,f,m))}return y}static parse(i,l){let[f,m,y,...b]=i;if(!Array.isArray(m)||m.length===0)return l.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const M=m[1];if(typeof M!="number")return l.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:M}}else{if(m[0]!=="cubic-bezier")return l.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const M=m.slice(1);if(M.length!==4||M.some($=>typeof $!="number"||$<0||$>1))return l.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:M}}}if(i.length-1<4)return l.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return l.error("Expected an even number of arguments.");if(y=l.parse(y,2,Qe),!y)return null;const P=[];let k=null;f==="interpolate-hcl"||f==="interpolate-lab"?k=Hn:l.expectedType&&l.expectedType.kind!=="value"&&(k=l.expectedType);for(let M=0;M<b.length;M+=2){const $=b[M],O=b[M+1],H=M+3,G=M+4;if(typeof $!="number")return l.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(P.length&&P[P.length-1][0]>=$)return l.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const J=l.parse(O,G,k);if(!J)return null;k=k||J.type,P.push([$,J])}return we(k,Qe)||we(k,Hn)||we(k,mn)||we(k,W)||we(k,Z(Qe))?new Ti(k,f,m,y,P):l.error(`Type ${Q(k)} is not interpolatable.`)}evaluate(i){const l=this.labels,f=this.outputs;if(l.length===1)return f[0].evaluate(i);const m=this.input.evaluate(i);if(m<=l[0])return f[0].evaluate(i);const y=l.length;if(m>=l[y-1])return f[y-1].evaluate(i);const b=pu(l,m),P=Ti.interpolationFactor(this.interpolation,m,l[b],l[b+1]),k=f[b].evaluate(i),M=f[b+1].evaluate(i);switch(this.operator){case"interpolate":return Gn[this.type.kind](k,M,P);case"interpolate-hcl":return Gn.color(k,M,P,"hcl");case"interpolate-lab":return Gn.color(k,M,P,"lab")}}eachChild(i){i(this.input);for(const l of this.outputs)i(l)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Dh(o,i,l,f){const m=f-l,y=o-l;return m===0?0:i===1?y/m:(Math.pow(i,y)-1)/(Math.pow(i,m)-1)}class gu{constructor(i,l){this.type=i,this.args=l}static parse(i,l){if(i.length<2)return l.error("Expectected at least one argument.");let f=null;const m=l.expectedType;m&&m.kind!=="value"&&(f=m);const y=[];for(const P of i.slice(1)){const k=l.parse(P,1+y.length,f,void 0,{typeAnnotation:"omit"});if(!k)return null;f=f||k.type,y.push(k)}if(!f)throw new Error("No output type");const b=m&&y.some(P=>Te(m,P.type));return new gu(b?Ot:f,y)}evaluate(i){let l,f=null,m=0;for(const y of this.args)if(m++,f=y.evaluate(i),f&&f instanceof Bi&&!f.available&&(l||(l=f.name),f=null,m===this.args.length&&(f=l)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}function $h(o,i){return o==="=="||o==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Rh(o,i,l,f){return f.compare(i,l)===0}function Ls(o,i,l){const f=o!=="=="&&o!=="!=";return class Ez{constructor(y,b,P){this.type=Ft,this.lhs=y,this.rhs=b,this.collator=P,this.hasUntypedArgument=y.type.kind==="value"||b.type.kind==="value"}static parse(y,b){if(y.length!==3&&y.length!==4)return b.error("Expected two or three arguments.");const P=y[0];let k=b.parse(y[1],1,Ot);if(!k)return null;if(!$h(P,k.type))return b.concat(1).error(`"${P}" comparisons are not supported for type '${Q(k.type)}'.`);let M=b.parse(y[2],2,Ot);if(!M)return null;if(!$h(P,M.type))return b.concat(2).error(`"${P}" comparisons are not supported for type '${Q(M.type)}'.`);if(k.type.kind!==M.type.kind&&k.type.kind!=="value"&&M.type.kind!=="value")return b.error(`Cannot compare types '${Q(k.type)}' and '${Q(M.type)}'.`);f&&(k.type.kind==="value"&&M.type.kind!=="value"?k=new Ji(M.type,[k]):k.type.kind!=="value"&&M.type.kind==="value"&&(M=new Ji(k.type,[M])));let $=null;if(y.length===4){if(k.type.kind!=="string"&&M.type.kind!=="string"&&k.type.kind!=="value"&&M.type.kind!=="value")return b.error("Cannot use collator to compare non-string types.");if($=b.parse(y[3],3,Va),!$)return null}return new Ez(k,M,$)}evaluate(y){const b=this.lhs.evaluate(y),P=this.rhs.evaluate(y);if(f&&this.hasUntypedArgument){const k=rn(b),M=rn(P);if(k.kind!==M.kind||k.kind!=="string"&&k.kind!=="number")throw new Ur(`Expected arguments for "${o}" to be (string, string) or (number, number), but found (${k.kind}, ${M.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const k=rn(b),M=rn(P);if(k.kind!=="string"||M.kind!=="string")return i(y,b,P)}return this.collator?l(y,b,P,this.collator.evaluate(y)):i(y,b,P)}eachChild(y){y(this.lhs),y(this.rhs),this.collator&&y(this.collator)}outputDefined(){return!0}}}const G0=Ls("==",function(o,i,l){return i===l},Rh),km=Ls("!=",function(o,i,l){return i!==l},function(o,i,l,f){return!Rh(0,i,l,f)}),Am=Ls("<",function(o,i,l){return i<l},function(o,i,l,f){return f.compare(i,l)<0}),q0=Ls(">",function(o,i,l){return i>l},function(o,i,l,f){return f.compare(i,l)>0}),Z0=Ls("<=",function(o,i,l){return i<=l},function(o,i,l,f){return f.compare(i,l)<=0}),Y0=Ls(">=",function(o,i,l){return i>=l},function(o,i,l,f){return f.compare(i,l)>=0});class yu{constructor(i,l,f){this.type=Va,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=l}static parse(i,l){if(i.length!==2)return l.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return l.error("Collator options argument must be an object.");const m=l.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,Ft);if(!m)return null;const y=l.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,Ft);if(!y)return null;let b=null;return f.locale&&(b=l.parse(f.locale,1,Kt),!b)?null:new yu(m,y,b)}evaluate(i){return new Ch(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}class Lh{constructor(i,l,f,m,y){this.type=Kt,this.number=i,this.locale=l,this.currency=f,this.minFractionDigits=m,this.maxFractionDigits=y}static parse(i,l){if(i.length!==3)return l.error("Expected two arguments.");const f=l.parse(i[1],1,Qe);if(!f)return null;const m=i[2];if(typeof m!="object"||Array.isArray(m))return l.error("NumberFormat options argument must be an object.");let y=null;if(m.locale&&(y=l.parse(m.locale,1,Kt),!y))return null;let b=null;if(m.currency&&(b=l.parse(m.currency,1,Kt),!b))return null;let P=null;if(m["min-fraction-digits"]&&(P=l.parse(m["min-fraction-digits"],1,Qe),!P))return null;let k=null;return m["max-fraction-digits"]&&(k=l.parse(m["max-fraction-digits"],1,Qe),!k)?null:new Lh(f,y,b,P,k)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class vu{constructor(i){this.type=Ua,this.sections=i}static parse(i,l){if(i.length<2)return l.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return l.error("First argument must be an image or text section.");const m=[];let y=!1;for(let b=1;b<=i.length-1;++b){const P=i[b];if(y&&typeof P=="object"&&!Array.isArray(P)){y=!1;let k=null;if(P["font-scale"]&&(k=l.parse(P["font-scale"],1,Qe),!k))return null;let M=null;if(P["text-font"]&&(M=l.parse(P["text-font"],1,Z(Kt)),!M))return null;let $=null;if(P["text-color"]&&($=l.parse(P["text-color"],1,Hn),!$))return null;const O=m[m.length-1];O.scale=k,O.font=M,O.textColor=$}else{const k=l.parse(i[b],1,Ot);if(!k)return null;const M=k.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return l.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");y=!0,m.push({content:k,scale:null,font:null,textColor:null})}}return new vu(m)}evaluate(i){return new Pi(this.sections.map(l=>{const f=l.content.evaluate(i);return rn(f)===ue?new Eh("",f,null,null,null):new Eh(Gl(f),null,l.scale?l.scale.evaluate(i):null,l.font?l.font.evaluate(i).join(","):null,l.textColor?l.textColor.evaluate(i):null)}))}eachChild(i){for(const l of this.sections)i(l.content),l.scale&&i(l.scale),l.font&&i(l.font),l.textColor&&i(l.textColor)}outputDefined(){return!1}}class zh{constructor(i){this.type=ue,this.input=i}static parse(i,l){if(i.length!==2)return l.error("Expected two arguments.");const f=l.parse(i[1],1,Kt);return f?new zh(f):l.error("No image name provided.")}evaluate(i){const l=this.input.evaluate(i),f=Bi.fromString(l);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(l)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class Xl{constructor(i){this.type=Qe,this.input=i}static parse(i,l){if(i.length!==2)return l.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=l.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?l.error(`Expected argument of type string or array, but found ${Q(f.type)} instead.`):new Xl(f):null}evaluate(i){const l=this.input.evaluate(i);if(typeof l=="string"||Array.isArray(l))return l.length;throw new Ur(`Expected value to be of type string or array, but found ${Q(rn(l))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Ci=8192;function sr(o,i){const l=(180+o[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,m=Math.pow(2,i.z);return[Math.round(l*m*Ci),Math.round(f*m*Ci)]}function Fh(o,i){const l=Math.pow(2,i.z);return[(m=(o[0]/Ci+i.x)/l,360*m-180),(f=(o[1]/Ci+i.y)/l,360/Math.PI*Math.atan(Math.exp((180-360*f)*Math.PI/180))-90)];var f,m}function Jl(o,i){o[0]=Math.min(o[0],i[0]),o[1]=Math.min(o[1],i[1]),o[2]=Math.max(o[2],i[0]),o[3]=Math.max(o[3],i[1])}function Ql(o,i){return!(o[0]<=i[0]||o[2]>=i[2]||o[1]<=i[1]||o[3]>=i[3])}function X0(o,i,l){const f=o[0]-i[0],m=o[1]-i[1],y=o[0]-l[0],b=o[1]-l[1];return f*b-y*m==0&&f*y<=0&&m*b<=0}function xu(o,i,l,f){return(m=[f[0]-l[0],f[1]-l[1]])[0]*(y=[i[0]-o[0],i[1]-o[1]])[1]-m[1]*y[0]!=0&&!(!Mm(o,i,l,f)||!Mm(l,f,o,i));var m,y}function J0(o,i,l){for(const f of l)for(let m=0;m<f.length-1;++m)if(xu(o,i,f[m],f[m+1]))return!0;return!1}function zs(o,i,l=!1){let f=!1;for(const P of i)for(let k=0;k<P.length-1;k++){if(X0(o,P[k],P[k+1]))return l;(y=P[k])[1]>(m=o)[1]!=(b=P[k+1])[1]>m[1]&&m[0]<(b[0]-y[0])*(m[1]-y[1])/(b[1]-y[1])+y[0]&&(f=!f)}var m,y,b;return f}function Q0(o,i){for(const l of i)if(zs(o,l))return!0;return!1}function Im(o,i){for(const l of o)if(!zs(l,i))return!1;for(let l=0;l<o.length-1;++l)if(J0(o[l],o[l+1],i))return!1;return!0}function ex(o,i){for(const l of i)if(Im(o,l))return!0;return!1}function Mm(o,i,l,f){const m=f[0]-l[0],y=f[1]-l[1],b=(o[0]-l[0])*y-m*(o[1]-l[1]),P=(i[0]-l[0])*y-m*(i[1]-l[1]);return b>0&&P<0||b<0&&P>0}function Bh(o,i,l){const f=[];for(let m=0;m<o.length;m++){const y=[];for(let b=0;b<o[m].length;b++){const P=sr(o[m][b],l);Jl(i,P),y.push(P)}f.push(y)}return f}function Dm(o,i,l){const f=[];for(let m=0;m<o.length;m++){const y=Bh(o[m],i,l);f.push(y)}return f}function $m(o,i,l,f){if(o[0]<l[0]||o[0]>l[2]){const m=.5*f;let y=o[0]-l[0]>m?-f:l[0]-o[0]>m?f:0;y===0&&(y=o[0]-l[2]>m?-f:l[2]-o[0]>m?f:0),o[0]+=y}Jl(i,o)}function Rm(o,i,l,f){const m=Math.pow(2,f.z)*Ci,y=[f.x*Ci,f.y*Ci],b=[];for(const P of o)for(const k of P){const M=[k.x+y[0],k.y+y[1]];$m(M,i,l,m),b.push(M)}return b}function Lm(o,i,l,f){const m=Math.pow(2,f.z)*Ci,y=[f.x*Ci,f.y*Ci],b=[];for(const k of o){const M=[];for(const $ of k){const O=[$.x+y[0],$.y+y[1]];Jl(i,O),M.push(O)}b.push(M)}if(i[2]-i[0]<=m/2){(P=i)[0]=P[1]=1/0,P[2]=P[3]=-1/0;for(const k of b)for(const M of k)$m(M,i,l,m)}var P;return b}class Vo{constructor(i,l){this.type=Ft,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Ka(i[1])){const f=i[1];if(f.type==="FeatureCollection"){const m=[];for(const y of f.features){const{type:b,coordinates:P}=y.geometry;b==="Polygon"&&m.push(P),b==="MultiPolygon"&&m.push(...P)}if(m.length)return new Vo(f,{type:"MultiPolygon",coordinates:m})}else if(f.type==="Feature"){const m=f.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new Vo(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Vo(f,f)}return l.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,f){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(f.type==="Polygon"){const P=Bh(f.coordinates,y,b),k=Rm(l.geometry(),m,y,b);if(!Ql(m,y))return!1;for(const M of k)if(!zs(M,P))return!1}if(f.type==="MultiPolygon"){const P=Dm(f.coordinates,y,b),k=Rm(l.geometry(),m,y,b);if(!Ql(m,y))return!1;for(const M of k)if(!Q0(M,P))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,f){const m=[1/0,1/0,-1/0,-1/0],y=[1/0,1/0,-1/0,-1/0],b=l.canonicalID();if(f.type==="Polygon"){const P=Bh(f.coordinates,y,b),k=Lm(l.geometry(),m,y,b);if(!Ql(m,y))return!1;for(const M of k)if(!Im(M,P))return!1}if(f.type==="MultiPolygon"){const P=Dm(f.coordinates,y,b),k=Lm(l.geometry(),m,y,b);if(!Ql(m,y))return!1;for(const M of k)if(!ex(M,P))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let zm=class{constructor(o=[],i=tx){if(this.data=o,this.length=this.data.length,this.compare=i,this.length>0)for(let l=(this.length>>1)-1;l>=0;l--)this._down(l)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:i,compare:l}=this,f=i[o];for(;o>0;){const m=o-1>>1,y=i[m];if(l(f,y)>=0)break;i[o]=y,o=m}i[o]=f}_down(o){const{data:i,compare:l}=this,f=this.length>>1,m=i[o];for(;o<f;){let y=1+(o<<1),b=i[y];const P=y+1;if(P<this.length&&l(i[P],b)<0&&(y=P,b=i[P]),l(b,m)>=0)break;i[o]=b,o=y}i[o]=m}};function tx(o,i){return o<i?-1:o>i?1:0}function rx(o,i,l,f,m){Fm(o,i,l,f||o.length-1,m||nx)}function Fm(o,i,l,f,m){for(;f>l;){if(f-l>600){var y=f-l+1,b=i-l+1,P=Math.log(y),k=.5*Math.exp(2*P/3),M=.5*Math.sqrt(P*k*(y-k)/y)*(b-y/2<0?-1:1);Fm(o,i,Math.max(l,Math.floor(i-b*k/y+M)),Math.min(f,Math.floor(i+(y-b)*k/y+M)),m)}var $=o[i],O=l,H=f;for(ec(o,l,i),m(o[f],$)>0&&ec(o,l,f);O<H;){for(ec(o,O,H),O++,H--;m(o[O],$)<0;)O++;for(;m(o[H],$)>0;)H--}m(o[l],$)===0?ec(o,l,H):ec(o,++H,f),H<=i&&(l=H+1),i<=H&&(f=H-1)}}function ec(o,i,l){var f=o[i];o[i]=o[l],o[l]=f}function nx(o,i){return o<i?-1:o>i?1:0}function _u(o,i){if(o.length<=1)return[o];const l=[];let f,m;for(const y of o){const b=ax(y);b!==0&&(y.area=Math.abs(b),m===void 0&&(m=b<0),m===b<0?(f&&l.push(f),f=[y]):f.push(y))}if(f&&l.push(f),i>1)for(let y=0;y<l.length;y++)l[y].length<=i||(rx(l[y],i,1,l[y].length-1,ix),l[y]=l[y].slice(0,i));return l}function ix(o,i){return i.area-o.area}function ax(o){let i=0;for(let l,f,m=0,y=o.length,b=y-1;m<y;b=m++)l=o[m],f=o[b],i+=(f.x-l.x)*(l.y+f.y);return i}const Bm=1/298.257223563,Nm=Bm*(2-Bm),Om=Math.PI/180;class Nh{constructor(i){const l=6378.137*Om*1e3,f=Math.cos(i*Om),m=1/(1-Nm*(1-f*f)),y=Math.sqrt(m);this.kx=l*y*f,this.ky=l*y*m*(1-Nm)}distance(i,l){const f=this.wrap(i[0]-l[0])*this.kx,m=(i[1]-l[1])*this.ky;return Math.sqrt(f*f+m*m)}pointOnLine(i,l){let f,m,y,b,P=1/0;for(let k=0;k<i.length-1;k++){let M=i[k][0],$=i[k][1],O=this.wrap(i[k+1][0]-M)*this.kx,H=(i[k+1][1]-$)*this.ky,G=0;O===0&&H===0||(G=(this.wrap(l[0]-M)*this.kx*O+(l[1]-$)*this.ky*H)/(O*O+H*H),G>1?(M=i[k+1][0],$=i[k+1][1]):G>0&&(M+=O/this.kx*G,$+=H/this.ky*G)),O=this.wrap(l[0]-M)*this.kx,H=(l[1]-$)*this.ky;const J=O*O+H*H;J<P&&(P=J,f=M,m=$,y=k,b=G)}return{point:[f,m],index:y,t:Math.max(0,Math.min(1,b))}}wrap(i){for(;i<-180;)i+=360;for(;i>180;)i-=360;return i}}function jm(o,i){return i[0]-o[0]}function Fs(o){return o[1]-o[0]+1}function Ha(o,i){return o[1]>=o[0]&&o[1]<i}function Oh(o,i){if(o[0]>o[1])return[null,null];const l=Fs(o);if(i){if(l===2)return[o,null];const m=Math.floor(l/2);return[[o[0],o[0]+m],[o[0]+m,o[1]]]}if(l===1)return[o,null];const f=Math.floor(l/2)-1;return[[o[0],o[0]+f],[o[0]+f+1,o[1]]]}function jh(o,i){if(!Ha(i,o.length))return[1/0,1/0,-1/0,-1/0];const l=[1/0,1/0,-1/0,-1/0];for(let f=i[0];f<=i[1];++f)Jl(l,o[f]);return l}function Vh(o){const i=[1/0,1/0,-1/0,-1/0];for(const l of o)for(const f of l)Jl(i,f);return i}function Kr(o){return o[0]!==-1/0&&o[1]!==-1/0&&o[2]!==1/0&&o[3]!==1/0}function Uh(o,i,l){if(!Kr(o)||!Kr(i))return NaN;let f=0,m=0;return o[2]<i[0]&&(f=i[0]-o[2]),o[0]>i[2]&&(f=o[0]-i[2]),o[1]>i[3]&&(m=o[1]-i[3]),o[3]<i[1]&&(m=i[1]-o[3]),l.distance([0,0],[f,m])}function Wt(o,i,l){const f=l.pointOnLine(i,o);return l.distance(o,f.point)}function tc(o,i,l,f,m){const y=Math.min(Wt(o,[l,f],m),Wt(i,[l,f],m)),b=Math.min(Wt(l,[o,i],m),Wt(f,[o,i],m));return Math.min(y,b)}function Mr(o,i,l,f,m){if(!Ha(i,o.length)||!Ha(f,l.length))return 1/0;let y=1/0;for(let b=i[0];b<i[1];++b){const P=o[b],k=o[b+1];for(let M=f[0];M<f[1];++M){const $=l[M],O=l[M+1];if(xu(P,k,$,O))return 0;y=Math.min(y,tc(P,k,$,O,m))}}return y}function Ar(o,i,l,f,m){if(!Ha(i,o.length)||!Ha(f,l.length))return NaN;let y=1/0;for(let b=i[0];b<=i[1];++b)for(let P=f[0];P<=f[1];++P)if(y=Math.min(y,m.distance(o[b],l[P])),y===0)return y;return y}function bu(o,i,l){if(zs(o,i,!0))return 0;let f=1/0;for(const m of i){const y=m[0],b=m[m.length-1];if(y!==b&&(f=Math.min(f,Wt(o,[b,y],l)),f===0))return f;const P=l.pointOnLine(m,o);if(f=Math.min(f,l.distance(o,P.point)),f===0)return f}return f}function Vm(o,i,l,f){if(!Ha(i,o.length))return NaN;for(let y=i[0];y<=i[1];++y)if(zs(o[y],l,!0))return 0;let m=1/0;for(let y=i[0];y<i[1];++y){const b=o[y],P=o[y+1];for(const k of l)for(let M=0,$=k.length,O=$-1;M<$;O=M++){const H=k[O],G=k[M];if(xu(b,P,H,G))return 0;m=Math.min(m,tc(b,P,H,G,f))}}return m}function Kh(o,i){for(const l of o)for(const f of l)if(zs(f,i,!0))return!0;return!1}function ox(o,i,l,f=1/0){const m=Vh(o),y=Vh(i);if(f!==1/0&&Uh(m,y,l)>=f)return f;if(Ql(m,y)){if(Kh(o,i))return 0}else if(Kh(i,o))return 0;let b=1/0;for(const P of o)for(let k=0,M=P.length,$=M-1;k<M;$=k++){const O=P[$],H=P[k];for(const G of i)for(let J=0,re=G.length,ce=re-1;J<re;ce=J++){const ve=G[ce],Me=G[J];if(xu(O,H,ve,Me))return 0;b=Math.min(b,tc(O,H,ve,Me,l))}}return b}function Um(o,i,l,f,m,y){if(!y)return;const b=Uh(jh(f,y),m,l);b<i&&o.push([b,y,[0,0]])}function wu(o,i,l,f,m,y,b){if(!y||!b)return;const P=Uh(jh(f,y),jh(m,b),l);P<i&&o.push([P,y,b])}function Su(o,i,l,f,m=1/0){let y=Math.min(f.distance(o[0],l[0][0]),m);if(y===0)return y;const b=new zm([[0,[0,o.length-1],[0,0]]],jm),P=Vh(l);for(;b.length>0;){const k=b.pop();if(k[0]>=y)continue;const M=k[1],$=i?50:100;if(Fs(M)<=$){if(!Ha(M,o.length))return NaN;if(i){const O=Vm(o,M,l,f);if(isNaN(O)||O===0)return O;y=Math.min(y,O)}else for(let O=M[0];O<=M[1];++O){const H=bu(o[O],l,f);if(y=Math.min(y,H),y===0)return 0}}else{const O=Oh(M,i);Um(b,y,f,o,P,O[0]),Um(b,y,f,o,P,O[1])}}return y}function rc(o,i,l,f,m,y=1/0){let b=Math.min(y,m.distance(o[0],l[0]));if(b===0)return b;const P=new zm([[0,[0,o.length-1],[0,l.length-1]]],jm);for(;P.length>0;){const k=P.pop();if(k[0]>=b)continue;const M=k[1],$=k[2],O=i?50:100,H=f?50:100;if(Fs(M)<=O&&Fs($)<=H){if(!Ha(M,o.length)&&Ha($,l.length))return NaN;let G;if(i&&f)G=Mr(o,M,l,$,m),b=Math.min(b,G);else if(i&&!f){const J=o.slice(M[0],M[1]+1);for(let re=$[0];re<=$[1];++re)if(G=Wt(l[re],J,m),b=Math.min(b,G),b===0)return b}else if(!i&&f){const J=l.slice($[0],$[1]+1);for(let re=M[0];re<=M[1];++re)if(G=Wt(o[re],J,m),b=Math.min(b,G),b===0)return b}else G=Ar(o,M,l,$,m),b=Math.min(b,G)}else{const G=Oh(M,i),J=Oh($,f);wu(P,b,m,o,l,G[0],J[0]),wu(P,b,m,o,l,G[0],J[1]),wu(P,b,m,o,l,G[1],J[0]),wu(P,b,m,o,l,G[1],J[1])}}return b}function Pu(o){return o.type==="MultiPolygon"?o.coordinates.map(i=>({type:"Polygon",coordinates:i})):o.type==="MultiLineString"?o.coordinates.map(i=>({type:"LineString",coordinates:i})):o.type==="MultiPoint"?o.coordinates.map(i=>({type:"Point",coordinates:i})):[o]}class po{constructor(i,l){this.type=Qe,this.geojson=i,this.geometries=l}static parse(i,l){if(i.length!==2)return l.error(`'distance' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Ka(i[1])){const f=i[1];if(f.type==="FeatureCollection")return new po(f,f.features.map(m=>Pu(m.geometry)).flat());if(f.type==="Feature")return new po(f,Pu(f.geometry));if("type"in f&&"coordinates"in f)return new po(f,Pu(f))}return l.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(l,f){const m=l.geometry(),y=m.flat().map(k=>Fh([k.x,k.y],l.canonical));if(m.length===0)return NaN;const b=new Nh(y[0][1]);let P=1/0;for(const k of f){switch(k.type){case"Point":P=Math.min(P,rc(y,!1,[k.coordinates],!1,b,P));break;case"LineString":P=Math.min(P,rc(y,!1,k.coordinates,!0,b,P));break;case"Polygon":P=Math.min(P,Su(y,!1,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries);if(i.geometryType()==="LineString")return function(l,f){const m=l.geometry(),y=m.flat().map(k=>Fh([k.x,k.y],l.canonical));if(m.length===0)return NaN;const b=new Nh(y[0][1]);let P=1/0;for(const k of f){switch(k.type){case"Point":P=Math.min(P,rc(y,!0,[k.coordinates],!1,b,P));break;case"LineString":P=Math.min(P,rc(y,!0,k.coordinates,!0,b,P));break;case"Polygon":P=Math.min(P,Su(y,!0,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries);if(i.geometryType()==="Polygon")return function(l,f){const m=l.geometry();if(m.length===0||m[0].length===0)return NaN;const y=_u(m,0).map(k=>k.map(M=>M.map($=>Fh([$.x,$.y],l.canonical)))),b=new Nh(y[0][0][0][1]);let P=1/0;for(const k of f)for(const M of y){switch(k.type){case"Point":P=Math.min(P,Su([k.coordinates],!1,M,b,P));break;case"LineString":P=Math.min(P,Su(k.coordinates,!0,M,b,P));break;case"Polygon":P=Math.min(P,ox(M,k.coordinates,b,P))}if(P===0)return P}return P}(i,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}const Uo={"==":G0,"!=":km,">":q0,"<":Am,">=":Y0,"<=":Z0,array:Ji,at:Ah,boolean:Ji,case:fu,coalesce:gu,collator:yu,format:vu,image:zh,in:hu,"index-of":ql,interpolate:Ti,"interpolate-hcl":Ti,"interpolate-lab":Ti,length:Xl,let:du,literal:No,match:Ih,number:Ji,"number-format":Lh,object:Ji,slice:Zl,step:Yl,string:Ji,"to-boolean":_a,"to-color":_a,"to-number":_a,"to-string":_a,var:Rs,within:Vo,distance:po};class si{constructor(i,l,f,m){this.name=i,this.type=l,this._evaluate=f,this.args=m}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,l){const f=i[0],m=si.definitions[f];if(!m)return l.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const y=Array.isArray(m)?m[0]:m.type,b=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,P=b.filter(([M])=>!Array.isArray(M)||M.length===i.length-1);let k=null;for(const[M,$]of P){k=new or(l.registry,Tu,l.path,null,l.scope);const O=[];let H=!1;for(let G=1;G<i.length;G++){const J=i[G],re=Array.isArray(M)?M[G-1]:M.type,ce=k.parse(J,1+O.length,re);if(!ce){H=!0;break}O.push(ce)}if(!H)if(Array.isArray(M)&&M.length!==O.length)k.error(`Expected ${M.length} arguments, but found ${O.length} instead.`);else{for(let G=0;G<O.length;G++){const J=Array.isArray(M)?M[G]:M.type,re=O[G];k.concat(G+1).checkSubtype(J,re.type)}if(k.errors.length===0)return new si(f,y,$,O)}}if(P.length===1)l.errors.push(...k.errors);else{const M=(P.length?P:b).map(([O])=>{return H=O,Array.isArray(H)?`(${H.map(Q).join(", ")})`:`(${Q(H.type)}...)`;var H}).join(" | "),$=[];for(let O=1;O<i.length;O++){const H=l.parse(i[O],1+$.length);if(!H)return null;$.push(Q(H.type))}l.error(`Expected arguments of type ${M}, but found (${$.join(", ")}) instead.`)}return null}static register(i,l){si.definitions=l;for(const f in l)i[f]=si}}function Km(o,[i,l,f,m]){i=i.evaluate(o),l=l.evaluate(o),f=f.evaluate(o);const y=m?m.evaluate(o):1,b=Cm(i,l,f,y);if(b)throw new Ur(b);return new dr(i/255,l/255,f/255,y,!1)}function Hm(o,i){return o in i}function Hh(o,i){const l=i[o];return l===void 0?null:l}function Ko(o){return{type:o}}function Tu(o){if(o instanceof Rs)return Tu(o.boundExpression);if(o instanceof si&&o.name==="error"||o instanceof yu||o instanceof Vo||o instanceof po)return!1;const i=o instanceof _a||o instanceof Ji;let l=!0;return o.eachChild(f=>{l=i?l&&Tu(f):l&&f instanceof No}),!!l&&Cu(o)&&Eu(o,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Cu(o){if(o instanceof si&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof Vo||o instanceof po)return!1;let i=!0;return o.eachChild(l=>{i&&!Cu(l)&&(i=!1)}),i}function nc(o){if(o instanceof si&&o.name==="feature-state")return!1;let i=!0;return o.eachChild(l=>{i&&!nc(l)&&(i=!1)}),i}function Eu(o,i){if(o instanceof si&&i.indexOf(o.name)>=0)return!1;let l=!0;return o.eachChild(f=>{l&&!Eu(f,i)&&(l=!1)}),l}function Wh(o){return{result:"success",value:o}}function Ho(o){return{result:"error",value:o}}function Wa(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function Wm(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function ku(o){return!!o.expression&&o.expression.interpolated}function tr(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function Bs(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function Au(o){return o}function ic(o,i){const l=i.type==="color",f=o.stops&&typeof o.stops[0][0]=="object",m=f||!(f||o.property!==void 0),y=o.type||(ku(i)?"exponential":"interval");if(l||i.type==="padding"){const $=l?dr.parse:ai.parse;(o=en({},o)).stops&&(o.stops=o.stops.map(O=>[O[0],$(O[1])])),o.default=$(o.default?o.default:i.default)}if(o.colorSpace&&(b=o.colorSpace)!=="rgb"&&b!=="hcl"&&b!=="lab")throw new Error(`Unknown color space: "${o.colorSpace}"`);var b;let P,k,M;if(y==="exponential")P=qh;else if(y==="interval")P=Gm;else if(y==="categorical"){P=Gh,k=Object.create(null);for(const $ of o.stops)k[$[0]]=$[1];M=typeof o.stops[0][0]}else{if(y!=="identity")throw new Error(`Unknown function type "${y}"`);P=Iu}if(f){const $={},O=[];for(let J=0;J<o.stops.length;J++){const re=o.stops[J],ce=re[0].zoom;$[ce]===void 0&&($[ce]={zoom:ce,type:o.type,property:o.property,default:o.default,stops:[]},O.push(ce)),$[ce].stops.push([re[0].value,re[1]])}const H=[];for(const J of O)H.push([$[J].zoom,ic($[J],i)]);const G={name:"linear"};return{kind:"composite",interpolationType:G,interpolationFactor:Ti.interpolationFactor.bind(void 0,G),zoomStops:H.map(J=>J[0]),evaluate:({zoom:J},re)=>qh({stops:H,base:o.base},i,J).evaluate(J,re)}}if(m){const $=y==="exponential"?{name:"exponential",base:o.base!==void 0?o.base:1}:null;return{kind:"camera",interpolationType:$,interpolationFactor:Ti.interpolationFactor.bind(void 0,$),zoomStops:o.stops.map(O=>O[0]),evaluate:({zoom:O})=>P(o,i,O,k,M)}}return{kind:"source",evaluate($,O){const H=O&&O.properties?O.properties[o.property]:void 0;return H===void 0?Ns(o.default,i.default):P(o,i,H,k,M)}}}function Ns(o,i,l){return o!==void 0?o:i!==void 0?i:l!==void 0?l:void 0}function Gh(o,i,l,f,m){return Ns(typeof l===m?f[l]:void 0,o.default,i.default)}function Gm(o,i,l){if(tr(l)!=="number")return Ns(o.default,i.default);const f=o.stops.length;if(f===1||l<=o.stops[0][0])return o.stops[0][1];if(l>=o.stops[f-1][0])return o.stops[f-1][1];const m=pu(o.stops.map(y=>y[0]),l);return o.stops[m][1]}function qh(o,i,l){const f=o.base!==void 0?o.base:1;if(tr(l)!=="number")return Ns(o.default,i.default);const m=o.stops.length;if(m===1||l<=o.stops[0][0])return o.stops[0][1];if(l>=o.stops[m-1][0])return o.stops[m-1][1];const y=pu(o.stops.map($=>$[0]),l),b=function($,O,H,G){const J=G-H,re=$-H;return J===0?0:O===1?re/J:(Math.pow(O,re)-1)/(Math.pow(O,J)-1)}(l,f,o.stops[y][0],o.stops[y+1][0]),P=o.stops[y][1],k=o.stops[y+1][1],M=Gn[i.type]||Au;return typeof P.evaluate=="function"?{evaluate(...$){const O=P.evaluate.apply(void 0,$),H=k.evaluate.apply(void 0,$);if(O!==void 0&&H!==void 0)return M(O,H,b,o.colorSpace)}}:M(P,k,b,o.colorSpace)}function Iu(o,i,l){switch(i.type){case"color":l=dr.parse(l);break;case"formatted":l=Pi.fromString(l.toString());break;case"resolvedImage":l=Bi.fromString(l.toString());break;case"padding":l=ai.parse(l);break;default:tr(l)===i.type||i.type==="enum"&&i.values[l]||(l=void 0)}return Ns(l,o.default,i.default)}si.register(Uo,{error:[{kind:"error"},[Kt],(o,[i])=>{throw new Ur(i.evaluate(o))}],typeof:[Kt,[Ot],(o,[i])=>Q(rn(i.evaluate(o)))],"to-rgba":[Z(Qe,4),[Hn],(o,[i])=>{const[l,f,m,y]=i.evaluate(o).rgb;return[255*l,255*f,255*m,y]}],rgb:[Hn,[Qe,Qe,Qe],Km],rgba:[Hn,[Qe,Qe,Qe,Qe],Km],has:{type:Ft,overloads:[[[Kt],(o,[i])=>Hm(i.evaluate(o),o.properties())],[[Kt,Wn],(o,[i,l])=>Hm(i.evaluate(o),l.evaluate(o))]]},get:{type:Ot,overloads:[[[Kt],(o,[i])=>Hh(i.evaluate(o),o.properties())],[[Kt,Wn],(o,[i,l])=>Hh(i.evaluate(o),l.evaluate(o))]]},"feature-state":[Ot,[Kt],(o,[i])=>Hh(i.evaluate(o),o.featureState||{})],properties:[Wn,[],o=>o.properties()],"geometry-type":[Kt,[],o=>o.geometryType()],id:[Ot,[],o=>o.id()],zoom:[Qe,[],o=>o.globals.zoom],"heatmap-density":[Qe,[],o=>o.globals.heatmapDensity||0],"line-progress":[Qe,[],o=>o.globals.lineProgress||0],accumulated:[Ot,[],o=>o.globals.accumulated===void 0?null:o.globals.accumulated],"+":[Qe,Ko(Qe),(o,i)=>{let l=0;for(const f of i)l+=f.evaluate(o);return l}],"*":[Qe,Ko(Qe),(o,i)=>{let l=1;for(const f of i)l*=f.evaluate(o);return l}],"-":{type:Qe,overloads:[[[Qe,Qe],(o,[i,l])=>i.evaluate(o)-l.evaluate(o)],[[Qe],(o,[i])=>-i.evaluate(o)]]},"/":[Qe,[Qe,Qe],(o,[i,l])=>i.evaluate(o)/l.evaluate(o)],"%":[Qe,[Qe,Qe],(o,[i,l])=>i.evaluate(o)%l.evaluate(o)],ln2:[Qe,[],()=>Math.LN2],pi:[Qe,[],()=>Math.PI],e:[Qe,[],()=>Math.E],"^":[Qe,[Qe,Qe],(o,[i,l])=>Math.pow(i.evaluate(o),l.evaluate(o))],sqrt:[Qe,[Qe],(o,[i])=>Math.sqrt(i.evaluate(o))],log10:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))/Math.LN10],ln:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))],log2:[Qe,[Qe],(o,[i])=>Math.log(i.evaluate(o))/Math.LN2],sin:[Qe,[Qe],(o,[i])=>Math.sin(i.evaluate(o))],cos:[Qe,[Qe],(o,[i])=>Math.cos(i.evaluate(o))],tan:[Qe,[Qe],(o,[i])=>Math.tan(i.evaluate(o))],asin:[Qe,[Qe],(o,[i])=>Math.asin(i.evaluate(o))],acos:[Qe,[Qe],(o,[i])=>Math.acos(i.evaluate(o))],atan:[Qe,[Qe],(o,[i])=>Math.atan(i.evaluate(o))],min:[Qe,Ko(Qe),(o,i)=>Math.min(...i.map(l=>l.evaluate(o)))],max:[Qe,Ko(Qe),(o,i)=>Math.max(...i.map(l=>l.evaluate(o)))],abs:[Qe,[Qe],(o,[i])=>Math.abs(i.evaluate(o))],round:[Qe,[Qe],(o,[i])=>{const l=i.evaluate(o);return l<0?-Math.round(-l):Math.round(l)}],floor:[Qe,[Qe],(o,[i])=>Math.floor(i.evaluate(o))],ceil:[Qe,[Qe],(o,[i])=>Math.ceil(i.evaluate(o))],"filter-==":[Ft,[Kt,Ot],(o,[i,l])=>o.properties()[i.value]===l.value],"filter-id-==":[Ft,[Ot],(o,[i])=>o.id()===i.value],"filter-type-==":[Ft,[Kt],(o,[i])=>o.geometryType()===i.value],"filter-<":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f<m}],"filter-id-<":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l<f}],"filter->":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f>m}],"filter-id->":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l>f}],"filter-<=":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f<=m}],"filter-id-<=":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l<=f}],"filter->=":[Ft,[Kt,Ot],(o,[i,l])=>{const f=o.properties()[i.value],m=l.value;return typeof f==typeof m&&f>=m}],"filter-id->=":[Ft,[Ot],(o,[i])=>{const l=o.id(),f=i.value;return typeof l==typeof f&&l>=f}],"filter-has":[Ft,[Ot],(o,[i])=>i.value in o.properties()],"filter-has-id":[Ft,[],o=>o.id()!==null&&o.id()!==void 0],"filter-type-in":[Ft,[Z(Kt)],(o,[i])=>i.value.indexOf(o.geometryType())>=0],"filter-id-in":[Ft,[Z(Ot)],(o,[i])=>i.value.indexOf(o.id())>=0],"filter-in-small":[Ft,[Kt,Z(Ot)],(o,[i,l])=>l.value.indexOf(o.properties()[i.value])>=0],"filter-in-large":[Ft,[Kt,Z(Ot)],(o,[i,l])=>function(f,m,y,b){for(;y<=b;){const P=y+b>>1;if(m[P]===f)return!0;m[P]>f?b=P-1:y=P+1}return!1}(o.properties()[i.value],l.value,0,l.value.length-1)],all:{type:Ft,overloads:[[[Ft,Ft],(o,[i,l])=>i.evaluate(o)&&l.evaluate(o)],[Ko(Ft),(o,i)=>{for(const l of i)if(!l.evaluate(o))return!1;return!0}]]},any:{type:Ft,overloads:[[[Ft,Ft],(o,[i,l])=>i.evaluate(o)||l.evaluate(o)],[Ko(Ft),(o,i)=>{for(const l of i)if(l.evaluate(o))return!0;return!1}]]},"!":[Ft,[Ft],(o,[i])=>!i.evaluate(o)],"is-supported-script":[Ft,[Kt],(o,[i])=>{const l=o.globals&&o.globals.isSupportedScript;return!l||l(i.evaluate(o))}],upcase:[Kt,[Kt],(o,[i])=>i.evaluate(o).toUpperCase()],downcase:[Kt,[Kt],(o,[i])=>i.evaluate(o).toLowerCase()],concat:[Kt,Ko(Ot),(o,i)=>i.map(l=>Gl(l.evaluate(o))).join("")],"resolved-locale":[Kt,[Va],(o,[i])=>i.evaluate(o).resolvedLocale()]});class Zh{constructor(i,l){var f;this.expression=i,this._warningHistory={},this._evaluator=new $s,this._defaultValue=l?(f=l).type==="color"&&Bs(f.default)?new dr(0,0,0,0):f.type==="color"?dr.parse(f.default)||null:f.type==="padding"?ai.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?oi.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=l&&l.type==="enum"?l.values:null}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._evaluator.globals=i,this._evaluator.feature=l,this._evaluator.featureState=f,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=b,this.expression.evaluate(this._evaluator)}evaluate(i,l,f,m,y,b){this._evaluator.globals=i,this._evaluator.feature=l||null,this._evaluator.featureState=f||null,this._evaluator.canonical=m,this._evaluator.availableImages=y||null,this._evaluator.formattedSection=b||null;try{const P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new Ur(`Expected value to be one of ${Object.keys(this._enumValues).map(k=>JSON.stringify(k)).join(", ")}, but found ${JSON.stringify(P)} instead.`);return P}catch(P){return this._warningHistory[P.message]||(this._warningHistory[P.message]=!0,typeof console<"u"&&console.warn(P.message)),this._defaultValue}}}function Mu(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in Uo}function Du(o,i){const l=new or(Uo,Tu,[],i?function(m){const y={color:Hn,string:Kt,number:Qe,enum:Kt,boolean:Ft,formatted:Ua,padding:mn,resolvedImage:ue,variableAnchorOffsetCollection:W};return m.type==="array"?Z(y[m.value]||Ot,m.length):y[m.type]}(i):void 0),f=l.parse(o,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Wh(new Zh(f,i)):Ho(l.errors)}class Yh{constructor(i,l){this.kind=i,this._styleExpression=l,this.isStateDependent=i!=="constant"&&!nc(l.expression)}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._styleExpression.evaluateWithoutErrorHandling(i,l,f,m,y,b)}evaluate(i,l,f,m,y,b){return this._styleExpression.evaluate(i,l,f,m,y,b)}}class Xh{constructor(i,l,f,m){this.kind=i,this.zoomStops=f,this._styleExpression=l,this.isStateDependent=i!=="camera"&&!nc(l.expression),this.interpolationType=m}evaluateWithoutErrorHandling(i,l,f,m,y,b){return this._styleExpression.evaluateWithoutErrorHandling(i,l,f,m,y,b)}evaluate(i,l,f,m,y,b){return this._styleExpression.evaluate(i,l,f,m,y,b)}interpolationFactor(i,l,f){return this.interpolationType?Ti.interpolationFactor(this.interpolationType,i,l,f):0}}function ac(o,i){const l=Du(o,i);if(l.result==="error")return l;const f=l.value.expression,m=Cu(f);if(!m&&!Wa(i))return Ho([new In("","data expressions not supported")]);const y=Eu(f,["zoom"]);if(!y&&!Wm(i))return Ho([new In("","zoom expressions not supported")]);const b=Mn(f);return b||y?b instanceof In?Ho([b]):b instanceof Ti&&!ku(i)?Ho([new In("",'"interpolate" expressions cannot be used with this property')]):Wh(b?new Xh(m?"camera":"composite",l.value,b.labels,b instanceof Ti?b.interpolation:void 0):new Yh(m?"constant":"source",l.value)):Ho([new In("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Wo{constructor(i,l){this._parameters=i,this._specification=l,en(this,ic(this._parameters,this._specification))}static deserialize(i){return new Wo(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function Mn(o){let i=null;if(o instanceof du)i=Mn(o.result);else if(o instanceof gu){for(const l of o.args)if(i=Mn(l),i)break}else(o instanceof Yl||o instanceof Ti)&&o.input instanceof si&&o.input.name==="zoom"&&(i=o);return i instanceof In||o.eachChild(l=>{const f=Mn(l);f instanceof In?i=f:!i&&f?i=new In("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new In("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function Go(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(const i of o.slice(1))if(!Go(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const qm={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Jh(o){if(o==null)return{filter:()=>!0,needGeometry:!1};Go(o)||(o=oc(o));const i=Du(o,qm);if(i.result==="error")throw new Error(i.value.map(l=>`${l.key}: ${l.message}`).join(", "));return{filter:(l,f,m)=>i.value.evaluate(l,f,{},m),needGeometry:Os(o)}}function sx(o,i){return o<i?-1:o>i?1:0}function Os(o){if(!Array.isArray(o))return!1;if(o[0]==="within"||o[0]==="distance")return!0;for(let i=1;i<o.length;i++)if(Os(o[i]))return!0;return!1}function oc(o){if(!o)return!0;const i=o[0];return o.length<=1?i!=="any":i==="=="?sc(o[1],o[2],"=="):i==="!="?Ru(sc(o[1],o[2],"==")):i==="<"||i===">"||i==="<="||i===">="?sc(o[1],o[2],i):i==="any"?(l=o.slice(1),["any"].concat(l.map(oc))):i==="all"?["all"].concat(o.slice(1).map(oc)):i==="none"?["all"].concat(o.slice(1).map(oc).map(Ru)):i==="in"?Zm(o[1],o.slice(2)):i==="!in"?Ru(Zm(o[1],o.slice(2))):i==="has"?$u(o[1]):i!=="!has"||Ru($u(o[1]));var l}function sc(o,i,l){switch(o){case"$type":return[`filter-type-${l}`,i];case"$id":return[`filter-id-${l}`,i];default:return[`filter-${l}`,o,i]}}function Zm(o,i){if(i.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(l=>typeof l!=typeof i[0])?["filter-in-large",o,["literal",i.sort(sx)]]:["filter-in-small",o,["literal",i]]}}function $u(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Ru(o){return["!",o]}function qo(o){const i=typeof o;if(i==="number"||i==="boolean"||i==="string"||o==null)return JSON.stringify(o);if(Array.isArray(o)){let m="[";for(const y of o)m+=`${qo(y)},`;return`${m}]`}const l=Object.keys(o).sort();let f="{";for(let m=0;m<l.length;m++)f+=`${JSON.stringify(l[m])}:${qo(o[l[m]])},`;return`${f}}`}function lx(o){let i="";for(const l of ni)i+=`/${qo(o[l])}`;return i}function Lu(o){const i=o.value;return i?[new Je(o.key,i,"constants have been deprecated as of v8")]:[]}function zr(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function Ga(o){if(Array.isArray(o))return o.map(Ga);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){const i={};for(const l in o)i[l]=Ga(o[l]);return i}return zr(o)}function Ei(o){const i=o.key,l=o.value,f=o.valueSpec||{},m=o.objectElementValidators||{},y=o.style,b=o.styleSpec,P=o.validateSpec;let k=[];const M=tr(l);if(M!=="object")return[new Je(i,l,`object expected, ${M} found`)];for(const $ in l){const O=$.split(".")[0],H=f[O]||f["*"];let G;if(m[O])G=m[O];else if(f[O])G=P;else if(m["*"])G=m["*"];else{if(!f["*"]){k.push(new Je(i,l[$],`unknown property "${$}"`));continue}G=P}k=k.concat(G({key:(i&&`${i}.`)+$,value:l[$],valueSpec:H,style:y,styleSpec:b,object:l,objectKey:$,validateSpec:P},l))}for(const $ in f)m[$]||f[$].required&&f[$].default===void 0&&l[$]===void 0&&k.push(new Je(i,l,`missing required property "${$}"`));return k}function zu(o){const i=o.value,l=o.valueSpec,f=o.style,m=o.styleSpec,y=o.key,b=o.arrayElementValidator||o.validateSpec;if(tr(i)!=="array")return[new Je(y,i,`array expected, ${tr(i)} found`)];if(l.length&&i.length!==l.length)return[new Je(y,i,`array length ${l.length} expected, length ${i.length} found`)];if(l["min-length"]&&i.length<l["min-length"])return[new Je(y,i,`array length at least ${l["min-length"]} expected, length ${i.length} found`)];let P={type:l.value,values:l.values};m.$version<7&&(P.function=l.function),tr(l.value)==="object"&&(P=l.value);let k=[];for(let M=0;M<i.length;M++)k=k.concat(b({array:i,arrayIndex:M,value:i[M],valueSpec:P,validateSpec:o.validateSpec,style:f,styleSpec:m,key:`${y}[${M}]`}));return k}function Qh(o){const i=o.key,l=o.value,f=o.valueSpec;let m=tr(l);return m==="number"&&l!=l&&(m="NaN"),m!=="number"?[new Je(i,l,`number expected, ${m} found`)]:"minimum"in f&&l<f.minimum?[new Je(i,l,`${l} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&l>f.maximum?[new Je(i,l,`${l} is greater than the maximum value ${f.maximum}`)]:[]}function Fu(o){const i=o.valueSpec,l=zr(o.value.type);let f,m,y,b={};const P=l!=="categorical"&&o.value.property===void 0,k=!P,M=tr(o.value.stops)==="array"&&tr(o.value.stops[0])==="array"&&tr(o.value.stops[0][0])==="object",$=Ei({key:o.key,value:o.value,valueSpec:o.styleSpec.function,validateSpec:o.validateSpec,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function(G){if(l==="identity")return[new Je(G.key,G.value,'identity function may not have a "stops" property')];let J=[];const re=G.value;return J=J.concat(zu({key:G.key,value:re,valueSpec:G.valueSpec,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:O})),tr(re)==="array"&&re.length===0&&J.push(new Je(G.key,re,"array must have at least one stop")),J},default:function(G){return G.validateSpec({key:G.key,value:G.value,valueSpec:i,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec})}}});return l==="identity"&&P&&$.push(new Je(o.key,o.value,'missing required property "property"')),l==="identity"||o.value.stops||$.push(new Je(o.key,o.value,'missing required property "stops"')),l==="exponential"&&o.valueSpec.expression&&!ku(o.valueSpec)&&$.push(new Je(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(k&&!Wa(o.valueSpec)?$.push(new Je(o.key,o.value,"property functions not supported")):P&&!Wm(o.valueSpec)&&$.push(new Je(o.key,o.value,"zoom functions not supported"))),l!=="categorical"&&!M||o.value.property!==void 0||$.push(new Je(o.key,o.value,'"property" property is required')),$;function O(G){let J=[];const re=G.value,ce=G.key;if(tr(re)!=="array")return[new Je(ce,re,`array expected, ${tr(re)} found`)];if(re.length!==2)return[new Je(ce,re,`array length 2 expected, length ${re.length} found`)];if(M){if(tr(re[0])!=="object")return[new Je(ce,re,`object expected, ${tr(re[0])} found`)];if(re[0].zoom===void 0)return[new Je(ce,re,"object stop key must have zoom")];if(re[0].value===void 0)return[new Je(ce,re,"object stop key must have value")];if(y&&y>zr(re[0].zoom))return[new Je(ce,re[0].zoom,"stop zoom values must appear in ascending order")];zr(re[0].zoom)!==y&&(y=zr(re[0].zoom),m=void 0,b={}),J=J.concat(Ei({key:`${ce}[0]`,value:re[0],valueSpec:{zoom:{}},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:Qh,value:H}}))}else J=J.concat(H({key:`${ce}[0]`,value:re[0],valueSpec:{},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec},re));return Mu(Ga(re[1]))?J.concat([new Je(`${ce}[1]`,re[1],"expressions are not allowed in function stops.")]):J.concat(G.validateSpec({key:`${ce}[1]`,value:re[1],valueSpec:i,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec}))}function H(G,J){const re=tr(G.value),ce=zr(G.value),ve=G.value!==null?G.value:J;if(f){if(re!==f)return[new Je(G.key,ve,`${re} stop domain type must match previous stop domain type ${f}`)]}else f=re;if(re!=="number"&&re!=="string"&&re!=="boolean")return[new Je(G.key,ve,"stop domain value must be a number, string, or boolean")];if(re!=="number"&&l!=="categorical"){let Me=`number expected, ${re} found`;return Wa(i)&&l===void 0&&(Me+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Je(G.key,ve,Me)]}return l!=="categorical"||re!=="number"||isFinite(ce)&&Math.floor(ce)===ce?l!=="categorical"&&re==="number"&&m!==void 0&&ce<m?[new Je(G.key,ve,"stop domain values must appear in ascending order")]:(m=ce,l==="categorical"&&ce in b?[new Je(G.key,ve,"stop domain values must be unique")]:(b[ce]=!0,[])):[new Je(G.key,ve,`integer expected, found ${ce}`)]}}function qa(o){const i=(o.expressionContext==="property"?ac:Du)(Ga(o.value),o.valueSpec);if(i.result==="error")return i.value.map(f=>new Je(`${o.key}${f.key}`,o.value,f.message));const l=i.value.expression||i.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!l.outputDefined())return[new Je(o.key,o.value,`Invalid data expression for "${o.propertyKey}". Output values must be contained as literals within the expression.`)];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!nc(l))return[new Je(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!nc(l))return[new Je(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!Eu(l,["zoom","feature-state"]))return[new Je(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!Cu(l))return[new Je(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function js(o){const i=o.key,l=o.value,f=o.valueSpec,m=[];return Array.isArray(f.values)?f.values.indexOf(zr(l))===-1&&m.push(new Je(i,l,`expected one of [${f.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(f.values).indexOf(zr(l))===-1&&m.push(new Je(i,l,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(l)} found`)),m}function Bu(o){return Go(Ga(o.value))?qa(en({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ef(o)}function ef(o){const i=o.value,l=o.key;if(tr(i)!=="array")return[new Je(l,i,`array expected, ${tr(i)} found`)];const f=o.styleSpec;let m,y=[];if(i.length<1)return[new Je(l,i,"filter array must have at least 1 element")];switch(y=y.concat(js({key:`${l}[0]`,value:i[0],valueSpec:f.filter_operator,style:o.style,styleSpec:o.styleSpec})),zr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&zr(i[1])==="$type"&&y.push(new Je(l,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&y.push(new Je(l,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(m=tr(i[1]),m!=="string"&&y.push(new Je(`${l}[1]`,i[1],`string expected, ${m} found`)));for(let b=2;b<i.length;b++)m=tr(i[b]),zr(i[1])==="$type"?y=y.concat(js({key:`${l}[${b}]`,value:i[b],valueSpec:f.geometry_type,style:o.style,styleSpec:o.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&y.push(new Je(`${l}[${b}]`,i[b],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let b=1;b<i.length;b++)y=y.concat(ef({key:`${l}[${b}]`,value:i[b],style:o.style,styleSpec:o.styleSpec}));break;case"has":case"!has":m=tr(i[1]),i.length!==2?y.push(new Je(l,i,`filter array for "${i[0]}" operator must have 2 elements`)):m!=="string"&&y.push(new Je(`${l}[1]`,i[1],`string expected, ${m} found`))}return y}function tf(o,i){const l=o.key,f=o.validateSpec,m=o.style,y=o.styleSpec,b=o.value,P=o.objectKey,k=y[`${i}_${o.layerType}`];if(!k)return[];const M=P.match(/^(.*)-transition$/);if(i==="paint"&&M&&k[M[1]]&&k[M[1]].transition)return f({key:l,value:b,valueSpec:y.transition,style:m,styleSpec:y});const $=o.valueSpec||k[P];if(!$)return[new Je(l,b,`unknown property "${P}"`)];let O;if(tr(b)==="string"&&Wa($)&&!$.tokens&&(O=/^{([^}]+)}$/.exec(b)))return[new Je(l,b,`"${P}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(O[1])} }\`.`)];const H=[];return o.layerType==="symbol"&&(P==="text-field"&&m&&!m.glyphs&&H.push(new Je(l,b,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&Bs(Ga(b))&&zr(b.type)==="identity"&&H.push(new Je(l,b,'"text-font" does not support identity functions'))),H.concat(f({key:o.key,value:b,valueSpec:$,style:m,styleSpec:y,expressionContext:"property",propertyType:i,propertyKey:P}))}function Nu(o){return tf(o,"paint")}function rf(o){return tf(o,"layout")}function Ym(o){let i=[];const l=o.value,f=o.key,m=o.style,y=o.styleSpec;l.type||l.ref||i.push(new Je(f,l,'either "type" or "ref" is required'));let b=zr(l.type);const P=zr(l.ref);if(l.id){const k=zr(l.id);for(let M=0;M<o.arrayIndex;M++){const $=m.layers[M];zr($.id)===k&&i.push(new Je(f,l.id,`duplicate layer id "${l.id}", previously used at line ${$.id.__line__}`))}}if("ref"in l){let k;["type","source","source-layer","filter","layout"].forEach(M=>{M in l&&i.push(new Je(f,l[M],`"${M}" is prohibited for ref layers`))}),m.layers.forEach(M=>{zr(M.id)===P&&(k=M)}),k?k.ref?i.push(new Je(f,l.ref,"ref cannot reference another ref layer")):b=zr(k.type):i.push(new Je(f,l.ref,`ref layer "${P}" not found`))}else if(b!=="background")if(l.source){const k=m.sources&&m.sources[l.source],M=k&&zr(k.type);k?M==="vector"&&b==="raster"?i.push(new Je(f,l.source,`layer "${l.id}" requires a raster source`)):M!=="raster-dem"&&b==="hillshade"?i.push(new Je(f,l.source,`layer "${l.id}" requires a raster-dem source`)):M==="raster"&&b!=="raster"?i.push(new Je(f,l.source,`layer "${l.id}" requires a vector source`)):M!=="vector"||l["source-layer"]?M==="raster-dem"&&b!=="hillshade"?i.push(new Je(f,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):b!=="line"||!l.paint||!l.paint["line-gradient"]||M==="geojson"&&k.lineMetrics||i.push(new Je(f,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new Je(f,l,`layer "${l.id}" must specify a "source-layer"`)):i.push(new Je(f,l.source,`source "${l.source}" not found`))}else i.push(new Je(f,l,'missing required property "source"'));return i=i.concat(Ei({key:f,value:l,valueSpec:y.layer,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,objectElementValidators:{"*":()=>[],type:()=>o.validateSpec({key:`${f}.type`,value:l.type,valueSpec:y.layer.type,style:o.style,styleSpec:o.styleSpec,validateSpec:o.validateSpec,object:l,objectKey:"type"}),filter:Bu,layout:k=>Ei({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>rf(en({layerType:b},M))}}),paint:k=>Ei({layer:l,key:k.key,value:k.value,style:k.style,styleSpec:k.styleSpec,validateSpec:k.validateSpec,objectElementValidators:{"*":M=>Nu(en({layerType:b},M))}})}})),i}function mo(o){const i=o.value,l=o.key,f=tr(i);return f!=="string"?[new Je(l,i,`string expected, ${f} found`)]:[]}const Xm={promoteId:function({key:o,value:i}){if(tr(i)==="string")return mo({key:o,value:i});{const l=[];for(const f in i)l.push(...mo({key:`${o}.${f}`,value:i[f]}));return l}}};function nf(o){const i=o.value,l=o.key,f=o.styleSpec,m=o.style,y=o.validateSpec;if(!i.type)return[new Je(l,i,'"type" is required')];const b=zr(i.type);let P;switch(b){case"vector":case"raster":return P=Ei({key:l,value:i,valueSpec:f[`source_${b.replace("-","_")}`],style:o.style,styleSpec:f,objectElementValidators:Xm,validateSpec:y}),P;case"raster-dem":return P=function(k){var M;const $=(M=k.sourceName)!==null&&M!==void 0?M:"",O=k.value,H=k.styleSpec,G=H.source_raster_dem,J=k.style;let re=[];const ce=tr(O);if(O===void 0)return re;if(ce!=="object")return re.push(new Je("source_raster_dem",O,`object expected, ${ce} found`)),re;const ve=zr(O.encoding)==="custom",Me=["redFactor","greenFactor","blueFactor","baseShift"],Pe=k.value.encoding?`"${k.value.encoding}"`:"Default";for(const Ae in O)!ve&&Me.includes(Ae)?re.push(new Je(Ae,O[Ae],`In "${$}": "${Ae}" is only valid when "encoding" is set to "custom". ${Pe} encoding found`)):G[Ae]?re=re.concat(k.validateSpec({key:Ae,value:O[Ae],valueSpec:G[Ae],validateSpec:k.validateSpec,style:J,styleSpec:H})):re.push(new Je(Ae,O[Ae],`unknown property "${Ae}"`));return re}({sourceName:l,value:i,style:o.style,styleSpec:f,validateSpec:y}),P;case"geojson":if(P=Ei({key:l,value:i,valueSpec:f.source_geojson,style:m,styleSpec:f,validateSpec:y,objectElementValidators:Xm}),i.cluster)for(const k in i.clusterProperties){const[M,$]=i.clusterProperties[k],O=typeof M=="string"?[M,["accumulated"],["get",k]]:M;P.push(...qa({key:`${l}.${k}.map`,value:$,validateSpec:y,expressionContext:"cluster-map"})),P.push(...qa({key:`${l}.${k}.reduce`,value:O,validateSpec:y,expressionContext:"cluster-reduce"}))}return P;case"video":return Ei({key:l,value:i,valueSpec:f.source_video,style:m,validateSpec:y,styleSpec:f});case"image":return Ei({key:l,value:i,valueSpec:f.source_image,style:m,validateSpec:y,styleSpec:f});case"canvas":return[new Je(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return js({key:`${l}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:m,validateSpec:y,styleSpec:f})}}function af(o){const i=o.value,l=o.styleSpec,f=l.light,m=o.style;let y=[];const b=tr(i);if(i===void 0)return y;if(b!=="object")return y=y.concat([new Je("light",i,`object expected, ${b} found`)]),y;for(const P in i){const k=P.match(/^(.*)-transition$/);y=y.concat(k&&f[k[1]]&&f[k[1]].transition?o.validateSpec({key:P,value:i[P],valueSpec:l.transition,validateSpec:o.validateSpec,style:m,styleSpec:l}):f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],validateSpec:o.validateSpec,style:m,styleSpec:l}):[new Je(P,i[P],`unknown property "${P}"`)])}return y}function of(o){const i=o.value,l=o.styleSpec,f=l.sky,m=o.style,y=tr(i);if(i===void 0)return[];if(y!=="object")return[new Je("sky",i,`object expected, ${y} found`)];let b=[];for(const P in i)b=b.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],style:m,styleSpec:l}):[new Je(P,i[P],`unknown property "${P}"`)]);return b}function Jm(o){const i=o.value,l=o.styleSpec,f=l.terrain,m=o.style;let y=[];const b=tr(i);if(i===void 0)return y;if(b!=="object")return y=y.concat([new Je("terrain",i,`object expected, ${b} found`)]),y;for(const P in i)y=y.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],validateSpec:o.validateSpec,style:m,styleSpec:l}):[new Je(P,i[P],`unknown property "${P}"`)]);return y}function Qm(o){let i=[];const l=o.value,f=o.key;if(Array.isArray(l)){const m=[],y=[];for(const b in l)l[b].id&&m.includes(l[b].id)&&i.push(new Je(f,l,`all the sprites' ids must be unique, but ${l[b].id} is duplicated`)),m.push(l[b].id),l[b].url&&y.includes(l[b].url)&&i.push(new Je(f,l,`all the sprites' URLs must be unique, but ${l[b].url} is duplicated`)),y.push(l[b].url),i=i.concat(Ei({key:`${f}[${b}]`,value:l[b],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:o.validateSpec}));return i}return mo({key:f,value:l})}const sf={"*":()=>[],array:zu,boolean:function(o){const i=o.value,l=o.key,f=tr(i);return f!=="boolean"?[new Je(l,i,`boolean expected, ${f} found`)]:[]},number:Qh,color:function(o){const i=o.key,l=o.value,f=tr(l);return f!=="string"?[new Je(i,l,`color expected, ${f} found`)]:dr.parse(String(l))?[]:[new Je(i,l,`color expected, "${l}" found`)]},constants:Lu,enum:js,filter:Bu,function:Fu,layer:Ym,object:Ei,source:nf,light:af,sky:of,terrain:Jm,projection:function(o){const i=o.value,l=o.styleSpec,f=l.projection,m=o.style,y=tr(i);if(i===void 0)return[];if(y!=="object")return[new Je("projection",i,`object expected, ${y} found`)];let b=[];for(const P in i)b=b.concat(f[P]?o.validateSpec({key:P,value:i[P],valueSpec:f[P],style:m,styleSpec:l}):[new Je(P,i[P],`unknown property "${P}"`)]);return b},string:mo,formatted:function(o){return mo(o).length===0?[]:qa(o)},resolvedImage:function(o){return mo(o).length===0?[]:qa(o)},padding:function(o){const i=o.key,l=o.value;if(tr(l)==="array"){if(l.length<1||l.length>4)return[new Je(i,l,`padding requires 1 to 4 values; ${l.length} values found`)];const f={type:"number"};let m=[];for(let y=0;y<l.length;y++)m=m.concat(o.validateSpec({key:`${i}[${y}]`,value:l[y],validateSpec:o.validateSpec,valueSpec:f}));return m}return Qh({key:i,value:l,valueSpec:{}})},variableAnchorOffsetCollection:function(o){const i=o.key,l=o.value,f=tr(l),m=o.styleSpec;if(f!=="array"||l.length<1||l.length%2!=0)return[new Je(i,l,"variableAnchorOffsetCollection requires a non-empty array of even length")];let y=[];for(let b=0;b<l.length;b+=2)y=y.concat(js({key:`${i}[${b}]`,value:l[b],valueSpec:m.layout_symbol["text-anchor"]})),y=y.concat(zu({key:`${i}[${b+1}]`,value:l[b+1],valueSpec:{length:2,value:"number"},validateSpec:o.validateSpec,style:o.style,styleSpec:m}));return y},sprite:Qm};function Vs(o){const i=o.value,l=o.valueSpec,f=o.styleSpec;return o.validateSpec=Vs,l.expression&&Bs(zr(i))?Fu(o):l.expression&&Mu(Ga(i))?qa(o):l.type&&sf[l.type]?sf[l.type](o):Ei(en({},o,{valueSpec:l.type?f[l.type]:l}))}function lf(o){const i=o.value,l=o.key,f=mo(o);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new Je(l,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new Je(l,i,'"glyphs" url must include a "{range}" token'))),f}function Ni(o,i=Ve){let l=[];return l=l.concat(Vs({key:"",value:o,valueSpec:i.$root,styleSpec:i,style:o,validateSpec:Vs,objectElementValidators:{glyphs:lf,"*":()=>[]}})),o.constants&&(l=l.concat(Lu({key:"constants",value:o.constants,style:o,styleSpec:i,validateSpec:Vs}))),eg(l)}function ki(o){return function(i){return o({...i,validateSpec:Vs})}}function eg(o){return[].concat(o).sort((i,l)=>i.line-l.line)}function Oi(o){return function(...i){return eg(o.apply(this,i))}}Ni.source=Oi(ki(nf)),Ni.sprite=Oi(ki(Qm)),Ni.glyphs=Oi(ki(lf)),Ni.light=Oi(ki(af)),Ni.sky=Oi(ki(of)),Ni.terrain=Oi(ki(Jm)),Ni.layer=Oi(ki(Ym)),Ni.filter=Oi(ki(Bu)),Ni.paintProperty=Oi(ki(Nu)),Ni.layoutProperty=Oi(ki(rf));const lc=Ni,cx=lc.light,tg=lc.paintProperty,rg=lc.layoutProperty;function cf(o,i){let l=!1;if(i&&i.length)for(const f of i)o.fire(new Yt(new Error(f.message))),l=!0;return l}class cc{constructor(i,l,f){const m=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const b=new Int32Array(this.arrayBuffer);i=b[0],this.d=(l=b[1])+2*(f=b[2]);for(let k=0;k<this.d*this.d;k++){const M=b[3+k],$=b[3+k+1];m.push(M===$?null:b.subarray(M,$))}const P=b[3+m.length+1];this.keys=b.subarray(b[3+m.length],P),this.bboxes=b.subarray(P),this.insert=this._insertReadonly}else{this.d=l+2*f;for(let b=0;b<this.d*this.d;b++)m.push([]);this.keys=[],this.bboxes=[]}this.n=l,this.extent=i,this.padding=f,this.scale=l/i,this.uid=0;const y=f/l*i;this.min=-y,this.max=i+y}insert(i,l,f,m,y){this._forEachCell(l,f,m,y,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(l),this.bboxes.push(f),this.bboxes.push(m),this.bboxes.push(y)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,l,f,m,y,b){this.cells[y].push(b)}query(i,l,f,m,y){const b=this.min,P=this.max;if(i<=b&&l<=b&&P<=f&&P<=m&&!y)return Array.prototype.slice.call(this.keys);{const k=[];return this._forEachCell(i,l,f,m,this._queryCell,k,{},y),k}}_queryCell(i,l,f,m,y,b,P,k){const M=this.cells[y];if(M!==null){const $=this.keys,O=this.bboxes;for(let H=0;H<M.length;H++){const G=M[H];if(P[G]===void 0){const J=4*G;(k?k(O[J+0],O[J+1],O[J+2],O[J+3]):i<=O[J+2]&&l<=O[J+3]&&f>=O[J+0]&&m>=O[J+1])?(P[G]=!0,b.push($[G])):P[G]=!1}}}}_forEachCell(i,l,f,m,y,b,P,k){const M=this._convertToCellCoord(i),$=this._convertToCellCoord(l),O=this._convertToCellCoord(f),H=this._convertToCellCoord(m);for(let G=M;G<=O;G++)for(let J=$;J<=H;J++){const re=this.d*J+G;if((!k||k(this._convertFromCellCoord(G),this._convertFromCellCoord(J),this._convertFromCellCoord(G+1),this._convertFromCellCoord(J+1)))&&y.call(this,i,l,f,m,re,b,P,k))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,l=3+this.cells.length+1+1;let f=0;for(let b=0;b<this.cells.length;b++)f+=this.cells[b].length;const m=new Int32Array(l+f+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let y=l;for(let b=0;b<i.length;b++){const P=i[b];m[3+b]=y,m.set(P,y),y+=P.length}return m[3+i.length]=y,m.set(this.keys,y),y+=this.keys.length,m[3+i.length+1]=y,m.set(this.bboxes,y),y+=this.bboxes.length,m.buffer}static serialize(i,l){const f=i.toArrayBuffer();return l&&l.push(f),{buffer:f}}static deserialize(i){return new cc(i.buffer)}}const go={};function ht(o,i,l={}){if(go[o])throw new Error(`${o} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:o,writeable:!1}),go[o]={klass:i,omit:l.omit||[],shallow:l.shallow||[]}}ht("Object",Object),ht("TransferableGridIndex",cc),ht("Color",dr),ht("Error",Error),ht("AJAXError",Et),ht("ResolvedImage",Bi),ht("StylePropertyFunction",Wo),ht("StyleExpression",Zh,{omit:["_evaluator"]}),ht("ZoomDependentExpression",Xh),ht("ZoomConstantExpression",Yh),ht("CompoundExpression",si,{omit:["_evaluate"]});for(const o in Uo)Uo[o]._classRegistryKey||ht(`Expression_${o}`,Uo[o]);function ng(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function uc(o,i){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||o instanceof Error)return o;if(ng(o)||ae(o))return i&&i.push(o),o;if(ArrayBuffer.isView(o)){const l=o;return i&&i.push(l.buffer),l}if(o instanceof ImageData)return i&&i.push(o.data.buffer),o;if(Array.isArray(o)){const l=[];for(const f of o)l.push(uc(f,i));return l}if(typeof o=="object"){const l=o.constructor,f=l._classRegistryKey;if(!f)throw new Error(`can't serialize object of unregistered class ${l.name}`);if(!go[f])throw new Error(`${f} is not registered.`);const m=l.serialize?l.serialize(o,i):{};if(l.serialize){if(i&&m===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const y in o){if(!o.hasOwnProperty(y)||go[f].omit.indexOf(y)>=0)continue;const b=o[y];m[y]=go[f].shallow.indexOf(y)>=0?b:uc(b,i)}o instanceof Error&&(m.message=o.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(m.$name=f),m}throw new Error("can't serialize object of type "+typeof o)}function ba(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||o instanceof Blob||o instanceof Error||ng(o)||ae(o)||ArrayBuffer.isView(o)||o instanceof ImageData)return o;if(Array.isArray(o))return o.map(ba);if(typeof o=="object"){const i=o.$name||"Object";if(!go[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:l}=go[i];if(!l)throw new Error(`can't deserialize unregistered class ${i}`);if(l.deserialize)return l.deserialize(o);const f=Object.create(l.prototype);for(const m of Object.keys(o)){if(m==="$name")continue;const y=o[m];f[m]=go[i].shallow.indexOf(m)>=0?y:ba(y)}return f}throw new Error("can't deserialize object of type "+typeof o)}class ig{constructor(){this.first=!0}update(i,l){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=l):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=l),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const st={"Latin-1 Supplement":o=>o>=128&&o<=255,Arabic:o=>o>=1536&&o<=1791,"Arabic Supplement":o=>o>=1872&&o<=1919,"Arabic Extended-A":o=>o>=2208&&o<=2303,"Hangul Jamo":o=>o>=4352&&o<=4607,"Unified Canadian Aboriginal Syllabics":o=>o>=5120&&o<=5759,Khmer:o=>o>=6016&&o<=6143,"Unified Canadian Aboriginal Syllabics Extended":o=>o>=6320&&o<=6399,"General Punctuation":o=>o>=8192&&o<=8303,"Letterlike Symbols":o=>o>=8448&&o<=8527,"Number Forms":o=>o>=8528&&o<=8591,"Miscellaneous Technical":o=>o>=8960&&o<=9215,"Control Pictures":o=>o>=9216&&o<=9279,"Optical Character Recognition":o=>o>=9280&&o<=9311,"Enclosed Alphanumerics":o=>o>=9312&&o<=9471,"Geometric Shapes":o=>o>=9632&&o<=9727,"Miscellaneous Symbols":o=>o>=9728&&o<=9983,"Miscellaneous Symbols and Arrows":o=>o>=11008&&o<=11263,"CJK Radicals Supplement":o=>o>=11904&&o<=12031,"Kangxi Radicals":o=>o>=12032&&o<=12255,"Ideographic Description Characters":o=>o>=12272&&o<=12287,"CJK Symbols and Punctuation":o=>o>=12288&&o<=12351,Hiragana:o=>o>=12352&&o<=12447,Katakana:o=>o>=12448&&o<=12543,Bopomofo:o=>o>=12544&&o<=12591,"Hangul Compatibility Jamo":o=>o>=12592&&o<=12687,Kanbun:o=>o>=12688&&o<=12703,"Bopomofo Extended":o=>o>=12704&&o<=12735,"CJK Strokes":o=>o>=12736&&o<=12783,"Katakana Phonetic Extensions":o=>o>=12784&&o<=12799,"Enclosed CJK Letters and Months":o=>o>=12800&&o<=13055,"CJK Compatibility":o=>o>=13056&&o<=13311,"CJK Unified Ideographs Extension A":o=>o>=13312&&o<=19903,"Yijing Hexagram Symbols":o=>o>=19904&&o<=19967,"CJK Unified Ideographs":o=>o>=19968&&o<=40959,"Yi Syllables":o=>o>=40960&&o<=42127,"Yi Radicals":o=>o>=42128&&o<=42191,"Hangul Jamo Extended-A":o=>o>=43360&&o<=43391,"Hangul Syllables":o=>o>=44032&&o<=55215,"Hangul Jamo Extended-B":o=>o>=55216&&o<=55295,"Private Use Area":o=>o>=57344&&o<=63743,"CJK Compatibility Ideographs":o=>o>=63744&&o<=64255,"Arabic Presentation Forms-A":o=>o>=64336&&o<=65023,"Vertical Forms":o=>o>=65040&&o<=65055,"CJK Compatibility Forms":o=>o>=65072&&o<=65103,"Small Form Variants":o=>o>=65104&&o<=65135,"Arabic Presentation Forms-B":o=>o>=65136&&o<=65279,"Halfwidth and Fullwidth Forms":o=>o>=65280&&o<=65519};function uf(o){for(const i of o)if(df(i.charCodeAt(0)))return!0;return!1}function ux(o){for(const i of o)if(!ag(i.charCodeAt(0)))return!1;return!0}function ag(o){return!(st.Arabic(o)||st["Arabic Supplement"](o)||st["Arabic Extended-A"](o)||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o))}function df(o){return!(o!==746&&o!==747&&(o<4352||!(st["Bopomofo Extended"](o)||st.Bopomofo(o)||st["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||st["CJK Compatibility Ideographs"](o)||st["CJK Compatibility"](o)||st["CJK Radicals Supplement"](o)||st["CJK Strokes"](o)||!(!st["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||st["CJK Unified Ideographs Extension A"](o)||st["CJK Unified Ideographs"](o)||st["Enclosed CJK Letters and Months"](o)||st["Hangul Compatibility Jamo"](o)||st["Hangul Jamo Extended-A"](o)||st["Hangul Jamo Extended-B"](o)||st["Hangul Jamo"](o)||st["Hangul Syllables"](o)||st.Hiragana(o)||st["Ideographic Description Characters"](o)||st.Kanbun(o)||st["Kangxi Radicals"](o)||st["Katakana Phonetic Extensions"](o)||st.Katakana(o)&&o!==12540||!(!st["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!st["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||st["Unified Canadian Aboriginal Syllabics"](o)||st["Unified Canadian Aboriginal Syllabics Extended"](o)||st["Vertical Forms"](o)||st["Yijing Hexagram Symbols"](o)||st["Yi Syllables"](o)||st["Yi Radicals"](o))))}function og(o){return!(df(o)||function(i){return!!(st["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||st["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||st["Letterlike Symbols"](i)||st["Number Forms"](i)||st["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||st["Control Pictures"](i)&&i!==9251||st["Optical Character Recognition"](i)||st["Enclosed Alphanumerics"](i)||st["Geometric Shapes"](i)||st["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||st["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||st["CJK Symbols and Punctuation"](i)||st.Katakana(i)||st["Private Use Area"](i)||st["CJK Compatibility Forms"](i)||st["Small Form Variants"](i)||st["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(o))}function yo(o){return o>=1424&&o<=2303||st["Arabic Presentation Forms-A"](o)||st["Arabic Presentation Forms-B"](o)}function sg(o,i){return!(!i&&yo(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||st.Khmer(o))}function hf(o){for(const i of o)if(yo(i.charCodeAt(0)))return!0;return!1}const vo=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(o){this.pluginStatus=o.pluginStatus,this.pluginURL=o.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(o){this.applyArabicShaping=o.applyArabicShaping,this.processBidirectionalText=o.processBidirectionalText,this.processStyledBidirectionalText=o.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class vr{constructor(i,l){this.zoom=i,l?(this.now=l.now,this.fadeDuration=l.fadeDuration,this.zoomHistory=l.zoomHistory,this.transition=l.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ig,this.transition={})}isSupportedScript(i){return function(l,f){for(const m of l)if(!sg(m.charCodeAt(0),f))return!1;return!0}(i,vo.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,l=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:l+(1-l)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*l}}}class Ou{constructor(i,l){this.property=i,this.value=l,this.expression=function(f,m){if(Bs(f))return new Wo(f,m);if(Mu(f)){const y=ac(f,m);if(y.result==="error")throw new Error(y.value.map(b=>`${b.key}: ${b.message}`).join(", "));return y.value}{let y=f;return m.type==="color"&&typeof f=="string"?y=dr.parse(f):m.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(y=oi.parse(f)):y=ai.parse(f),{kind:"constant",evaluate:()=>y}}}(l===void 0?i.specification.default:l,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,l,f){return this.property.possiblyEvaluate(this,i,l,f)}}class Us{constructor(i){this.property=i,this.value=new Ou(i,void 0)}transitioned(i,l){return new lg(this.property,this.value,l,be({},i.transition,this.transition),i.now)}untransitioned(){return new lg(this.property,this.value,null,{},0)}}class Ks{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return le(this._values[i].value.value)}setValue(i,l){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Us(this._values[i].property)),this._values[i].value=new Ou(this._values[i].property,l===null?void 0:le(l))}getTransition(i){return le(this._values[i].transition)}setTransition(i,l){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Us(this._values[i].property)),this._values[i].transition=le(l)||void 0}serialize(){const i={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(i[l]=f);const m=this.getTransition(l);m!==void 0&&(i[`${l}-transition`]=m)}return i}transitioned(i,l){const f=new ff(this._properties);for(const m of Object.keys(this._values))f._values[m]=this._values[m].transitioned(i,l._values[m]);return f}untransitioned(){const i=new ff(this._properties);for(const l of Object.keys(this._values))i._values[l]=this._values[l].untransitioned();return i}}class lg{constructor(i,l,f,m,y){this.property=i,this.value=l,this.begin=y+m.delay||0,this.end=this.begin+m.duration||0,i.specification.transition&&(m.delay||m.duration)&&(this.prior=f)}possiblyEvaluate(i,l,f){const m=i.now||0,y=this.value.possiblyEvaluate(i,l,f),b=this.prior;if(b){if(m>this.end)return this.prior=null,y;if(this.value.isDataDriven())return this.prior=null,y;if(m<this.begin)return b.possiblyEvaluate(i,l,f);{const P=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(b.possiblyEvaluate(i,l,f),y,function(k){if(k<=0)return 0;if(k>=1)return 1;const M=k*k,$=M*k;return 4*(k<.5?$:3*(k-M)+$-.75)}(P))}}return y}}class ff{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,l,f){const m=new ju(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(i,l,f);return m}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class dc{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return le(this._values[i].value)}setValue(i,l){this._values[i]=new Ou(this._values[i].property,l===null?void 0:le(l))}serialize(){const i={};for(const l of Object.keys(this._values)){const f=this.getValue(l);f!==void 0&&(i[l]=f)}return i}possiblyEvaluate(i,l,f){const m=new ju(this._properties);for(const y of Object.keys(this._values))m._values[y]=this._values[y].possiblyEvaluate(i,l,f);return m}}class wa{constructor(i,l,f){this.property=i,this.value=l,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,l,f,m){return this.property.evaluate(this.value,this.parameters,i,l,f,m)}}class ju{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class _t{constructor(i){this.specification=i}possiblyEvaluate(i,l){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(l)}interpolate(i,l,f){const m=Gn[this.specification.type];return m?m(i,l,f):i}}class kt{constructor(i,l){this.specification=i,this.overrides=l}possiblyEvaluate(i,l,f,m){return new wa(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(l,null,{},f,m)}:i.expression,l)}interpolate(i,l,f){if(i.value.kind!=="constant"||l.value.kind!=="constant")return i;if(i.value.value===void 0||l.value.value===void 0)return new wa(this,{kind:"constant",value:void 0},i.parameters);const m=Gn[this.specification.type];if(m){const y=m(i.value.value,l.value.value,f);return new wa(this,{kind:"constant",value:y},i.parameters)}return i}evaluate(i,l,f,m,y,b){return i.kind==="constant"?i.value:i.evaluate(l,f,m,y,b)}}class x extends kt{possiblyEvaluate(i,l,f,m){if(i.value===void 0)return new wa(this,{kind:"constant",value:void 0},l);if(i.expression.kind==="constant"){const y=i.expression.evaluate(l,null,{},f,m),b=i.property.specification.type==="resolvedImage"&&typeof y!="string"?y.name:y,P=this._calculate(b,b,b,l);return new wa(this,{kind:"constant",value:P},l)}if(i.expression.kind==="camera"){const y=this._calculate(i.expression.evaluate({zoom:l.zoom-1}),i.expression.evaluate({zoom:l.zoom}),i.expression.evaluate({zoom:l.zoom+1}),l);return new wa(this,{kind:"constant",value:y},l)}return new wa(this,i.expression,l)}evaluate(i,l,f,m,y,b){if(i.kind==="source"){const P=i.evaluate(l,f,m,y,b);return this._calculate(P,P,P,l)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(l.zoom)-1},f,m),i.evaluate({zoom:Math.floor(l.zoom)},f,m),i.evaluate({zoom:Math.floor(l.zoom)+1},f,m),l):i.value}_calculate(i,l,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:l}:{from:f,to:l}}interpolate(i){return i}}class a{constructor(i){this.specification=i}possiblyEvaluate(i,l,f,m){if(i.value!==void 0){if(i.expression.kind==="constant"){const y=i.expression.evaluate(l,null,{},f,m);return this._calculate(y,y,y,l)}return this._calculate(i.expression.evaluate(new vr(Math.floor(l.zoom-1),l)),i.expression.evaluate(new vr(Math.floor(l.zoom),l)),i.expression.evaluate(new vr(Math.floor(l.zoom+1),l)),l)}}_calculate(i,l,f,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:i,to:l}:{from:f,to:l}}interpolate(i){return i}}class u{constructor(i){this.specification=i}possiblyEvaluate(i,l,f,m){return!!i.expression.evaluate(l,null,{},f,m)}interpolate(){return!1}}class p{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const l in i){const f=i[l];f.specification.overridable&&this.overridableProperties.push(l);const m=this.defaultPropertyValues[l]=new Ou(f,void 0),y=this.defaultTransitionablePropertyValues[l]=new Us(f);this.defaultTransitioningPropertyValues[l]=y.untransitioned(),this.defaultPossiblyEvaluatedValues[l]=m.possiblyEvaluate({})}}}ht("DataDrivenProperty",kt),ht("DataConstantProperty",_t),ht("CrossFadedDataDrivenProperty",x),ht("CrossFadedProperty",a),ht("ColorRampProperty",u);const g="-transition";class _ extends Kn{constructor(i,l){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),l.layout&&(this._unevaluatedLayout=new dc(l.layout)),l.paint)){this._transitionablePaint=new Ks(l.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ju(l.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,l,f={}){l!=null&&this._validate(rg,`layers.${this.id}.layout.${i}`,i,l,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,l):this.visibility=l)}getPaintProperty(i){return i.endsWith(g)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,l,f={}){if(l!=null&&this._validate(tg,`layers.${this.id}.paint.${i}`,i,l,f))return!1;if(i.endsWith(g))return this._transitionablePaint.setTransition(i.slice(0,-11),l||void 0),!1;{const m=this._transitionablePaint._values[i],y=m.property.specification["property-type"]==="cross-faded-data-driven",b=m.value.isDataDriven(),P=m.value;this._transitionablePaint.setValue(i,l),this._handleSpecialPaintPropertyUpdate(i);const k=this._transitionablePaint._values[i].value;return k.isDataDriven()||b||y||this._handleOverridablePaintPropertyUpdate(i,P,k)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,l,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,l){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,l)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,l)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),xe(i,(l,f)=>!(l===void 0||f==="layout"&&!Object.keys(l).length||f==="paint"&&!Object.keys(l).length))}_validate(i,l,f,m,y={}){return(!y||y.validate!==!1)&&cf(this,i.call(lc,{key:l,layerType:this.type,objectKey:f,value:m,styleSpec:Ve,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const l=this.paint.get(i);if(l instanceof wa&&Wa(l.property.specification)&&(l.value.kind==="source"||l.value.kind==="composite")&&l.value.isStateDependent)return!0}return!1}}const E={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class A{constructor(i,l){this._structArray=i,this._pos1=l*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class I{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,l){return i._trim(),l&&(i.isTransferred=!0,l.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const l=Object.create(this.prototype);return l.arrayBuffer=i.arrayBuffer,l.length=i.length,l.capacity=i.arrayBuffer.byteLength/l.bytesPerElement,l._refreshViews(),l}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const l=this.uint8;this._refreshViews(),l&&this.uint8.set(l)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function R(o,i=1){let l=0,f=0;return{members:o.map(m=>{const y=E[m.type].BYTES_PER_ELEMENT,b=l=K(l,Math.max(i,y)),P=m.components||1;return f=Math.max(f,y),l+=y*P,{name:m.name,type:m.type,components:P,offset:b}}),size:K(l,Math.max(f,i)),alignment:i}}function K(o,i){return Math.ceil(o/i)*i}class U extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.int16[m+0]=l,this.int16[m+1]=f,i}}U.prototype.bytesPerElement=4,ht("StructArrayLayout2i4",U);class X extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.int16[y+0]=l,this.int16[y+1]=f,this.int16[y+2]=m,i}}X.prototype.bytesPerElement=6,ht("StructArrayLayout3i6",X);class te extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m){const y=this.length;return this.resize(y+1),this.emplace(y,i,l,f,m)}emplace(i,l,f,m,y){const b=4*i;return this.int16[b+0]=l,this.int16[b+1]=f,this.int16[b+2]=m,this.int16[b+3]=y,i}}te.prototype.bytesPerElement=8,ht("StructArrayLayout4i8",te);class ne extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=6*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.int16[k+2]=m,this.int16[k+3]=y,this.int16[k+4]=b,this.int16[k+5]=P,i}}ne.prototype.bytesPerElement=12,ht("StructArrayLayout2i4i12",ne);class me extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=4*i,M=8*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.uint8[M+4]=m,this.uint8[M+5]=y,this.uint8[M+6]=b,this.uint8[M+7]=P,i}}me.prototype.bytesPerElement=8,ht("StructArrayLayout2i4ub8",me);class oe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.float32[m+0]=l,this.float32[m+1]=f,i}}oe.prototype.bytesPerElement=8,ht("StructArrayLayout2f8",oe);class _e extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,$){const O=this.length;return this.resize(O+1),this.emplace(O,i,l,f,m,y,b,P,k,M,$)}emplace(i,l,f,m,y,b,P,k,M,$,O){const H=10*i;return this.uint16[H+0]=l,this.uint16[H+1]=f,this.uint16[H+2]=m,this.uint16[H+3]=y,this.uint16[H+4]=b,this.uint16[H+5]=P,this.uint16[H+6]=k,this.uint16[H+7]=M,this.uint16[H+8]=$,this.uint16[H+9]=O,i}}_e.prototype.bytesPerElement=20,ht("StructArrayLayout10ui20",_e);class Ce extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,$,O,H){const G=this.length;return this.resize(G+1),this.emplace(G,i,l,f,m,y,b,P,k,M,$,O,H)}emplace(i,l,f,m,y,b,P,k,M,$,O,H,G){const J=12*i;return this.int16[J+0]=l,this.int16[J+1]=f,this.int16[J+2]=m,this.int16[J+3]=y,this.uint16[J+4]=b,this.uint16[J+5]=P,this.uint16[J+6]=k,this.uint16[J+7]=M,this.int16[J+8]=$,this.int16[J+9]=O,this.int16[J+10]=H,this.int16[J+11]=G,i}}Ce.prototype.bytesPerElement=24,ht("StructArrayLayout4i4ui4i24",Ce);class de extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.float32[y+0]=l,this.float32[y+1]=f,this.float32[y+2]=m,i}}de.prototype.bytesPerElement=12,ht("StructArrayLayout3f12",de);class ke extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint32[1*i+0]=l,i}}ke.prototype.bytesPerElement=4,ht("StructArrayLayout1ul4",ke);class $e extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M){const $=this.length;return this.resize($+1),this.emplace($,i,l,f,m,y,b,P,k,M)}emplace(i,l,f,m,y,b,P,k,M,$){const O=10*i,H=5*i;return this.int16[O+0]=l,this.int16[O+1]=f,this.int16[O+2]=m,this.int16[O+3]=y,this.int16[O+4]=b,this.int16[O+5]=P,this.uint32[H+3]=k,this.uint16[O+8]=M,this.uint16[O+9]=$,i}}$e.prototype.bytesPerElement=20,ht("StructArrayLayout6i1ul2ui20",$e);class Fe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=6*i;return this.int16[k+0]=l,this.int16[k+1]=f,this.int16[k+2]=m,this.int16[k+3]=y,this.int16[k+4]=b,this.int16[k+5]=P,i}}Fe.prototype.bytesPerElement=12,ht("StructArrayLayout2i2i2i12",Fe);class We extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y){const b=this.length;return this.resize(b+1),this.emplace(b,i,l,f,m,y)}emplace(i,l,f,m,y,b){const P=4*i,k=8*i;return this.float32[P+0]=l,this.float32[P+1]=f,this.float32[P+2]=m,this.int16[k+6]=y,this.int16[k+7]=b,i}}We.prototype.bytesPerElement=16,ht("StructArrayLayout2f1f2i16",We);class Ye extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b){const P=this.length;return this.resize(P+1),this.emplace(P,i,l,f,m,y,b)}emplace(i,l,f,m,y,b,P){const k=16*i,M=4*i,$=8*i;return this.uint8[k+0]=l,this.uint8[k+1]=f,this.float32[M+1]=m,this.float32[M+2]=y,this.int16[$+6]=b,this.int16[$+7]=P,i}}Ye.prototype.bytesPerElement=16,ht("StructArrayLayout2ub2f2i16",Ye);class ct extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.uint16[y+0]=l,this.uint16[y+1]=f,this.uint16[y+2]=m,i}}ct.prototype.bytesPerElement=6,ht("StructArrayLayout3ui6",ct);class ut extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve){const Me=this.length;return this.resize(Me+1),this.emplace(Me,i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve)}emplace(i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve,Me){const Pe=24*i,Ae=12*i,Ne=48*i;return this.int16[Pe+0]=l,this.int16[Pe+1]=f,this.uint16[Pe+2]=m,this.uint16[Pe+3]=y,this.uint32[Ae+2]=b,this.uint32[Ae+3]=P,this.uint32[Ae+4]=k,this.uint16[Pe+10]=M,this.uint16[Pe+11]=$,this.uint16[Pe+12]=O,this.float32[Ae+7]=H,this.float32[Ae+8]=G,this.uint8[Ne+36]=J,this.uint8[Ne+37]=re,this.uint8[Ne+38]=ce,this.uint32[Ae+10]=ve,this.int16[Pe+22]=Me,i}}ut.prototype.bytesPerElement=48,ht("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ut);class Xe extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve,Me,Pe,Ae,Ne,qe,it,Ct,ot,nt,xt,ft){const dt=this.length;return this.resize(dt+1),this.emplace(dt,i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve,Me,Pe,Ae,Ne,qe,it,Ct,ot,nt,xt,ft)}emplace(i,l,f,m,y,b,P,k,M,$,O,H,G,J,re,ce,ve,Me,Pe,Ae,Ne,qe,it,Ct,ot,nt,xt,ft,dt){const He=32*i,bt=16*i;return this.int16[He+0]=l,this.int16[He+1]=f,this.int16[He+2]=m,this.int16[He+3]=y,this.int16[He+4]=b,this.int16[He+5]=P,this.int16[He+6]=k,this.int16[He+7]=M,this.uint16[He+8]=$,this.uint16[He+9]=O,this.uint16[He+10]=H,this.uint16[He+11]=G,this.uint16[He+12]=J,this.uint16[He+13]=re,this.uint16[He+14]=ce,this.uint16[He+15]=ve,this.uint16[He+16]=Me,this.uint16[He+17]=Pe,this.uint16[He+18]=Ae,this.uint16[He+19]=Ne,this.uint16[He+20]=qe,this.uint16[He+21]=it,this.uint16[He+22]=Ct,this.uint32[bt+12]=ot,this.float32[bt+13]=nt,this.float32[bt+14]=xt,this.uint16[He+30]=ft,this.uint16[He+31]=dt,i}}Xe.prototype.bytesPerElement=64,ht("StructArrayLayout8i15ui1ul2f2ui64",Xe);class et extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.float32[1*i+0]=l,i}}et.prototype.bytesPerElement=4,ht("StructArrayLayout1f4",et);class pt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=3*i;return this.uint16[6*i+0]=l,this.float32[y+1]=f,this.float32[y+2]=m,i}}pt.prototype.bytesPerElement=12,ht("StructArrayLayout1ui2f12",pt);class Lt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l,f){const m=this.length;return this.resize(m+1),this.emplace(m,i,l,f)}emplace(i,l,f,m){const y=4*i;return this.uint32[2*i+0]=l,this.uint16[y+2]=f,this.uint16[y+3]=m,i}}Lt.prototype.bytesPerElement=8,ht("StructArrayLayout1ul2ui8",Lt);class rt extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,l){const f=this.length;return this.resize(f+1),this.emplace(f,i,l)}emplace(i,l,f){const m=2*i;return this.uint16[m+0]=l,this.uint16[m+1]=f,i}}rt.prototype.bytesPerElement=4,ht("StructArrayLayout2ui4",rt);class at extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const l=this.length;return this.resize(l+1),this.emplace(l,i)}emplace(i,l){return this.uint16[1*i+0]=l,i}}at.prototype.bytesPerElement=2,ht("StructArrayLayout1ui2",at);class It extends I{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,l,f,m){const y=this.length;return this.resize(y+1),this.emplace(y,i,l,f,m)}emplace(i,l,f,m,y){const b=4*i;return this.float32[b+0]=l,this.float32[b+1]=f,this.float32[b+2]=m,this.float32[b+3]=y,i}}It.prototype.bytesPerElement=16,ht("StructArrayLayout4f16",It);class wr extends A{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new T(this.anchorPointX,this.anchorPointY)}}wr.prototype.size=20;class Ht extends $e{get(i){return new wr(this,i)}}ht("CollisionBoxArray",Ht);class Xt extends A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Xt.prototype.size=48;class Sr extends ut{get(i){return new Xt(this,i)}}ht("PlacedSymbolArray",Sr);class Dn extends A{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Dn.prototype.size=64;class Qi extends Xe{get(i){return new Dn(this,i)}}ht("SymbolInstanceArray",Qi);class Pr extends et{getoffsetX(i){return this.float32[1*i+0]}}ht("GlyphOffsetArray",Pr);class li extends X{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}ht("SymbolLineVertexArray",li);class qn extends A{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}qn.prototype.size=12;class $n extends pt{get(i){return new qn(this,i)}}ht("TextAnchorOffsetArray",$n);class Rn extends A{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Rn.prototype.size=8;class ea extends Lt{get(i){return new Rn(this,i)}}ht("FeatureIndexArray",ea);class Zo extends U{}class Vu extends U{}class Hs extends U{}class Yo extends ne{}class Uu extends me{}class pf extends oe{}class Pn extends _e{}class ta extends Ce{}class xo extends de{}class Ws extends ke{}class Ln extends Fe{}class zn extends Ye{}class gn extends ct{}class Dr extends rt{}const Gs=R([{name:"a_pos",components:2,type:"Int16"}],4),{members:mf}=Gs;class cn{constructor(i=[]){this.segments=i}prepareSegment(i,l,f,m){let y=this.segments[this.segments.length-1];return i>cn.MAX_VERTEX_ARRAY_LENGTH&&ge(`Max vertices per segment is ${cn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!y||y.vertexLength+i>cn.MAX_VERTEX_ARRAY_LENGTH||y.sortKey!==m)&&(y={vertexOffset:l.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},m!==void 0&&(y.sortKey=m),this.segments.push(y)),y}get(){return this.segments}destroy(){for(const i of this.segments)for(const l in i.vaos)i.vaos[l].destroy()}static simpleSegment(i,l,f,m){return new cn([{vertexOffset:i,primitiveOffset:l,vertexLength:f,primitiveLength:m,vaos:{},sortKey:0}])}}function cg(o,i){return 256*(o=ie(Math.floor(o),0,255))+ie(Math.floor(i),0,255)}cn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ht("SegmentVector",cn);const Ku=R([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Hu={exports:{}},_o={exports:{}};_o.exports=function(o,i){var l,f,m,y,b,P,k,M;for(f=o.length-(l=3&o.length),m=i,b=3432918353,P=461845907,M=0;M<f;)k=255&o.charCodeAt(M)|(255&o.charCodeAt(++M))<<8|(255&o.charCodeAt(++M))<<16|(255&o.charCodeAt(++M))<<24,++M,m=27492+(65535&(y=5*(65535&(m=(m^=k=(65535&(k=(k=(65535&k)*b+(((k>>>16)*b&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295)<<13|m>>>19))+((5*(m>>>16)&65535)<<16)&4294967295))+((58964+(y>>>16)&65535)<<16);switch(k=0,l){case 3:k^=(255&o.charCodeAt(M+2))<<16;case 2:k^=(255&o.charCodeAt(M+1))<<8;case 1:m^=k=(65535&(k=(k=(65535&(k^=255&o.charCodeAt(M)))*b+(((k>>>16)*b&65535)<<16)&4294967295)<<15|k>>>17))*P+(((k>>>16)*P&65535)<<16)&4294967295}return m^=o.length,m=2246822507*(65535&(m^=m>>>16))+((2246822507*(m>>>16)&65535)<<16)&4294967295,m=3266489909*(65535&(m^=m>>>13))+((3266489909*(m>>>16)&65535)<<16)&4294967295,(m^=m>>>16)>>>0};var ug=_o.exports,gf={exports:{}};gf.exports=function(o,i){for(var l,f=o.length,m=i^f,y=0;f>=4;)l=1540483477*(65535&(l=255&o.charCodeAt(y)|(255&o.charCodeAt(++y))<<8|(255&o.charCodeAt(++y))<<16|(255&o.charCodeAt(++y))<<24))+((1540483477*(l>>>16)&65535)<<16),m=1540483477*(65535&m)+((1540483477*(m>>>16)&65535)<<16)^(l=1540483477*(65535&(l^=l>>>24))+((1540483477*(l>>>16)&65535)<<16)),f-=4,++y;switch(f){case 3:m^=(255&o.charCodeAt(y+2))<<16;case 2:m^=(255&o.charCodeAt(y+1))<<8;case 1:m=1540483477*(65535&(m^=255&o.charCodeAt(y)))+((1540483477*(m>>>16)&65535)<<16)}return m=1540483477*(65535&(m^=m>>>13))+((1540483477*(m>>>16)&65535)<<16),(m^=m>>>15)>>>0};var yf=ug,vf=gf.exports;Hu.exports=yf,Hu.exports.murmur3=yf,Hu.exports.murmur2=vf;var Wu=v(Hu.exports);class qs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,l,f,m){this.ids.push(uP(i)),this.positions.push(l,f,m)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const l=uP(i);let f=0,m=this.ids.length-1;for(;f<m;){const b=f+m>>1;this.ids[b]>=l?m=b:f=b+1}const y=[];for(;this.ids[f]===l;)y.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return y}static serialize(i,l){const f=new Float64Array(i.ids),m=new Uint32Array(i.positions);return dx(f,m,0,f.length-1),l&&l.push(f.buffer,m.buffer),{ids:f,positions:m}}static deserialize(i){const l=new qs;return l.ids=i.ids,l.positions=i.positions,l.indexed=!0,l}}function uP(o){const i=+o;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Wu(String(o))}function dx(o,i,l,f){for(;l<f;){const m=o[l+f>>1];let y=l-1,b=f+1;for(;;){do y++;while(o[y]<m);do b--;while(o[b]>m);if(y>=b)break;dg(o,y,b),dg(i,3*y,3*b),dg(i,3*y+1,3*b+1),dg(i,3*y+2,3*b+2)}b-l<f-b?(dx(o,i,l,b),l=b+1):(dx(o,i,b+1,f),f=b)}}function dg(o,i,l){const f=o[i];o[i]=o[l],o[l]=f}ht("FeaturePositionMap",qs);class hc{constructor(i,l){this.gl=i.gl,this.location=l}}class hg extends hc{constructor(i,l){super(i,l),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class dP extends hc{constructor(i,l){super(i,l),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class hP extends hc{constructor(i,l){super(i,l),this.current=dr.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const cF=new Float32Array(16);function hx(o){return[cg(255*o.r,255*o.g),cg(255*o.b,255*o.a)]}class xf{constructor(i,l,f){this.value=i,this.uniformNames=l.map(m=>`u_${m}`),this.type=f}setUniform(i,l,f){i.set(f.constantOr(this.value))}getBinding(i,l,f){return this.type==="color"?new hP(i,l):new hg(i,l)}}class Gu{constructor(i,l){this.uniformNames=l.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,l){this.pixelRatioFrom=l.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=l.tlbr,this.patternTo=i.tlbr}setUniform(i,l,f,m){const y=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;y&&i.set(y)}getBinding(i,l,f){return f.substr(0,9)==="u_pattern"?new dP(i,l):new hg(i,l)}}class Xo{constructor(i,l,f,m){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=l.map(y=>({name:`a_${y}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(i,l,f,m,y){const b=this.paintVertexArray.length,P=this.expression.evaluate(new vr(0),l,{},m,[],y);this.paintVertexArray.resize(i),this._setPaintValue(b,i,P)}updatePaintArray(i,l,f,m){const y=this.expression.evaluate({zoom:0},f,m);this._setPaintValue(i,l,y)}_setPaintValue(i,l,f){if(this.type==="color"){const m=hx(f);for(let y=i;y<l;y++)this.paintVertexArray.emplace(y,m[0],m[1])}else{for(let m=i;m<l;m++)this.paintVertexArray.emplace(m,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Za{constructor(i,l,f,m,y,b){this.expression=i,this.uniformNames=l.map(P=>`u_${P}_t`),this.type=f,this.useIntegerZoom=m,this.zoom=y,this.maxValue=0,this.paintVertexAttributes=l.map(P=>({name:`a_${P}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new b}populatePaintArray(i,l,f,m,y){const b=this.expression.evaluate(new vr(this.zoom),l,{},m,[],y),P=this.expression.evaluate(new vr(this.zoom+1),l,{},m,[],y),k=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(k,i,b,P)}updatePaintArray(i,l,f,m){const y=this.expression.evaluate({zoom:this.zoom},f,m),b=this.expression.evaluate({zoom:this.zoom+1},f,m);this._setPaintValue(i,l,y,b)}_setPaintValue(i,l,f,m){if(this.type==="color"){const y=hx(f),b=hx(m);for(let P=i;P<l;P++)this.paintVertexArray.emplace(P,y[0],y[1],b[0],b[1])}else{for(let y=i;y<l;y++)this.paintVertexArray.emplace(y,f,m);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(m))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,l){const f=this.useIntegerZoom?Math.floor(l.zoom):l.zoom,m=ie(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(m)}getBinding(i,l,f){return new hg(i,l)}}class Zs{constructor(i,l,f,m,y,b){this.expression=i,this.type=l,this.useIntegerZoom=f,this.zoom=m,this.layerId=b,this.zoomInPaintVertexArray=new y,this.zoomOutPaintVertexArray=new y}populatePaintArray(i,l,f){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(m,i,l.patterns&&l.patterns[this.layerId],f)}updatePaintArray(i,l,f,m,y){this._setPaintValues(i,l,f.patterns&&f.patterns[this.layerId],y)}_setPaintValues(i,l,f,m){if(!m||!f)return;const{min:y,mid:b,max:P}=f,k=m[y],M=m[b],$=m[P];if(k&&M&&$)for(let O=i;O<l;O++)this.zoomInPaintVertexArray.emplace(O,M.tl[0],M.tl[1],M.br[0],M.br[1],k.tl[0],k.tl[1],k.br[0],k.br[1],M.pixelRatio,k.pixelRatio),this.zoomOutPaintVertexArray.emplace(O,M.tl[0],M.tl[1],M.br[0],M.br[1],$.tl[0],$.tl[1],$.br[0],$.br[1],M.pixelRatio,$.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,Ku.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,Ku.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class fP{constructor(i,l,f){this.binders={},this._buffers=[];const m=[];for(const y in i.paint._values){if(!f(y))continue;const b=i.paint.get(y);if(!(b instanceof wa&&Wa(b.property.specification)))continue;const P=uF(y,i.type),k=b.value,M=b.property.specification.type,$=b.property.useIntegerZoom,O=b.property.specification["property-type"],H=O==="cross-faded"||O==="cross-faded-data-driven";if(k.kind==="constant")this.binders[y]=H?new Gu(k.value,P):new xf(k.value,P,M),m.push(`/u_${y}`);else if(k.kind==="source"||H){const G=pP(y,M,"source");this.binders[y]=H?new Zs(k,M,$,l,G,i.id):new Xo(k,P,M,G),m.push(`/a_${y}`)}else{const G=pP(y,M,"composite");this.binders[y]=new Za(k,P,M,$,l,G),m.push(`/z_${y}`)}}this.cacheKey=m.sort().join("")}getMaxValue(i){const l=this.binders[i];return l instanceof Xo||l instanceof Za?l.maxValue:0}populatePaintArrays(i,l,f,m,y){for(const b in this.binders){const P=this.binders[b];(P instanceof Xo||P instanceof Za||P instanceof Zs)&&P.populatePaintArray(i,l,f,m,y)}}setConstantPatternPositions(i,l){for(const f in this.binders){const m=this.binders[f];m instanceof Gu&&m.setConstantPatternPositions(i,l)}}updatePaintArrays(i,l,f,m,y){let b=!1;for(const P in i){const k=l.getPositions(P);for(const M of k){const $=f.feature(M.index);for(const O in this.binders){const H=this.binders[O];if((H instanceof Xo||H instanceof Za||H instanceof Zs)&&H.expression.isStateDependent===!0){const G=m.paint.get(O);H.expression=G.value,H.updatePaintArray(M.start,M.end,$,i[P],y),b=!0}}}}return b}defines(){const i=[];for(const l in this.binders){const f=this.binders[l];(f instanceof xf||f instanceof Gu)&&i.push(...f.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return i}getBinderAttributes(){const i=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof Xo||f instanceof Za)for(let m=0;m<f.paintVertexAttributes.length;m++)i.push(f.paintVertexAttributes[m].name);else if(f instanceof Zs)for(let m=0;m<Ku.members.length;m++)i.push(Ku.members[m].name)}return i}getBinderUniforms(){const i=[];for(const l in this.binders){const f=this.binders[l];if(f instanceof xf||f instanceof Gu||f instanceof Za)for(const m of f.uniformNames)i.push(m)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,l){const f=[];for(const m in this.binders){const y=this.binders[m];if(y instanceof xf||y instanceof Gu||y instanceof Za){for(const b of y.uniformNames)if(l[b]){const P=y.getBinding(i,l[b],b);f.push({name:b,property:m,binding:P})}}}return f}setUniforms(i,l,f,m){for(const{name:y,property:b,binding:P}of l)this.binders[b].setUniform(P,m,f.get(b),y)}updatePaintBuffers(i){this._buffers=[];for(const l in this.binders){const f=this.binders[l];if(i&&f instanceof Zs){const m=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(f instanceof Xo||f instanceof Za)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const l in this.binders){const f=this.binders[l];(f instanceof Xo||f instanceof Za||f instanceof Zs)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const l=this.binders[i];(l instanceof Xo||l instanceof Za||l instanceof Zs)&&l.destroy()}}}class fc{constructor(i,l,f=()=>!0){this.programConfigurations={};for(const m of i)this.programConfigurations[m.id]=new fP(m,l,f);this.needsUpload=!1,this._featureMap=new qs,this._bufferOffset=0}populatePaintArrays(i,l,f,m,y,b){for(const P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(i,l,m,y,b);l.id!==void 0&&this._featureMap.add(l.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,l,f,m){for(const y of f)this.needsUpload=this.programConfigurations[y.id].updatePaintArrays(i,this._featureMap,l,y,m)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const l in this.programConfigurations)this.programConfigurations[l].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function uF(o,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(`${i}-`,"").replace(/-/g,"_")]}function pP(o,i,l){const f={color:{source:oe,composite:It},number:{source:et,composite:oe}},m=function(y){return{"line-pattern":{source:Pn,composite:Pn},"fill-pattern":{source:Pn,composite:Pn},"fill-extrusion-pattern":{source:Pn,composite:Pn}}[y]}(o);return m&&m[l]||f[i][l]}ht("ConstantBinder",xf),ht("CrossFadedConstantBinder",Gu),ht("SourceExpressionBinder",Xo),ht("CrossFadedCompositeBinder",Zs),ht("CompositeExpressionBinder",Za),ht("ProgramConfiguration",fP,{omit:["_buffers"]}),ht("ProgramConfigurationSet",fc);const nn=8192,fx=Math.pow(2,14)-1,mP=-fx-1;function pc(o){const i=nn/o.extent,l=o.loadGeometry();for(let f=0;f<l.length;f++){const m=l[f];for(let y=0;y<m.length;y++){const b=m[y],P=Math.round(b.x*i),k=Math.round(b.y*i);b.x=ie(P,mP,fx),b.y=ie(k,mP,fx),(P<b.x||P>b.x+1||k<b.y||k>b.y+1)&&ge("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return l}function mc(o,i){return{type:o.type,id:o.id,properties:o.properties,geometry:i?pc(o):[]}}function fg(o,i,l,f,m){o.emplaceBack(2*i+(f+1)/2,2*l+(m+1)/2)}class px{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Vu,this.indexArray=new gn,this.segments=new cn,this.programConfigurations=new fc(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){const m=this.layers[0],y=[];let b=null,P=!1;m.type==="circle"&&(b=m.layout.get("circle-sort-key"),P=!b.isConstant());for(const{feature:k,id:M,index:$,sourceLayerIndex:O}of i){const H=this.layers[0]._featureFilter.needGeometry,G=mc(k,H);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),G,f))continue;const J=P?b.evaluate(G,{},f):void 0,re={id:M,properties:k.properties,type:k.type,sourceLayerIndex:O,index:$,geometry:H?G.geometry:pc(k),patterns:{},sortKey:J};y.push(re)}P&&y.sort((k,M)=>k.sortKey-M.sortKey);for(const k of y){const{geometry:M,index:$,sourceLayerIndex:O}=k,H=i[$].feature;this.addFeature(k,M,$,f),l.featureIndex.insert(H,M,$,O,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,mf),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,l,f,m){for(const y of l)for(const b of y){const P=b.x,k=b.y;if(P<0||P>=nn||k<0||k>=nn)continue;const M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),$=M.vertexLength;fg(this.layoutVertexArray,P,k,-1,-1),fg(this.layoutVertexArray,P,k,1,-1),fg(this.layoutVertexArray,P,k,1,1),fg(this.layoutVertexArray,P,k,-1,1),this.indexArray.emplaceBack($,$+1,$+2),this.indexArray.emplaceBack($,$+3,$+2),M.vertexLength+=4,M.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},m)}}function gP(o,i){for(let l=0;l<o.length;l++)if(qu(i,o[l]))return!0;for(let l=0;l<i.length;l++)if(qu(o,i[l]))return!0;return!!mx(o,i)}function dF(o,i,l){return!!qu(o,i)||!!gx(i,o,l)}function yP(o,i){if(o.length===1)return xP(i,o[0]);for(let l=0;l<i.length;l++){const f=i[l];for(let m=0;m<f.length;m++)if(qu(o,f[m]))return!0}for(let l=0;l<o.length;l++)if(xP(i,o[l]))return!0;for(let l=0;l<i.length;l++)if(mx(o,i[l]))return!0;return!1}function hF(o,i,l){if(o.length>1){if(mx(o,i))return!0;for(let f=0;f<i.length;f++)if(gx(i[f],o,l))return!0}for(let f=0;f<o.length;f++)if(gx(o[f],i,l))return!0;return!1}function mx(o,i){if(o.length===0||i.length===0)return!1;for(let l=0;l<o.length-1;l++){const f=o[l],m=o[l+1];for(let y=0;y<i.length-1;y++)if(fF(f,m,i[y],i[y+1]))return!0}return!1}function fF(o,i,l,f){return ye(o,l,f)!==ye(i,l,f)&&ye(o,i,l)!==ye(o,i,f)}function gx(o,i,l){const f=l*l;if(i.length===1)return o.distSqr(i[0])<f;for(let m=1;m<i.length;m++)if(vP(o,i[m-1],i[m])<f)return!0;return!1}function vP(o,i,l){const f=i.distSqr(l);if(f===0)return o.distSqr(i);const m=((o.x-i.x)*(l.x-i.x)+(o.y-i.y)*(l.y-i.y))/f;return o.distSqr(m<0?i:m>1?l:l.sub(i)._mult(m)._add(i))}function xP(o,i){let l,f,m,y=!1;for(let b=0;b<o.length;b++){l=o[b];for(let P=0,k=l.length-1;P<l.length;k=P++)f=l[P],m=l[k],f.y>i.y!=m.y>i.y&&i.x<(m.x-f.x)*(i.y-f.y)/(m.y-f.y)+f.x&&(y=!y)}return y}function qu(o,i){let l=!1;for(let f=0,m=o.length-1;f<o.length;m=f++){const y=o[f],b=o[m];y.y>i.y!=b.y>i.y&&i.x<(b.x-y.x)*(i.y-y.y)/(b.y-y.y)+y.x&&(l=!l)}return l}function pF(o,i,l){const f=l[0],m=l[2];if(o.x<f.x&&i.x<f.x||o.x>m.x&&i.x>m.x||o.y<f.y&&i.y<f.y||o.y>m.y&&i.y>m.y)return!1;const y=ye(o,i,l[0]);return y!==ye(o,i,l[1])||y!==ye(o,i,l[2])||y!==ye(o,i,l[3])}function _f(o,i,l){const f=i.paint.get(o).value;return f.kind==="constant"?f.value:l.programConfigurations.get(i.id).getMaxValue(o)}function pg(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function mg(o,i,l,f,m){if(!i[0]&&!i[1])return o;const y=T.convert(i)._mult(m);l==="viewport"&&y._rotate(-f);const b=[];for(let P=0;P<o.length;P++)b.push(o[P].sub(y));return b}let _P,bP;ht("CircleBucket",px,{omit:["layers"]});var mF={get paint(){return bP=bP||new p({"circle-radius":new kt(Ve.paint_circle["circle-radius"]),"circle-color":new kt(Ve.paint_circle["circle-color"]),"circle-blur":new kt(Ve.paint_circle["circle-blur"]),"circle-opacity":new kt(Ve.paint_circle["circle-opacity"]),"circle-translate":new _t(Ve.paint_circle["circle-translate"]),"circle-translate-anchor":new _t(Ve.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new _t(Ve.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new _t(Ve.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new kt(Ve.paint_circle["circle-stroke-width"]),"circle-stroke-color":new kt(Ve.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new kt(Ve.paint_circle["circle-stroke-opacity"])})},get layout(){return _P=_P||new p({"circle-sort-key":new kt(Ve.layout_circle["circle-sort-key"])})}},ci=1e-6,Zu=typeof Float32Array<"u"?Float32Array:Array;function yx(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function wP(o,i,l){var f=i[0],m=i[1],y=i[2],b=i[3],P=i[4],k=i[5],M=i[6],$=i[7],O=i[8],H=i[9],G=i[10],J=i[11],re=i[12],ce=i[13],ve=i[14],Me=i[15],Pe=l[0],Ae=l[1],Ne=l[2],qe=l[3];return o[0]=Pe*f+Ae*P+Ne*O+qe*re,o[1]=Pe*m+Ae*k+Ne*H+qe*ce,o[2]=Pe*y+Ae*M+Ne*G+qe*ve,o[3]=Pe*b+Ae*$+Ne*J+qe*Me,o[4]=(Pe=l[4])*f+(Ae=l[5])*P+(Ne=l[6])*O+(qe=l[7])*re,o[5]=Pe*m+Ae*k+Ne*H+qe*ce,o[6]=Pe*y+Ae*M+Ne*G+qe*ve,o[7]=Pe*b+Ae*$+Ne*J+qe*Me,o[8]=(Pe=l[8])*f+(Ae=l[9])*P+(Ne=l[10])*O+(qe=l[11])*re,o[9]=Pe*m+Ae*k+Ne*H+qe*ce,o[10]=Pe*y+Ae*M+Ne*G+qe*ve,o[11]=Pe*b+Ae*$+Ne*J+qe*Me,o[12]=(Pe=l[12])*f+(Ae=l[13])*P+(Ne=l[14])*O+(qe=l[15])*re,o[13]=Pe*m+Ae*k+Ne*H+qe*ce,o[14]=Pe*y+Ae*M+Ne*G+qe*ve,o[15]=Pe*b+Ae*$+Ne*J+qe*Me,o}Math.hypot||(Math.hypot=function(){for(var o=0,i=arguments.length;i--;)o+=arguments[i]*arguments[i];return Math.sqrt(o)});var bf,gF=wP;function gg(o,i,l){var f=i[0],m=i[1],y=i[2],b=i[3];return o[0]=l[0]*f+l[4]*m+l[8]*y+l[12]*b,o[1]=l[1]*f+l[5]*m+l[9]*y+l[13]*b,o[2]=l[2]*f+l[6]*m+l[10]*y+l[14]*b,o[3]=l[3]*f+l[7]*m+l[11]*y+l[15]*b,o}bf=new Zu(4),Zu!=Float32Array&&(bf[0]=0,bf[1]=0,bf[2]=0,bf[3]=0);class yF extends _{constructor(i){super(i,mF)}createBucket(i){return new px(i)}queryRadius(i){const l=i;return _f("circle-radius",this,l)+_f("circle-stroke-width",this,l)+pg(this.paint.get("circle-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P,k){const M=mg(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),b.angle,P),$=this.paint.get("circle-radius").evaluate(l,f)+this.paint.get("circle-stroke-width").evaluate(l,f),O=this.paint.get("circle-pitch-alignment")==="map",H=O?M:function(J,re){return J.map(ce=>SP(ce,re))}(M,k),G=O?$*P:$;for(const J of m)for(const re of J){const ce=O?re:SP(re,k);let ve=G;const Me=gg([],[re.x,re.y,0,1],k);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ve*=Me[3]/b.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ve*=b.cameraToCenterDistance/Me[3]),dF(H,ce,ve))return!0}return!1}}function SP(o,i){const l=gg([],[o.x,o.y,0,1],i);return new T(l[0]/l[3],l[1]/l[3])}class PP extends px{}let TP;ht("HeatmapBucket",PP,{omit:["layers"]});var vF={get paint(){return TP=TP||new p({"heatmap-radius":new kt(Ve.paint_heatmap["heatmap-radius"]),"heatmap-weight":new kt(Ve.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new _t(Ve.paint_heatmap["heatmap-intensity"]),"heatmap-color":new u(Ve.paint_heatmap["heatmap-color"]),"heatmap-opacity":new _t(Ve.paint_heatmap["heatmap-opacity"])})}};function vx(o,{width:i,height:l},f,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==i*l*f)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${i*l*f}`)}else m=new Uint8Array(i*l*f);return o.width=i,o.height=l,o.data=m,o}function CP(o,{width:i,height:l},f){if(i===o.width&&l===o.height)return;const m=vx({},{width:i,height:l},f);xx(o,m,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,i),height:Math.min(o.height,l)},f),o.width=i,o.height=l,o.data=m.data}function xx(o,i,l,f,m,y){if(m.width===0||m.height===0)return i;if(m.width>o.width||m.height>o.height||l.x>o.width-m.width||l.y>o.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>i.width||m.height>i.height||f.x>i.width-m.width||f.y>i.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const b=o.data,P=i.data;if(b===P)throw new Error("srcData equals dstData, so image is already copied");for(let k=0;k<m.height;k++){const M=((l.y+k)*o.width+l.x)*y,$=((f.y+k)*i.width+f.x)*y;for(let O=0;O<m.width*y;O++)P[$+O]=b[M+O]}return i}class wf{constructor(i,l){vx(this,i,1,l)}resize(i){CP(this,i,1)}clone(){return new wf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,f,m,y){xx(i,l,f,m,y,1)}}class ra{constructor(i,l){vx(this,i,4,l)}resize(i){CP(this,i,4)}replace(i,l){l?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new ra({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,l,f,m,y){xx(i,l,f,m,y,4)}}function EP(o){const i={},l=o.resolution||256,f=o.clips?o.clips.length:1,m=o.image||new ra({width:l,height:f});if(Math.log(l)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${l}`);const y=(b,P,k)=>{i[o.evaluationKey]=k;const M=o.expression.evaluate(i);m.data[b+P+0]=Math.floor(255*M.r/M.a),m.data[b+P+1]=Math.floor(255*M.g/M.a),m.data[b+P+2]=Math.floor(255*M.b/M.a),m.data[b+P+3]=Math.floor(255*M.a)};if(o.clips)for(let b=0,P=0;b<f;++b,P+=4*l)for(let k=0,M=0;k<l;k++,M+=4){const $=k/(l-1),{start:O,end:H}=o.clips[b];y(P,M,O*(1-$)+H*$)}else for(let b=0,P=0;b<l;b++,P+=4)y(0,P,b/(l-1));return m}ht("AlphaImage",wf),ht("RGBAImage",ra);class xF extends _{createBucket(i){return new PP(i)}constructor(i){super(i,vF),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=EP({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let kP;var _F={get paint(){return kP=kP||new p({"hillshade-illumination-direction":new _t(Ve.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new _t(Ve.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new _t(Ve.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new _t(Ve.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new _t(Ve.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new _t(Ve.paint_hillshade["hillshade-accent-color"])})}};class bF extends _{constructor(i){super(i,_F)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const wF=R([{name:"a_pos",components:2,type:"Int16"}],4),{members:SF}=wF;var _x={exports:{}};function yg(o,i,l){l=l||2;var f,m,y,b,P,k,M,$=i&&i.length,O=$?i[0]*l:o.length,H=AP(o,0,O,l,!0),G=[];if(!H||H.next===H.prev)return G;if($&&(H=function(re,ce,ve,Me){var Pe,Ae,Ne,qe=[];for(Pe=0,Ae=ce.length;Pe<Ae;Pe++)(Ne=AP(re,ce[Pe]*Me,Pe<Ae-1?ce[Pe+1]*Me:re.length,Me,!1))===Ne.next&&(Ne.steiner=!0),qe.push(MF(Ne));for(qe.sort(kF),Pe=0;Pe<qe.length;Pe++)ve=AF(qe[Pe],ve);return ve}(o,i,H,l)),o.length>80*l){f=y=o[0],m=b=o[1];for(var J=l;J<O;J+=l)(P=o[J])<f&&(f=P),(k=o[J+1])<m&&(m=k),P>y&&(y=P),k>b&&(b=k);M=(M=Math.max(y-f,b-m))!==0?32767/M:0}return Sf(H,G,l,f,m,M,0),G}function AP(o,i,l,f,m){var y,b;if(m===Sx(o,i,l,f)>0)for(y=i;y<l;y+=f)b=DP(y,o[y],o[y+1],b);else for(y=l-f;y>=i;y-=f)b=DP(y,o[y],o[y+1],b);return b&&vg(b,b.next)&&(Tf(b),b=b.next),b}function gc(o,i){if(!o)return o;i||(i=o);var l,f=o;do if(l=!1,f.steiner||!vg(f,f.next)&&Zr(f.prev,f,f.next)!==0)f=f.next;else{if(Tf(f),(f=i=f.prev)===f.next)break;l=!0}while(l||f!==i);return i}function Sf(o,i,l,f,m,y,b){if(o){!b&&y&&function($,O,H,G){var J=$;do J.z===0&&(J.z=bx(J.x,J.y,O,H,G)),J.prevZ=J.prev,J.nextZ=J.next,J=J.next;while(J!==$);J.prevZ.nextZ=null,J.prevZ=null,function(re){var ce,ve,Me,Pe,Ae,Ne,qe,it,Ct=1;do{for(ve=re,re=null,Ae=null,Ne=0;ve;){for(Ne++,Me=ve,qe=0,ce=0;ce<Ct&&(qe++,Me=Me.nextZ);ce++);for(it=Ct;qe>0||it>0&&Me;)qe!==0&&(it===0||!Me||ve.z<=Me.z)?(Pe=ve,ve=ve.nextZ,qe--):(Pe=Me,Me=Me.nextZ,it--),Ae?Ae.nextZ=Pe:re=Pe,Pe.prevZ=Ae,Ae=Pe;ve=Me}Ae.nextZ=null,Ct*=2}while(Ne>1)}(J)}(o,f,m,y);for(var P,k,M=o;o.prev!==o.next;)if(P=o.prev,k=o.next,y?TF(o,f,m,y):PF(o))i.push(P.i/l|0),i.push(o.i/l|0),i.push(k.i/l|0),Tf(o),o=k.next,M=k.next;else if((o=k)===M){b?b===1?Sf(o=CF(gc(o),i,l),i,l,f,m,y,2):b===2&&EF(o,i,l,f,m,y):Sf(gc(o),i,l,f,m,y,1);break}}}function PF(o){var i=o.prev,l=o,f=o.next;if(Zr(i,l,f)>=0)return!1;for(var m=i.x,y=l.x,b=f.x,P=i.y,k=l.y,M=f.y,$=m<y?m<b?m:b:y<b?y:b,O=P<k?P<M?P:M:k<M?k:M,H=m>y?m>b?m:b:y>b?y:b,G=P>k?P>M?P:M:k>M?k:M,J=f.next;J!==i;){if(J.x>=$&&J.x<=H&&J.y>=O&&J.y<=G&&Yu(m,P,y,k,b,M,J.x,J.y)&&Zr(J.prev,J,J.next)>=0)return!1;J=J.next}return!0}function TF(o,i,l,f){var m=o.prev,y=o,b=o.next;if(Zr(m,y,b)>=0)return!1;for(var P=m.x,k=y.x,M=b.x,$=m.y,O=y.y,H=b.y,G=P<k?P<M?P:M:k<M?k:M,J=$<O?$<H?$:H:O<H?O:H,re=P>k?P>M?P:M:k>M?k:M,ce=$>O?$>H?$:H:O>H?O:H,ve=bx(G,J,i,l,f),Me=bx(re,ce,i,l,f),Pe=o.prevZ,Ae=o.nextZ;Pe&&Pe.z>=ve&&Ae&&Ae.z<=Me;){if(Pe.x>=G&&Pe.x<=re&&Pe.y>=J&&Pe.y<=ce&&Pe!==m&&Pe!==b&&Yu(P,$,k,O,M,H,Pe.x,Pe.y)&&Zr(Pe.prev,Pe,Pe.next)>=0||(Pe=Pe.prevZ,Ae.x>=G&&Ae.x<=re&&Ae.y>=J&&Ae.y<=ce&&Ae!==m&&Ae!==b&&Yu(P,$,k,O,M,H,Ae.x,Ae.y)&&Zr(Ae.prev,Ae,Ae.next)>=0))return!1;Ae=Ae.nextZ}for(;Pe&&Pe.z>=ve;){if(Pe.x>=G&&Pe.x<=re&&Pe.y>=J&&Pe.y<=ce&&Pe!==m&&Pe!==b&&Yu(P,$,k,O,M,H,Pe.x,Pe.y)&&Zr(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.prevZ}for(;Ae&&Ae.z<=Me;){if(Ae.x>=G&&Ae.x<=re&&Ae.y>=J&&Ae.y<=ce&&Ae!==m&&Ae!==b&&Yu(P,$,k,O,M,H,Ae.x,Ae.y)&&Zr(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.nextZ}return!0}function CF(o,i,l){var f=o;do{var m=f.prev,y=f.next.next;!vg(m,y)&&IP(m,f,f.next,y)&&Pf(m,y)&&Pf(y,m)&&(i.push(m.i/l|0),i.push(f.i/l|0),i.push(y.i/l|0),Tf(f),Tf(f.next),f=o=y),f=f.next}while(f!==o);return gc(f)}function EF(o,i,l,f,m,y){var b=o;do{for(var P=b.next.next;P!==b.prev;){if(b.i!==P.i&&DF(b,P)){var k=MP(b,P);return b=gc(b,b.next),k=gc(k,k.next),Sf(b,i,l,f,m,y,0),void Sf(k,i,l,f,m,y,0)}P=P.next}b=b.next}while(b!==o)}function kF(o,i){return o.x-i.x}function AF(o,i){var l=function(m,y){var b,P=y,k=m.x,M=m.y,$=-1/0;do{if(M<=P.y&&M>=P.next.y&&P.next.y!==P.y){var O=P.x+(M-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(O<=k&&O>$&&($=O,b=P.x<P.next.x?P:P.next,O===k))return b}P=P.next}while(P!==y);if(!b)return null;var H,G=b,J=b.x,re=b.y,ce=1/0;P=b;do k>=P.x&&P.x>=J&&k!==P.x&&Yu(M<re?k:$,M,J,re,M<re?$:k,M,P.x,P.y)&&(H=Math.abs(M-P.y)/(k-P.x),Pf(P,m)&&(H<ce||H===ce&&(P.x>b.x||P.x===b.x&&IF(b,P)))&&(b=P,ce=H)),P=P.next;while(P!==G);return b}(o,i);if(!l)return i;var f=MP(l,o);return gc(f,f.next),gc(l,l.next)}function IF(o,i){return Zr(o.prev,o,i.prev)<0&&Zr(i.next,o,o.next)<0}function bx(o,i,l,f,m){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-l)*m|0)|o<<8))|o<<4))|o<<2))|o<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*m|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function MF(o){var i=o,l=o;do(i.x<l.x||i.x===l.x&&i.y<l.y)&&(l=i),i=i.next;while(i!==o);return l}function Yu(o,i,l,f,m,y,b,P){return(m-b)*(i-P)>=(o-b)*(y-P)&&(o-b)*(f-P)>=(l-b)*(i-P)&&(l-b)*(y-P)>=(m-b)*(f-P)}function DF(o,i){return o.next.i!==i.i&&o.prev.i!==i.i&&!function(l,f){var m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==f.i&&m.next.i!==f.i&&IP(m,m.next,l,f))return!0;m=m.next}while(m!==l);return!1}(o,i)&&(Pf(o,i)&&Pf(i,o)&&function(l,f){var m=l,y=!1,b=(l.x+f.x)/2,P=(l.y+f.y)/2;do m.y>P!=m.next.y>P&&m.next.y!==m.y&&b<(m.next.x-m.x)*(P-m.y)/(m.next.y-m.y)+m.x&&(y=!y),m=m.next;while(m!==l);return y}(o,i)&&(Zr(o.prev,o,i.prev)||Zr(o,i.prev,i))||vg(o,i)&&Zr(o.prev,o,o.next)>0&&Zr(i.prev,i,i.next)>0)}function Zr(o,i,l){return(i.y-o.y)*(l.x-i.x)-(i.x-o.x)*(l.y-i.y)}function vg(o,i){return o.x===i.x&&o.y===i.y}function IP(o,i,l,f){var m=_g(Zr(o,i,l)),y=_g(Zr(o,i,f)),b=_g(Zr(l,f,o)),P=_g(Zr(l,f,i));return m!==y&&b!==P||!(m!==0||!xg(o,l,i))||!(y!==0||!xg(o,f,i))||!(b!==0||!xg(l,o,f))||!(P!==0||!xg(l,i,f))}function xg(o,i,l){return i.x<=Math.max(o.x,l.x)&&i.x>=Math.min(o.x,l.x)&&i.y<=Math.max(o.y,l.y)&&i.y>=Math.min(o.y,l.y)}function _g(o){return o>0?1:o<0?-1:0}function Pf(o,i){return Zr(o.prev,o,o.next)<0?Zr(o,i,o.next)>=0&&Zr(o,o.prev,i)>=0:Zr(o,i,o.prev)<0||Zr(o,o.next,i)<0}function MP(o,i){var l=new wx(o.i,o.x,o.y),f=new wx(i.i,i.x,i.y),m=o.next,y=i.prev;return o.next=i,i.prev=o,l.next=m,m.prev=l,f.next=l,l.prev=f,y.next=f,f.prev=y,f}function DP(o,i,l,f){var m=new wx(o,i,l);return f?(m.next=f.next,m.prev=f,f.next.prev=m,f.next=m):(m.prev=m,m.next=m),m}function Tf(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function wx(o,i,l){this.i=o,this.x=i,this.y=l,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Sx(o,i,l,f){for(var m=0,y=i,b=l-f;y<l;y+=f)m+=(o[b]-o[y])*(o[y+1]+o[b+1]),b=y;return m}_x.exports=yg,_x.exports.default=yg,yg.deviation=function(o,i,l,f){var m=i&&i.length,y=Math.abs(Sx(o,0,m?i[0]*l:o.length,l));if(m)for(var b=0,P=i.length;b<P;b++)y-=Math.abs(Sx(o,i[b]*l,b<P-1?i[b+1]*l:o.length,l));var k=0;for(b=0;b<f.length;b+=3){var M=f[b]*l,$=f[b+1]*l,O=f[b+2]*l;k+=Math.abs((o[M]-o[O])*(o[$+1]-o[M+1])-(o[M]-o[$])*(o[O+1]-o[M+1]))}return y===0&&k===0?0:Math.abs((k-y)/y)},yg.flatten=function(o){for(var i=o[0][0].length,l={vertices:[],holes:[],dimensions:i},f=0,m=0;m<o.length;m++){for(var y=0;y<o[m].length;y++)for(var b=0;b<i;b++)l.vertices.push(o[m][y][b]);m>0&&l.holes.push(f+=o[m-1].length)}return l};var $P=v(_x.exports);function Px(o,i,l){const f=l.patternDependencies;let m=!1;for(const y of i){const b=y.paint.get(`${o}-pattern`);b.isConstant()||(m=!0);const P=b.constantOr(null);P&&(m=!0,f[P.to]=!0,f[P.from]=!0)}return m}function Tx(o,i,l,f,m){const y=m.patternDependencies;for(const b of i){const P=b.paint.get(`${o}-pattern`).value;if(P.kind!=="constant"){let k=P.evaluate({zoom:f-1},l,{},m.availableImages),M=P.evaluate({zoom:f},l,{},m.availableImages),$=P.evaluate({zoom:f+1},l,{},m.availableImages);k=k&&k.name?k.name:k,M=M&&M.name?M.name:M,$=$&&$.name?$.name:$,y[k]=!0,y[M]=!0,y[$]=!0,l.patterns[b.id]={min:k,mid:M,max:$}}}return l}class Cx{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Hs,this.indexArray=new gn,this.indexArray2=new Dr,this.programConfigurations=new fc(i.layers,i.zoom),this.segments=new cn,this.segments2=new cn,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.hasPattern=Px("fill",this.layers,l);const m=this.layers[0].layout.get("fill-sort-key"),y=!m.isConstant(),b=[];for(const{feature:P,id:k,index:M,sourceLayerIndex:$}of i){const O=this.layers[0]._featureFilter.needGeometry,H=mc(P,O);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),H,f))continue;const G=y?m.evaluate(H,{},f,l.availableImages):void 0,J={id:k,properties:P.properties,type:P.type,sourceLayerIndex:$,index:M,geometry:O?H.geometry:pc(P),patterns:{},sortKey:G};b.push(J)}y&&b.sort((P,k)=>P.sortKey-k.sortKey);for(const P of b){const{geometry:k,index:M,sourceLayerIndex:$}=P;if(this.hasPattern){const O=Tx("fill",this.layers,P,this.zoom,l);this.patternFeatures.push(O)}else this.addFeature(P,k,M,f,{});l.featureIndex.insert(i[M].feature,k,M,$,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}addFeatures(i,l,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,SF),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,l,f,m,y){for(const b of _u(l,500)){let P=0;for(const G of b)P+=G.length;const k=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray),M=k.vertexLength,$=[],O=[];for(const G of b){if(G.length===0)continue;G!==b[0]&&O.push($.length/2);const J=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),re=J.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(re+G.length-1,re),$.push(G[0].x),$.push(G[0].y);for(let ce=1;ce<G.length;ce++)this.layoutVertexArray.emplaceBack(G[ce].x,G[ce].y),this.indexArray2.emplaceBack(re+ce-1,re+ce),$.push(G[ce].x),$.push(G[ce].y);J.vertexLength+=G.length,J.primitiveLength+=G.length}const H=$P($,O);for(let G=0;G<H.length;G+=3)this.indexArray.emplaceBack(M+H[G],M+H[G+1],M+H[G+2]);k.vertexLength+=P,k.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}}let RP,LP;ht("FillBucket",Cx,{omit:["layers","patternFeatures"]});var $F={get paint(){return LP=LP||new p({"fill-antialias":new _t(Ve.paint_fill["fill-antialias"]),"fill-opacity":new kt(Ve.paint_fill["fill-opacity"]),"fill-color":new kt(Ve.paint_fill["fill-color"]),"fill-outline-color":new kt(Ve.paint_fill["fill-outline-color"]),"fill-translate":new _t(Ve.paint_fill["fill-translate"]),"fill-translate-anchor":new _t(Ve.paint_fill["fill-translate-anchor"]),"fill-pattern":new x(Ve.paint_fill["fill-pattern"])})},get layout(){return RP=RP||new p({"fill-sort-key":new kt(Ve.layout_fill["fill-sort-key"])})}};class RF extends _{constructor(i){super(i,$F)}recalculate(i,l){super.recalculate(i,l);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Cx(i)}queryRadius(){return pg(this.paint.get("fill-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P){return yP(mg(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),b.angle,P),m)}isTileClipped(){return!0}}const LF=R([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),zF=R([{name:"a_centroid",components:2,type:"Int16"}],4),{members:FF}=LF;var Ys={},BF=w,zP=Xu;function Xu(o,i,l,f,m){this.properties={},this.extent=l,this.type=0,this._pbf=o,this._geometry=-1,this._keys=f,this._values=m,o.readFields(NF,this,i)}function NF(o,i,l){o==1?i.id=l.readVarint():o==2?function(f,m){for(var y=f.readVarint()+f.pos;f.pos<y;){var b=m._keys[f.readVarint()],P=m._values[f.readVarint()];m.properties[b]=P}}(l,i):o==3?i.type=l.readVarint():o==4&&(i._geometry=l.pos)}function OF(o){for(var i,l,f=0,m=0,y=o.length,b=y-1;m<y;b=m++)f+=((l=o[b]).x-(i=o[m]).x)*(i.y+l.y);return f}Xu.types=["Unknown","Point","LineString","Polygon"],Xu.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var i,l=o.readVarint()+o.pos,f=1,m=0,y=0,b=0,P=[];o.pos<l;){if(m<=0){var k=o.readVarint();f=7&k,m=k>>3}if(m--,f===1||f===2)y+=o.readSVarint(),b+=o.readSVarint(),f===1&&(i&&P.push(i),i=[]),i.push(new BF(y,b));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&P.push(i),P},Xu.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var i=o.readVarint()+o.pos,l=1,f=0,m=0,y=0,b=1/0,P=-1/0,k=1/0,M=-1/0;o.pos<i;){if(f<=0){var $=o.readVarint();l=7&$,f=$>>3}if(f--,l===1||l===2)(m+=o.readSVarint())<b&&(b=m),m>P&&(P=m),(y+=o.readSVarint())<k&&(k=y),y>M&&(M=y);else if(l!==7)throw new Error("unknown command "+l)}return[b,k,P,M]},Xu.prototype.toGeoJSON=function(o,i,l){var f,m,y=this.extent*Math.pow(2,l),b=this.extent*o,P=this.extent*i,k=this.loadGeometry(),M=Xu.types[this.type];function $(G){for(var J=0;J<G.length;J++){var re=G[J];G[J]=[360*(re.x+b)/y-180,360/Math.PI*Math.atan(Math.exp((180-360*(re.y+P)/y)*Math.PI/180))-90]}}switch(this.type){case 1:var O=[];for(f=0;f<k.length;f++)O[f]=k[f][0];$(k=O);break;case 2:for(f=0;f<k.length;f++)$(k[f]);break;case 3:for(k=function(G){var J=G.length;if(J<=1)return[G];for(var re,ce,ve=[],Me=0;Me<J;Me++){var Pe=OF(G[Me]);Pe!==0&&(ce===void 0&&(ce=Pe<0),ce===Pe<0?(re&&ve.push(re),re=[G[Me]]):re.push(G[Me]))}return re&&ve.push(re),ve}(k),f=0;f<k.length;f++)for(m=0;m<k[f].length;m++)$(k[f][m])}k.length===1?k=k[0]:M="Multi"+M;var H={type:"Feature",geometry:{type:M,coordinates:k},properties:this.properties};return"id"in this&&(H.id=this.id),H};var jF=zP,FP=BP;function BP(o,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(VF,this,i),this.length=this._features.length}function VF(o,i,l){o===15?i.version=l.readVarint():o===1?i.name=l.readString():o===5?i.extent=l.readVarint():o===2?i._features.push(l.pos):o===3?i._keys.push(l.readString()):o===4&&i._values.push(function(f){for(var m=null,y=f.readVarint()+f.pos;f.pos<y;){var b=f.readVarint()>>3;m=b===1?f.readString():b===2?f.readFloat():b===3?f.readDouble():b===4?f.readVarint64():b===5?f.readVarint():b===6?f.readSVarint():b===7?f.readBoolean():null}return m}(l))}BP.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var i=this._pbf.readVarint()+this._pbf.pos;return new jF(this._pbf,i,this.extent,this._keys,this._values)};var UF=FP;function KF(o,i,l){if(o===3){var f=new UF(l,l.readVarint()+l.pos);f.length&&(i[f.name]=f)}}Ys.VectorTile=function(o,i){this.layers=o.readFields(KF,{},i)},Ys.VectorTileFeature=zP,Ys.VectorTileLayer=FP;const HF=Ys.VectorTileFeature.types,Ex=Math.pow(2,13);function Cf(o,i,l,f,m,y,b,P){o.emplaceBack(i,l,2*Math.floor(f*Ex)+b,m*Ex*2,y*Ex*2,Math.round(P))}class kx{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Yo,this.centroidVertexArray=new Zo,this.indexArray=new gn,this.programConfigurations=new fc(i.layers,i.zoom),this.segments=new cn,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.features=[],this.hasPattern=Px("fill-extrusion",this.layers,l);for(const{feature:m,id:y,index:b,sourceLayerIndex:P}of i){const k=this.layers[0]._featureFilter.needGeometry,M=mc(m,k);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),M,f))continue;const $={id:y,sourceLayerIndex:P,index:b,geometry:k?M.geometry:pc(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(Tx("fill-extrusion",this.layers,$,this.zoom,l)):this.addFeature($,$.geometry,b,f,{}),l.featureIndex.insert(m,$.geometry,b,P,this.index,!0)}}addFeatures(i,l,f){for(const m of this.features){const{geometry:y}=m;this.addFeature(m,y,m.index,l,f)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,FF),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,zF.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,l,f,m,y){for(const b of _u(l,500)){const P={x:0,y:0,vertexCount:0};let k=0;for(const J of b)k+=J.length;let M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const J of b){if(J.length===0||GF(J))continue;let re=0;for(let ce=0;ce<J.length;ce++){const ve=J[ce];if(ce>=1){const Me=J[ce-1];if(!WF(ve,Me)){M.vertexLength+4>cn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Pe=ve.sub(Me)._perp()._unit(),Ae=Me.dist(ve);re+Ae>32768&&(re=0),Cf(this.layoutVertexArray,ve.x,ve.y,Pe.x,Pe.y,0,0,re),Cf(this.layoutVertexArray,ve.x,ve.y,Pe.x,Pe.y,0,1,re),P.x+=2*ve.x,P.y+=2*ve.y,P.vertexCount+=2,re+=Ae,Cf(this.layoutVertexArray,Me.x,Me.y,Pe.x,Pe.y,0,0,re),Cf(this.layoutVertexArray,Me.x,Me.y,Pe.x,Pe.y,0,1,re),P.x+=2*Me.x,P.y+=2*Me.y,P.vertexCount+=2;const Ne=M.vertexLength;this.indexArray.emplaceBack(Ne,Ne+2,Ne+1),this.indexArray.emplaceBack(Ne+1,Ne+2,Ne+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+k>cn.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(k,this.layoutVertexArray,this.indexArray)),HF[i.type]!=="Polygon")continue;const $=[],O=[],H=M.vertexLength;for(const J of b)if(J.length!==0){J!==b[0]&&O.push($.length/2);for(let re=0;re<J.length;re++){const ce=J[re];Cf(this.layoutVertexArray,ce.x,ce.y,0,0,1,1,0),P.x+=ce.x,P.y+=ce.y,P.vertexCount+=1,$.push(ce.x),$.push(ce.y)}}const G=$P($,O);for(let J=0;J<G.length;J+=3)this.indexArray.emplaceBack(H+G[J],H+G[J+2],H+G[J+1]);M.primitiveLength+=G.length/3,M.vertexLength+=k;for(let J=0;J<P.vertexCount;J++){const re=Math.floor(P.x/P.vertexCount),ce=Math.floor(P.y/P.vertexCount);this.centroidVertexArray.emplaceBack(re,ce)}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}}function WF(o,i){return o.x===i.x&&(o.x<0||o.x>nn)||o.y===i.y&&(o.y<0||o.y>nn)}function GF(o){return o.every(i=>i.x<0)||o.every(i=>i.x>nn)||o.every(i=>i.y<0)||o.every(i=>i.y>nn)}let NP;ht("FillExtrusionBucket",kx,{omit:["layers","features"]});var qF={get paint(){return NP=NP||new p({"fill-extrusion-opacity":new _t(Ve["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new kt(Ve["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new _t(Ve["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new _t(Ve["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new x(Ve["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new kt(Ve["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new kt(Ve["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new _t(Ve["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ZF extends _{constructor(i){super(i,qF)}createBucket(i){return new kx(i)}queryRadius(){return pg(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,l,f,m,y,b,P,k){const M=mg(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),b.angle,P),$=this.paint.get("fill-extrusion-height").evaluate(l,f),O=this.paint.get("fill-extrusion-base").evaluate(l,f),H=function(J,re,ce,ve){const Me=[];for(const Pe of J){const Ae=[Pe.x,Pe.y,0,1];gg(Ae,Ae,re),Me.push(new T(Ae[0]/Ae[3],Ae[1]/Ae[3]))}return Me}(M,k),G=function(J,re,ce,ve){const Me=[],Pe=[],Ae=ve[8]*re,Ne=ve[9]*re,qe=ve[10]*re,it=ve[11]*re,Ct=ve[8]*ce,ot=ve[9]*ce,nt=ve[10]*ce,xt=ve[11]*ce;for(const ft of J){const dt=[],He=[];for(const bt of ft){const yt=bt.x,Dt=bt.y,gr=ve[0]*yt+ve[4]*Dt+ve[12],pr=ve[1]*yt+ve[5]*Dt+ve[13],yn=ve[2]*yt+ve[6]*Dt+ve[14],Sa=ve[3]*yt+ve[7]*Dt+ve[15],Bn=yn+qe,Hr=Sa+it,ui=gr+Ct,di=pr+ot,hi=yn+nt,Wr=Sa+xt,vn=new T((gr+Ae)/Hr,(pr+Ne)/Hr);vn.z=Bn/Hr,dt.push(vn);const Zn=new T(ui/Wr,di/Wr);Zn.z=hi/Wr,He.push(Zn)}Me.push(dt),Pe.push(He)}return[Me,Pe]}(m,O,$,k);return function(J,re,ce){let ve=1/0;yP(ce,re)&&(ve=OP(ce,re[0]));for(let Me=0;Me<re.length;Me++){const Pe=re[Me],Ae=J[Me];for(let Ne=0;Ne<Pe.length-1;Ne++){const qe=Pe[Ne],it=[qe,Pe[Ne+1],Ae[Ne+1],Ae[Ne],qe];gP(ce,it)&&(ve=Math.min(ve,OP(ce,it)))}}return ve!==1/0&&ve}(G[0],G[1],H)}}function Ef(o,i){return o.x*i.x+o.y*i.y}function OP(o,i){if(o.length===1){let l=0;const f=i[l++];let m;for(;!m||f.equals(m);)if(m=i[l++],!m)return 1/0;for(;l<i.length;l++){const y=i[l],b=o[0],P=m.sub(f),k=y.sub(f),M=b.sub(f),$=Ef(P,P),O=Ef(P,k),H=Ef(k,k),G=Ef(M,P),J=Ef(M,k),re=$*H-O*O,ce=(H*G-O*J)/re,ve=($*J-O*G)/re,Me=f.z*(1-ce-ve)+m.z*ce+y.z*ve;if(isFinite(Me))return Me}return 1/0}{let l=1/0;for(const f of i)l=Math.min(l,f.z);return l}}const YF=R([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:XF}=YF,JF=R([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:QF}=JF,e8=Ys.VectorTileFeature.types,t8=Math.cos(Math.PI/180*37.5),jP=Math.pow(2,14)/.5;class Ax{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(l=>l.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(l=>{this.gradients[l.id]={}}),this.layoutVertexArray=new Uu,this.layoutVertexArray2=new pf,this.indexArray=new gn,this.programConfigurations=new fc(i.layers,i.zoom),this.segments=new cn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(l=>l.isStateDependent()).map(l=>l.id)}populate(i,l,f){this.hasPattern=Px("line",this.layers,l);const m=this.layers[0].layout.get("line-sort-key"),y=!m.isConstant(),b=[];for(const{feature:P,id:k,index:M,sourceLayerIndex:$}of i){const O=this.layers[0]._featureFilter.needGeometry,H=mc(P,O);if(!this.layers[0]._featureFilter.filter(new vr(this.zoom),H,f))continue;const G=y?m.evaluate(H,{},f):void 0,J={id:k,properties:P.properties,type:P.type,sourceLayerIndex:$,index:M,geometry:O?H.geometry:pc(P),patterns:{},sortKey:G};b.push(J)}y&&b.sort((P,k)=>P.sortKey-k.sortKey);for(const P of b){const{geometry:k,index:M,sourceLayerIndex:$}=P;if(this.hasPattern){const O=Tx("line",this.layers,P,this.zoom,l);this.patternFeatures.push(O)}else this.addFeature(P,k,M,f,{});l.featureIndex.insert(i[M].feature,k,M,$,this.index)}}update(i,l,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,l,this.stateDependentLayers,f)}addFeatures(i,l,f){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,l,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,QF)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,XF),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,l,f,m,y){const b=this.layers[0].layout,P=b.get("line-join").evaluate(i,{}),k=b.get("line-cap"),M=b.get("line-miter-limit"),$=b.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const O of l)this.addLine(O,i,P,k,M,$);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,y,m)}addLine(i,l,f,m,y,b){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ve=0;ve<i.length-1;ve++)this.totalDistance+=i[ve].dist(i[ve+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const P=e8[l.type]==="Polygon";let k=i.length;for(;k>=2&&i[k-1].equals(i[k-2]);)k--;let M=0;for(;M<k-1&&i[M].equals(i[M+1]);)M++;if(k<(P?3:2))return;f==="bevel"&&(y=1.05);const $=this.overscaling<=16?15*nn/(512*this.overscaling):0,O=this.segments.prepareSegment(10*k,this.layoutVertexArray,this.indexArray);let H,G,J,re,ce;this.e1=this.e2=-1,P&&(H=i[k-2],ce=i[M].sub(H)._unit()._perp());for(let ve=M;ve<k;ve++){if(J=ve===k-1?P?i[M+1]:void 0:i[ve+1],J&&i[ve].equals(J))continue;ce&&(re=ce),H&&(G=H),H=i[ve],ce=J?J.sub(H)._unit()._perp():re,re=re||ce;let Me=re.add(ce);Me.x===0&&Me.y===0||Me._unit();const Pe=re.x*ce.x+re.y*ce.y,Ae=Me.x*ce.x+Me.y*ce.y,Ne=Ae!==0?1/Ae:1/0,qe=2*Math.sqrt(2-2*Ae),it=Ae<t8&&G&&J,Ct=re.x*ce.y-re.y*ce.x>0;if(it&&ve>M){const xt=H.dist(G);if(xt>2*$){const ft=H.sub(H.sub(G)._mult($/xt)._round());this.updateDistance(G,ft),this.addCurrentVertex(ft,re,0,0,O),G=ft}}const ot=G&&J;let nt=ot?f:P?"butt":m;if(ot&&nt==="round"&&(Ne<b?nt="miter":Ne<=2&&(nt="fakeround")),nt==="miter"&&Ne>y&&(nt="bevel"),nt==="bevel"&&(Ne>2&&(nt="flipbevel"),Ne<y&&(nt="miter")),G&&this.updateDistance(G,H),nt==="miter")Me._mult(Ne),this.addCurrentVertex(H,Me,0,0,O);else if(nt==="flipbevel"){if(Ne>100)Me=ce.mult(-1);else{const xt=Ne*re.add(ce).mag()/re.sub(ce).mag();Me._perp()._mult(xt*(Ct?-1:1))}this.addCurrentVertex(H,Me,0,0,O),this.addCurrentVertex(H,Me.mult(-1),0,0,O)}else if(nt==="bevel"||nt==="fakeround"){const xt=-Math.sqrt(Ne*Ne-1),ft=Ct?xt:0,dt=Ct?0:xt;if(G&&this.addCurrentVertex(H,re,ft,dt,O),nt==="fakeround"){const He=Math.round(180*qe/Math.PI/20);for(let bt=1;bt<He;bt++){let yt=bt/He;if(yt!==.5){const gr=yt-.5;yt+=yt*gr*(yt-1)*((1.0904+Pe*(Pe*(3.55645-1.43519*Pe)-3.2452))*gr*gr+(.848013+Pe*(.215638*Pe-1.06021)))}const Dt=ce.sub(re)._mult(yt)._add(re)._unit()._mult(Ct?-1:1);this.addHalfVertex(H,Dt.x,Dt.y,!1,Ct,0,O)}}J&&this.addCurrentVertex(H,ce,-ft,-dt,O)}else if(nt==="butt")this.addCurrentVertex(H,Me,0,0,O);else if(nt==="square"){const xt=G?1:-1;this.addCurrentVertex(H,Me,xt,xt,O)}else nt==="round"&&(G&&(this.addCurrentVertex(H,re,0,0,O),this.addCurrentVertex(H,re,1,1,O,!0)),J&&(this.addCurrentVertex(H,ce,-1,-1,O,!0),this.addCurrentVertex(H,ce,0,0,O)));if(it&&ve<k-1){const xt=H.dist(J);if(xt>2*$){const ft=H.add(J.sub(H)._mult($/xt)._round());this.updateDistance(H,ft),this.addCurrentVertex(ft,ce,0,0,O),H=ft}}}}addCurrentVertex(i,l,f,m,y,b=!1){const P=l.y*m-l.x,k=-l.y-l.x*m;this.addHalfVertex(i,l.x+l.y*f,l.y-l.x*f,b,!1,f,y),this.addHalfVertex(i,P,k,b,!0,-m,y),this.distance>jP/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,l,f,m,y,b))}addHalfVertex({x:i,y:l},f,m,y,b,P,k){const M=.5*(this.lineClips?this.scaledDistance*(jP-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(y?1:0),(l<<1)+(b?1:0),Math.round(63*f)+128,Math.round(63*m)+128,1+(P===0?0:P<0?-1:1)|(63&M)<<2,M>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const $=k.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,$),k.primitiveLength++),b?this.e2=$:this.e1=$}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,l){this.distance+=i.dist(l),this.updateScaledDistance()}}let VP,UP;ht("LineBucket",Ax,{omit:["layers","patternFeatures"]});var KP={get paint(){return UP=UP||new p({"line-opacity":new kt(Ve.paint_line["line-opacity"]),"line-color":new kt(Ve.paint_line["line-color"]),"line-translate":new _t(Ve.paint_line["line-translate"]),"line-translate-anchor":new _t(Ve.paint_line["line-translate-anchor"]),"line-width":new kt(Ve.paint_line["line-width"]),"line-gap-width":new kt(Ve.paint_line["line-gap-width"]),"line-offset":new kt(Ve.paint_line["line-offset"]),"line-blur":new kt(Ve.paint_line["line-blur"]),"line-dasharray":new a(Ve.paint_line["line-dasharray"]),"line-pattern":new x(Ve.paint_line["line-pattern"]),"line-gradient":new u(Ve.paint_line["line-gradient"])})},get layout(){return VP=VP||new p({"line-cap":new _t(Ve.layout_line["line-cap"]),"line-join":new kt(Ve.layout_line["line-join"]),"line-miter-limit":new _t(Ve.layout_line["line-miter-limit"]),"line-round-limit":new _t(Ve.layout_line["line-round-limit"]),"line-sort-key":new kt(Ve.layout_line["line-sort-key"])})}};class r8 extends kt{possiblyEvaluate(i,l){return l=new vr(Math.floor(l.zoom),{now:l.now,fadeDuration:l.fadeDuration,zoomHistory:l.zoomHistory,transition:l.transition}),super.possiblyEvaluate(i,l)}evaluate(i,l,f,m){return l=be({},l,{zoom:Math.floor(l.zoom)}),super.evaluate(i,l,f,m)}}let bg;class n8 extends _{constructor(i){super(i,KP),this.gradientVersion=0,bg||(bg=new r8(KP.paint.properties["line-width"].specification),bg.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const l=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(l)&&l._styleExpression.expression instanceof Yl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,l){super.recalculate(i,l),this.paint._values["line-floorwidth"]=bg.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Ax(i)}queryRadius(i){const l=i,f=HP(_f("line-width",this,l),_f("line-gap-width",this,l)),m=_f("line-offset",this,l);return f/2+Math.abs(m)+pg(this.paint.get("line-translate"))}queryIntersectsFeature(i,l,f,m,y,b,P){const k=mg(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),b.angle,P),M=P/2*HP(this.paint.get("line-width").evaluate(l,f),this.paint.get("line-gap-width").evaluate(l,f)),$=this.paint.get("line-offset").evaluate(l,f);return $&&(m=function(O,H){const G=[];for(let J=0;J<O.length;J++){const re=O[J],ce=[];for(let ve=0;ve<re.length;ve++){const Me=re[ve-1],Pe=re[ve],Ae=re[ve+1],Ne=ve===0?new T(0,0):Pe.sub(Me)._unit()._perp(),qe=ve===re.length-1?new T(0,0):Ae.sub(Pe)._unit()._perp(),it=Ne._add(qe)._unit(),Ct=it.x*qe.x+it.y*qe.y;Ct!==0&&it._mult(1/Ct),ce.push(it._mult(H)._add(Pe))}G.push(ce)}return G}(m,$*P)),function(O,H,G){for(let J=0;J<H.length;J++){const re=H[J];if(O.length>=3){for(let ce=0;ce<re.length;ce++)if(qu(O,re[ce]))return!0}if(hF(O,re,G))return!0}return!1}(k,m,M)}isTileClipped(){return!0}}function HP(o,i){return i>0?i+2*o:o}const i8=R([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),a8=R([{name:"a_projected_pos",components:3,type:"Float32"}],4);R([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const o8=R([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);R([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const WP=R([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),s8=R([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function l8(o,i,l){return o.sections.forEach(f=>{f.text=function(m,y,b){const P=y.layout.get("text-transform").evaluate(b,{});return P==="uppercase"?m=m.toLocaleUpperCase():P==="lowercase"&&(m=m.toLocaleLowerCase()),vo.applyArabicShaping&&(m=vo.applyArabicShaping(m)),m}(f.text,i,l)}),o}R([{name:"triangle",components:3,type:"Uint16"}]),R([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),R([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),R([{type:"Float32",name:"offsetX"}]),R([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),R([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const kf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var un=24,GP=fr,qP=function(o,i,l,f,m){var y,b,P=8*m-f-1,k=(1<<P)-1,M=k>>1,$=-7,O=m-1,H=-1,G=o[i+O];for(O+=H,y=G&(1<<-$)-1,G>>=-$,$+=P;$>0;y=256*y+o[i+O],O+=H,$-=8);for(b=y&(1<<-$)-1,y>>=-$,$+=f;$>0;b=256*b+o[i+O],O+=H,$-=8);if(y===0)y=1-M;else{if(y===k)return b?NaN:1/0*(G?-1:1);b+=Math.pow(2,f),y-=M}return(G?-1:1)*b*Math.pow(2,y-f)},ZP=function(o,i,l,f,m,y){var b,P,k,M=8*y-m-1,$=(1<<M)-1,O=$>>1,H=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=0,J=1,re=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(P=isNaN(i)?1:0,b=$):(b=Math.floor(Math.log(i)/Math.LN2),i*(k=Math.pow(2,-b))<1&&(b--,k*=2),(i+=b+O>=1?H/k:H*Math.pow(2,1-O))*k>=2&&(b++,k/=2),b+O>=$?(P=0,b=$):b+O>=1?(P=(i*k-1)*Math.pow(2,m),b+=O):(P=i*Math.pow(2,O-1)*Math.pow(2,m),b=0));m>=8;o[l+G]=255&P,G+=J,P/=256,m-=8);for(b=b<<m|P,M+=m;M>0;o[l+G]=255&b,G+=J,b/=256,M-=8);o[l+G-J]|=128*re};function fr(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}fr.Varint=0,fr.Fixed64=1,fr.Bytes=2,fr.Fixed32=5;var Ix=4294967296,YP=1/Ix,XP=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Jo(o){return o.type===fr.Bytes?o.readVarint()+o.pos:o.pos+1}function Ju(o,i,l){return l?4294967296*i+(o>>>0):4294967296*(i>>>0)+(o>>>0)}function JP(o,i,l){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));l.realloc(f);for(var m=l.pos-1;m>=o;m--)l.buf[m+f]=l.buf[m]}function c8(o,i){for(var l=0;l<o.length;l++)i.writeVarint(o[l])}function u8(o,i){for(var l=0;l<o.length;l++)i.writeSVarint(o[l])}function d8(o,i){for(var l=0;l<o.length;l++)i.writeFloat(o[l])}function h8(o,i){for(var l=0;l<o.length;l++)i.writeDouble(o[l])}function f8(o,i){for(var l=0;l<o.length;l++)i.writeBoolean(o[l])}function p8(o,i){for(var l=0;l<o.length;l++)i.writeFixed32(o[l])}function m8(o,i){for(var l=0;l<o.length;l++)i.writeSFixed32(o[l])}function g8(o,i){for(var l=0;l<o.length;l++)i.writeFixed64(o[l])}function y8(o,i){for(var l=0;l<o.length;l++)i.writeSFixed64(o[l])}function wg(o,i){return(o[i]|o[i+1]<<8|o[i+2]<<16)+16777216*o[i+3]}function Qu(o,i,l){o[l]=i,o[l+1]=i>>>8,o[l+2]=i>>>16,o[l+3]=i>>>24}function QP(o,i){return(o[i]|o[i+1]<<8|o[i+2]<<16)+(o[i+3]<<24)}fr.prototype={destroy:function(){this.buf=null},readFields:function(o,i,l){for(l=l||this.length;this.pos<l;){var f=this.readVarint(),m=f>>3,y=this.pos;this.type=7&f,o(m,i,this),this.pos===y&&this.skip(f)}return i},readMessage:function(o,i){return this.readFields(o,i,this.readVarint()+this.pos)},readFixed32:function(){var o=wg(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=QP(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=wg(this.buf,this.pos)+wg(this.buf,this.pos+4)*Ix;return this.pos+=8,o},readSFixed64:function(){var o=wg(this.buf,this.pos)+QP(this.buf,this.pos+4)*Ix;return this.pos+=8,o},readFloat:function(){var o=qP(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=qP(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var i,l,f=this.buf;return i=127&(l=f[this.pos++]),l<128?i:(i|=(127&(l=f[this.pos++]))<<7,l<128?i:(i|=(127&(l=f[this.pos++]))<<14,l<128?i:(i|=(127&(l=f[this.pos++]))<<21,l<128?i:function(m,y,b){var P,k,M=b.buf;if(P=(112&(k=M[b.pos++]))>>4,k<128||(P|=(127&(k=M[b.pos++]))<<3,k<128)||(P|=(127&(k=M[b.pos++]))<<10,k<128)||(P|=(127&(k=M[b.pos++]))<<17,k<128)||(P|=(127&(k=M[b.pos++]))<<24,k<128)||(P|=(1&(k=M[b.pos++]))<<31,k<128))return Ju(m,P,y);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(l=f[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,i=this.pos;return this.pos=o,o-i>=12&&XP?function(l,f,m){return XP.decode(l.subarray(f,m))}(this.buf,i,o):function(l,f,m){for(var y="",b=f;b<m;){var P,k,M,$=l[b],O=null,H=$>239?4:$>223?3:$>191?2:1;if(b+H>m)break;H===1?$<128&&(O=$):H===2?(192&(P=l[b+1]))==128&&(O=(31&$)<<6|63&P)<=127&&(O=null):H===3?(k=l[b+2],(192&(P=l[b+1]))==128&&(192&k)==128&&((O=(15&$)<<12|(63&P)<<6|63&k)<=2047||O>=55296&&O<=57343)&&(O=null)):H===4&&(k=l[b+2],M=l[b+3],(192&(P=l[b+1]))==128&&(192&k)==128&&(192&M)==128&&((O=(15&$)<<18|(63&P)<<12|(63&k)<<6|63&M)<=65535||O>=1114112)&&(O=null)),O===null?(O=65533,H=1):O>65535&&(O-=65536,y+=String.fromCharCode(O>>>10&1023|55296),O=56320|1023&O),y+=String.fromCharCode(O),b+=H}return y}(this.buf,i,o)},readBytes:function(){var o=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,o);return this.pos=o,i},readPackedVarint:function(o,i){if(this.type!==fr.Bytes)return o.push(this.readVarint(i));var l=Jo(this);for(o=o||[];this.pos<l;)o.push(this.readVarint(i));return o},readPackedSVarint:function(o){if(this.type!==fr.Bytes)return o.push(this.readSVarint());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==fr.Bytes)return o.push(this.readBoolean());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==fr.Bytes)return o.push(this.readFloat());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==fr.Bytes)return o.push(this.readDouble());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==fr.Bytes)return o.push(this.readFixed32());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==fr.Bytes)return o.push(this.readSFixed32());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==fr.Bytes)return o.push(this.readFixed64());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==fr.Bytes)return o.push(this.readSFixed64());var i=Jo(this);for(o=o||[];this.pos<i;)o.push(this.readSFixed64());return o},skip:function(o){var i=7&o;if(i===fr.Varint)for(;this.buf[this.pos++]>127;);else if(i===fr.Bytes)this.pos=this.readVarint()+this.pos;else if(i===fr.Fixed32)this.pos+=4;else{if(i!==fr.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(o,i){this.writeVarint(o<<3|i)},realloc:function(o){for(var i=this.length||16;i<this.pos+o;)i*=2;if(i!==this.length){var l=new Uint8Array(i);l.set(this.buf),this.buf=l,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),Qu(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),Qu(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),Qu(this.buf,-1&o,this.pos),Qu(this.buf,Math.floor(o*YP),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),Qu(this.buf,-1&o,this.pos),Qu(this.buf,Math.floor(o*YP),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(i,l){var f,m;if(i>=0?(f=i%4294967296|0,m=i/4294967296|0):(m=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,m=m+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");l.realloc(10),function(y,b,P){P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,y>>>=7,P.buf[P.pos++]=127&y|128,P.buf[P.pos]=127&(y>>>=7)}(f,0,l),function(y,b){var P=(7&y)<<4;b.buf[b.pos++]|=P|((y>>>=3)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y|((y>>>=7)?128:0),y&&(b.buf[b.pos++]=127&y)))))}(m,l)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var i=this.pos;this.pos=function(f,m,y){for(var b,P,k=0;k<m.length;k++){if((b=m.charCodeAt(k))>55295&&b<57344){if(!P){b>56319||k+1===m.length?(f[y++]=239,f[y++]=191,f[y++]=189):P=b;continue}if(b<56320){f[y++]=239,f[y++]=191,f[y++]=189,P=b;continue}b=P-55296<<10|b-56320|65536,P=null}else P&&(f[y++]=239,f[y++]=191,f[y++]=189,P=null);b<128?f[y++]=b:(b<2048?f[y++]=b>>6|192:(b<65536?f[y++]=b>>12|224:(f[y++]=b>>18|240,f[y++]=b>>12&63|128),f[y++]=b>>6&63|128),f[y++]=63&b|128)}return y}(this.buf,o,this.pos);var l=this.pos-i;l>=128&&JP(i,l,this),this.pos=i-1,this.writeVarint(l),this.pos+=l},writeFloat:function(o){this.realloc(4),ZP(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),ZP(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var i=o.length;this.writeVarint(i),this.realloc(i);for(var l=0;l<i;l++)this.buf[this.pos++]=o[l]},writeRawMessage:function(o,i){this.pos++;var l=this.pos;o(i,this);var f=this.pos-l;f>=128&&JP(l,f,this),this.pos=l-1,this.writeVarint(f),this.pos+=f},writeMessage:function(o,i,l){this.writeTag(o,fr.Bytes),this.writeRawMessage(i,l)},writePackedVarint:function(o,i){i.length&&this.writeMessage(o,c8,i)},writePackedSVarint:function(o,i){i.length&&this.writeMessage(o,u8,i)},writePackedBoolean:function(o,i){i.length&&this.writeMessage(o,f8,i)},writePackedFloat:function(o,i){i.length&&this.writeMessage(o,d8,i)},writePackedDouble:function(o,i){i.length&&this.writeMessage(o,h8,i)},writePackedFixed32:function(o,i){i.length&&this.writeMessage(o,p8,i)},writePackedSFixed32:function(o,i){i.length&&this.writeMessage(o,m8,i)},writePackedFixed64:function(o,i){i.length&&this.writeMessage(o,g8,i)},writePackedSFixed64:function(o,i){i.length&&this.writeMessage(o,y8,i)},writeBytesField:function(o,i){this.writeTag(o,fr.Bytes),this.writeBytes(i)},writeFixed32Field:function(o,i){this.writeTag(o,fr.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(o,i){this.writeTag(o,fr.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(o,i){this.writeTag(o,fr.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(o,i){this.writeTag(o,fr.Fixed64),this.writeSFixed64(i)},writeVarintField:function(o,i){this.writeTag(o,fr.Varint),this.writeVarint(i)},writeSVarintField:function(o,i){this.writeTag(o,fr.Varint),this.writeSVarint(i)},writeStringField:function(o,i){this.writeTag(o,fr.Bytes),this.writeString(i)},writeFloatField:function(o,i){this.writeTag(o,fr.Fixed32),this.writeFloat(i)},writeDoubleField:function(o,i){this.writeTag(o,fr.Fixed64),this.writeDouble(i)},writeBooleanField:function(o,i){this.writeVarintField(o,!!i)}};var Mx=v(GP);const Dx=3;function v8(o,i,l){o===1&&l.readMessage(x8,i)}function x8(o,i,l){if(o===3){const{id:f,bitmap:m,width:y,height:b,left:P,top:k,advance:M}=l.readMessage(_8,{});i.push({id:f,bitmap:new wf({width:y+2*Dx,height:b+2*Dx},m),metrics:{width:y,height:b,left:P,top:k,advance:M}})}}function _8(o,i,l){o===1?i.id=l.readVarint():o===2?i.bitmap=l.readBytes():o===3?i.width=l.readVarint():o===4?i.height=l.readVarint():o===5?i.left=l.readSVarint():o===6?i.top=l.readSVarint():o===7&&(i.advance=l.readVarint())}const eT=Dx;function tT(o){let i=0,l=0;for(const b of o)i+=b.w*b.h,l=Math.max(l,b.w);o.sort((b,P)=>P.h-b.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),l),h:1/0}];let m=0,y=0;for(const b of o)for(let P=f.length-1;P>=0;P--){const k=f[P];if(!(b.w>k.w||b.h>k.h)){if(b.x=k.x,b.y=k.y,y=Math.max(y,b.y+b.h),m=Math.max(m,b.x+b.w),b.w===k.w&&b.h===k.h){const M=f.pop();P<f.length&&(f[P]=M)}else b.h===k.h?(k.x+=b.w,k.w-=b.w):b.w===k.w?(k.y+=b.h,k.h-=b.h):(f.push({x:k.x+b.w,y:k.y,w:k.w-b.w,h:b.h}),k.y+=b.h,k.h-=b.h);break}}return{w:m,h:y,fill:i/(m*y)||0}}const Ai=1;class $x{constructor(i,{pixelRatio:l,version:f,stretchX:m,stretchY:y,content:b,textFitWidth:P,textFitHeight:k}){this.paddedRect=i,this.pixelRatio=l,this.stretchX=m,this.stretchY=y,this.content=b,this.version=f,this.textFitWidth=P,this.textFitHeight=k}get tl(){return[this.paddedRect.x+Ai,this.paddedRect.y+Ai]}get br(){return[this.paddedRect.x+this.paddedRect.w-Ai,this.paddedRect.y+this.paddedRect.h-Ai]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Ai)/this.pixelRatio,(this.paddedRect.h-2*Ai)/this.pixelRatio]}}class rT{constructor(i,l){const f={},m={};this.haveRenderCallbacks=[];const y=[];this.addImages(i,f,y),this.addImages(l,m,y);const{w:b,h:P}=tT(y),k=new ra({width:b||1,height:P||1});for(const M in i){const $=i[M],O=f[M].paddedRect;ra.copy($.data,k,{x:0,y:0},{x:O.x+Ai,y:O.y+Ai},$.data)}for(const M in l){const $=l[M],O=m[M].paddedRect,H=O.x+Ai,G=O.y+Ai,J=$.data.width,re=$.data.height;ra.copy($.data,k,{x:0,y:0},{x:H,y:G},$.data),ra.copy($.data,k,{x:0,y:re-1},{x:H,y:G-1},{width:J,height:1}),ra.copy($.data,k,{x:0,y:0},{x:H,y:G+re},{width:J,height:1}),ra.copy($.data,k,{x:J-1,y:0},{x:H-1,y:G},{width:1,height:re}),ra.copy($.data,k,{x:0,y:0},{x:H+J,y:G},{width:1,height:re})}this.image=k,this.iconPositions=f,this.patternPositions=m}addImages(i,l,f){for(const m in i){const y=i[m],b={x:0,y:0,w:y.data.width+2*Ai,h:y.data.height+2*Ai};f.push(b),l[m]=new $x(b,y),y.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(i,l){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),l),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),l)}patchUpdatedImage(i,l,f){if(!i||!l||i.version===l.version)return;i.version=l.version;const[m,y]=i.tl;f.update(l.data,void 0,{x:m,y})}}var Xs;ht("ImagePosition",$x),ht("ImageAtlas",rT),d.ah=void 0,(Xs=d.ah||(d.ah={}))[Xs.none=0]="none",Xs[Xs.horizontal=1]="horizontal",Xs[Xs.vertical=2]="vertical",Xs[Xs.horizontalOnly=3]="horizontalOnly";const Af=-17;class If{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,l){const f=new If;return f.scale=i||1,f.fontStack=l,f}static forImage(i){const l=new If;return l.imageName=i,l}}class ed{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,l){const f=new ed;for(let m=0;m<i.sections.length;m++){const y=i.sections[m];y.image?f.addImageSection(y):f.addTextSection(y,l)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let l="";for(let f=0;f<i.length;f++){const m=i.charCodeAt(f+1)||null,y=i.charCodeAt(f-1)||null;l+=m&&og(m)&&!kf[i[f+1]]||y&&og(y)&&!kf[i[f-1]]||!kf[i[f]]?i[f]:kf[i[f]]}return l}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Pg[this.text.charCodeAt(f)];f++)i++;let l=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Pg[this.text.charCodeAt(f)];f--)l--;this.text=this.text.substring(i,l),this.sectionIndex=this.sectionIndex.slice(i,l)}substring(i,l){const f=new ed;return f.text=this.text.substring(i,l),f.sectionIndex=this.sectionIndex.slice(i,l),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,l)=>Math.max(i,this.sections[l].scale),0)}addTextSection(i,l){this.text+=i.text,this.sections.push(If.forText(i.scale,i.fontStack||l));const f=this.sections.length-1;for(let m=0;m<i.text.length;++m)this.sectionIndex.push(f)}addImageSection(i){const l=i.image?i.image.name:"";if(l.length===0)return void ge("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(If.forImage(l)),this.sectionIndex.push(this.sections.length-1)):ge("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Sg(o,i,l,f,m,y,b,P,k,M,$,O,H,G,J){const re=ed.fromFeature(o,m);let ce;O===d.ah.vertical&&re.verticalizePunctuation();const{processBidirectionalText:ve,processStyledBidirectionalText:Me}=vo;if(ve&&re.sections.length===1){ce=[];const Ne=ve(re.toString(),Rx(re,M,y,i,f,G));for(const qe of Ne){const it=new ed;it.text=qe,it.sections=re.sections;for(let Ct=0;Ct<qe.length;Ct++)it.sectionIndex.push(0);ce.push(it)}}else if(Me){ce=[];const Ne=Me(re.text,re.sectionIndex,Rx(re,M,y,i,f,G));for(const qe of Ne){const it=new ed;it.text=qe[0],it.sectionIndex=qe[1],it.sections=re.sections,ce.push(it)}}else ce=function(Ne,qe){const it=[],Ct=Ne.text;let ot=0;for(const nt of qe)it.push(Ne.substring(ot,nt)),ot=nt;return ot<Ct.length&&it.push(Ne.substring(ot,Ct.length)),it}(re,Rx(re,M,y,i,f,G));const Pe=[],Ae={positionedLines:Pe,text:re.toString(),top:$[1],bottom:$[1],left:$[0],right:$[0],writingMode:O,iconsInText:!1,verticalizable:!1};return function(Ne,qe,it,Ct,ot,nt,xt,ft,dt,He,bt,yt){let Dt=0,gr=Af,pr=0,yn=0;const Sa=ft==="right"?1:ft==="left"?0:.5;let Bn=0;for(const Wr of ot){Wr.trim();const vn=Wr.getMaxScale(),Zn=(vn-1)*un,Nn={positionedGlyphs:[],lineOffset:0};Ne.positionedLines[Bn]=Nn;const fi=Nn.positionedGlyphs;let On=0;if(!Wr.length()){gr+=nt,++Bn;continue}for(let Ii=0;Ii<Wr.length();Ii++){const rr=Wr.getSection(Ii),xr=Wr.getSectionIndex(Ii),Tr=Wr.getCharCode(Ii);let ji=0,Fr=null,id=null,wo=null,So=un;const Pa=!(dt===d.ah.horizontal||!bt&&!df(Tr)||bt&&(Pg[Tr]||(Hr=Tr,st.Arabic(Hr)||st["Arabic Supplement"](Hr)||st["Arabic Extended-A"](Hr)||st["Arabic Presentation Forms-A"](Hr)||st["Arabic Presentation Forms-B"](Hr))));if(rr.imageName){const aa=Ct[rr.imageName];if(!aa)continue;wo=rr.imageName,Ne.iconsInText=Ne.iconsInText||!0,id=aa.paddedRect;const Tn=aa.displaySize;rr.scale=rr.scale*un/yt,Fr={width:Tn[0],height:Tn[1],left:Ai,top:-eT,advance:Pa?Tn[1]:Tn[0]},ji=Zn+(un-Tn[1]*rr.scale),So=Fr.advance;const Qo=Pa?Tn[0]*rr.scale-un*vn:Tn[1]*rr.scale-un*vn;Qo>0&&Qo>On&&(On=Qo)}else{const aa=it[rr.fontStack],Tn=aa&&aa[Tr];if(Tn&&Tn.rect)id=Tn.rect,Fr=Tn.metrics;else{const Qo=qe[rr.fontStack],Lf=Qo&&Qo[Tr];if(!Lf)continue;Fr=Lf.metrics}ji=(vn-rr.scale)*un}Pa?(Ne.verticalizable=!0,fi.push({glyph:Tr,imageName:wo,x:Dt,y:gr+ji,vertical:Pa,scale:rr.scale,fontStack:rr.fontStack,sectionIndex:xr,metrics:Fr,rect:id}),Dt+=So*rr.scale+He):(fi.push({glyph:Tr,imageName:wo,x:Dt,y:gr+ji,vertical:Pa,scale:rr.scale,fontStack:rr.fontStack,sectionIndex:xr,metrics:Fr,rect:id}),Dt+=Fr.advance*rr.scale+He)}fi.length!==0&&(pr=Math.max(Dt-He,pr),P8(fi,0,fi.length-1,Sa,On)),Dt=0;const ia=nt*vn+On;Nn.lineOffset=Math.max(On,Zn),gr+=ia,yn=Math.max(ia,yn),++Bn}var Hr;const ui=gr-Af,{horizontalAlign:di,verticalAlign:hi}=Lx(xt);(function(Wr,vn,Zn,Nn,fi,On,ia,Ii,rr){const xr=(vn-Zn)*fi;let Tr=0;Tr=On!==ia?-Ii*Nn-Af:(-Nn*rr+.5)*ia;for(const ji of Wr)for(const Fr of ji.positionedGlyphs)Fr.x+=xr,Fr.y+=Tr})(Ne.positionedLines,Sa,di,hi,pr,yn,nt,ui,ot.length),Ne.top+=-hi*ui,Ne.bottom=Ne.top+ui,Ne.left+=-di*pr,Ne.right=Ne.left+pr}(Ae,i,l,f,ce,b,P,k,O,M,H,J),!function(Ne){for(const qe of Ne)if(qe.positionedGlyphs.length!==0)return!1;return!0}(Pe)&&Ae}const Pg={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},b8={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},w8={40:!0};function nT(o,i,l,f,m,y){if(i.imageName){const b=f[i.imageName];return b?b.displaySize[0]*i.scale*un/y+m:0}{const b=l[i.fontStack],P=b&&b[o];return P?P.metrics.advance*i.scale+m:0}}function iT(o,i,l,f){const m=Math.pow(o-i,2);return f?o<i?m/2:2*m:m+Math.abs(l)*l}function S8(o,i,l){let f=0;return o===10&&(f-=1e4),l&&(f+=150),o!==40&&o!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function aT(o,i,l,f,m,y){let b=null,P=iT(i,l,m,y);for(const k of f){const M=iT(i-k.x,l,m,y)+k.badness;M<=P&&(b=k,P=M)}return{index:o,x:i,priorBreak:b,badness:P}}function oT(o){return o?oT(o.priorBreak).concat(o.index):[]}function Rx(o,i,l,f,m,y){if(!o)return[];const b=[],P=function(O,H,G,J,re,ce){let ve=0;for(let Me=0;Me<O.length();Me++){const Pe=O.getSection(Me);ve+=nT(O.getCharCode(Me),Pe,J,re,H,ce)}return ve/Math.max(1,Math.ceil(ve/G))}(o,i,l,f,m,y),k=o.text.indexOf("​")>=0;let M=0;for(let O=0;O<o.length();O++){const H=o.getSection(O),G=o.getCharCode(O);if(Pg[G]||(M+=nT(G,H,f,m,i,y)),O<o.length()-1){const J=!(($=G)<11904||!(st["Bopomofo Extended"]($)||st.Bopomofo($)||st["CJK Compatibility Forms"]($)||st["CJK Compatibility Ideographs"]($)||st["CJK Compatibility"]($)||st["CJK Radicals Supplement"]($)||st["CJK Strokes"]($)||st["CJK Symbols and Punctuation"]($)||st["CJK Unified Ideographs Extension A"]($)||st["CJK Unified Ideographs"]($)||st["Enclosed CJK Letters and Months"]($)||st["Halfwidth and Fullwidth Forms"]($)||st.Hiragana($)||st["Ideographic Description Characters"]($)||st["Kangxi Radicals"]($)||st["Katakana Phonetic Extensions"]($)||st.Katakana($)||st["Vertical Forms"]($)||st["Yi Radicals"]($)||st["Yi Syllables"]($)));(b8[G]||J||H.imageName||O!==o.length()-2&&w8[o.getCharCode(O+1)])&&b.push(aT(O+1,M,P,b,S8(G,o.getCharCode(O+1),J&&k),!1))}}var $;return oT(aT(o.length(),M,P,b,0,!0))}function Lx(o){let i=.5,l=.5;switch(o){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":l=1;break;case"top":case"top-right":case"top-left":l=0}return{horizontalAlign:i,verticalAlign:l}}function P8(o,i,l,f,m){if(!f&&!m)return;const y=o[l],b=(o[l].x+y.metrics.advance*y.scale)*f;for(let P=i;P<=l;P++)o[P].x-=b,o[P].y+=m}function T8(o,i,l){const{horizontalAlign:f,verticalAlign:m}=Lx(l),y=i[0]-o.displaySize[0]*f,b=i[1]-o.displaySize[1]*m;return{image:o,top:b,bottom:b+o.displaySize[1],left:y,right:y+o.displaySize[0]}}function sT(o){var i,l;let f=o.left,m=o.top,y=o.right-f,b=o.bottom-m;const P=(i=o.image.textFitWidth)!==null&&i!==void 0?i:"stretchOrShrink",k=(l=o.image.textFitHeight)!==null&&l!==void 0?l:"stretchOrShrink",M=(o.image.content[2]-o.image.content[0])/(o.image.content[3]-o.image.content[1]);if(k==="proportional"){if(P==="stretchOnly"&&y/b<M||P==="proportional"){const $=Math.ceil(b*M);f*=$/y,y=$}}else if(P==="proportional"&&k==="stretchOnly"&&M!==0&&y/b>M){const $=Math.ceil(y/M);m*=$/b,b=$}return{x1:f,y1:m,x2:f+y,y2:m+b}}function lT(o,i,l,f,m,y){const b=o.image;let P;if(b.content){const ce=b.content,ve=b.pixelRatio||1;P=[ce[0]/ve,ce[1]/ve,b.displaySize[0]-ce[2]/ve,b.displaySize[1]-ce[3]/ve]}const k=i.left*y,M=i.right*y;let $,O,H,G;l==="width"||l==="both"?(G=m[0]+k-f[3],O=m[0]+M+f[1]):(G=m[0]+(k+M-b.displaySize[0])/2,O=G+b.displaySize[0]);const J=i.top*y,re=i.bottom*y;return l==="height"||l==="both"?($=m[1]+J-f[0],H=m[1]+re+f[2]):($=m[1]+(J+re-b.displaySize[1])/2,H=$+b.displaySize[1]),{image:b,top:$,right:O,bottom:H,left:G,collisionPadding:P}}const Mf=255,bo=128,Js=Mf*bo;function cT(o,i){const{expression:l}=i;if(l.kind==="constant")return{kind:"constant",layoutSize:l.evaluate(new vr(o+1))};if(l.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:m}=l;let y=0;for(;y<f.length&&f[y]<=o;)y++;y=Math.max(0,y-1);let b=y;for(;b<f.length&&f[b]<o+1;)b++;b=Math.min(f.length-1,b);const P=f[y],k=f[b];return l.kind==="composite"?{kind:"composite",minZoom:P,maxZoom:k,interpolationType:m}:{kind:"camera",minZoom:P,maxZoom:k,minSize:l.evaluate(new vr(P)),maxSize:l.evaluate(new vr(k)),interpolationType:m}}}function zx(o,i,l){let f="never";const m=o.get(i);return m?f=m:o.get(l)&&(f="always"),f}const C8=Ys.VectorTileFeature.types,E8=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Tg(o,i,l,f,m,y,b,P,k,M,$,O,H){const G=P?Math.min(Js,Math.round(P[0])):0,J=P?Math.min(Js,Math.round(P[1])):0;o.emplaceBack(i,l,Math.round(32*f),Math.round(32*m),y,b,(G<<1)+(k?1:0),J,16*M,16*$,256*O,256*H)}function Fx(o,i,l){o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l),o.emplaceBack(i.x,i.y,l)}function k8(o){for(const i of o.sections)if(hf(i.text))return!0;return!1}class Bx{constructor(i){this.layoutVertexArray=new ta,this.indexArray=new gn,this.programConfigurations=i,this.segments=new cn,this.dynamicLayoutVertexArray=new xo,this.opacityVertexArray=new Ws,this.hasVisibleVertices=!1,this.placedSymbolArray=new Sr}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,l,f,m){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,i8.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,l),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,a8.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,E8,!0),this.opacityVertexBuffer.itemSize=1),(f||m)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}ht("SymbolBuffers",Bx);class Nx{constructor(i,l,f){this.layoutVertexArray=new i,this.layoutAttributes=l,this.indexArray=new f,this.segments=new cn,this.collisionVertexArray=new zn}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,o8.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}ht("CollisionBuffers",Nx);class td{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(b=>b.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=yx([]),this.placementViewportMatrix=yx([]);const l=this.layers[0]._unevaluatedLayout._values;this.textSizeData=cT(this.zoom,l["text-size"]),this.iconSizeData=cT(this.zoom,l["icon-size"]);const f=this.layers[0].layout,m=f.get("symbol-sort-key"),y=f.get("symbol-z-order");this.canOverlap=zx(f,"text-overlap","text-allow-overlap")!=="never"||zx(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=y!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(y==="viewport-y"||y==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(b=>d.ah[b])),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.sourceID=i.sourceID}createArrays(){this.text=new Bx(new fc(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Bx(new fc(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Pr,this.lineVertexArray=new li,this.symbolInstances=new Qi,this.textAnchorOffsets=new $n}calculateGlyphDependencies(i,l,f,m,y){for(let b=0;b<i.length;b++)if(l[i.charCodeAt(b)]=!0,(f||m)&&y){const P=kf[i.charAt(b)];P&&(l[P.charCodeAt(0)]=!0)}}populate(i,l,f){const m=this.layers[0],y=m.layout,b=y.get("text-font"),P=y.get("text-field"),k=y.get("icon-image"),M=(P.value.kind!=="constant"||P.value.value instanceof Pi&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(b.value.kind!=="constant"||b.value.value.length>0),$=k.value.kind!=="constant"||!!k.value.value||Object.keys(k.parameters).length>0,O=y.get("symbol-sort-key");if(this.features=[],!M&&!$)return;const H=l.iconDependencies,G=l.glyphDependencies,J=l.availableImages,re=new vr(this.zoom);for(const{feature:ce,id:ve,index:Me,sourceLayerIndex:Pe}of i){const Ae=m._featureFilter.needGeometry,Ne=mc(ce,Ae);if(!m._featureFilter.filter(re,Ne,f))continue;let qe,it;if(Ae||(Ne.geometry=pc(ce)),M){const ot=m.getValueAndResolveTokens("text-field",Ne,f,J),nt=Pi.factory(ot),xt=this.hasRTLText=this.hasRTLText||k8(nt);(!xt||vo.getRTLTextPluginStatus()==="unavailable"||xt&&vo.isParsed())&&(qe=l8(nt,m,Ne))}if($){const ot=m.getValueAndResolveTokens("icon-image",Ne,f,J);it=ot instanceof Bi?ot:Bi.fromString(ot)}if(!qe&&!it)continue;const Ct=this.sortFeaturesByKey?O.evaluate(Ne,{},f):void 0;if(this.features.push({id:ve,text:qe,icon:it,index:Me,sourceLayerIndex:Pe,geometry:Ne.geometry,properties:ce.properties,type:C8[ce.type],sortKey:Ct}),it&&(H[it.name]=!0),qe){const ot=b.evaluate(Ne,{},f).join(","),nt=y.get("text-rotation-alignment")!=="viewport"&&y.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(d.ah.vertical)>=0;for(const xt of qe.sections)if(xt.image)H[xt.image.name]=!0;else{const ft=uf(qe.toString()),dt=xt.fontStack||ot,He=G[dt]=G[dt]||{};this.calculateGlyphDependencies(xt.text,He,nt,this.allowVerticalPlacement,ft)}}}y.get("symbol-placement")==="line"&&(this.features=function(ce){const ve={},Me={},Pe=[];let Ae=0;function Ne(ot){Pe.push(ce[ot]),Ae++}function qe(ot,nt,xt){const ft=Me[ot];return delete Me[ot],Me[nt]=ft,Pe[ft].geometry[0].pop(),Pe[ft].geometry[0]=Pe[ft].geometry[0].concat(xt[0]),ft}function it(ot,nt,xt){const ft=ve[nt];return delete ve[nt],ve[ot]=ft,Pe[ft].geometry[0].shift(),Pe[ft].geometry[0]=xt[0].concat(Pe[ft].geometry[0]),ft}function Ct(ot,nt,xt){const ft=xt?nt[0][nt[0].length-1]:nt[0][0];return`${ot}:${ft.x}:${ft.y}`}for(let ot=0;ot<ce.length;ot++){const nt=ce[ot],xt=nt.geometry,ft=nt.text?nt.text.toString():null;if(!ft){Ne(ot);continue}const dt=Ct(ft,xt),He=Ct(ft,xt,!0);if(dt in Me&&He in ve&&Me[dt]!==ve[He]){const bt=it(dt,He,xt),yt=qe(dt,He,Pe[bt].geometry);delete ve[dt],delete Me[He],Me[Ct(ft,Pe[yt].geometry,!0)]=yt,Pe[bt].geometry=null}else dt in Me?qe(dt,He,xt):He in ve?it(dt,He,xt):(Ne(ot),ve[dt]=Ae-1,Me[He]=Ae-1)}return Pe.filter(ot=>ot.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ce,ve)=>ce.sortKey-ve.sortKey)}update(i,l,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,l,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,l,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,l){const f=this.lineVertexArray.length;if(i.segment!==void 0){let m=i.dist(l[i.segment+1]),y=i.dist(l[i.segment]);const b={};for(let P=i.segment+1;P<l.length;P++)b[P]={x:l[P].x,y:l[P].y,tileUnitDistanceFromAnchor:m},P<l.length-1&&(m+=l[P+1].dist(l[P]));for(let P=i.segment||0;P>=0;P--)b[P]={x:l[P].x,y:l[P].y,tileUnitDistanceFromAnchor:y},P>0&&(y+=l[P-1].dist(l[P]));for(let P=0;P<l.length;P++){const k=b[P];this.lineVertexArray.emplaceBack(k.x,k.y,k.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,l,f,m,y,b,P,k,M,$,O,H){const G=i.indexArray,J=i.layoutVertexArray,re=i.segments.prepareSegment(4*l.length,J,G,this.canOverlap?b.sortKey:void 0),ce=this.glyphOffsetArray.length,ve=re.vertexLength,Me=this.allowVerticalPlacement&&P===d.ah.vertical?Math.PI/2:0,Pe=b.text&&b.text.sections;for(let Ae=0;Ae<l.length;Ae++){const{tl:Ne,tr:qe,bl:it,br:Ct,tex:ot,pixelOffsetTL:nt,pixelOffsetBR:xt,minFontScaleX:ft,minFontScaleY:dt,glyphOffset:He,isSDF:bt,sectionIndex:yt}=l[Ae],Dt=re.vertexLength,gr=He[1];Tg(J,k.x,k.y,Ne.x,gr+Ne.y,ot.x,ot.y,f,bt,nt.x,nt.y,ft,dt),Tg(J,k.x,k.y,qe.x,gr+qe.y,ot.x+ot.w,ot.y,f,bt,xt.x,nt.y,ft,dt),Tg(J,k.x,k.y,it.x,gr+it.y,ot.x,ot.y+ot.h,f,bt,nt.x,xt.y,ft,dt),Tg(J,k.x,k.y,Ct.x,gr+Ct.y,ot.x+ot.w,ot.y+ot.h,f,bt,xt.x,xt.y,ft,dt),Fx(i.dynamicLayoutVertexArray,k,Me),G.emplaceBack(Dt,Dt+1,Dt+2),G.emplaceBack(Dt+1,Dt+2,Dt+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(He[0]),Ae!==l.length-1&&yt===l[Ae+1].sectionIndex||i.programConfigurations.populatePaintArrays(J.length,b,b.index,{},H,Pe&&Pe[yt])}i.placedSymbolArray.emplaceBack(k.x,k.y,ce,this.glyphOffsetArray.length-ce,ve,M,$,k.segment,f?f[0]:0,f?f[1]:0,m[0],m[1],P,0,!1,0,O)}_addCollisionDebugVertex(i,l,f,m,y,b){return l.emplaceBack(0,0),i.emplaceBack(f.x,f.y,m,y,Math.round(b.x),Math.round(b.y))}addCollisionDebugVertices(i,l,f,m,y,b,P){const k=y.segments.prepareSegment(4,y.layoutVertexArray,y.indexArray),M=k.vertexLength,$=y.layoutVertexArray,O=y.collisionVertexArray,H=P.anchorX,G=P.anchorY;this._addCollisionDebugVertex($,O,b,H,G,new T(i,l)),this._addCollisionDebugVertex($,O,b,H,G,new T(f,l)),this._addCollisionDebugVertex($,O,b,H,G,new T(f,m)),this._addCollisionDebugVertex($,O,b,H,G,new T(i,m)),k.vertexLength+=4;const J=y.indexArray;J.emplaceBack(M,M+1),J.emplaceBack(M+1,M+2),J.emplaceBack(M+2,M+3),J.emplaceBack(M+3,M),k.primitiveLength+=4}addDebugCollisionBoxes(i,l,f,m){for(let y=i;y<l;y++){const b=this.collisionBoxArray.get(y);this.addCollisionDebugVertices(b.x1,b.y1,b.x2,b.y2,m?this.textCollisionBox:this.iconCollisionBox,b.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Nx(Ln,WP.members,Dr),this.iconCollisionBox=new Nx(Ln,WP.members,Dr);for(let i=0;i<this.symbolInstances.length;i++){const l=this.symbolInstances.get(i);this.addDebugCollisionBoxes(l.textBoxStartIndex,l.textBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.verticalTextBoxStartIndex,l.verticalTextBoxEndIndex,l,!0),this.addDebugCollisionBoxes(l.iconBoxStartIndex,l.iconBoxEndIndex,l,!1),this.addDebugCollisionBoxes(l.verticalIconBoxStartIndex,l.verticalIconBoxEndIndex,l,!1)}}_deserializeCollisionBoxesForSymbol(i,l,f,m,y,b,P,k,M){const $={};for(let O=l;O<f;O++){const H=i.get(O);$.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},$.textFeatureIndex=H.featureIndex;break}for(let O=m;O<y;O++){const H=i.get(O);$.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},$.verticalTextFeatureIndex=H.featureIndex;break}for(let O=b;O<P;O++){const H=i.get(O);$.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},$.iconFeatureIndex=H.featureIndex;break}for(let O=k;O<M;O++){const H=i.get(O);$.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},$.verticalIconFeatureIndex=H.featureIndex;break}return $}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let l=0;l<this.symbolInstances.length;l++){const f=this.symbolInstances.get(l);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,l){const f=i.placedSymbolArray.get(l),m=f.vertexStartIndex+4*f.numGlyphs;for(let y=f.vertexStartIndex;y<m;y+=4)i.indexArray.emplaceBack(y,y+1,y+2),i.indexArray.emplaceBack(y+1,y+2,y+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const l=Math.sin(i),f=Math.cos(i),m=[],y=[],b=[];for(let P=0;P<this.symbolInstances.length;++P){b.push(P);const k=this.symbolInstances.get(P);m.push(0|Math.round(l*k.anchorX+f*k.anchorY)),y.push(k.featureIndex)}return b.sort((P,k)=>m[P]-m[k]||y[k]-y[P]),b}addToSortKeyRanges(i,l){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===l?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:l,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const l of this.symbolInstanceIndexes){const f=this.symbolInstances.get(l);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((m,y,b)=>{m>=0&&b.indexOf(m)===y&&this.addIndicesForPlacedSymbol(this.text,m)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let uT,dT;ht("SymbolBucket",td,{omit:["layers","collisionBoxArray","features","compareText"]}),td.MAX_GLYPHS=65535,td.addDynamicAttributes=Fx;var Ox={get paint(){return dT=dT||new p({"icon-opacity":new kt(Ve.paint_symbol["icon-opacity"]),"icon-color":new kt(Ve.paint_symbol["icon-color"]),"icon-halo-color":new kt(Ve.paint_symbol["icon-halo-color"]),"icon-halo-width":new kt(Ve.paint_symbol["icon-halo-width"]),"icon-halo-blur":new kt(Ve.paint_symbol["icon-halo-blur"]),"icon-translate":new _t(Ve.paint_symbol["icon-translate"]),"icon-translate-anchor":new _t(Ve.paint_symbol["icon-translate-anchor"]),"text-opacity":new kt(Ve.paint_symbol["text-opacity"]),"text-color":new kt(Ve.paint_symbol["text-color"],{runtimeType:Hn,getOverride:o=>o.textColor,hasOverride:o=>!!o.textColor}),"text-halo-color":new kt(Ve.paint_symbol["text-halo-color"]),"text-halo-width":new kt(Ve.paint_symbol["text-halo-width"]),"text-halo-blur":new kt(Ve.paint_symbol["text-halo-blur"]),"text-translate":new _t(Ve.paint_symbol["text-translate"]),"text-translate-anchor":new _t(Ve.paint_symbol["text-translate-anchor"])})},get layout(){return uT=uT||new p({"symbol-placement":new _t(Ve.layout_symbol["symbol-placement"]),"symbol-spacing":new _t(Ve.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new _t(Ve.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new kt(Ve.layout_symbol["symbol-sort-key"]),"symbol-z-order":new _t(Ve.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new _t(Ve.layout_symbol["icon-allow-overlap"]),"icon-overlap":new _t(Ve.layout_symbol["icon-overlap"]),"icon-ignore-placement":new _t(Ve.layout_symbol["icon-ignore-placement"]),"icon-optional":new _t(Ve.layout_symbol["icon-optional"]),"icon-rotation-alignment":new _t(Ve.layout_symbol["icon-rotation-alignment"]),"icon-size":new kt(Ve.layout_symbol["icon-size"]),"icon-text-fit":new _t(Ve.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new _t(Ve.layout_symbol["icon-text-fit-padding"]),"icon-image":new kt(Ve.layout_symbol["icon-image"]),"icon-rotate":new kt(Ve.layout_symbol["icon-rotate"]),"icon-padding":new kt(Ve.layout_symbol["icon-padding"]),"icon-keep-upright":new _t(Ve.layout_symbol["icon-keep-upright"]),"icon-offset":new kt(Ve.layout_symbol["icon-offset"]),"icon-anchor":new kt(Ve.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new _t(Ve.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new _t(Ve.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new _t(Ve.layout_symbol["text-rotation-alignment"]),"text-field":new kt(Ve.layout_symbol["text-field"]),"text-font":new kt(Ve.layout_symbol["text-font"]),"text-size":new kt(Ve.layout_symbol["text-size"]),"text-max-width":new kt(Ve.layout_symbol["text-max-width"]),"text-line-height":new _t(Ve.layout_symbol["text-line-height"]),"text-letter-spacing":new kt(Ve.layout_symbol["text-letter-spacing"]),"text-justify":new kt(Ve.layout_symbol["text-justify"]),"text-radial-offset":new kt(Ve.layout_symbol["text-radial-offset"]),"text-variable-anchor":new _t(Ve.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new kt(Ve.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new kt(Ve.layout_symbol["text-anchor"]),"text-max-angle":new _t(Ve.layout_symbol["text-max-angle"]),"text-writing-mode":new _t(Ve.layout_symbol["text-writing-mode"]),"text-rotate":new kt(Ve.layout_symbol["text-rotate"]),"text-padding":new _t(Ve.layout_symbol["text-padding"]),"text-keep-upright":new _t(Ve.layout_symbol["text-keep-upright"]),"text-transform":new kt(Ve.layout_symbol["text-transform"]),"text-offset":new kt(Ve.layout_symbol["text-offset"]),"text-allow-overlap":new _t(Ve.layout_symbol["text-allow-overlap"]),"text-overlap":new _t(Ve.layout_symbol["text-overlap"]),"text-ignore-placement":new _t(Ve.layout_symbol["text-ignore-placement"]),"text-optional":new _t(Ve.layout_symbol["text-optional"])})}};class hT{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:Bo,this.defaultValue=i}evaluate(i){if(i.formattedSection){const l=this.defaultValue.property.overrides;if(l&&l.hasOverride(i.formattedSection))return l.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}ht("FormatSectionOverride",hT,{omit:["defaultValue"]});class Cg extends _{constructor(i){super(i,Ox)}recalculate(i,l){if(super.recalculate(i,l),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const m=[];for(const y of f)m.indexOf(y)<0&&m.push(y);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,l,f,m){const y=this.layout.get(i).evaluate(l,{},f,m),b=this._unevaluatedLayout._values[i];return b.isDataDriven()||Mu(b.value)||!y?y:function(P,k){return k.replace(/{([^{}]+)}/g,(M,$)=>P&&$ in P?String(P[$]):"")}(l.properties,y)}createBucket(i){return new td(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of Ox.paint.overridableProperties){if(!Cg.hasPaintOverride(this.layout,i))continue;const l=this.paint.get(i),f=new hT(l),m=new Zh(f,l.property.specification);let y=null;y=l.value.kind==="constant"||l.value.kind==="source"?new Yh("source",m):new Xh("composite",m,l.value.zoomStops),this.paint._values[i]=new wa(l.property,y,l.parameters)}}_handleOverridablePaintPropertyUpdate(i,l,f){return!(!this.layout||l.isDataDriven()||f.isDataDriven())&&Cg.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,l){const f=i.get("text-field"),m=Ox.paint.properties[l];let y=!1;const b=P=>{for(const k of P)if(m.overrides&&m.overrides.hasOverride(k))return void(y=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Pi)b(f.value.value.sections);else if(f.value.kind==="source"){const P=M=>{y||(M instanceof No&&rn(M.value)===Ua?b(M.value.sections):M instanceof vu?b(M.sections):M.eachChild(P))},k=f.value;k._styleExpression&&P(k._styleExpression.expression)}return y}}let fT;var A8={get paint(){return fT=fT||new p({"background-color":new _t(Ve.paint_background["background-color"]),"background-pattern":new a(Ve.paint_background["background-pattern"]),"background-opacity":new _t(Ve.paint_background["background-opacity"])})}};class I8 extends _{constructor(i){super(i,A8)}}let pT;var M8={get paint(){return pT=pT||new p({"raster-opacity":new _t(Ve.paint_raster["raster-opacity"]),"raster-hue-rotate":new _t(Ve.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new _t(Ve.paint_raster["raster-brightness-min"]),"raster-brightness-max":new _t(Ve.paint_raster["raster-brightness-max"]),"raster-saturation":new _t(Ve.paint_raster["raster-saturation"]),"raster-contrast":new _t(Ve.paint_raster["raster-contrast"]),"raster-resampling":new _t(Ve.paint_raster["raster-resampling"]),"raster-fade-duration":new _t(Ve.paint_raster["raster-fade-duration"])})}};class D8 extends _{constructor(i){super(i,M8)}}class $8 extends _{constructor(i){super(i,{}),this.onAdd=l=>{this.implementation.onAdd&&this.implementation.onAdd(l,l.painter.context.gl)},this.onRemove=l=>{this.implementation.onRemove&&this.implementation.onRemove(l,l.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class R8{constructor(i){this._methodToThrottle=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const jx=63710088e-1;class Qs{constructor(i,l){if(isNaN(i)||isNaN(l))throw new Error(`Invalid LngLat object: (${i}, ${l})`);if(this.lng=+i,this.lat=+l,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Qs(fe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const l=Math.PI/180,f=this.lat*l,m=i.lat*l,y=Math.sin(f)*Math.sin(m)+Math.cos(f)*Math.cos(m)*Math.cos((i.lng-this.lng)*l);return jx*Math.acos(Math.min(y,1))}static convert(i){if(i instanceof Qs)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Qs(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Qs(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const mT=2*Math.PI*jx;function gT(o){return mT*Math.cos(o*Math.PI/180)}function yT(o){return(180+o)/360}function vT(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function xT(o,i){return o/gT(i)}function Vx(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}class Eg{constructor(i,l,f=0){this.x=+i,this.y=+l,this.z=+f}static fromLngLat(i,l=0){const f=Qs.convert(i);return new Eg(yT(f.lng),vT(f.lat),xT(l,f.lat))}toLngLat(){return new Qs(360*this.x-180,Vx(this.y))}toAltitude(){return this.z*gT(Vx(this.y))}meterInMercatorCoordinateUnits(){return 1/mT*(i=Vx(this.y),1/Math.cos(i*Math.PI/180));var i}}function _T(o,i,l){var f=2*Math.PI*6378137/256/Math.pow(2,l);return[o*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class Ux{constructor(i,l,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||l<0||l>=Math.pow(2,i))throw new Error(`x=${l}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=l,this.y=f,this.key=Df(0,i,i,l,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,l,f){const m=(b=this.y,P=this.z,k=_T(256*(y=this.x),256*(b=Math.pow(2,P)-b-1),P),M=_T(256*(y+1),256*(b+1),P),k[0]+","+k[1]+","+M[0]+","+M[1]);var y,b,P,k,M;const $=function(O,H,G){let J,re="";for(let ce=O;ce>0;ce--)J=1<<ce-1,re+=(H&J?1:0)+(G&J?2:0);return re}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,l>1?"@2x":"").replace(/{quadkey}/g,$).replace(/{bbox-epsg-3857}/g,m)}isChildOf(i){const l=this.z-i.z;return l>0&&i.x===this.x>>l&&i.y===this.y>>l}getTilePoint(i){const l=Math.pow(2,this.z);return new T((i.x*l-this.x)*nn,(i.y*l-this.y)*nn)}toString(){return`${this.z}/${this.x}/${this.y}`}}class bT{constructor(i,l){this.wrap=i,this.canonical=l,this.key=Df(i,l.z,l.z,l.x,l.y)}}class na{constructor(i,l,f,m,y){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=l,this.canonical=new Ux(f,+m,+y),this.key=Df(l,i,f,m,y)}clone(){return new na(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const l=this.canonical.z-i;return i>this.canonical.z?new na(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new na(i,this.wrap,i,this.canonical.x>>l,this.canonical.y>>l)}calculateScaledKey(i,l){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?Df(this.wrap*+l,i,this.canonical.z,this.canonical.x,this.canonical.y):Df(this.wrap*+l,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const l=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>l&&i.canonical.y===this.canonical.y>>l}children(i){if(this.overscaledZ>=i)return[new na(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const l=this.canonical.z+1,f=2*this.canonical.x,m=2*this.canonical.y;return[new na(l,this.wrap,l,f,m),new na(l,this.wrap,l,f+1,m),new na(l,this.wrap,l,f,m+1),new na(l,this.wrap,l,f+1,m+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new na(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new na(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new bT(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Eg(i.x-this.wrap,i.y))}}function Df(o,i,l,f,m){(o*=2)<0&&(o=-1*o-1);const y=1<<l;return(y*y*o+y*m+f).toString(36)+l.toString(36)+i.toString(36)}ht("CanonicalTileID",Ux),ht("OverscaledTileID",na,{omit:["posMatrix"]});class wT{constructor(i,l,f,m=1,y=1,b=1,P=0){if(this.uid=i,l.height!==l.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void ge(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=l.height;const k=this.dim=l.height-2;switch(this.data=new Uint32Array(l.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=y,this.blueFactor=b,this.baseShift=P;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let M=0;M<k;M++)this.data[this._idx(-1,M)]=this.data[this._idx(0,M)],this.data[this._idx(k,M)]=this.data[this._idx(k-1,M)],this.data[this._idx(M,-1)]=this.data[this._idx(M,0)],this.data[this._idx(M,k)]=this.data[this._idx(M,k-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(k,-1)]=this.data[this._idx(k-1,0)],this.data[this._idx(-1,k)]=this.data[this._idx(0,k-1)],this.data[this._idx(k,k)]=this.data[this._idx(k-1,k-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let M=0;M<k;M++)for(let $=0;$<k;$++){const O=this.get(M,$);O>this.max&&(this.max=O),O<this.min&&(this.min=O)}}get(i,l){const f=new Uint8Array(this.data.buffer),m=4*this._idx(i,l);return this.unpack(f[m],f[m+1],f[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,l){if(i<-1||i>=this.dim+1||l<-1||l>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(l+1)*this.stride+(i+1)}unpack(i,l,f){return i*this.redFactor+l*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new ra({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,l,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let m=l*this.dim,y=l*this.dim+this.dim,b=f*this.dim,P=f*this.dim+this.dim;switch(l){case-1:m=y-1;break;case 1:y=m+1}switch(f){case-1:b=P-1;break;case 1:P=b+1}const k=-l*this.dim,M=-f*this.dim;for(let $=b;$<P;$++)for(let O=m;O<y;O++)this.data[this._idx(O,$)]=i.data[this._idx(O+k,$+M)]}}ht("DEMData",wT);class ST{constructor(i){this._stringToNumber={},this._numberToString=[];for(let l=0;l<i.length;l++){const f=i[l];this._stringToNumber[f]=l,this._numberToString[l]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class PT{constructor(i,l,f,m,y){this.type="Feature",this._vectorTileFeature=i,i._z=l,i._x=f,i._y=m,this.properties=i.properties,this.id=y}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const l in this)l!=="_geometry"&&l!=="_vectorTileFeature"&&(i[l]=this[l]);return i}}class TT{constructor(i,l){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new cc(nn,16,0),this.grid3D=new cc(nn,16,0),this.featureIndexArray=new ea,this.promoteId=l}insert(i,l,f,m,y,b){const P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,m,y);const k=b?this.grid3D:this.grid;for(let M=0;M<l.length;M++){const $=l[M],O=[1/0,1/0,-1/0,-1/0];for(let H=0;H<$.length;H++){const G=$[H];O[0]=Math.min(O[0],G.x),O[1]=Math.min(O[1],G.y),O[2]=Math.max(O[2],G.x),O[3]=Math.max(O[3],G.y)}O[0]<nn&&O[1]<nn&&O[2]>=0&&O[3]>=0&&k.insert(P,O[0],O[1],O[2],O[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ys.VectorTile(new Mx(this.rawTileData)).layers,this.sourceLayerCoder=new ST(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,l,f,m){this.loadVTLayers();const y=i.params||{},b=nn/i.tileSize/i.scale,P=Jh(y.filter),k=i.queryGeometry,M=i.queryPadding*b,$=ET(k),O=this.grid.query($.minX-M,$.minY-M,$.maxX+M,$.maxY+M),H=ET(i.cameraQueryGeometry),G=this.grid3D.query(H.minX-M,H.minY-M,H.maxX+M,H.maxY+M,(ce,ve,Me,Pe)=>function(Ae,Ne,qe,it,Ct){for(const nt of Ae)if(Ne<=nt.x&&qe<=nt.y&&it>=nt.x&&Ct>=nt.y)return!0;const ot=[new T(Ne,qe),new T(Ne,Ct),new T(it,Ct),new T(it,qe)];if(Ae.length>2){for(const nt of ot)if(qu(Ae,nt))return!0}for(let nt=0;nt<Ae.length-1;nt++)if(pF(Ae[nt],Ae[nt+1],ot))return!0;return!1}(i.cameraQueryGeometry,ce-M,ve-M,Me+M,Pe+M));for(const ce of G)O.push(ce);O.sort(L8);const J={};let re;for(let ce=0;ce<O.length;ce++){const ve=O[ce];if(ve===re)continue;re=ve;const Me=this.featureIndexArray.get(ve);let Pe=null;this.loadMatchingFeature(J,Me.bucketIndex,Me.sourceLayerIndex,Me.featureIndex,P,y.layers,y.availableImages,l,f,m,(Ae,Ne,qe)=>(Pe||(Pe=pc(Ae)),Ne.queryIntersectsFeature(k,Ae,qe,Pe,this.z,i.transform,b,i.pixelPosMatrix)))}return J}loadMatchingFeature(i,l,f,m,y,b,P,k,M,$,O){const H=this.bucketLayerIDs[l];if(b&&!function(ce,ve){for(let Me=0;Me<ce.length;Me++)if(ve.indexOf(ce[Me])>=0)return!0;return!1}(b,H))return;const G=this.sourceLayerCoder.decode(f),J=this.vtLayers[G].feature(m);if(y.needGeometry){const ce=mc(J,!0);if(!y.filter(new vr(this.tileID.overscaledZ),ce,this.tileID.canonical))return}else if(!y.filter(new vr(this.tileID.overscaledZ),J))return;const re=this.getId(J,G);for(let ce=0;ce<H.length;ce++){const ve=H[ce];if(b&&b.indexOf(ve)<0)continue;const Me=k[ve];if(!Me)continue;let Pe={};re&&$&&(Pe=$.getState(Me.sourceLayer||"_geojsonTileLayer",re));const Ae=be({},M[ve]);Ae.paint=CT(Ae.paint,Me.paint,J,Pe,P),Ae.layout=CT(Ae.layout,Me.layout,J,Pe,P);const Ne=!O||O(J,Me,Pe);if(!Ne)continue;const qe=new PT(J,this.z,this.x,this.y,re);qe.layer=Ae;let it=i[ve];it===void 0&&(it=i[ve]=[]),it.push({featureIndex:m,feature:qe,intersectionZ:Ne})}}lookupSymbolFeatures(i,l,f,m,y,b,P,k){const M={};this.loadVTLayers();const $=Jh(y);for(const O of i)this.loadMatchingFeature(M,f,m,O,$,b,P,k,l);return M}hasLayer(i){for(const l of this.bucketLayerIDs)for(const f of l)if(i===f)return!0;return!1}getId(i,l){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[l]],typeof f=="boolean"&&(f=Number(f))),f}}function CT(o,i,l,f,m){return pe(o,(y,b)=>{const P=i instanceof ju?i.get(b):null;return P&&P.evaluate?P.evaluate(l,f,m):P})}function ET(o){let i=1/0,l=1/0,f=-1/0,m=-1/0;for(const y of o)i=Math.min(i,y.x),l=Math.min(l,y.y),f=Math.max(f,y.x),m=Math.max(m,y.y);return{minX:i,minY:l,maxX:f,maxY:m}}function L8(o,i){return i-o}function kT(o,i,l,f,m){const y=[];for(let b=0;b<o.length;b++){const P=o[b];let k;for(let M=0;M<P.length-1;M++){let $=P[M],O=P[M+1];$.x<i&&O.x<i||($.x<i?$=new T(i,$.y+(i-$.x)/(O.x-$.x)*(O.y-$.y))._round():O.x<i&&(O=new T(i,$.y+(i-$.x)/(O.x-$.x)*(O.y-$.y))._round()),$.y<l&&O.y<l||($.y<l?$=new T($.x+(l-$.y)/(O.y-$.y)*(O.x-$.x),l)._round():O.y<l&&(O=new T($.x+(l-$.y)/(O.y-$.y)*(O.x-$.x),l)._round()),$.x>=f&&O.x>=f||($.x>=f?$=new T(f,$.y+(f-$.x)/(O.x-$.x)*(O.y-$.y))._round():O.x>=f&&(O=new T(f,$.y+(f-$.x)/(O.x-$.x)*(O.y-$.y))._round()),$.y>=m&&O.y>=m||($.y>=m?$=new T($.x+(m-$.y)/(O.y-$.y)*(O.x-$.x),m)._round():O.y>=m&&(O=new T($.x+(m-$.y)/(O.y-$.y)*(O.x-$.x),m)._round()),k&&$.equals(k[k.length-1])||(k=[$],y.push(k)),k.push(O)))))}}return y}ht("FeatureIndex",TT,{omit:["rawTileData","sourceLayerCoder"]});class el extends T{constructor(i,l,f,m){super(i,l),this.angle=f,m!==void 0&&(this.segment=m)}clone(){return new el(this.x,this.y,this.angle,this.segment)}}function AT(o,i,l,f,m){if(i.segment===void 0||l===0)return!0;let y=i,b=i.segment+1,P=0;for(;P>-l/2;){if(b--,b<0)return!1;P-=o[b].dist(y),y=o[b]}P+=o[b].dist(o[b+1]),b++;const k=[];let M=0;for(;P<l/2;){const $=o[b],O=o[b+1];if(!O)return!1;let H=o[b-1].angleTo($)-$.angleTo(O);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),k.push({distance:P,angleDelta:H}),M+=H;P-k[0].distance>f;)M-=k.shift().angleDelta;if(M>m)return!1;b++,P+=$.dist(O)}return!0}function IT(o){let i=0;for(let l=0;l<o.length-1;l++)i+=o[l].dist(o[l+1]);return i}function MT(o,i,l){return o?.6*i*l:0}function DT(o,i){return Math.max(o?o.right-o.left:0,i?i.right-i.left:0)}function z8(o,i,l,f,m,y){const b=MT(l,m,y),P=DT(l,f)*y;let k=0;const M=IT(o)/2;for(let $=0;$<o.length-1;$++){const O=o[$],H=o[$+1],G=O.dist(H);if(k+G>M){const J=(M-k)/G,re=Gn.number(O.x,H.x,J),ce=Gn.number(O.y,H.y,J),ve=new el(re,ce,H.angleTo(O),$);return ve._round(),!b||AT(o,ve,P,b,i)?ve:void 0}k+=G}}function F8(o,i,l,f,m,y,b,P,k){const M=MT(f,y,b),$=DT(f,m),O=$*b,H=o[0].x===0||o[0].x===k||o[0].y===0||o[0].y===k;return i-O<i/4&&(i=O+i/4),$T(o,H?i/2*P%i:($/2+2*y)*b*P%i,i,M,l,O,H,!1,k)}function $T(o,i,l,f,m,y,b,P,k){const M=y/2,$=IT(o);let O=0,H=i-l,G=[];for(let J=0;J<o.length-1;J++){const re=o[J],ce=o[J+1],ve=re.dist(ce),Me=ce.angleTo(re);for(;H+l<O+ve;){H+=l;const Pe=(H-O)/ve,Ae=Gn.number(re.x,ce.x,Pe),Ne=Gn.number(re.y,ce.y,Pe);if(Ae>=0&&Ae<k&&Ne>=0&&Ne<k&&H-M>=0&&H+M<=$){const qe=new el(Ae,Ne,Me,J);qe._round(),f&&!AT(o,qe,y,f,m)||G.push(qe)}}O+=ve}return P||G.length||b||(G=$T(o,O/2,l,f,m,y,b,!0,k)),G}ht("Anchor",el);const rd=Ai;function RT(o,i,l,f){const m=[],y=o.image,b=y.pixelRatio,P=y.paddedRect.w-2*rd,k=y.paddedRect.h-2*rd;let M={x1:o.left,y1:o.top,x2:o.right,y2:o.bottom};const $=y.stretchX||[[0,P]],O=y.stretchY||[[0,k]],H=(He,bt)=>He+bt[1]-bt[0],G=$.reduce(H,0),J=O.reduce(H,0),re=P-G,ce=k-J;let ve=0,Me=G,Pe=0,Ae=J,Ne=0,qe=re,it=0,Ct=ce;if(y.content&&f){const He=y.content,bt=He[2]-He[0],yt=He[3]-He[1];(y.textFitWidth||y.textFitHeight)&&(M=sT(o)),ve=kg($,0,He[0]),Pe=kg(O,0,He[1]),Me=kg($,He[0],He[2]),Ae=kg(O,He[1],He[3]),Ne=He[0]-ve,it=He[1]-Pe,qe=bt-Me,Ct=yt-Ae}const ot=M.x1,nt=M.y1,xt=M.x2-ot,ft=M.y2-nt,dt=(He,bt,yt,Dt)=>{const gr=Ag(He.stretch-ve,Me,xt,ot),pr=Ig(He.fixed-Ne,qe,He.stretch,G),yn=Ag(bt.stretch-Pe,Ae,ft,nt),Sa=Ig(bt.fixed-it,Ct,bt.stretch,J),Bn=Ag(yt.stretch-ve,Me,xt,ot),Hr=Ig(yt.fixed-Ne,qe,yt.stretch,G),ui=Ag(Dt.stretch-Pe,Ae,ft,nt),di=Ig(Dt.fixed-it,Ct,Dt.stretch,J),hi=new T(gr,yn),Wr=new T(Bn,yn),vn=new T(Bn,ui),Zn=new T(gr,ui),Nn=new T(pr/b,Sa/b),fi=new T(Hr/b,di/b),On=i*Math.PI/180;if(On){const rr=Math.sin(On),xr=Math.cos(On),Tr=[xr,-rr,rr,xr];hi._matMult(Tr),Wr._matMult(Tr),Zn._matMult(Tr),vn._matMult(Tr)}const ia=He.stretch+He.fixed,Ii=bt.stretch+bt.fixed;return{tl:hi,tr:Wr,bl:Zn,br:vn,tex:{x:y.paddedRect.x+rd+ia,y:y.paddedRect.y+rd+Ii,w:yt.stretch+yt.fixed-ia,h:Dt.stretch+Dt.fixed-Ii},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Nn,pixelOffsetBR:fi,minFontScaleX:qe/b/xt,minFontScaleY:Ct/b/ft,isSDF:l}};if(f&&(y.stretchX||y.stretchY)){const He=LT($,re,G),bt=LT(O,ce,J);for(let yt=0;yt<He.length-1;yt++){const Dt=He[yt],gr=He[yt+1];for(let pr=0;pr<bt.length-1;pr++)m.push(dt(Dt,bt[pr],gr,bt[pr+1]))}}else m.push(dt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:P+1},{fixed:0,stretch:k+1}));return m}function kg(o,i,l){let f=0;for(const m of o)f+=Math.max(i,Math.min(l,m[1]))-Math.max(i,Math.min(l,m[0]));return f}function LT(o,i,l){const f=[{fixed:-rd,stretch:0}];for(const[m,y]of o){const b=f[f.length-1];f.push({fixed:m-b.stretch,stretch:b.stretch}),f.push({fixed:m-b.stretch,stretch:b.stretch+(y-m)})}return f.push({fixed:i+rd,stretch:l}),f}function Ag(o,i,l,f){return o/i*l+f}function Ig(o,i,l,f){return o-i*l/f}class Mg{constructor(i,l,f,m,y,b,P,k,M,$){var O;if(this.boxStartIndex=i.length,M){let H=b.top,G=b.bottom;const J=b.collisionPadding;J&&(H-=J[1],G+=J[3]);let re=G-H;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{const H=!((O=b.image)===null||O===void 0)&&O.content&&(b.image.textFitWidth||b.image.textFitHeight)?sT(b):{x1:b.left,y1:b.top,x2:b.right,y2:b.bottom};H.y1=H.y1*P-k[0],H.y2=H.y2*P+k[2],H.x1=H.x1*P-k[3],H.x2=H.x2*P+k[1];const G=b.collisionPadding;if(G&&(H.x1-=G[0]*P,H.y1-=G[1]*P,H.x2+=G[2]*P,H.y2+=G[3]*P),$){const J=new T(H.x1,H.y1),re=new T(H.x2,H.y1),ce=new T(H.x1,H.y2),ve=new T(H.x2,H.y2),Me=$*Math.PI/180;J._rotate(Me),re._rotate(Me),ce._rotate(Me),ve._rotate(Me),H.x1=Math.min(J.x,re.x,ce.x,ve.x),H.x2=Math.max(J.x,re.x,ce.x,ve.x),H.y1=Math.min(J.y,re.y,ce.y,ve.y),H.y2=Math.max(J.y,re.y,ce.y,ve.y)}i.emplaceBack(l.x,l.y,H.x1,H.y1,H.x2,H.y2,f,m,y)}this.boxEndIndex=i.length}}class B8{constructor(i=[],l=N8){if(this.data=i,this.length=this.data.length,this.compare=l,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],l=this.data.pop();return this.length--,this.length>0&&(this.data[0]=l,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:l,compare:f}=this,m=l[i];for(;i>0;){const y=i-1>>1,b=l[y];if(f(m,b)>=0)break;l[i]=b,i=y}l[i]=m}_down(i){const{data:l,compare:f}=this,m=this.length>>1,y=l[i];for(;i<m;){let b=1+(i<<1),P=l[b];const k=b+1;if(k<this.length&&f(l[k],P)<0&&(b=k,P=l[k]),f(P,y)>=0)break;l[i]=P,i=b}l[i]=y}}function N8(o,i){return o<i?-1:o>i?1:0}function O8(o,i=1,l=!1){let f=1/0,m=1/0,y=-1/0,b=-1/0;const P=o[0];for(let G=0;G<P.length;G++){const J=P[G];(!G||J.x<f)&&(f=J.x),(!G||J.y<m)&&(m=J.y),(!G||J.x>y)&&(y=J.x),(!G||J.y>b)&&(b=J.y)}const k=Math.min(y-f,b-m);let M=k/2;const $=new B8([],j8);if(k===0)return new T(f,m);for(let G=f;G<y;G+=k)for(let J=m;J<b;J+=k)$.push(new nd(G+M,J+M,M,o));let O=function(G){let J=0,re=0,ce=0;const ve=G[0];for(let Me=0,Pe=ve.length,Ae=Pe-1;Me<Pe;Ae=Me++){const Ne=ve[Me],qe=ve[Ae],it=Ne.x*qe.y-qe.x*Ne.y;re+=(Ne.x+qe.x)*it,ce+=(Ne.y+qe.y)*it,J+=3*it}return new nd(re/J,ce/J,0,G)}(o),H=$.length;for(;$.length;){const G=$.pop();(G.d>O.d||!O.d)&&(O=G,l&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,H)),G.max-O.d<=i||(M=G.h/2,$.push(new nd(G.p.x-M,G.p.y-M,M,o)),$.push(new nd(G.p.x+M,G.p.y-M,M,o)),$.push(new nd(G.p.x-M,G.p.y+M,M,o)),$.push(new nd(G.p.x+M,G.p.y+M,M,o)),H+=4)}return l&&(console.log(`num probes: ${H}`),console.log(`best distance: ${O.d}`)),O.p}function j8(o,i){return i.max-o.max}function nd(o,i,l,f){this.p=new T(o,i),this.h=l,this.d=function(m,y){let b=!1,P=1/0;for(let k=0;k<y.length;k++){const M=y[k];for(let $=0,O=M.length,H=O-1;$<O;H=$++){const G=M[$],J=M[H];G.y>m.y!=J.y>m.y&&m.x<(J.x-G.x)*(m.y-G.y)/(J.y-G.y)+G.x&&(b=!b),P=Math.min(P,vP(m,G,J))}}return(b?1:-1)*Math.sqrt(P)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Fn;d.aq=void 0,(Fn=d.aq||(d.aq={}))[Fn.center=1]="center",Fn[Fn.left=2]="left",Fn[Fn.right=3]="right",Fn[Fn.top=4]="top",Fn[Fn.bottom=5]="bottom",Fn[Fn["top-left"]=6]="top-left",Fn[Fn["top-right"]=7]="top-right",Fn[Fn["bottom-left"]=8]="bottom-left",Fn[Fn["bottom-right"]=9]="bottom-right";const tl=7,Kx=Number.POSITIVE_INFINITY;function zT(o,i){return i[1]!==Kx?function(l,f,m){let y=0,b=0;switch(f=Math.abs(f),m=Math.abs(m),l){case"top-right":case"top-left":case"top":b=m-tl;break;case"bottom-right":case"bottom-left":case"bottom":b=-m+tl}switch(l){case"top-right":case"bottom-right":case"right":y=-f;break;case"top-left":case"bottom-left":case"left":y=f}return[y,b]}(o,i[0],i[1]):function(l,f){let m=0,y=0;f<0&&(f=0);const b=f/Math.SQRT2;switch(l){case"top-right":case"top-left":y=b-tl;break;case"bottom-right":case"bottom-left":y=-b+tl;break;case"bottom":y=-f+tl;break;case"top":y=f-tl}switch(l){case"top-right":case"bottom-right":m=-b;break;case"top-left":case"bottom-left":m=b;break;case"left":m=f;break;case"right":m=-f}return[m,y]}(o,i[0])}function FT(o,i,l){var f;const m=o.layout,y=(f=m.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},l);if(y){const P=y.values,k=[];for(let M=0;M<P.length;M+=2){const $=k[M]=P[M],O=P[M+1].map(H=>H*un);$.startsWith("top")?O[1]-=tl:$.startsWith("bottom")&&(O[1]+=tl),k[M+1]=O}return new oi(k)}const b=m.get("text-variable-anchor");if(b){let P;P=o._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(i,{},l)*un,Kx]:m.get("text-offset").evaluate(i,{},l).map(M=>M*un);const k=[];for(const M of b)k.push(M,zT(M,P));return new oi(k)}return null}function Hx(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function V8(o,i,l,f,m,y,b,P,k,M,$){let O=y.textMaxSize.evaluate(i,{});O===void 0&&(O=b);const H=o.layers[0].layout,G=H.get("icon-offset").evaluate(i,{},$),J=NT(l.horizontal),re=b/24,ce=o.tilePixelRatio*re,ve=o.tilePixelRatio*O/24,Me=o.tilePixelRatio*P,Pe=o.tilePixelRatio*H.get("symbol-spacing"),Ae=H.get("text-padding")*o.tilePixelRatio,Ne=function(He,bt,yt,Dt=1){const gr=He.get("icon-padding").evaluate(bt,{},yt),pr=gr&&gr.values;return[pr[0]*Dt,pr[1]*Dt,pr[2]*Dt,pr[3]*Dt]}(H,i,$,o.tilePixelRatio),qe=H.get("text-max-angle")/180*Math.PI,it=H.get("text-rotation-alignment")!=="viewport"&&H.get("symbol-placement")!=="point",Ct=H.get("icon-rotation-alignment")==="map"&&H.get("symbol-placement")!=="point",ot=H.get("symbol-placement"),nt=Pe/2,xt=H.get("icon-text-fit");let ft;f&&xt!=="none"&&(o.allowVerticalPlacement&&l.vertical&&(ft=lT(f,l.vertical,xt,H.get("icon-text-fit-padding"),G,re)),J&&(f=lT(f,J,xt,H.get("icon-text-fit-padding"),G,re)));const dt=(He,bt)=>{bt.x<0||bt.x>=nn||bt.y<0||bt.y>=nn||function(yt,Dt,gr,pr,yn,Sa,Bn,Hr,ui,di,hi,Wr,vn,Zn,Nn,fi,On,ia,Ii,rr,xr,Tr,ji,Fr,id){const wo=yt.addToLineVertexArray(Dt,gr);let So,Pa,aa,Tn,Qo=0,Lf=0,UT=0,KT=0,Qx=-1,e1=-1;const es={};let HT=Wu("");if(yt.allowVerticalPlacement&&pr.vertical){const Yn=Hr.layout.get("text-rotate").evaluate(xr,{},Fr)+90;aa=new Mg(ui,Dt,di,hi,Wr,pr.vertical,vn,Zn,Nn,Yn),Bn&&(Tn=new Mg(ui,Dt,di,hi,Wr,Bn,On,ia,Nn,Yn))}if(yn){const Yn=Hr.layout.get("icon-rotate").evaluate(xr,{}),oa=Hr.layout.get("icon-text-fit")!=="none",yc=RT(yn,Yn,ji,oa),Xa=Bn?RT(Bn,Yn,ji,oa):void 0;Pa=new Mg(ui,Dt,di,hi,Wr,yn,On,ia,!1,Yn),Qo=4*yc.length;const vc=yt.iconSizeData;let Po=null;vc.kind==="source"?(Po=[bo*Hr.layout.get("icon-size").evaluate(xr,{})],Po[0]>Js&&ge(`${yt.layerIds[0]}: Value for "icon-size" is >= ${Mf}. Reduce your "icon-size".`)):vc.kind==="composite"&&(Po=[bo*Tr.compositeIconSizes[0].evaluate(xr,{},Fr),bo*Tr.compositeIconSizes[1].evaluate(xr,{},Fr)],(Po[0]>Js||Po[1]>Js)&&ge(`${yt.layerIds[0]}: Value for "icon-size" is >= ${Mf}. Reduce your "icon-size".`)),yt.addSymbols(yt.icon,yc,Po,rr,Ii,xr,d.ah.none,Dt,wo.lineStartIndex,wo.lineLength,-1,Fr),Qx=yt.icon.placedSymbolArray.length-1,Xa&&(Lf=4*Xa.length,yt.addSymbols(yt.icon,Xa,Po,rr,Ii,xr,d.ah.vertical,Dt,wo.lineStartIndex,wo.lineLength,-1,Fr),e1=yt.icon.placedSymbolArray.length-1)}const WT=Object.keys(pr.horizontal);for(const Yn of WT){const oa=pr.horizontal[Yn];if(!So){HT=Wu(oa.text);const Xa=Hr.layout.get("text-rotate").evaluate(xr,{},Fr);So=new Mg(ui,Dt,di,hi,Wr,oa,vn,Zn,Nn,Xa)}const yc=oa.positionedLines.length===1;if(UT+=BT(yt,Dt,oa,Sa,Hr,Nn,xr,fi,wo,pr.vertical?d.ah.horizontal:d.ah.horizontalOnly,yc?WT:[Yn],es,Qx,Tr,Fr),yc)break}pr.vertical&&(KT+=BT(yt,Dt,pr.vertical,Sa,Hr,Nn,xr,fi,wo,d.ah.vertical,["vertical"],es,e1,Tr,Fr));const H8=So?So.boxStartIndex:yt.collisionBoxArray.length,W8=So?So.boxEndIndex:yt.collisionBoxArray.length,G8=aa?aa.boxStartIndex:yt.collisionBoxArray.length,q8=aa?aa.boxEndIndex:yt.collisionBoxArray.length,Z8=Pa?Pa.boxStartIndex:yt.collisionBoxArray.length,Y8=Pa?Pa.boxEndIndex:yt.collisionBoxArray.length,X8=Tn?Tn.boxStartIndex:yt.collisionBoxArray.length,J8=Tn?Tn.boxEndIndex:yt.collisionBoxArray.length;let Ya=-1;const $g=(Yn,oa)=>Yn&&Yn.circleDiameter?Math.max(Yn.circleDiameter,oa):oa;Ya=$g(So,Ya),Ya=$g(aa,Ya),Ya=$g(Pa,Ya),Ya=$g(Tn,Ya);const GT=Ya>-1?1:0;GT&&(Ya*=id/un),yt.glyphOffsetArray.length>=td.MAX_GLYPHS&&ge("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),xr.sortKey!==void 0&&yt.addToSortKeyRanges(yt.symbolInstances.length,xr.sortKey);const Q8=FT(Hr,xr,Fr),[eB,tB]=function(Yn,oa){const yc=Yn.length,Xa=oa==null?void 0:oa.values;if((Xa==null?void 0:Xa.length)>0)for(let vc=0;vc<Xa.length;vc+=2){const Po=Xa[vc+1];Yn.emplaceBack(d.aq[Xa[vc]],Po[0],Po[1])}return[yc,Yn.length]}(yt.textAnchorOffsets,Q8);yt.symbolInstances.emplaceBack(Dt.x,Dt.y,es.right>=0?es.right:-1,es.center>=0?es.center:-1,es.left>=0?es.left:-1,es.vertical||-1,Qx,e1,HT,H8,W8,G8,q8,Z8,Y8,X8,J8,di,UT,KT,Qo,Lf,GT,0,vn,Ya,eB,tB)}(o,bt,He,l,f,m,ft,o.layers[0],o.collisionBoxArray,i.index,i.sourceLayerIndex,o.index,ce,[Ae,Ae,Ae,Ae],it,k,Me,Ne,Ct,G,i,y,M,$,b)};if(ot==="line")for(const He of kT(i.geometry,0,0,nn,nn)){const bt=F8(He,Pe,qe,l.vertical||J,f,24,ve,o.overscaling,nn);for(const yt of bt)J&&U8(o,J.text,nt,yt)||dt(He,yt)}else if(ot==="line-center"){for(const He of i.geometry)if(He.length>1){const bt=z8(He,qe,l.vertical||J,f,24,ve);bt&&dt(He,bt)}}else if(i.type==="Polygon")for(const He of _u(i.geometry,0)){const bt=O8(He,16);dt(He[0],new el(bt.x,bt.y,0))}else if(i.type==="LineString")for(const He of i.geometry)dt(He,new el(He[0].x,He[0].y,0));else if(i.type==="Point")for(const He of i.geometry)for(const bt of He)dt([bt],new el(bt.x,bt.y,0))}function BT(o,i,l,f,m,y,b,P,k,M,$,O,H,G,J){const re=function(Me,Pe,Ae,Ne,qe,it,Ct,ot){const nt=Ne.layout.get("text-rotate").evaluate(it,{})*Math.PI/180,xt=[];for(const ft of Pe.positionedLines)for(const dt of ft.positionedGlyphs){if(!dt.rect)continue;const He=dt.rect||{};let bt=eT+1,yt=!0,Dt=1,gr=0;const pr=(qe||ot)&&dt.vertical,yn=dt.metrics.advance*dt.scale/2;if(ot&&Pe.verticalizable&&(gr=ft.lineOffset/2-(dt.imageName?-(un-dt.metrics.width*dt.scale)/2:(dt.scale-1)*un)),dt.imageName){const rr=Ct[dt.imageName];yt=rr.sdf,Dt=rr.pixelRatio,bt=Ai/Dt}const Sa=qe?[dt.x+yn,dt.y]:[0,0];let Bn=qe?[0,0]:[dt.x+yn+Ae[0],dt.y+Ae[1]-gr],Hr=[0,0];pr&&(Hr=Bn,Bn=[0,0]);const ui=dt.metrics.isDoubleResolution?2:1,di=(dt.metrics.left-bt)*dt.scale-yn+Bn[0],hi=(-dt.metrics.top-bt)*dt.scale+Bn[1],Wr=di+He.w/ui*dt.scale/Dt,vn=hi+He.h/ui*dt.scale/Dt,Zn=new T(di,hi),Nn=new T(Wr,hi),fi=new T(di,vn),On=new T(Wr,vn);if(pr){const rr=new T(-yn,yn-Af),xr=-Math.PI/2,Tr=un/2-yn,ji=new T(5-Af-Tr,-(dt.imageName?Tr:0)),Fr=new T(...Hr);Zn._rotateAround(xr,rr)._add(ji)._add(Fr),Nn._rotateAround(xr,rr)._add(ji)._add(Fr),fi._rotateAround(xr,rr)._add(ji)._add(Fr),On._rotateAround(xr,rr)._add(ji)._add(Fr)}if(nt){const rr=Math.sin(nt),xr=Math.cos(nt),Tr=[xr,-rr,rr,xr];Zn._matMult(Tr),Nn._matMult(Tr),fi._matMult(Tr),On._matMult(Tr)}const ia=new T(0,0),Ii=new T(0,0);xt.push({tl:Zn,tr:Nn,bl:fi,br:On,tex:He,writingMode:Pe.writingMode,glyphOffset:Sa,sectionIndex:dt.sectionIndex,isSDF:yt,pixelOffsetTL:ia,pixelOffsetBR:Ii,minFontScaleX:0,minFontScaleY:0})}return xt}(0,l,P,m,y,b,f,o.allowVerticalPlacement),ce=o.textSizeData;let ve=null;ce.kind==="source"?(ve=[bo*m.layout.get("text-size").evaluate(b,{})],ve[0]>Js&&ge(`${o.layerIds[0]}: Value for "text-size" is >= ${Mf}. Reduce your "text-size".`)):ce.kind==="composite"&&(ve=[bo*G.compositeTextSizes[0].evaluate(b,{},J),bo*G.compositeTextSizes[1].evaluate(b,{},J)],(ve[0]>Js||ve[1]>Js)&&ge(`${o.layerIds[0]}: Value for "text-size" is >= ${Mf}. Reduce your "text-size".`)),o.addSymbols(o.text,re,ve,P,y,b,M,i,k.lineStartIndex,k.lineLength,H,J);for(const Me of $)O[Me]=o.text.placedSymbolArray.length-1;return 4*re.length}function NT(o){for(const i in o)return o[i];return null}function U8(o,i,l,f){const m=o.compareText;if(i in m){const y=m[i];for(let b=y.length-1;b>=0;b--)if(f.dist(y[b])<l)return!0}else m[i]=[];return m[i].push(f),!1}const OT=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Wx{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[l,f]=new Uint8Array(i,0,2);if(l!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=f>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const y=OT[15&f];if(!y)throw new Error("Unrecognized array type.");const[b]=new Uint16Array(i,2,1),[P]=new Uint32Array(i,4,1);return new Wx(P,b,y,i)}constructor(i,l=64,f=Float64Array,m){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+l,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const y=OT.indexOf(this.ArrayType),b=2*i*this.ArrayType.BYTES_PER_ELEMENT,P=i*this.IndexArrayType.BYTES_PER_ELEMENT,k=(8-P%8)%8;if(y<0)throw new Error(`Unexpected typed array class: ${f}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+P+k,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+b+P+k),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+P+k,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+y]),new Uint16Array(this.data,2,1)[0]=l,new Uint32Array(this.data,4,1)[0]=i)}add(i,l){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=l,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Gx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,l,f,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:b,nodeSize:P}=this,k=[0,y.length-1,0],M=[];for(;k.length;){const $=k.pop()||0,O=k.pop()||0,H=k.pop()||0;if(O-H<=P){for(let ce=H;ce<=O;ce++){const ve=b[2*ce],Me=b[2*ce+1];ve>=i&&ve<=f&&Me>=l&&Me<=m&&M.push(y[ce])}continue}const G=H+O>>1,J=b[2*G],re=b[2*G+1];J>=i&&J<=f&&re>=l&&re<=m&&M.push(y[G]),($===0?i<=J:l<=re)&&(k.push(H),k.push(G-1),k.push(1-$)),($===0?f>=J:m>=re)&&(k.push(G+1),k.push(O),k.push(1-$))}return M}within(i,l,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:y,nodeSize:b}=this,P=[0,m.length-1,0],k=[],M=f*f;for(;P.length;){const $=P.pop()||0,O=P.pop()||0,H=P.pop()||0;if(O-H<=b){for(let ce=H;ce<=O;ce++)VT(y[2*ce],y[2*ce+1],i,l)<=M&&k.push(m[ce]);continue}const G=H+O>>1,J=y[2*G],re=y[2*G+1];VT(J,re,i,l)<=M&&k.push(m[G]),($===0?i-f<=J:l-f<=re)&&(P.push(H),P.push(G-1),P.push(1-$)),($===0?i+f>=J:l+f>=re)&&(P.push(G+1),P.push(O),P.push(1-$))}return k}}function Gx(o,i,l,f,m,y){if(m-f<=l)return;const b=f+m>>1;jT(o,i,b,f,m,y),Gx(o,i,l,f,b-1,1-y),Gx(o,i,l,b+1,m,1-y)}function jT(o,i,l,f,m,y){for(;m>f;){if(m-f>600){const M=m-f+1,$=l-f+1,O=Math.log(M),H=.5*Math.exp(2*O/3),G=.5*Math.sqrt(O*H*(M-H)/M)*($-M/2<0?-1:1);jT(o,i,l,Math.max(f,Math.floor(l-$*H/M+G)),Math.min(m,Math.floor(l+(M-$)*H/M+G)),y)}const b=i[2*l+y];let P=f,k=m;for($f(o,i,f,l),i[2*m+y]>b&&$f(o,i,f,m);P<k;){for($f(o,i,P,k),P++,k--;i[2*P+y]<b;)P++;for(;i[2*k+y]>b;)k--}i[2*f+y]===b?$f(o,i,f,k):(k++,$f(o,i,k,m)),k<=l&&(f=k+1),l<=k&&(m=k-1)}}function $f(o,i,l,f){qx(o,l,f),qx(i,2*l,2*f),qx(i,2*l+1,2*f+1)}function qx(o,i,l){const f=o[i];o[i]=o[l],o[l]=f}function VT(o,i,l,f){const m=o-l,y=i-f;return m*m+y*y}var Zx;d.be=void 0,(Zx=d.be||(d.be={})).create="create",Zx.load="load",Zx.fullLoad="fullLoad";let Dg=null,Rf=[];const Yx=1e3/60,Xx="loadTime",Jx="fullLoadTime",K8={mark(o){performance.mark(o)},frame(o){const i=o;Dg!=null&&Rf.push(i-Dg),Dg=i},clearMetrics(){Dg=null,Rf=[],performance.clearMeasures(Xx),performance.clearMeasures(Jx);for(const o in d.be)performance.clearMarks(d.be[o])},getPerformanceMetrics(){performance.measure(Xx,d.be.create,d.be.load),performance.measure(Jx,d.be.create,d.be.fullLoad);const o=performance.getEntriesByName(Xx)[0].duration,i=performance.getEntriesByName(Jx)[0].duration,l=Rf.length,f=1/(Rf.reduce((y,b)=>y+b,0)/l/1e3),m=Rf.filter(y=>y>Yx).reduce((y,b)=>y+(b-Yx)/Yx,0);return{loadTime:o,fullLoadTime:i,fps:f,percentDroppedFrames:m/(l+m)*100,totalFrames:l}}};d.$=cn,d.A=Zu,d.B=function(o){if(Re==null){const i=o.navigator?o.navigator.userAgent:null;Re=!!o.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Re},d.C=class{constructor(o,i){this.target=o,this.mapId=i,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new R8(()=>this.process()),this.subscription=function(l,f,m,y){return l.addEventListener(f,m,!1),{unsubscribe:()=>{l.removeEventListener(f,m,!1)}}}(this.target,"message",l=>this.receive(l)),this.globalScope=Be(self)?o:window}registerMessageHandler(o,i){this.messageHandlers[o]=i}sendAsync(o,i){return new Promise((l,f)=>{const m=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[m]={resolve:l,reject:f},i&&i.signal.addEventListener("abort",()=>{delete this.resolveRejects[m];const P={id:m,type:"<cancel>",origin:location.origin,targetMapId:o.targetMapId,sourceMapId:this.mapId};this.target.postMessage(P)},{once:!0});const y=[],b=Object.assign(Object.assign({},o),{id:m,sourceMapId:this.mapId,origin:location.origin,data:uc(o.data,y)});this.target.postMessage(b,{transfer:y})})}receive(o){const i=o.data,l=i.id;if(!(i.origin!=="file://"&&location.origin!=="file://"&&i.origin!==location.origin||i.targetMapId&&this.mapId!==i.targetMapId)){if(i.type==="<cancel>"){delete this.tasks[l];const f=this.abortControllers[l];return delete this.abortControllers[l],void(f&&f.abort())}if(Be(self)||i.mustQueue)return this.tasks[l]=i,this.taskQueue.push(l),void this.invoker.trigger();this.processTask(l,i)}}process(){if(this.taskQueue.length===0)return;const o=this.taskQueue.shift(),i=this.tasks[o];delete this.tasks[o],this.taskQueue.length>0&&this.invoker.trigger(),i&&this.processTask(o,i)}processTask(o,i){return c(this,void 0,void 0,function*(){if(i.type==="<response>"){const m=this.resolveRejects[o];return delete this.resolveRejects[o],m?void(i.error?m.reject(ba(i.error)):m.resolve(ba(i.data))):void 0}if(!this.messageHandlers[i.type])return void this.completeTask(o,new Error(`Could not find a registered handler for ${i.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const l=ba(i.data),f=new AbortController;this.abortControllers[o]=f;try{const m=yield this.messageHandlers[i.type](i.sourceMapId,l,f);this.completeTask(o,null,m)}catch(m){this.completeTask(o,m)}})}completeTask(o,i,l){const f=[];delete this.abortControllers[o];const m={id:o,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:i?uc(i):null,data:uc(l,f)};this.target.postMessage(m,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},d.D=_t,d.E=Kn,d.F=function(){var o=new Zu(16);return Zu!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},d.G=gt,d.H=function(o,i,l){var f,m,y,b,P,k,M,$,O,H,G,J,re=l[0],ce=l[1],ve=l[2];return i===o?(o[12]=i[0]*re+i[4]*ce+i[8]*ve+i[12],o[13]=i[1]*re+i[5]*ce+i[9]*ve+i[13],o[14]=i[2]*re+i[6]*ce+i[10]*ve+i[14],o[15]=i[3]*re+i[7]*ce+i[11]*ve+i[15]):(m=i[1],y=i[2],b=i[3],P=i[4],k=i[5],M=i[6],$=i[7],O=i[8],H=i[9],G=i[10],J=i[11],o[0]=f=i[0],o[1]=m,o[2]=y,o[3]=b,o[4]=P,o[5]=k,o[6]=M,o[7]=$,o[8]=O,o[9]=H,o[10]=G,o[11]=J,o[12]=f*re+P*ce+O*ve+i[12],o[13]=m*re+k*ce+H*ve+i[13],o[14]=y*re+M*ce+G*ve+i[14],o[15]=b*re+$*ce+J*ve+i[15]),o},d.I=$x,d.J=function(o,i,l){var f=l[0],m=l[1],y=l[2];return o[0]=i[0]*f,o[1]=i[1]*f,o[2]=i[2]*f,o[3]=i[3]*f,o[4]=i[4]*m,o[5]=i[5]*m,o[6]=i[6]*m,o[7]=i[7]*m,o[8]=i[8]*y,o[9]=i[9]*y,o[10]=i[10]*y,o[11]=i[11]*y,o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15],o},d.K=wP,d.L=function(o,i){const l={};for(let f=0;f<i.length;f++){const m=i[f];m in o&&(l[m]=o[m])}return l},d.M=Qs,d.N=yT,d.O=vT,d.P=T,d.Q=na,d.R=ra,d.S=V,d.T=Ks,d.U=F,d.V=je,d.W=nn,d.X=R,d.Y=Eg,d.Z=class extends te{},d._=c,d.a=lt,d.a$=function(o,i){return o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3],o[4]=i[4],o[5]=i[5],o[6]=i[6],o[7]=i[7],o[8]=i[8],o[9]=i[9],o[10]=i[10],o[11]=i[11],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15],o},d.a0=Ux,d.a1=Je,d.a2=o=>{const i=window.document.createElement("video");return i.muted=!0,new Promise(l=>{i.onloadstart=()=>{l(i)};for(const f of o){const m=window.document.createElement("source");zt(f)||(i.crossOrigin="Anonymous"),m.src=f,i.appendChild(m)}})},d.a3=function(){return q++},d.a4=Ht,d.a5=td,d.a6=Jh,d.a7=mc,d.a8=vr,d.a9=PT,d.aA=function(o){if(o.type==="custom")return new $8(o);switch(o.type){case"background":return new I8(o);case"circle":return new yF(o);case"fill":return new RF(o);case"fill-extrusion":return new ZF(o);case"heatmap":return new xF(o);case"hillshade":return new bF(o);case"line":return new n8(o);case"raster":return new D8(o);case"symbol":return new Cg(o)}},d.aB=le,d.aC=function(o,i){if(!o)return[{command:"setStyle",args:[i]}];let l=[];try{if(!Gt(o.version,i.version))return[{command:"setStyle",args:[i]}];Gt(o.center,i.center)||l.push({command:"setCenter",args:[i.center]}),Gt(o.zoom,i.zoom)||l.push({command:"setZoom",args:[i.zoom]}),Gt(o.bearing,i.bearing)||l.push({command:"setBearing",args:[i.bearing]}),Gt(o.pitch,i.pitch)||l.push({command:"setPitch",args:[i.pitch]}),Gt(o.sprite,i.sprite)||l.push({command:"setSprite",args:[i.sprite]}),Gt(o.glyphs,i.glyphs)||l.push({command:"setGlyphs",args:[i.glyphs]}),Gt(o.transition,i.transition)||l.push({command:"setTransition",args:[i.transition]}),Gt(o.light,i.light)||l.push({command:"setLight",args:[i.light]}),Gt(o.terrain,i.terrain)||l.push({command:"setTerrain",args:[i.terrain]}),Gt(o.sky,i.sky)||l.push({command:"setSky",args:[i.sky]}),Gt(o.projection,i.projection)||l.push({command:"setProjection",args:[i.projection]});const f={},m=[];(function(b,P,k,M){let $;for($ in P=P||{},b=b||{})Object.prototype.hasOwnProperty.call(b,$)&&(Object.prototype.hasOwnProperty.call(P,$)||ho($,k,M));for($ in P)Object.prototype.hasOwnProperty.call(P,$)&&(Object.prototype.hasOwnProperty.call(b,$)?Gt(b[$],P[$])||(b[$].type==="geojson"&&P[$].type==="geojson"&&ja(b,P,$)?yr(k,{command:"setGeoJSONSourceData",args:[$,P[$].data]}):Fo($,P,k,M)):Yi($,P,k))})(o.sources,i.sources,m,f);const y=[];o.layers&&o.layers.forEach(b=>{"source"in b&&f[b.source]?l.push({command:"removeLayer",args:[b.id]}):y.push(b)}),l=l.concat(m),function(b,P,k){P=P||[];const M=(b=b||[]).map(fo),$=P.map(fo),O=b.reduce(Vr,{}),H=P.reduce(Vr,{}),G=M.slice(),J=Object.create(null);let re,ce,ve,Me,Pe;for(let Ae=0,Ne=0;Ae<M.length;Ae++)re=M[Ae],Object.prototype.hasOwnProperty.call(H,re)?Ne++:(yr(k,{command:"removeLayer",args:[re]}),G.splice(G.indexOf(re,Ne),1));for(let Ae=0,Ne=0;Ae<$.length;Ae++)re=$[$.length-1-Ae],G[G.length-1-Ae]!==re&&(Object.prototype.hasOwnProperty.call(O,re)?(yr(k,{command:"removeLayer",args:[re]}),G.splice(G.lastIndexOf(re,G.length-Ne),1)):Ne++,Me=G[G.length-Ae],yr(k,{command:"addLayer",args:[H[re],Me]}),G.splice(G.length-Ae,0,re),J[re]=!0);for(let Ae=0;Ae<$.length;Ae++)if(re=$[Ae],ce=O[re],ve=H[re],!J[re]&&!Gt(ce,ve))if(Gt(ce.source,ve.source)&&Gt(ce["source-layer"],ve["source-layer"])&&Gt(ce.type,ve.type)){for(Pe in Xi(ce.layout,ve.layout,k,re,null,"setLayoutProperty"),Xi(ce.paint,ve.paint,k,re,null,"setPaintProperty"),Gt(ce.filter,ve.filter)||yr(k,{command:"setFilter",args:[re,ve.filter]}),Gt(ce.minzoom,ve.minzoom)&&Gt(ce.maxzoom,ve.maxzoom)||yr(k,{command:"setLayerZoomRange",args:[re,ve.minzoom,ve.maxzoom]}),ce)Object.prototype.hasOwnProperty.call(ce,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?Xi(ce[Pe],ve[Pe],k,re,Pe.slice(6),"setPaintProperty"):Gt(ce[Pe],ve[Pe])||yr(k,{command:"setLayerProperty",args:[re,Pe,ve[Pe]]}));for(Pe in ve)Object.prototype.hasOwnProperty.call(ve,Pe)&&!Object.prototype.hasOwnProperty.call(ce,Pe)&&Pe!=="layout"&&Pe!=="paint"&&Pe!=="filter"&&Pe!=="metadata"&&Pe!=="minzoom"&&Pe!=="maxzoom"&&(Pe.indexOf("paint.")===0?Xi(ce[Pe],ve[Pe],k,re,Pe.slice(6),"setPaintProperty"):Gt(ce[Pe],ve[Pe])||yr(k,{command:"setLayerProperty",args:[re,Pe,ve[Pe]]}))}else yr(k,{command:"removeLayer",args:[re]}),Me=G[G.lastIndexOf(re)+1],yr(k,{command:"addLayer",args:[ve,Me]})}(y,i.layers,l)}catch(f){console.warn("Unable to compute style diff:",f),l=[{command:"setStyle",args:[i]}]}return l},d.aD=function(o){const i=[],l=o.id;return l===void 0&&i.push({message:`layers.${l}: missing required property "id"`}),o.render===void 0&&i.push({message:`layers.${l}: missing required method "render"`}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&i.push({message:`layers.${l}: property "renderingMode" must be either "2d" or "3d"`}),i},d.aE=function o(i,l){if(Array.isArray(i)){if(!Array.isArray(l)||i.length!==l.length)return!1;for(let f=0;f<i.length;f++)if(!o(i[f],l[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&l!==null){if(typeof l!="object"||Object.keys(i).length!==Object.keys(l).length)return!1;for(const f in i)if(!o(i[f],l[f]))return!1;return!0}return i===l},d.aF=pe,d.aG=xe,d.aH=class extends hc{constructor(o,i){super(o,i),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1i(this.location,o))}},d.aI=hg,d.aJ=class extends hc{constructor(o,i){super(o,i),this.current=cF}set(o){if(o[12]!==this.current[12]||o[0]!==this.current[0])return this.current=o,void this.gl.uniformMatrix4fv(this.location,!1,o);for(let i=1;i<16;i++)if(o[i]!==this.current[i]){this.current=o,this.gl.uniformMatrix4fv(this.location,!1,o);break}}},d.aK=dP,d.aL=class extends hc{constructor(o,i){super(o,i),this.current=[0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]||(this.current=o,this.gl.uniform3f(this.location,o[0],o[1],o[2]))}},d.aM=class extends hc{constructor(o,i){super(o,i),this.current=[0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]||(this.current=o,this.gl.uniform2f(this.location,o[0],o[1]))}},d.aN=hP,d.aO=function(o,i,l,f,m,y,b){var P=1/(i-l),k=1/(f-m),M=1/(y-b);return o[0]=-2*P,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*k,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*M,o[11]=0,o[12]=(i+l)*P,o[13]=(m+f)*k,o[14]=(b+y)*M,o[15]=1,o},d.aP=dr,d.aQ=gF,d.aR=class extends We{},d.aS=s8,d.aT=class extends ct{},d.aU=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},d.aV=EP,d.aW=Zo,d.aX=class extends at{},d.aY=gn,d.aZ=function(o,i){return o[0]===i[0]&&o[1]===i[1]&&o[2]===i[2]&&o[3]===i[3]&&o[4]===i[4]&&o[5]===i[5]&&o[6]===i[6]&&o[7]===i[7]&&o[8]===i[8]&&o[9]===i[9]&&o[10]===i[10]&&o[11]===i[11]&&o[12]===i[12]&&o[13]===i[13]&&o[14]===i[14]&&o[15]===i[15]},d.a_=function(o,i){var l=o[0],f=o[1],m=o[2],y=o[3],b=o[4],P=o[5],k=o[6],M=o[7],$=o[8],O=o[9],H=o[10],G=o[11],J=o[12],re=o[13],ce=o[14],ve=o[15],Me=i[0],Pe=i[1],Ae=i[2],Ne=i[3],qe=i[4],it=i[5],Ct=i[6],ot=i[7],nt=i[8],xt=i[9],ft=i[10],dt=i[11],He=i[12],bt=i[13],yt=i[14],Dt=i[15];return Math.abs(l-Me)<=ci*Math.max(1,Math.abs(l),Math.abs(Me))&&Math.abs(f-Pe)<=ci*Math.max(1,Math.abs(f),Math.abs(Pe))&&Math.abs(m-Ae)<=ci*Math.max(1,Math.abs(m),Math.abs(Ae))&&Math.abs(y-Ne)<=ci*Math.max(1,Math.abs(y),Math.abs(Ne))&&Math.abs(b-qe)<=ci*Math.max(1,Math.abs(b),Math.abs(qe))&&Math.abs(P-it)<=ci*Math.max(1,Math.abs(P),Math.abs(it))&&Math.abs(k-Ct)<=ci*Math.max(1,Math.abs(k),Math.abs(Ct))&&Math.abs(M-ot)<=ci*Math.max(1,Math.abs(M),Math.abs(ot))&&Math.abs($-nt)<=ci*Math.max(1,Math.abs($),Math.abs(nt))&&Math.abs(O-xt)<=ci*Math.max(1,Math.abs(O),Math.abs(xt))&&Math.abs(H-ft)<=ci*Math.max(1,Math.abs(H),Math.abs(ft))&&Math.abs(G-dt)<=ci*Math.max(1,Math.abs(G),Math.abs(dt))&&Math.abs(J-He)<=ci*Math.max(1,Math.abs(J),Math.abs(He))&&Math.abs(re-bt)<=ci*Math.max(1,Math.abs(re),Math.abs(bt))&&Math.abs(ce-yt)<=ci*Math.max(1,Math.abs(ce),Math.abs(yt))&&Math.abs(ve-Dt)<=ci*Math.max(1,Math.abs(ve),Math.abs(Dt))},d.aa=function(o){const i={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(l,f,m,y)=>{const b=m||y;return i[f]=!b||b.toLowerCase(),""}),i["max-age"]){const l=parseInt(i["max-age"],10);isNaN(l)?delete i["max-age"]:i["max-age"]=l}return i},d.ab=function(o,i){const l=[];for(const f in o)f in i||l.push(f);return l},d.ac=ie,d.ad=function(o,i,l){var f=Math.sin(l),m=Math.cos(l),y=i[0],b=i[1],P=i[2],k=i[3],M=i[4],$=i[5],O=i[6],H=i[7];return i!==o&&(o[8]=i[8],o[9]=i[9],o[10]=i[10],o[11]=i[11],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15]),o[0]=y*m+M*f,o[1]=b*m+$*f,o[2]=P*m+O*f,o[3]=k*m+H*f,o[4]=M*m-y*f,o[5]=$*m-b*f,o[6]=O*m-P*f,o[7]=H*m-k*f,o},d.ae=function(o){var i=new Zu(16);return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i[4]=o[4],i[5]=o[5],i[6]=o[6],i[7]=o[7],i[8]=o[8],i[9]=o[9],i[10]=o[10],i[11]=o[11],i[12]=o[12],i[13]=o[13],i[14]=o[14],i[15]=o[15],i},d.af=gg,d.ag=function(o,i){let l=0,f=0;if(o.kind==="constant")f=o.layoutSize;else if(o.kind!=="source"){const{interpolationType:m,minZoom:y,maxZoom:b}=o,P=m?ie(Ti.interpolationFactor(m,i,y,b),0,1):0;o.kind==="camera"?f=Gn.number(o.minSize,o.maxSize,P):l=P}return{uSizeT:l,uSize:f}},d.ai=function(o,{uSize:i,uSizeT:l},{lowerSize:f,upperSize:m}){return o.kind==="source"?f/bo:o.kind==="composite"?Gn.number(f/bo,m/bo,l):i},d.aj=Fx,d.ak=function(o,i,l,f){const m=i.y-o.y,y=i.x-o.x,b=f.y-l.y,P=f.x-l.x,k=b*y-P*m;if(k===0)return null;const M=(P*(o.y-l.y)-b*(o.x-l.x))/k;return new T(o.x+M*y,o.y+M*m)},d.al=kT,d.am=gP,d.an=yx,d.ao=function(o){let i=1/0,l=1/0,f=-1/0,m=-1/0;for(const y of o)i=Math.min(i,y.x),l=Math.min(l,y.y),f=Math.max(f,y.x),m=Math.max(m,y.y);return[i,l,f,m]},d.ap=un,d.ar=zx,d.as=function(o,i){var l=i[0],f=i[1],m=i[2],y=i[3],b=i[4],P=i[5],k=i[6],M=i[7],$=i[8],O=i[9],H=i[10],G=i[11],J=i[12],re=i[13],ce=i[14],ve=i[15],Me=l*P-f*b,Pe=l*k-m*b,Ae=l*M-y*b,Ne=f*k-m*P,qe=f*M-y*P,it=m*M-y*k,Ct=$*re-O*J,ot=$*ce-H*J,nt=$*ve-G*J,xt=O*ce-H*re,ft=O*ve-G*re,dt=H*ve-G*ce,He=Me*dt-Pe*ft+Ae*xt+Ne*nt-qe*ot+it*Ct;return He?(o[0]=(P*dt-k*ft+M*xt)*(He=1/He),o[1]=(m*ft-f*dt-y*xt)*He,o[2]=(re*it-ce*qe+ve*Ne)*He,o[3]=(H*qe-O*it-G*Ne)*He,o[4]=(k*nt-b*dt-M*ot)*He,o[5]=(l*dt-m*nt+y*ot)*He,o[6]=(ce*Ae-J*it-ve*Pe)*He,o[7]=($*it-H*Ae+G*Pe)*He,o[8]=(b*ft-P*nt+M*Ct)*He,o[9]=(f*nt-l*ft-y*Ct)*He,o[10]=(J*qe-re*Ae+ve*Me)*He,o[11]=(O*Ae-$*qe-G*Me)*He,o[12]=(P*ot-b*xt-k*Ct)*He,o[13]=(l*xt-f*ot+m*Ct)*He,o[14]=(re*Pe-J*Ne-ce*Me)*He,o[15]=($*Ne-O*Pe+H*Me)*He,o):null},d.at=Hx,d.au=Lx,d.av=Wx,d.aw=function(){const o={},i=Ve.$version;for(const l in Ve.$root){const f=Ve.$root[l];if(f.required){let m=null;m=l==="version"?i:f.type==="array"?[]:{},m!=null&&(o[l]=m)}}return o},d.ax=ig,d.ay=Pt,d.az=function(o){o=o.slice();const i=Object.create(null);for(let l=0;l<o.length;l++)i[o[l].id]=o[l];for(let l=0;l<o.length;l++)"ref"in o[l]&&(o[l]=kr(o[l],i[o[l].ref]));return o},d.b=ae,d.b0=function(o,i,l){return o[0]=i[0]*l[0],o[1]=i[1]*l[1],o[2]=i[2]*l[2],o[3]=i[3]*l[3],o},d.b1=function(o,i){return o[0]*i[0]+o[1]*i[1]+o[2]*i[2]+o[3]*i[3]},d.b2=fe,d.b3=bT,d.b4=xT,d.b5=function(o,i,l,f,m){var y,b=1/Math.tan(i/2);return o[0]=b/l,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=b,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,m!=null&&m!==1/0?(o[10]=(m+f)*(y=1/(f-m)),o[14]=2*m*f*y):(o[10]=-1,o[14]=-2*f),o},d.b6=function(o,i,l){var f=Math.sin(l),m=Math.cos(l),y=i[4],b=i[5],P=i[6],k=i[7],M=i[8],$=i[9],O=i[10],H=i[11];return i!==o&&(o[0]=i[0],o[1]=i[1],o[2]=i[2],o[3]=i[3],o[12]=i[12],o[13]=i[13],o[14]=i[14],o[15]=i[15]),o[4]=y*m+M*f,o[5]=b*m+$*f,o[6]=P*m+O*f,o[7]=k*m+H*f,o[8]=M*m-y*f,o[9]=$*m-b*f,o[10]=O*m-P*f,o[11]=H*m-k*f,o},d.b7=N,d.b8=ee,d.b9=function(o){return o*Math.PI/180},d.bA=Du,d.bB=vo,d.ba=function(o,i){return o[0]=i[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=i[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o},d.bb=class extends X{},d.bc=jx,d.bd=K8,d.bf=Et,d.bg=function(o,i){lt.REGISTERED_PROTOCOLS[o]=i},d.bh=function(o){delete lt.REGISTERED_PROTOCOLS[o]},d.bi=function(o,i){const l={};for(let m=0;m<o.length;m++){const y=i&&i[o[m].id]||lx(o[m]);i&&(i[o[m].id]=y);let b=l[y];b||(b=l[y]=[]),b.push(o[m])}const f=[];for(const m in l)f.push(l[m]);return f},d.bj=ht,d.bk=ST,d.bl=TT,d.bm=rT,d.bn=function(o){o.bucket.createArrays(),o.bucket.tilePixelRatio=nn/(512*o.bucket.overscaling),o.bucket.compareText={},o.bucket.iconsNeedLinear=!1;const i=o.bucket.layers[0],l=i.layout,f=i._unevaluatedLayout._values,m={layoutIconSize:f["icon-size"].possiblyEvaluate(new vr(o.bucket.zoom+1),o.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new vr(o.bucket.zoom+1),o.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new vr(18))};if(o.bucket.textSizeData.kind==="composite"){const{minZoom:M,maxZoom:$}=o.bucket.textSizeData;m.compositeTextSizes=[f["text-size"].possiblyEvaluate(new vr(M),o.canonical),f["text-size"].possiblyEvaluate(new vr($),o.canonical)]}if(o.bucket.iconSizeData.kind==="composite"){const{minZoom:M,maxZoom:$}=o.bucket.iconSizeData;m.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new vr(M),o.canonical),f["icon-size"].possiblyEvaluate(new vr($),o.canonical)]}const y=l.get("text-line-height")*un,b=l.get("text-rotation-alignment")!=="viewport"&&l.get("symbol-placement")!=="point",P=l.get("text-keep-upright"),k=l.get("text-size");for(const M of o.bucket.features){const $=l.get("text-font").evaluate(M,{},o.canonical).join(","),O=k.evaluate(M,{},o.canonical),H=m.layoutTextSize.evaluate(M,{},o.canonical),G=m.layoutIconSize.evaluate(M,{},o.canonical),J={horizontal:{},vertical:void 0},re=M.text;let ce,ve=[0,0];if(re){const Ae=re.toString(),Ne=l.get("text-letter-spacing").evaluate(M,{},o.canonical)*un,qe=ux(Ae)?Ne:0,it=l.get("text-anchor").evaluate(M,{},o.canonical),Ct=FT(i,M,o.canonical);if(!Ct){const ft=l.get("text-radial-offset").evaluate(M,{},o.canonical);ve=ft?zT(it,[ft*un,Kx]):l.get("text-offset").evaluate(M,{},o.canonical).map(dt=>dt*un)}let ot=b?"center":l.get("text-justify").evaluate(M,{},o.canonical);const nt=l.get("symbol-placement")==="point"?l.get("text-max-width").evaluate(M,{},o.canonical)*un:1/0,xt=()=>{o.bucket.allowVerticalPlacement&&uf(Ae)&&(J.vertical=Sg(re,o.glyphMap,o.glyphPositions,o.imagePositions,$,nt,y,it,"left",qe,ve,d.ah.vertical,!0,H,O))};if(!b&&Ct){const ft=new Set;if(ot==="auto")for(let He=0;He<Ct.values.length;He+=2)ft.add(Hx(Ct.values[He]));else ft.add(ot);let dt=!1;for(const He of ft)if(!J.horizontal[He])if(dt)J.horizontal[He]=J.horizontal[0];else{const bt=Sg(re,o.glyphMap,o.glyphPositions,o.imagePositions,$,nt,y,"center",He,qe,ve,d.ah.horizontal,!1,H,O);bt&&(J.horizontal[He]=bt,dt=bt.positionedLines.length===1)}xt()}else{ot==="auto"&&(ot=Hx(it));const ft=Sg(re,o.glyphMap,o.glyphPositions,o.imagePositions,$,nt,y,it,ot,qe,ve,d.ah.horizontal,!1,H,O);ft&&(J.horizontal[ot]=ft),xt(),uf(Ae)&&b&&P&&(J.vertical=Sg(re,o.glyphMap,o.glyphPositions,o.imagePositions,$,nt,y,it,ot,qe,ve,d.ah.vertical,!1,H,O))}}let Me=!1;if(M.icon&&M.icon.name){const Ae=o.imageMap[M.icon.name];Ae&&(ce=T8(o.imagePositions[M.icon.name],l.get("icon-offset").evaluate(M,{},o.canonical),l.get("icon-anchor").evaluate(M,{},o.canonical)),Me=!!Ae.sdf,o.bucket.sdfIcons===void 0?o.bucket.sdfIcons=Me:o.bucket.sdfIcons!==Me&&ge("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ae.pixelRatio!==o.bucket.pixelRatio||l.get("icon-rotate").constantOr(1)!==0)&&(o.bucket.iconsNeedLinear=!0))}const Pe=NT(J.horizontal)||J.vertical;o.bucket.iconsInText=!!Pe&&Pe.iconsInText,(Pe||ce)&&V8(o.bucket,M,J,ce,o.imageMap,m,H,G,ve,Me,o.canonical)}o.showCollisionBoxes&&o.bucket.generateCollisionDebugBuffers()},d.bo=Ax,d.bp=Cx,d.bq=kx,d.br=Ys,d.bs=Mx,d.bt=class{constructor(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let o=performance.getEntriesByName(this._marks.measure);return o.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),o=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),o}},d.bu=function(o,i,l,f,m){return c(this,void 0,void 0,function*(){if(F())try{return yield je(o,i,l,f,m)}catch{}return function(y,b,P,k,M){const $=y.width,O=y.height;Oe&&se||(Oe=new OffscreenCanvas($,O),se=Oe.getContext("2d",{willReadFrequently:!0})),Oe.width=$,Oe.height=O,se.drawImage(y,0,0,$,O);const H=se.getImageData(b,P,k,M);return se.clearRect(0,0,$,O),H.data}(o,i,l,f,m)})},d.bv=wT,d.bw=v,d.bx=w,d.by=GP,d.bz=function(o){return o.message===ze},d.c=Ze,d.d=o=>c(void 0,void 0,void 0,function*(){if(o.byteLength===0)return createImageBitmap(new ImageData(1,1));const i=new Blob([new Uint8Array(o)],{type:"image/png"});try{return createImageBitmap(i)}catch(l){throw new Error(`Could not load image because of ${l.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),d.e=be,d.f=o=>new Promise((i,l)=>{const f=new Image;f.onload=()=>{i(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=De})},f.onerror=()=>l(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(o)],{type:"image/png"});f.src=o.byteLength?URL.createObjectURL(m):De}),d.g=mt,d.h=(o,i)=>At(be(o,{type:"json"}),i),d.i=Be,d.j=Yt,d.k=Zt,d.l=(o,i)=>At(be(o,{type:"arrayBuffer"}),i),d.m=At,d.n=function(o){return new Mx(o).readFields(v8,[])},d.o=wf,d.p=tT,d.q=p,d.r=cx,d.s=zt,d.t=cf,d.u=st,d.v=Ve,d.w=ge,d.x=lc,d.y=function([o,i,l]){return i+=90,i*=Math.PI/180,l*=Math.PI/180,{x:o*Math.cos(i)*Math.sin(l),y:o*Math.sin(i)*Math.sin(l),z:o*Math.cos(l)}},d.z=Gn}),s("worker",["./shared"],function(d){class c{constructor(W){this.keyCache={},W&&this.replace(W)}replace(W){this._layerConfigs={},this._layers={},this.update(W,[])}update(W,Z){for(const he of W){this._layerConfigs[he.id]=he;const Te=this._layers[he.id]=d.aA(he);Te._featureFilter=d.a6(Te.filter),this.keyCache[he.id]&&delete this.keyCache[he.id]}for(const he of Z)delete this.keyCache[he],delete this._layerConfigs[he],delete this._layers[he];this.familiesBySource={};const Q=d.bi(Object.values(this._layerConfigs),this.keyCache);for(const he of Q){const Te=he.map(Ke=>this._layers[Ke.id]),Ee=Te[0];if(Ee.visibility==="none")continue;const Ie=Ee.source||"";let we=this.familiesBySource[Ie];we||(we=this.familiesBySource[Ie]={});const Le=Ee.sourceLayer||"_geojsonTileLayer";let Ge=we[Le];Ge||(Ge=we[Le]=[]),Ge.push(Te)}}}class v{constructor(W){const Z={},Q=[];for(const Ie in W){const we=W[Ie],Le=Z[Ie]={};for(const Ge in we){const Ke=we[+Ge];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Ue={x:0,y:0,w:Ke.bitmap.width+2,h:Ke.bitmap.height+2};Q.push(Ue),Le[Ge]={rect:Ue,metrics:Ke.metrics}}}const{w:he,h:Te}=d.p(Q),Ee=new d.o({width:he||1,height:Te||1});for(const Ie in W){const we=W[Ie];for(const Le in we){const Ge=we[+Le];if(!Ge||Ge.bitmap.width===0||Ge.bitmap.height===0)continue;const Ke=Z[Ie][Le].rect;d.o.copy(Ge.bitmap,Ee,{x:0,y:0},{x:Ke.x+1,y:Ke.y+1},Ge.bitmap)}}this.image=Ee,this.positions=Z}}d.bj("GlyphAtlas",v);class w{constructor(W){this.tileID=new d.Q(W.tileID.overscaledZ,W.tileID.wrap,W.tileID.canonical.z,W.tileID.canonical.x,W.tileID.canonical.y),this.uid=W.uid,this.zoom=W.zoom,this.pixelRatio=W.pixelRatio,this.tileSize=W.tileSize,this.source=W.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=W.showCollisionBoxes,this.collectResourceTiming=!!W.collectResourceTiming,this.returnDependencies=!!W.returnDependencies,this.promoteId=W.promoteId,this.inFlightDependencies=[]}parse(W,Z,Q,he){return d._(this,void 0,void 0,function*(){this.status="parsing",this.data=W,this.collisionBoxArray=new d.a4;const Te=new d.bk(Object.keys(W.layers).sort()),Ee=new d.bl(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Ie={},we={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Q},Le=Z.familiesBySource[this.source];for(const jt in Le){const Ir=W.layers[jt];if(!Ir)continue;Ir.version===1&&d.w(`Vector tile source "${this.source}" layer "${jt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const sn=Te.encode(jt),ii=[];for(let Si=0;Si<Ir.length;Si++){const ln=Ir.feature(Si),Ds=Ee.getId(ln,jt);ii.push({feature:ln,id:Ds,index:Si,sourceLayerIndex:sn})}for(const Si of Le[jt]){const ln=Si[0];ln.source!==this.source&&d.w(`layer.source = ${ln.source} does not equal this.source = ${this.source}`),ln.minzoom&&this.zoom<Math.floor(ln.minzoom)||ln.maxzoom&&this.zoom>=ln.maxzoom||ln.visibility!=="none"&&(S(Si,this.zoom,Q),(Ie[ln.id]=ln.createBucket({index:Ee.bucketLayerIDs.length,layers:Si,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:sn,sourceID:this.source})).populate(ii,we,this.tileID.canonical),Ee.bucketLayerIDs.push(Si.map(Ds=>Ds.id)))}}const Ge=d.aF(we.glyphDependencies,jt=>Object.keys(jt).map(Number));this.inFlightDependencies.forEach(jt=>jt==null?void 0:jt.abort()),this.inFlightDependencies=[];let Ke=Promise.resolve({});if(Object.keys(Ge).length){const jt=new AbortController;this.inFlightDependencies.push(jt),Ke=he.sendAsync({type:"GG",data:{stacks:Ge,source:this.source,tileID:this.tileID,type:"glyphs"}},jt)}const Ue=Object.keys(we.iconDependencies);let Tt=Promise.resolve({});if(Ue.length){const jt=new AbortController;this.inFlightDependencies.push(jt),Tt=he.sendAsync({type:"GI",data:{icons:Ue,source:this.source,tileID:this.tileID,type:"icons"}},jt)}const St=Object.keys(we.patternDependencies);let qt=Promise.resolve({});if(St.length){const jt=new AbortController;this.inFlightDependencies.push(jt),qt=he.sendAsync({type:"GI",data:{icons:St,source:this.source,tileID:this.tileID,type:"patterns"}},jt)}const[Rt,Jt,hr]=yield Promise.all([Ke,Tt,qt]),br=new v(Rt),tn=new d.bm(Jt,hr);for(const jt in Ie){const Ir=Ie[jt];Ir instanceof d.a5?(S(Ir.layers,this.zoom,Q),d.bn({bucket:Ir,glyphMap:Rt,glyphPositions:br.positions,imageMap:Jt,imagePositions:tn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Ir.hasPattern&&(Ir instanceof d.bo||Ir instanceof d.bp||Ir instanceof d.bq)&&(S(Ir.layers,this.zoom,Q),Ir.addFeatures(we,this.tileID.canonical,tn.patternPositions))}return this.status="done",{buckets:Object.values(Ie).filter(jt=>!jt.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:tn,glyphMap:this.returnDependencies?Rt:null,iconMap:this.returnDependencies?Jt:null,glyphPositions:this.returnDependencies?br.positions:null}})}}function S(ue,W,Z){const Q=new d.a8(W);for(const he of ue)he.recalculate(Q,Z)}class T{constructor(W,Z,Q){this.actor=W,this.layerIndex=Z,this.availableImages=Q,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(W,Z){return d._(this,void 0,void 0,function*(){const Q=yield d.l(W.request,Z);try{return{vectorTile:new d.br.VectorTile(new d.bs(Q.data)),rawData:Q.data,cacheControl:Q.cacheControl,expires:Q.expires}}catch(he){const Te=new Uint8Array(Q.data);let Ee=`Unable to parse the tile at ${W.request.url}, `;throw Ee+=Te[0]===31&&Te[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${he.message}`,new Error(Ee)}})}loadTile(W){return d._(this,void 0,void 0,function*(){const Z=W.uid,Q=!!(W&&W.request&&W.request.collectResourceTiming)&&new d.bt(W.request),he=new w(W);this.loading[Z]=he;const Te=new AbortController;he.abort=Te;try{const Ee=yield this.loadVectorTile(W,Te);if(delete this.loading[Z],!Ee)return null;const Ie=Ee.rawData,we={};Ee.expires&&(we.expires=Ee.expires),Ee.cacheControl&&(we.cacheControl=Ee.cacheControl);const Le={};if(Q){const Ke=Q.finish();Ke&&(Le.resourceTiming=JSON.parse(JSON.stringify(Ke)))}he.vectorTile=Ee.vectorTile;const Ge=he.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[Z]=he,this.fetching[Z]={rawTileData:Ie,cacheControl:we,resourceTiming:Le};try{const Ke=yield Ge;return d.e({rawTileData:Ie.slice(0)},Ke,we,Le)}finally{delete this.fetching[Z]}}catch(Ee){throw delete this.loading[Z],he.status="done",this.loaded[Z]=he,Ee}})}reloadTile(W){return d._(this,void 0,void 0,function*(){const Z=W.uid;if(!this.loaded||!this.loaded[Z])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Q=this.loaded[Z];if(Q.showCollisionBoxes=W.showCollisionBoxes,Q.status==="parsing"){const he=yield Q.parse(Q.vectorTile,this.layerIndex,this.availableImages,this.actor);let Te;if(this.fetching[Z]){const{rawTileData:Ee,cacheControl:Ie,resourceTiming:we}=this.fetching[Z];delete this.fetching[Z],Te=d.e({rawTileData:Ee.slice(0)},he,Ie,we)}else Te=he;return Te}if(Q.status==="done"&&Q.vectorTile)return Q.parse(Q.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(W){return d._(this,void 0,void 0,function*(){const Z=this.loading,Q=W.uid;Z&&Z[Q]&&Z[Q].abort&&(Z[Q].abort.abort(),delete Z[Q])})}removeTile(W){return d._(this,void 0,void 0,function*(){this.loaded&&this.loaded[W.uid]&&delete this.loaded[W.uid]})}}class C{constructor(){this.loaded={}}loadTile(W){return d._(this,void 0,void 0,function*(){const{uid:Z,encoding:Q,rawImageData:he,redFactor:Te,greenFactor:Ee,blueFactor:Ie,baseShift:we}=W,Le=he.width+2,Ge=he.height+2,Ke=d.b(he)?new d.R({width:Le,height:Ge},yield d.bu(he,-1,-1,Le,Ge)):he,Ue=new d.bv(Z,Ke,Q,Te,Ee,Ie,we);return this.loaded=this.loaded||{},this.loaded[Z]=Ue,Ue})}removeTile(W){const Z=this.loaded,Q=W.uid;Z&&Z[Q]&&delete Z[Q]}}function D(ue,W){if(ue.length!==0){B(ue[0],W);for(var Z=1;Z<ue.length;Z++)B(ue[Z],!W)}}function B(ue,W){for(var Z=0,Q=0,he=0,Te=ue.length,Ee=Te-1;he<Te;Ee=he++){var Ie=(ue[he][0]-ue[Ee][0])*(ue[Ee][1]+ue[he][1]),we=Z+Ie;Q+=Math.abs(Z)>=Math.abs(Ie)?Z-we+Ie:Ie-we+Z,Z=we}Z+Q>=0!=!!W&&ue.reverse()}var j=d.bw(function ue(W,Z){var Q,he=W&&W.type;if(he==="FeatureCollection")for(Q=0;Q<W.features.length;Q++)ue(W.features[Q],Z);else if(he==="GeometryCollection")for(Q=0;Q<W.geometries.length;Q++)ue(W.geometries[Q],Z);else if(he==="Feature")ue(W.geometry,Z);else if(he==="Polygon")D(W.coordinates,Z);else if(he==="MultiPolygon")for(Q=0;Q<W.coordinates.length;Q++)D(W.coordinates[Q],Z);return W});const Y=d.br.VectorTileFeature.prototype.toGeoJSON;var V={exports:{}},F=d.bx,N=d.br.VectorTileFeature,ee=ie;function ie(ue,W){this.options=W||{},this.features=ue,this.length=ue.length}function fe(ue,W){this.id=typeof ue.id=="number"?ue.id:void 0,this.type=ue.type,this.rawGeometry=ue.type===1?[ue.geometry]:ue.geometry,this.properties=ue.tags,this.extent=W||4096}ie.prototype.feature=function(ue){return new fe(this.features[ue],this.options.extent)},fe.prototype.loadGeometry=function(){var ue=this.rawGeometry;this.geometry=[];for(var W=0;W<ue.length;W++){for(var Z=ue[W],Q=[],he=0;he<Z.length;he++)Q.push(new F(Z[he][0],Z[he][1]));this.geometry.push(Q)}return this.geometry},fe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ue=this.geometry,W=1/0,Z=-1/0,Q=1/0,he=-1/0,Te=0;Te<ue.length;Te++)for(var Ee=ue[Te],Ie=0;Ie<Ee.length;Ie++){var we=Ee[Ie];W=Math.min(W,we.x),Z=Math.max(Z,we.x),Q=Math.min(Q,we.y),he=Math.max(he,we.y)}return[W,Q,Z,he]},fe.prototype.toGeoJSON=N.prototype.toGeoJSON;var be=d.by,q=ee;function pe(ue){var W=new be;return function(Z,Q){for(var he in Z.layers)Q.writeMessage(3,xe,Z.layers[he])}(ue,W),W.finish()}function xe(ue,W){var Z;W.writeVarintField(15,ue.version||1),W.writeStringField(1,ue.name||""),W.writeVarintField(5,ue.extent||4096);var Q={keys:[],values:[],keycache:{},valuecache:{}};for(Z=0;Z<ue.length;Z++)Q.feature=ue.feature(Z),W.writeMessage(2,le,Q);var he=Q.keys;for(Z=0;Z<he.length;Z++)W.writeStringField(3,he[Z]);var Te=Q.values;for(Z=0;Z<Te.length;Z++)W.writeMessage(4,Re,Te[Z])}function le(ue,W){var Z=ue.feature;Z.id!==void 0&&W.writeVarintField(1,Z.id),W.writeMessage(2,Se,ue),W.writeVarintField(3,Z.type),W.writeMessage(4,Be,Z)}function Se(ue,W){var Z=ue.feature,Q=ue.keys,he=ue.values,Te=ue.keycache,Ee=ue.valuecache;for(var Ie in Z.properties){var we=Z.properties[Ie],Le=Te[Ie];if(we!==null){Le===void 0&&(Q.push(Ie),Te[Ie]=Le=Q.length-1),W.writeVarint(Le);var Ge=typeof we;Ge!=="string"&&Ge!=="boolean"&&Ge!=="number"&&(we=JSON.stringify(we));var Ke=Ge+":"+we,Ue=Ee[Ke];Ue===void 0&&(he.push(we),Ee[Ke]=Ue=he.length-1),W.writeVarint(Ue)}}}function ge(ue,W){return(W<<3)+(7&ue)}function ye(ue){return ue<<1^ue>>31}function Be(ue,W){for(var Z=ue.loadGeometry(),Q=ue.type,he=0,Te=0,Ee=Z.length,Ie=0;Ie<Ee;Ie++){var we=Z[Ie],Le=1;Q===1&&(Le=we.length),W.writeVarint(ge(1,Le));for(var Ge=Q===3?we.length-1:we.length,Ke=0;Ke<Ge;Ke++){Ke===1&&Q!==1&&W.writeVarint(ge(2,Ge-1));var Ue=we[Ke].x-he,Tt=we[Ke].y-Te;W.writeVarint(ye(Ue)),W.writeVarint(ye(Tt)),he+=Ue,Te+=Tt}Q===3&&W.writeVarint(ge(7,1))}}function Re(ue,W){var Z=typeof ue;Z==="string"?W.writeStringField(1,ue):Z==="boolean"?W.writeBooleanField(7,ue):Z==="number"&&(ue%1!=0?W.writeDoubleField(3,ue):ue<0?W.writeSVarintField(6,ue):W.writeVarintField(5,ue))}V.exports=pe,V.exports.fromVectorTileJs=pe,V.exports.fromGeojsonVt=function(ue,W){W=W||{};var Z={};for(var Q in ue)Z[Q]=new q(ue[Q].features,W),Z[Q].name=Q,Z[Q].version=W.version,Z[Q].extent=W.extent;return pe({layers:Z})},V.exports.GeoJSONWrapper=q;var ae=d.bw(V.exports);const De={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ue=>ue},je=Math.fround||(Oe=new Float32Array(1),ue=>(Oe[0]=+ue,Oe[0]));var Oe;const se=3,ze=5,Ze=6;class lt{constructor(W){this.options=Object.assign(Object.create(De),W),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(W){const{log:Z,minZoom:Q,maxZoom:he}=this.options;Z&&console.time("total time");const Te=`prepare ${W.length} points`;Z&&console.time(Te),this.points=W;const Ee=[];for(let we=0;we<W.length;we++){const Le=W[we];if(!Le.geometry)continue;const[Ge,Ke]=Le.geometry.coordinates,Ue=je(Et(Ge)),Tt=je(Pt(Ke));Ee.push(Ue,Tt,1/0,we,-1,1),this.options.reduce&&Ee.push(0)}let Ie=this.trees[he+1]=this._createTree(Ee);Z&&console.timeEnd(Te);for(let we=he;we>=Q;we--){const Le=+Date.now();Ie=this.trees[we]=this._createTree(this._cluster(Ie,we)),Z&&console.log("z%d: %d clusters in %dms",we,Ie.numItems,+Date.now()-Le)}return Z&&console.timeEnd("total time"),this}getClusters(W,Z){let Q=((W[0]+180)%360+360)%360-180;const he=Math.max(-90,Math.min(90,W[1]));let Te=W[2]===180?180:((W[2]+180)%360+360)%360-180;const Ee=Math.max(-90,Math.min(90,W[3]));if(W[2]-W[0]>=360)Q=-180,Te=180;else if(Q>Te){const Ke=this.getClusters([Q,he,180,Ee],Z),Ue=this.getClusters([-180,he,Te,Ee],Z);return Ke.concat(Ue)}const Ie=this.trees[this._limitZoom(Z)],we=Ie.range(Et(Q),Pt(Ee),Et(Te),Pt(he)),Le=Ie.data,Ge=[];for(const Ke of we){const Ue=this.stride*Ke;Ge.push(Le[Ue+ze]>1?mt(Le,Ue,this.clusterProps):this.points[Le[Ue+se]])}return Ge}getChildren(W){const Z=this._getOriginId(W),Q=this._getOriginZoom(W),he="No cluster with the specified id.",Te=this.trees[Q];if(!Te)throw new Error(he);const Ee=Te.data;if(Z*this.stride>=Ee.length)throw new Error(he);const Ie=this.options.radius/(this.options.extent*Math.pow(2,Q-1)),we=Te.within(Ee[Z*this.stride],Ee[Z*this.stride+1],Ie),Le=[];for(const Ge of we){const Ke=Ge*this.stride;Ee[Ke+4]===W&&Le.push(Ee[Ke+ze]>1?mt(Ee,Ke,this.clusterProps):this.points[Ee[Ke+se]])}if(Le.length===0)throw new Error(he);return Le}getLeaves(W,Z,Q){const he=[];return this._appendLeaves(he,W,Z=Z||10,Q=Q||0,0),he}getTile(W,Z,Q){const he=this.trees[this._limitZoom(W)],Te=Math.pow(2,W),{extent:Ee,radius:Ie}=this.options,we=Ie/Ee,Le=(Q-we)/Te,Ge=(Q+1+we)/Te,Ke={features:[]};return this._addTileFeatures(he.range((Z-we)/Te,Le,(Z+1+we)/Te,Ge),he.data,Z,Q,Te,Ke),Z===0&&this._addTileFeatures(he.range(1-we/Te,Le,1,Ge),he.data,Te,Q,Te,Ke),Z===Te-1&&this._addTileFeatures(he.range(0,Le,we/Te,Ge),he.data,-1,Q,Te,Ke),Ke.features.length?Ke:null}getClusterExpansionZoom(W){let Z=this._getOriginZoom(W)-1;for(;Z<=this.options.maxZoom;){const Q=this.getChildren(W);if(Z++,Q.length!==1)break;W=Q[0].properties.cluster_id}return Z}_appendLeaves(W,Z,Q,he,Te){const Ee=this.getChildren(Z);for(const Ie of Ee){const we=Ie.properties;if(we&&we.cluster?Te+we.point_count<=he?Te+=we.point_count:Te=this._appendLeaves(W,we.cluster_id,Q,he,Te):Te<he?Te++:W.push(Ie),W.length===Q)break}return Te}_createTree(W){const Z=new d.av(W.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Q=0;Q<W.length;Q+=this.stride)Z.add(W[Q],W[Q+1]);return Z.finish(),Z.data=W,Z}_addTileFeatures(W,Z,Q,he,Te,Ee){for(const Ie of W){const we=Ie*this.stride,Le=Z[we+ze]>1;let Ge,Ke,Ue;if(Le)Ge=gt(Z,we,this.clusterProps),Ke=Z[we],Ue=Z[we+1];else{const qt=this.points[Z[we+se]];Ge=qt.properties;const[Rt,Jt]=qt.geometry.coordinates;Ke=Et(Rt),Ue=Pt(Jt)}const Tt={type:1,geometry:[[Math.round(this.options.extent*(Ke*Te-Q)),Math.round(this.options.extent*(Ue*Te-he))]],tags:Ge};let St;St=Le||this.options.generateId?Z[we+se]:this.points[Z[we+se]].id,St!==void 0&&(Tt.id=St),Ee.features.push(Tt)}}_limitZoom(W){return Math.max(this.options.minZoom,Math.min(Math.floor(+W),this.options.maxZoom+1))}_cluster(W,Z){const{radius:Q,extent:he,reduce:Te,minPoints:Ee}=this.options,Ie=Q/(he*Math.pow(2,Z)),we=W.data,Le=[],Ge=this.stride;for(let Ke=0;Ke<we.length;Ke+=Ge){if(we[Ke+2]<=Z)continue;we[Ke+2]=Z;const Ue=we[Ke],Tt=we[Ke+1],St=W.within(we[Ke],we[Ke+1],Ie),qt=we[Ke+ze];let Rt=qt;for(const Jt of St){const hr=Jt*Ge;we[hr+2]>Z&&(Rt+=we[hr+ze])}if(Rt>qt&&Rt>=Ee){let Jt,hr=Ue*qt,br=Tt*qt,tn=-1;const jt=((Ke/Ge|0)<<5)+(Z+1)+this.points.length;for(const Ir of St){const sn=Ir*Ge;if(we[sn+2]<=Z)continue;we[sn+2]=Z;const ii=we[sn+ze];hr+=we[sn]*ii,br+=we[sn+1]*ii,we[sn+4]=jt,Te&&(Jt||(Jt=this._map(we,Ke,!0),tn=this.clusterProps.length,this.clusterProps.push(Jt)),Te(Jt,this._map(we,sn)))}we[Ke+4]=jt,Le.push(hr/Rt,br/Rt,1/0,jt,-1,Rt),Te&&Le.push(tn)}else{for(let Jt=0;Jt<Ge;Jt++)Le.push(we[Ke+Jt]);if(Rt>1)for(const Jt of St){const hr=Jt*Ge;if(!(we[hr+2]<=Z)){we[hr+2]=Z;for(let br=0;br<Ge;br++)Le.push(we[hr+br])}}}}return Le}_getOriginId(W){return W-this.points.length>>5}_getOriginZoom(W){return(W-this.points.length)%32}_map(W,Z,Q){if(W[Z+ze]>1){const Ee=this.clusterProps[W[Z+Ze]];return Q?Object.assign({},Ee):Ee}const he=this.points[W[Z+se]].properties,Te=this.options.map(he);return Q&&Te===he?Object.assign({},Te):Te}}function mt(ue,W,Z){return{type:"Feature",id:ue[W+se],properties:gt(ue,W,Z),geometry:{type:"Point",coordinates:[(Q=ue[W],360*(Q-.5)),At(ue[W+1])]}};var Q}function gt(ue,W,Z){const Q=ue[W+ze],he=Q>=1e4?`${Math.round(Q/1e3)}k`:Q>=1e3?Math.round(Q/100)/10+"k":Q,Te=ue[W+Ze],Ee=Te===-1?{}:Object.assign({},Z[Te]);return Object.assign(Ee,{cluster:!0,cluster_id:ue[W+se],point_count:Q,point_count_abbreviated:he})}function Et(ue){return ue/360+.5}function Pt(ue){const W=Math.sin(ue*Math.PI/180),Z=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return Z<0?0:Z>1?1:Z}function At(ue){const W=(180-360*ue)*Math.PI/180;return 360*Math.atan(Math.exp(W))/Math.PI-90}function zt(ue,W,Z,Q){for(var he,Te=Q,Ee=Z-W>>1,Ie=Z-W,we=ue[W],Le=ue[W+1],Ge=ue[Z],Ke=ue[Z+1],Ue=W+3;Ue<Z;Ue+=3){var Tt=Nt(ue[Ue],ue[Ue+1],we,Le,Ge,Ke);if(Tt>Te)he=Ue,Te=Tt;else if(Tt===Te){var St=Math.abs(Ue-Ee);St<Ie&&(he=Ue,Ie=St)}}Te>Q&&(he-W>3&&zt(ue,W,he,Q),ue[he+2]=Te,Z-he>3&&zt(ue,he,Z,Q))}function Nt(ue,W,Z,Q,he,Te){var Ee=he-Z,Ie=Te-Q;if(Ee!==0||Ie!==0){var we=((ue-Z)*Ee+(W-Q)*Ie)/(Ee*Ee+Ie*Ie);we>1?(Z=he,Q=Te):we>0&&(Z+=Ee*we,Q+=Ie*we)}return(Ee=ue-Z)*Ee+(Ie=W-Q)*Ie}function ar(ue,W,Z,Q){var he={id:ue===void 0?null:ue,type:W,geometry:Z,tags:Q,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Te){var Ee=Te.geometry,Ie=Te.type;if(Ie==="Point"||Ie==="MultiPoint"||Ie==="LineString")Zt(Te,Ee);else if(Ie==="Polygon"||Ie==="MultiLineString")for(var we=0;we<Ee.length;we++)Zt(Te,Ee[we]);else if(Ie==="MultiPolygon")for(we=0;we<Ee.length;we++)for(var Le=0;Le<Ee[we].length;Le++)Zt(Te,Ee[we][Le])}(he),he}function Zt(ue,W){for(var Z=0;Z<W.length;Z+=3)ue.minX=Math.min(ue.minX,W[Z]),ue.minY=Math.min(ue.minY,W[Z+1]),ue.maxX=Math.max(ue.maxX,W[Z]),ue.maxY=Math.max(ue.maxY,W[Z+1])}function Yt(ue,W,Z,Q){if(W.geometry){var he=W.geometry.coordinates,Te=W.geometry.type,Ee=Math.pow(Z.tolerance/((1<<Z.maxZoom)*Z.extent),2),Ie=[],we=W.id;if(Z.promoteId?we=W.properties[Z.promoteId]:Z.generateId&&(we=Q||0),Te==="Point")Kn(he,Ie);else if(Te==="MultiPoint")for(var Le=0;Le<he.length;Le++)Kn(he[Le],Ie);else if(Te==="LineString")Ve(he,Ie,Ee,!1);else if(Te==="MultiLineString"){if(Z.lineMetrics){for(Le=0;Le<he.length;Le++)Ve(he[Le],Ie=[],Ee,!1),ue.push(ar(we,"LineString",Ie,W.properties));return}ni(he,Ie,Ee,!1)}else if(Te==="Polygon")ni(he,Ie,Ee,!0);else{if(Te!=="MultiPolygon"){if(Te==="GeometryCollection"){for(Le=0;Le<W.geometry.geometries.length;Le++)Yt(ue,{id:we,geometry:W.geometry.geometries[Le],properties:W.properties},Z,Q);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Le=0;Le<he.length;Le++){var Ge=[];ni(he[Le],Ge,Ee,!0),Ie.push(Ge)}}ue.push(ar(we,Te,Ie,W.properties))}}function Kn(ue,W){W.push(kr(ue[0])),W.push(Gt(ue[1])),W.push(0)}function Ve(ue,W,Z,Q){for(var he,Te,Ee=0,Ie=0;Ie<ue.length;Ie++){var we=kr(ue[Ie][0]),Le=Gt(ue[Ie][1]);W.push(we),W.push(Le),W.push(0),Ie>0&&(Ee+=Q?(he*Le-we*Te)/2:Math.sqrt(Math.pow(we-he,2)+Math.pow(Le-Te,2))),he=we,Te=Le}var Ge=W.length-3;W[2]=1,zt(W,0,Ge,Z),W[Ge+2]=1,W.size=Math.abs(Ee),W.start=0,W.end=W.size}function ni(ue,W,Z,Q){for(var he=0;he<ue.length;he++){var Te=[];Ve(ue[he],Te,Z,Q),W.push(Te)}}function kr(ue){return ue/360+.5}function Gt(ue){var W=Math.sin(ue*Math.PI/180),Z=.5-.25*Math.log((1+W)/(1-W))/Math.PI;return Z<0?0:Z>1?1:Z}function yr(ue,W,Z,Q,he,Te,Ee,Ie){if(Q/=W,Te>=(Z/=W)&&Ee<Q)return ue;if(Ee<Z||Te>=Q)return null;for(var we=[],Le=0;Le<ue.length;Le++){var Ge=ue[Le],Ke=Ge.geometry,Ue=Ge.type,Tt=he===0?Ge.minX:Ge.minY,St=he===0?Ge.maxX:Ge.maxY;if(Tt>=Z&&St<Q)we.push(Ge);else if(!(St<Z||Tt>=Q)){var qt=[];if(Ue==="Point"||Ue==="MultiPoint")Yi(Ke,qt,Z,Q,he);else if(Ue==="LineString")ho(Ke,qt,Z,Q,he,!1,Ie.lineMetrics);else if(Ue==="MultiLineString")ja(Ke,qt,Z,Q,he,!1);else if(Ue==="Polygon")ja(Ke,qt,Z,Q,he,!0);else if(Ue==="MultiPolygon")for(var Rt=0;Rt<Ke.length;Rt++){var Jt=[];ja(Ke[Rt],Jt,Z,Q,he,!0),Jt.length&&qt.push(Jt)}if(qt.length){if(Ie.lineMetrics&&Ue==="LineString"){for(Rt=0;Rt<qt.length;Rt++)we.push(ar(Ge.id,Ue,qt[Rt],Ge.tags));continue}Ue!=="LineString"&&Ue!=="MultiLineString"||(qt.length===1?(Ue="LineString",qt=qt[0]):Ue="MultiLineString"),Ue!=="Point"&&Ue!=="MultiPoint"||(Ue=qt.length===3?"Point":"MultiPoint"),we.push(ar(Ge.id,Ue,qt,Ge.tags))}}}return we.length?we:null}function Yi(ue,W,Z,Q,he){for(var Te=0;Te<ue.length;Te+=3){var Ee=ue[Te+he];Ee>=Z&&Ee<=Q&&(W.push(ue[Te]),W.push(ue[Te+1]),W.push(ue[Te+2]))}}function ho(ue,W,Z,Q,he,Te,Ee){for(var Ie,we,Le=Fo(ue),Ge=he===0?fo:Vr,Ke=ue.start,Ue=0;Ue<ue.length-3;Ue+=3){var Tt=ue[Ue],St=ue[Ue+1],qt=ue[Ue+2],Rt=ue[Ue+3],Jt=ue[Ue+4],hr=he===0?Tt:St,br=he===0?Rt:Jt,tn=!1;Ee&&(Ie=Math.sqrt(Math.pow(Tt-Rt,2)+Math.pow(St-Jt,2))),hr<Z?br>Z&&(we=Ge(Le,Tt,St,Rt,Jt,Z),Ee&&(Le.start=Ke+Ie*we)):hr>Q?br<Q&&(we=Ge(Le,Tt,St,Rt,Jt,Q),Ee&&(Le.start=Ke+Ie*we)):Xi(Le,Tt,St,qt),br<Z&&hr>=Z&&(we=Ge(Le,Tt,St,Rt,Jt,Z),tn=!0),br>Q&&hr<=Q&&(we=Ge(Le,Tt,St,Rt,Jt,Q),tn=!0),!Te&&tn&&(Ee&&(Le.end=Ke+Ie*we),W.push(Le),Le=Fo(ue)),Ee&&(Ke+=Ie)}var jt=ue.length-3;Tt=ue[jt],St=ue[jt+1],qt=ue[jt+2],(hr=he===0?Tt:St)>=Z&&hr<=Q&&Xi(Le,Tt,St,qt),jt=Le.length-3,Te&&jt>=3&&(Le[jt]!==Le[0]||Le[jt+1]!==Le[1])&&Xi(Le,Le[0],Le[1],Le[2]),Le.length&&W.push(Le)}function Fo(ue){var W=[];return W.size=ue.size,W.start=ue.start,W.end=ue.end,W}function ja(ue,W,Z,Q,he,Te){for(var Ee=0;Ee<ue.length;Ee++)ho(ue[Ee],W,Z,Q,he,Te,!1)}function Xi(ue,W,Z,Q){ue.push(W),ue.push(Z),ue.push(Q)}function fo(ue,W,Z,Q,he,Te){var Ee=(Te-W)/(Q-W);return ue.push(Te),ue.push(Z+(he-Z)*Ee),ue.push(1),Ee}function Vr(ue,W,Z,Q,he,Te){var Ee=(Te-Z)/(he-Z);return ue.push(W+(Q-W)*Ee),ue.push(Te),ue.push(1),Ee}function Je(ue,W){for(var Z=[],Q=0;Q<ue.length;Q++){var he,Te=ue[Q],Ee=Te.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")he=en(Te.geometry,W);else if(Ee==="MultiLineString"||Ee==="Polygon"){he=[];for(var Ie=0;Ie<Te.geometry.length;Ie++)he.push(en(Te.geometry[Ie],W))}else if(Ee==="MultiPolygon")for(he=[],Ie=0;Ie<Te.geometry.length;Ie++){for(var we=[],Le=0;Le<Te.geometry[Ie].length;Le++)we.push(en(Te.geometry[Ie][Le],W));he.push(we)}Z.push(ar(Te.id,Ee,he,Te.tags))}return Z}function en(ue,W){var Z=[];Z.size=ue.size,ue.start!==void 0&&(Z.start=ue.start,Z.end=ue.end);for(var Q=0;Q<ue.length;Q+=3)Z.push(ue[Q]+W,ue[Q+1],ue[Q+2]);return Z}function In(ue,W){if(ue.transformed)return ue;var Z,Q,he,Te=1<<ue.z,Ee=ue.x,Ie=ue.y;for(Z=0;Z<ue.features.length;Z++){var we=ue.features[Z],Le=we.geometry,Ge=we.type;if(we.geometry=[],Ge===1)for(Q=0;Q<Le.length;Q+=2)we.geometry.push(Ms(Le[Q],Le[Q+1],W,Te,Ee,Ie));else for(Q=0;Q<Le.length;Q++){var Ke=[];for(he=0;he<Le[Q].length;he+=2)Ke.push(Ms(Le[Q][he],Le[Q][he+1],W,Te,Ee,Ie));we.geometry.push(Ke)}}return ue.transformed=!0,ue}function Ms(ue,W,Z,Q,he,Te){return[Math.round(Z*(ue*Q-he)),Math.round(Z*(W*Q-Te))]}function Bo(ue,W,Z,Q,he){for(var Te=W===he.maxZoom?0:he.tolerance/((1<<W)*he.extent),Ee={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Z,y:Q,z:W,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ie=0;Ie<ue.length;Ie++){Ee.numFeatures++,Qe(Ee,ue[Ie],Te,he);var we=ue[Ie].minX,Le=ue[Ie].minY,Ge=ue[Ie].maxX,Ke=ue[Ie].maxY;we<Ee.minX&&(Ee.minX=we),Le<Ee.minY&&(Ee.minY=Le),Ge>Ee.maxX&&(Ee.maxX=Ge),Ke>Ee.maxY&&(Ee.maxY=Ke)}return Ee}function Qe(ue,W,Z,Q){var he=W.geometry,Te=W.type,Ee=[];if(Te==="Point"||Te==="MultiPoint")for(var Ie=0;Ie<he.length;Ie+=3)Ee.push(he[Ie]),Ee.push(he[Ie+1]),ue.numPoints++,ue.numSimplified++;else if(Te==="LineString")Kt(Ee,he,ue,Z,!1,!1);else if(Te==="MultiLineString"||Te==="Polygon")for(Ie=0;Ie<he.length;Ie++)Kt(Ee,he[Ie],ue,Z,Te==="Polygon",Ie===0);else if(Te==="MultiPolygon")for(var we=0;we<he.length;we++){var Le=he[we];for(Ie=0;Ie<Le.length;Ie++)Kt(Ee,Le[Ie],ue,Z,!0,Ie===0)}if(Ee.length){var Ge=W.tags||null;if(Te==="LineString"&&Q.lineMetrics){for(var Ke in Ge={},W.tags)Ge[Ke]=W.tags[Ke];Ge.mapbox_clip_start=he.start/he.size,Ge.mapbox_clip_end=he.end/he.size}var Ue={geometry:Ee,type:Te==="Polygon"||Te==="MultiPolygon"?3:Te==="LineString"||Te==="MultiLineString"?2:1,tags:Ge};W.id!==null&&(Ue.id=W.id),ue.features.push(Ue)}}function Kt(ue,W,Z,Q,he,Te){var Ee=Q*Q;if(Q>0&&W.size<(he?Ee:Q))Z.numPoints+=W.length/3;else{for(var Ie=[],we=0;we<W.length;we+=3)(Q===0||W[we+2]>Ee)&&(Z.numSimplified++,Ie.push(W[we]),Ie.push(W[we+1])),Z.numPoints++;he&&function(Le,Ge){for(var Ke=0,Ue=0,Tt=Le.length,St=Tt-2;Ue<Tt;St=Ue,Ue+=2)Ke+=(Le[Ue]-Le[St])*(Le[Ue+1]+Le[St+1]);if(Ke>0===Ge)for(Ue=0,Tt=Le.length;Ue<Tt/2;Ue+=2){var qt=Le[Ue],Rt=Le[Ue+1];Le[Ue]=Le[Tt-2-Ue],Le[Ue+1]=Le[Tt-1-Ue],Le[Tt-2-Ue]=qt,Le[Tt-1-Ue]=Rt}}(Ie,Te),ue.push(Ie)}}function Ft(ue,W){var Z=(W=this.options=function(he,Te){for(var Ee in Te)he[Ee]=Te[Ee];return he}(Object.create(this.options),W)).debug;if(Z&&console.time("preprocess data"),W.maxZoom<0||W.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(W.promoteId&&W.generateId)throw new Error("promoteId and generateId cannot be used together.");var Q=function(he,Te){var Ee=[];if(he.type==="FeatureCollection")for(var Ie=0;Ie<he.features.length;Ie++)Yt(Ee,he.features[Ie],Te,Ie);else Yt(Ee,he.type==="Feature"?he:{geometry:he},Te);return Ee}(ue,W);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",W.indexMaxZoom,W.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Q=function(he,Te){var Ee=Te.buffer/Te.extent,Ie=he,we=yr(he,1,-1-Ee,Ee,0,-1,2,Te),Le=yr(he,1,1-Ee,2+Ee,0,-1,2,Te);return(we||Le)&&(Ie=yr(he,1,-Ee,1+Ee,0,-1,2,Te)||[],we&&(Ie=Je(we,1).concat(Ie)),Le&&(Ie=Ie.concat(Je(Le,-1)))),Ie}(Q,W),Q.length&&this.splitTile(Q,0,0,0),Z&&(Q.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Hn(ue,W,Z){return 32*((1<<ue)*Z+W)+ue}function Wn(ue,W){return W?ue.properties[W]:ue.id}function Ot(ue,W){if(ue==null)return!0;if(ue.type==="Feature")return Wn(ue,W)!=null;if(ue.type==="FeatureCollection"){const Z=new Set;for(const Q of ue.features){const he=Wn(Q,W);if(he==null||Z.has(he))return!1;Z.add(he)}return!0}return!1}function Va(ue,W){const Z=new Map;if(ue!=null)if(ue.type==="Feature")Z.set(Wn(ue,W),ue);else for(const Q of ue.features)Z.set(Wn(Q,W),Q);return Z}Ft.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ft.prototype.splitTile=function(ue,W,Z,Q,he,Te,Ee){for(var Ie=[ue,W,Z,Q],we=this.options,Le=we.debug;Ie.length;){Q=Ie.pop(),Z=Ie.pop(),W=Ie.pop(),ue=Ie.pop();var Ge=1<<W,Ke=Hn(W,Z,Q),Ue=this.tiles[Ke];if(!Ue&&(Le>1&&console.time("creation"),Ue=this.tiles[Ke]=Bo(ue,W,Z,Q,we),this.tileCoords.push({z:W,x:Z,y:Q}),Le)){Le>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",W,Z,Q,Ue.numFeatures,Ue.numPoints,Ue.numSimplified),console.timeEnd("creation"));var Tt="z"+W;this.stats[Tt]=(this.stats[Tt]||0)+1,this.total++}if(Ue.source=ue,he){if(W===we.maxZoom||W===he)continue;var St=1<<he-W;if(Z!==Math.floor(Te/St)||Q!==Math.floor(Ee/St))continue}else if(W===we.indexMaxZoom||Ue.numPoints<=we.indexMaxPoints)continue;if(Ue.source=null,ue.length!==0){Le>1&&console.time("clipping");var qt,Rt,Jt,hr,br,tn,jt=.5*we.buffer/we.extent,Ir=.5-jt,sn=.5+jt,ii=1+jt;qt=Rt=Jt=hr=null,br=yr(ue,Ge,Z-jt,Z+sn,0,Ue.minX,Ue.maxX,we),tn=yr(ue,Ge,Z+Ir,Z+ii,0,Ue.minX,Ue.maxX,we),ue=null,br&&(qt=yr(br,Ge,Q-jt,Q+sn,1,Ue.minY,Ue.maxY,we),Rt=yr(br,Ge,Q+Ir,Q+ii,1,Ue.minY,Ue.maxY,we),br=null),tn&&(Jt=yr(tn,Ge,Q-jt,Q+sn,1,Ue.minY,Ue.maxY,we),hr=yr(tn,Ge,Q+Ir,Q+ii,1,Ue.minY,Ue.maxY,we),tn=null),Le>1&&console.timeEnd("clipping"),Ie.push(qt||[],W+1,2*Z,2*Q),Ie.push(Rt||[],W+1,2*Z,2*Q+1),Ie.push(Jt||[],W+1,2*Z+1,2*Q),Ie.push(hr||[],W+1,2*Z+1,2*Q+1)}}},Ft.prototype.getTile=function(ue,W,Z){var Q=this.options,he=Q.extent,Te=Q.debug;if(ue<0||ue>24)return null;var Ee=1<<ue,Ie=Hn(ue,W=(W%Ee+Ee)%Ee,Z);if(this.tiles[Ie])return In(this.tiles[Ie],he);Te>1&&console.log("drilling down to z%d-%d-%d",ue,W,Z);for(var we,Le=ue,Ge=W,Ke=Z;!we&&Le>0;)Le--,Ge=Math.floor(Ge/2),Ke=Math.floor(Ke/2),we=this.tiles[Hn(Le,Ge,Ke)];return we&&we.source?(Te>1&&console.log("found parent tile z%d-%d-%d",Le,Ge,Ke),Te>1&&console.time("drilling down"),this.splitTile(we.source,Le,Ge,Ke,ue,W,Z),Te>1&&console.timeEnd("drilling down"),this.tiles[Ie]?In(this.tiles[Ie],he):null):null};class Ua extends T{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(W,Z){return d._(this,void 0,void 0,function*(){const Q=W.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const he=this._geoJSONIndex.getTile(Q.z,Q.x,Q.y);if(!he)return null;const Te=new class{constructor(Ie){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.W,this.length=Ie.length,this._features=Ie}feature(Ie){return new class{constructor(we){this._feature=we,this.extent=d.W,this.type=we.type,this.properties=we.tags,"id"in we&&!isNaN(we.id)&&(this.id=parseInt(we.id,10))}loadGeometry(){if(this._feature.type===1){const we=[];for(const Le of this._feature.geometry)we.push([new d.P(Le[0],Le[1])]);return we}{const we=[];for(const Le of this._feature.geometry){const Ge=[];for(const Ke of Le)Ge.push(new d.P(Ke[0],Ke[1]));we.push(Ge)}return we}}toGeoJSON(we,Le,Ge){return Y.call(this,we,Le,Ge)}}(this._features[Ie])}}(he.features);let Ee=ae(Te);return Ee.byteOffset===0&&Ee.byteLength===Ee.buffer.byteLength||(Ee=new Uint8Array(Ee)),{vectorTile:Te,rawData:Ee.buffer}})}loadData(W){return d._(this,void 0,void 0,function*(){var Z;(Z=this._pendingRequest)===null||Z===void 0||Z.abort();const Q=!!(W&&W.request&&W.request.collectResourceTiming)&&new d.bt(W.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(W,this._pendingRequest),this._geoJSONIndex=W.cluster?new lt(function({superclusterOptions:Te,clusterProperties:Ee}){if(!Ee||!Te)return Te;const Ie={},we={},Le={accumulated:null,zoom:0},Ge={properties:null},Ke=Object.keys(Ee);for(const Ue of Ke){const[Tt,St]=Ee[Ue],qt=d.bA(St),Rt=d.bA(typeof Tt=="string"?[Tt,["accumulated"],["get",Ue]]:Tt);Ie[Ue]=qt.value,we[Ue]=Rt.value}return Te.map=Ue=>{Ge.properties=Ue;const Tt={};for(const St of Ke)Tt[St]=Ie[St].evaluate(Le,Ge);return Tt},Te.reduce=(Ue,Tt)=>{Ge.properties=Tt;for(const St of Ke)Le.accumulated=Ue[St],Ue[St]=we[St].evaluate(Le,Ge)},Te}(W)).load((yield this._pendingData).features):new Ft(yield this._pendingData,W.geojsonVtOptions),this.loaded={};const he={};if(Q){const Te=Q.finish();Te&&(he.resourceTiming={},he.resourceTiming[W.source]=JSON.parse(JSON.stringify(Te)))}return he}catch(he){if(delete this._pendingRequest,d.bz(he))return{abandoned:!0};throw he}})}getData(){return d._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(W){const Z=this.loaded;return Z&&Z[W.uid]?super.reloadTile(W):this.loadTile(W)}loadAndProcessGeoJSON(W,Z){return d._(this,void 0,void 0,function*(){let Q=yield this.loadGeoJSON(W,Z);if(delete this._pendingRequest,typeof Q!="object")throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`);if(j(Q,!0),W.filter){const he=d.bA(W.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(he.result==="error")throw new Error(he.value.map(Ee=>`${Ee.key}: ${Ee.message}`).join(", "));Q={type:"FeatureCollection",features:Q.features.filter(Ee=>he.value.evaluate({zoom:0},Ee))}}return Q})}loadGeoJSON(W,Z){return d._(this,void 0,void 0,function*(){const{promoteId:Q}=W;if(W.request){const he=yield d.h(W.request,Z);return this._dataUpdateable=Ot(he.data,Q)?Va(he.data,Q):void 0,he.data}if(typeof W.data=="string")try{const he=JSON.parse(W.data);return this._dataUpdateable=Ot(he,Q)?Va(he,Q):void 0,he}catch{throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`)}if(!W.dataDiff)throw new Error(`Input data given to '${W.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${W.source}`);return function(he,Te,Ee){var Ie,we,Le,Ge;if(Te.removeAll&&he.clear(),Te.remove)for(const Ke of Te.remove)he.delete(Ke);if(Te.add)for(const Ke of Te.add){const Ue=Wn(Ke,Ee);Ue!=null&&he.set(Ue,Ke)}if(Te.update)for(const Ke of Te.update){let Ue=he.get(Ke.id);if(Ue==null)continue;const Tt=!Ke.removeAllProperties&&(((Ie=Ke.removeProperties)===null||Ie===void 0?void 0:Ie.length)>0||((we=Ke.addOrUpdateProperties)===null||we===void 0?void 0:we.length)>0);if((Ke.newGeometry||Ke.removeAllProperties||Tt)&&(Ue=Object.assign({},Ue),he.set(Ke.id,Ue),Tt&&(Ue.properties=Object.assign({},Ue.properties))),Ke.newGeometry&&(Ue.geometry=Ke.newGeometry),Ke.removeAllProperties)Ue.properties={};else if(((Le=Ke.removeProperties)===null||Le===void 0?void 0:Le.length)>0)for(const St of Ke.removeProperties)Object.prototype.hasOwnProperty.call(Ue.properties,St)&&delete Ue.properties[St];if(((Ge=Ke.addOrUpdateProperties)===null||Ge===void 0?void 0:Ge.length)>0)for(const{key:St,value:qt}of Ke.addOrUpdateProperties)Ue.properties[St]=qt}}(this._dataUpdateable,W.dataDiff,Q),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(W){return d._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(W){return this._geoJSONIndex.getClusterExpansionZoom(W.clusterId)}getClusterChildren(W){return this._geoJSONIndex.getChildren(W.clusterId)}getClusterLeaves(W){return this._geoJSONIndex.getLeaves(W.clusterId,W.limit,W.offset)}}class mn{constructor(W){this.self=W,this.actor=new d.C(W),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(Z,Q)=>{if(this.externalWorkerSourceTypes[Z])throw new Error(`Worker source with name "${Z}" already registered.`);this.externalWorkerSourceTypes[Z]=Q},this.self.addProtocol=d.bg,this.self.removeProtocol=d.bh,this.self.registerRTLTextPlugin=Z=>{if(d.bB.isParsed())throw new Error("RTL text plugin already registered.");d.bB.setMethods(Z)},this.actor.registerMessageHandler("LDT",(Z,Q)=>this._getDEMWorkerSource(Z,Q.source).loadTile(Q)),this.actor.registerMessageHandler("RDT",(Z,Q)=>d._(this,void 0,void 0,function*(){this._getDEMWorkerSource(Z,Q.source).removeTile(Q)})),this.actor.registerMessageHandler("GCEZ",(Z,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(Z,Q.type,Q.source).getClusterExpansionZoom(Q)})),this.actor.registerMessageHandler("GCC",(Z,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(Z,Q.type,Q.source).getClusterChildren(Q)})),this.actor.registerMessageHandler("GCL",(Z,Q)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(Z,Q.type,Q.source).getClusterLeaves(Q)})),this.actor.registerMessageHandler("LD",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).loadData(Q)),this.actor.registerMessageHandler("GD",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).getData()),this.actor.registerMessageHandler("LT",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).loadTile(Q)),this.actor.registerMessageHandler("RT",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).reloadTile(Q)),this.actor.registerMessageHandler("AT",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).abortTile(Q)),this.actor.registerMessageHandler("RMT",(Z,Q)=>this._getWorkerSource(Z,Q.type,Q.source).removeTile(Q)),this.actor.registerMessageHandler("RS",(Z,Q)=>d._(this,void 0,void 0,function*(){if(!this.workerSources[Z]||!this.workerSources[Z][Q.type]||!this.workerSources[Z][Q.type][Q.source])return;const he=this.workerSources[Z][Q.type][Q.source];delete this.workerSources[Z][Q.type][Q.source],he.removeSource!==void 0&&he.removeSource(Q)})),this.actor.registerMessageHandler("RM",Z=>d._(this,void 0,void 0,function*(){delete this.layerIndexes[Z],delete this.availableImages[Z],delete this.workerSources[Z],delete this.demWorkerSources[Z]})),this.actor.registerMessageHandler("SR",(Z,Q)=>d._(this,void 0,void 0,function*(){this.referrer=Q})),this.actor.registerMessageHandler("SRPS",(Z,Q)=>this._syncRTLPluginState(Z,Q)),this.actor.registerMessageHandler("IS",(Z,Q)=>d._(this,void 0,void 0,function*(){this.self.importScripts(Q)})),this.actor.registerMessageHandler("SI",(Z,Q)=>this._setImages(Z,Q)),this.actor.registerMessageHandler("UL",(Z,Q)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(Z).update(Q.layers,Q.removedIds)})),this.actor.registerMessageHandler("SL",(Z,Q)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(Z).replace(Q)}))}_setImages(W,Z){return d._(this,void 0,void 0,function*(){this.availableImages[W]=Z;for(const Q in this.workerSources[W]){const he=this.workerSources[W][Q];for(const Te in he)he[Te].availableImages=Z}})}_syncRTLPluginState(W,Z){return d._(this,void 0,void 0,function*(){if(d.bB.isParsed())return d.bB.getState();if(Z.pluginStatus!=="loading")return d.bB.setState(Z),Z;const Q=Z.pluginURL;if(this.self.importScripts(Q),d.bB.isParsed()){const he={pluginStatus:"loaded",pluginURL:Q};return d.bB.setState(he),he}throw d.bB.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${Q}`)})}_getAvailableImages(W){let Z=this.availableImages[W];return Z||(Z=[]),Z}_getLayerIndex(W){let Z=this.layerIndexes[W];return Z||(Z=this.layerIndexes[W]=new c),Z}_getWorkerSource(W,Z,Q){if(this.workerSources[W]||(this.workerSources[W]={}),this.workerSources[W][Z]||(this.workerSources[W][Z]={}),!this.workerSources[W][Z][Q]){const he={sendAsync:(Te,Ee)=>(Te.targetMapId=W,this.actor.sendAsync(Te,Ee))};switch(Z){case"vector":this.workerSources[W][Z][Q]=new T(he,this._getLayerIndex(W),this._getAvailableImages(W));break;case"geojson":this.workerSources[W][Z][Q]=new Ua(he,this._getLayerIndex(W),this._getAvailableImages(W));break;default:this.workerSources[W][Z][Q]=new this.externalWorkerSourceTypes[Z](he,this._getLayerIndex(W),this._getAvailableImages(W))}}return this.workerSources[W][Z][Q]}_getDEMWorkerSource(W,Z){return this.demWorkerSources[W]||(this.demWorkerSources[W]={}),this.demWorkerSources[W][Z]||(this.demWorkerSources[W][Z]=new C),this.demWorkerSources[W][Z]}}return d.i(self)&&(self.worker=new mn(self)),mn}),s("index",["exports","./shared"],function(d,c){var v="4.4.1";let w,S;const T={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:x=>new Promise((a,u)=>{const p=requestAnimationFrame(a);x.signal.addEventListener("abort",()=>{cancelAnimationFrame(p),u(c.c())})}),getImageData(x,a=0){return this.getImageCanvasContext(x).getImageData(-a,-a,x.width+2*a,x.height+2*a)},getImageCanvasContext(x){const a=window.document.createElement("canvas"),u=a.getContext("2d",{willReadFrequently:!0});if(!u)throw new Error("failed to create canvas 2d context");return a.width=x.width,a.height=x.height,u.drawImage(x,0,0,x.width,x.height),u},resolveURL:x=>(w||(w=document.createElement("a")),w.href=x,w.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(S==null&&(S=matchMedia("(prefers-reduced-motion: reduce)")),S.matches)}};class C{static testProp(a){if(!C.docStyle)return a[0];for(let u=0;u<a.length;u++)if(a[u]in C.docStyle)return a[u];return a[0]}static create(a,u,p){const g=window.document.createElement(a);return u!==void 0&&(g.className=u),p&&p.appendChild(g),g}static createNS(a,u){return window.document.createElementNS(a,u)}static disableDrag(){C.docStyle&&C.selectProp&&(C.userSelect=C.docStyle[C.selectProp],C.docStyle[C.selectProp]="none")}static enableDrag(){C.docStyle&&C.selectProp&&(C.docStyle[C.selectProp]=C.userSelect)}static setTransform(a,u){a.style[C.transformProp]=u}static addEventListener(a,u,p,g={}){a.addEventListener(u,p,"passive"in g?g:g.capture)}static removeEventListener(a,u,p,g={}){a.removeEventListener(u,p,"passive"in g?g:g.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",C.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",C.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",C.suppressClickInternal,!0)},0)}static getScale(a){const u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}static getPoint(a,u,p){const g=u.boundingClientRect;return new c.P((p.clientX-g.left)/u.x-a.clientLeft,(p.clientY-g.top)/u.y-a.clientTop)}static mousePos(a,u){const p=C.getScale(a);return C.getPoint(a,p,u)}static touchPos(a,u){const p=[],g=C.getScale(a);for(let _=0;_<u.length;_++)p.push(C.getPoint(a,g,u[_]));return p}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}C.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,C.selectProp=C.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),C.transformProp=C.testProp(["transform","WebkitTransform"]);const D={supported:!1,testSupport:function(x){!Y&&j&&(V?F(x):B=x)}};let B,j,Y=!1,V=!1;function F(x){const a=x.createTexture();x.bindTexture(x.TEXTURE_2D,a);try{if(x.texImage2D(x.TEXTURE_2D,0,x.RGBA,x.RGBA,x.UNSIGNED_BYTE,j),x.isContextLost())return;D.supported=!0}catch{}x.deleteTexture(a),Y=!0}var N;typeof document<"u"&&(j=document.createElement("img"),j.onload=()=>{B&&F(B),B=null,V=!0},j.onerror=()=>{Y=!0,B=null},j.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(x){let a,u,p,g;x.resetRequestQueue=()=>{a=[],u=0,p=0,g={}},x.addThrottleControl=I=>{const R=p++;return g[R]=I,R},x.removeThrottleControl=I=>{delete g[I],E()},x.getImage=(I,R,K=!0)=>new Promise((U,X)=>{D.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),c.e(I,{type:"image"}),a.push({abortController:R,requestParameters:I,supportImageRefresh:K,state:"queued",onError:te=>{X(te)},onSuccess:te=>{U(te)}}),E()});const _=I=>c._(this,void 0,void 0,function*(){I.state="running";const{requestParameters:R,supportImageRefresh:K,onError:U,onSuccess:X,abortController:te}=I,ne=K===!1&&!c.i(self)&&!c.g(R.url)&&(!R.headers||Object.keys(R.headers).reduce((_e,Ce)=>_e&&Ce==="accept",!0));u++;const me=ne?A(R,te):c.m(R,te);try{const _e=yield me;delete I.abortController,I.state="completed",_e.data instanceof HTMLImageElement||c.b(_e.data)?X(_e):_e.data&&X({data:yield(oe=_e.data,typeof createImageBitmap=="function"?c.d(oe):c.f(oe)),cacheControl:_e.cacheControl,expires:_e.expires})}catch(_e){delete I.abortController,U(_e)}finally{u--,E()}var oe}),E=()=>{const I=(()=>{for(const R of Object.keys(g))if(g[R]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let R=u;R<I&&a.length>0;R++){const K=a.shift();K.abortController.signal.aborted?R--:_(K)}},A=(I,R)=>new Promise((K,U)=>{const X=new Image,te=I.url,ne=I.credentials;ne&&ne==="include"?X.crossOrigin="use-credentials":(ne&&ne==="same-origin"||!c.s(te))&&(X.crossOrigin="anonymous"),R.signal.addEventListener("abort",()=>{X.src="",U(c.c())}),X.fetchPriority="high",X.onload=()=>{X.onerror=X.onload=null,K({data:X})},X.onerror=()=>{X.onerror=X.onload=null,R.signal.aborted||U(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},X.src=te})}(N||(N={})),N.resetRequestQueue();class ee{constructor(a){this._transformRequestFn=a}transformRequest(a,u){return this._transformRequestFn&&this._transformRequestFn(a,u)||{url:a}}setTransformRequest(a){this._transformRequestFn=a}}function ie(x){var a=new c.A(3);return a[0]=x[0],a[1]=x[1],a[2]=x[2],a}var fe,be=function(x,a,u){return x[0]=a[0]-u[0],x[1]=a[1]-u[1],x[2]=a[2]-u[2],x};fe=new c.A(3),c.A!=Float32Array&&(fe[0]=0,fe[1]=0,fe[2]=0);var q=function(x){var a=x[0],u=x[1];return a*a+u*u};function pe(x){const a=[];if(typeof x=="string")a.push({id:"default",url:x});else if(x&&x.length>0){const u=[];for(const{id:p,url:g}of x){const _=`${p}${g}`;u.indexOf(_)===-1&&(u.push(_),a.push({id:p,url:g}))}}return a}function xe(x,a,u){const p=x.split("?");return p[0]+=`${a}${u}`,p.join("?")}(function(){var x=new c.A(2);c.A!=Float32Array&&(x[0]=0,x[1]=0)})();class le{constructor(a,u,p,g){this.context=a,this.format=p,this.texture=a.gl.createTexture(),this.update(u,g)}update(a,u,p){const{width:g,height:_}=a,E=!(this.size&&this.size[0]===g&&this.size[1]===_||p),{context:A}=this,{gl:I}=A;if(this.useMipmap=!!(u&&u.useMipmap),I.bindTexture(I.TEXTURE_2D,this.texture),A.pixelStoreUnpackFlipY.set(!1),A.pixelStoreUnpack.set(1),A.pixelStoreUnpackPremultiplyAlpha.set(this.format===I.RGBA&&(!u||u.premultiply!==!1)),E)this.size=[g,_],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||c.b(a)?I.texImage2D(I.TEXTURE_2D,0,this.format,this.format,I.UNSIGNED_BYTE,a):I.texImage2D(I.TEXTURE_2D,0,this.format,g,_,0,this.format,I.UNSIGNED_BYTE,a.data);else{const{x:R,y:K}=p||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||c.b(a)?I.texSubImage2D(I.TEXTURE_2D,0,R,K,I.RGBA,I.UNSIGNED_BYTE,a):I.texSubImage2D(I.TEXTURE_2D,0,R,K,g,_,I.RGBA,I.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&I.generateMipmap(I.TEXTURE_2D)}bind(a,u,p){const{context:g}=this,{gl:_}=g;_.bindTexture(_.TEXTURE_2D,this.texture),p!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=_.LINEAR),a!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,a),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,p||a),this.filter=a),u!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,u),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,u),this.wrap=u)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function Se(x){const{userImage:a}=x;return!!(a&&a.render&&a.render())&&(x.data.replace(new Uint8Array(a.data.buffer)),!0)}class ge extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:u,promiseResolve:p}of this.requestors)p(this._getImagesForIds(u));this.requestors=[]}}getImage(a){const u=this.images[a];if(u&&!u.data&&u.spriteData){const p=u.spriteData;u.data=new c.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),u.spriteData=null}return u}addImage(a,u){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,u)&&(this.images[a]=u)}_validate(a,u){let p=!0;const g=u.data||u.spriteData;return this._validateStretch(u.stretchX,g&&g.width)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "stretchX" value`))),p=!1),this._validateStretch(u.stretchY,g&&g.height)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "stretchY" value`))),p=!1),this._validateContent(u.content,u)||(this.fire(new c.j(new Error(`Image "${a}" has invalid "content" value`))),p=!1),p}_validateStretch(a,u){if(!a)return!0;let p=0;for(const g of a){if(g[0]<p||g[1]<g[0]||u<g[1])return!1;p=g[1]}return!0}_validateContent(a,u){if(!a)return!0;if(a.length!==4)return!1;const p=u.spriteData,g=p&&p.width||u.data.width,_=p&&p.height||u.data.height;return!(a[0]<0||g<a[0]||a[1]<0||_<a[1]||a[2]<0||g<a[2]||a[3]<0||_<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,u,p=!0){const g=this.getImage(a);if(p&&(g.data.width!==u.data.width||g.data.height!==u.data.height))throw new Error(`size mismatch between old image (${g.data.width}x${g.data.height}) and new image (${u.data.width}x${u.data.height}).`);u.version=g.version+1,this.images[a]=u,this.updatedImages[a]=!0}removeImage(a){const u=this.images[a];delete this.images[a],delete this.patterns[a],u.userImage&&u.userImage.onRemove&&u.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a){return new Promise((u,p)=>{let g=!0;if(!this.isLoaded())for(const _ of a)this.images[_]||(g=!1);this.isLoaded()||g?u(this._getImagesForIds(a)):this.requestors.push({ids:a,promiseResolve:u})})}_getImagesForIds(a){const u={};for(const p of a){let g=this.getImage(p);g||(this.fire(new c.k("styleimagemissing",{id:p})),g=this.getImage(p)),g?u[p]={data:g.data.clone(),pixelRatio:g.pixelRatio,sdf:g.sdf,version:g.version,stretchX:g.stretchX,stretchY:g.stretchY,content:g.content,textFitWidth:g.textFitWidth,textFitHeight:g.textFitHeight,hasRenderCallback:!!(g.userImage&&g.userImage.render)}:c.w(`Image "${p}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return u}getPixelSize(){const{width:a,height:u}=this.atlasImage;return{width:a,height:u}}getPattern(a){const u=this.patterns[a],p=this.getImage(a);if(!p)return null;if(u&&u.position.version===p.version)return u.position;if(u)u.position.version=p.version;else{const g={w:p.data.width+2,h:p.data.height+2,x:0,y:0},_=new c.I(g,p);this.patterns[a]={bin:g,position:_}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const u=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new le(a,this.atlasImage,u.RGBA),this.atlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const _ in this.patterns)a.push(this.patterns[_].bin);const{w:u,h:p}=c.p(a),g=this.atlasImage;g.resize({width:u||1,height:p||1});for(const _ in this.patterns){const{bin:E}=this.patterns[_],A=E.x+1,I=E.y+1,R=this.getImage(_).data,K=R.width,U=R.height;c.R.copy(R,g,{x:0,y:0},{x:A,y:I},{width:K,height:U}),c.R.copy(R,g,{x:0,y:U-1},{x:A,y:I-1},{width:K,height:1}),c.R.copy(R,g,{x:0,y:0},{x:A,y:I+U},{width:K,height:1}),c.R.copy(R,g,{x:K-1,y:0},{x:A-1,y:I},{width:1,height:U}),c.R.copy(R,g,{x:0,y:0},{x:A+K,y:I},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const u of a){if(this.callbackDispatchedThisFrame[u])continue;this.callbackDispatchedThisFrame[u]=!0;const p=this.getImage(u);p||c.w(`Image with ID: "${u}" was not found`),Se(p)&&this.updateImage(u,p)}}}const ye=1e20;function Be(x,a,u,p,g,_,E,A,I){for(let R=a;R<a+p;R++)Re(x,u*_+R,_,g,E,A,I);for(let R=u;R<u+g;R++)Re(x,R*_+a,1,p,E,A,I)}function Re(x,a,u,p,g,_,E){_[0]=0,E[0]=-ye,E[1]=ye,g[0]=x[a];for(let A=1,I=0,R=0;A<p;A++){g[A]=x[a+A*u];const K=A*A;do{const U=_[I];R=(g[A]-g[U]+K-U*U)/(A-U)/2}while(R<=E[I]&&--I>-1);I++,_[I]=A,E[I]=R,E[I+1]=ye}for(let A=0,I=0;A<p;A++){for(;E[I+1]<A;)I++;const R=_[I],K=A-R;x[a+A*u]=g[R]+K*K}}class ae{constructor(a,u){this.requestManager=a,this.localIdeographFontFamily=u,this.entries={}}setURL(a){this.url=a}getGlyphs(a){return c._(this,void 0,void 0,function*(){const u=[];for(const _ in a)for(const E of a[_])u.push(this._getAndCacheGlyphsPromise(_,E));const p=yield Promise.all(u),g={};for(const{stack:_,id:E,glyph:A}of p)g[_]||(g[_]={}),g[_][E]=A&&{id:A.id,bitmap:A.bitmap.clone(),metrics:A.metrics};return g})}_getAndCacheGlyphsPromise(a,u){return c._(this,void 0,void 0,function*(){let p=this.entries[a];p||(p=this.entries[a]={glyphs:{},requests:{},ranges:{}});let g=p.glyphs[u];if(g!==void 0)return{stack:a,id:u,glyph:g};if(g=this._tinySDF(p,a,u),g)return p.glyphs[u]=g,{stack:a,id:u,glyph:g};const _=Math.floor(u/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[_])return{stack:a,id:u,glyph:g};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[_]){const A=ae.loadGlyphRange(a,_,this.url,this.requestManager);p.requests[_]=A}const E=yield p.requests[_];for(const A in E)this._doesCharSupportLocalGlyph(+A)||(p.glyphs[+A]=E[+A]);return p.ranges[_]=!0,{stack:a,id:u,glyph:E[u]||null}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(c.u["CJK Unified Ideographs"](a)||c.u["Hangul Syllables"](a)||c.u.Hiragana(a)||c.u.Katakana(a))}_tinySDF(a,u,p){const g=this.localIdeographFontFamily;if(!g||!this._doesCharSupportLocalGlyph(p))return;let _=a.tinySDF;if(!_){let A="400";/bold/i.test(u)?A="900":/medium/i.test(u)?A="500":/light/i.test(u)&&(A="200"),_=a.tinySDF=new ae.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:g,fontWeight:A})}const E=_.draw(String.fromCharCode(p));return{id:p,bitmap:new c.o({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}ae.loadGlyphRange=function(x,a,u,p){return c._(this,void 0,void 0,function*(){const g=256*a,_=g+255,E=p.transformRequest(u.replace("{fontstack}",x).replace("{range}",`${g}-${_}`),"Glyphs"),A=yield c.l(E,new AbortController);if(!A||!A.data)throw new Error(`Could not load glyph range. range: ${a}, ${g}-${_}`);const I={};for(const R of c.n(A.data))I[R.id]=R;return I})},ae.TinySDF=class{constructor({fontSize:x=24,buffer:a=3,radius:u=8,cutoff:p=.25,fontFamily:g="sans-serif",fontWeight:_="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=p,this.radius=u;const A=this.size=x+4*a,I=this._createCanvas(A),R=this.ctx=I.getContext("2d",{willReadFrequently:!0});R.font=`${E} ${_} ${x}px ${g}`,R.textBaseline="alphabetic",R.textAlign="left",R.fillStyle="black",this.gridOuter=new Float64Array(A*A),this.gridInner=new Float64Array(A*A),this.f=new Float64Array(A),this.z=new Float64Array(A+1),this.v=new Uint16Array(A)}_createCanvas(x){const a=document.createElement("canvas");return a.width=a.height=x,a}draw(x){const{width:a,actualBoundingBoxAscent:u,actualBoundingBoxDescent:p,actualBoundingBoxLeft:g,actualBoundingBoxRight:_}=this.ctx.measureText(x),E=Math.ceil(u),A=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-g))),I=Math.min(this.size-this.buffer,E+Math.ceil(p)),R=A+2*this.buffer,K=I+2*this.buffer,U=Math.max(R*K,0),X=new Uint8ClampedArray(U),te={data:X,width:R,height:K,glyphWidth:A,glyphHeight:I,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(A===0||I===0)return te;const{ctx:ne,buffer:me,gridInner:oe,gridOuter:_e}=this;ne.clearRect(me,me,A,I),ne.fillText(x,me,me+E);const Ce=ne.getImageData(me,me,A,I);_e.fill(ye,0,U),oe.fill(0,0,U);for(let de=0;de<I;de++)for(let ke=0;ke<A;ke++){const $e=Ce.data[4*(de*A+ke)+3]/255;if($e===0)continue;const Fe=(de+me)*R+ke+me;if($e===1)_e[Fe]=0,oe[Fe]=ye;else{const We=.5-$e;_e[Fe]=We>0?We*We:0,oe[Fe]=We<0?We*We:0}}Be(_e,0,0,R,K,R,this.f,this.v,this.z),Be(oe,me,me,A,I,R,this.f,this.v,this.z);for(let de=0;de<U;de++){const ke=Math.sqrt(_e[de])-Math.sqrt(oe[de]);X[de]=Math.round(255-255*(ke/this.radius+this.cutoff))}return te}};class De{constructor(){this.specification=c.v.light.position}possiblyEvaluate(a,u){return c.y(a.expression.evaluate(u))}interpolate(a,u,p){return{x:c.z.number(a.x,u.x,p),y:c.z.number(a.y,u.y,p),z:c.z.number(a.z,u.z,p)}}}let je;class Oe extends c.E{constructor(a){super(),je=je||new c.q({anchor:new c.D(c.v.light.anchor),position:new De,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.T(je),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,u={}){if(!this._validate(c.r,a,u))for(const p in a){const g=a[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),g):this._transitionable.setValue(p,g)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,u,p){return(!p||p.validate!==!1)&&c.t(this,a.call(c.x,{value:u,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}class se{constructor(a,u){this.width=a,this.height=u,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,u){const p=a.join(",")+String(u);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(a,u)),this.dashEntry[p]}getDashRanges(a,u,p){const g=[];let _=a.length%2==1?-a[a.length-1]*p:0,E=a[0]*p,A=!0;g.push({left:_,right:E,isDash:A,zeroLength:a[0]===0});let I=a[0];for(let R=1;R<a.length;R++){A=!A;const K=a[R];_=I*p,I+=K,E=I*p,g.push({left:_,right:E,isDash:A,zeroLength:K===0})}return g}addRoundDash(a,u,p){const g=u/2;for(let _=-p;_<=p;_++){const E=this.width*(this.nextRow+p+_);let A=0,I=a[A];for(let R=0;R<this.width;R++){R/I.right>1&&(I=a[++A]);const K=Math.abs(R-I.left),U=Math.abs(R-I.right),X=Math.min(K,U);let te;const ne=_/p*(g+1);if(I.isDash){const me=g-Math.abs(ne);te=Math.sqrt(X*X+me*me)}else te=g-Math.sqrt(X*X+ne*ne);this.data[E+R]=Math.max(0,Math.min(255,te+128))}}}addRegularDash(a){for(let A=a.length-1;A>=0;--A){const I=a[A],R=a[A+1];I.zeroLength?a.splice(A,1):R&&R.isDash===I.isDash&&(R.left=I.left,a.splice(A,1))}const u=a[0],p=a[a.length-1];u.isDash===p.isDash&&(u.left=p.left-this.width,p.right=u.right+this.width);const g=this.width*this.nextRow;let _=0,E=a[_];for(let A=0;A<this.width;A++){A/E.right>1&&(E=a[++_]);const I=Math.abs(A-E.left),R=Math.abs(A-E.right),K=Math.min(I,R);this.data[g+A]=Math.max(0,Math.min(255,(E.isDash?K:-K)+128))}}addDash(a,u){const p=u?7:0,g=2*p+1;if(this.nextRow+g>this.height)return c.w("LineAtlas out of space"),null;let _=0;for(let A=0;A<a.length;A++)_+=a[A];if(_!==0){const A=this.width/_,I=this.getDashRanges(a,this.width,A);u?this.addRoundDash(I,A,p):this.addRegularDash(I)}const E={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:_};return this.nextRow+=g,this.dirty=!0,E}bind(a){const u=a.gl;this.texture?(u.bindTexture(u.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,u.texSubImage2D(u.TEXTURE_2D,0,0,0,this.width,this.height,u.ALPHA,u.UNSIGNED_BYTE,this.data))):(this.texture=u.createTexture(),u.bindTexture(u.TEXTURE_2D,this.texture),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.REPEAT),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texImage2D(u.TEXTURE_2D,0,u.ALPHA,this.width,this.height,0,u.ALPHA,u.UNSIGNED_BYTE,this.data))}}const ze="maplibre_preloaded_worker_pool";class Ze{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Ze.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(u=>{u.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ze]}numActive(){return Object.keys(this.active).length}}const lt=Math.floor(T.hardwareConcurrency/2);let mt,gt;function Et(){return mt||(mt=new Ze),mt}Ze.workerCount=c.B(globalThis)?Math.max(Math.min(lt,3),1):1;class Pt{constructor(a,u){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=u;const p=this.workerPool.acquire(u);for(let g=0;g<p.length;g++){const _=new c.C(p[g],u);_.name=`Worker ${g}`,this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,u){const p=[];for(const g of this.actors)p.push(g.sendAsync({type:a,data:u}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(u=>{u.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}registerMessageHandler(a,u){for(const p of this.actors)p.registerMessageHandler(a,u)}}function At(){return gt||(gt=new Pt(Et(),c.G),gt.registerMessageHandler("GR",(x,a,u)=>c.m(a,u))),gt}function zt(x,a){const u=c.F();return c.H(u,u,[1,1,0]),c.J(u,u,[.5*x.width,.5*x.height,1]),c.K(u,u,x.calculatePosMatrix(a.toUnwrapped()))}function Nt(x,a,u,p,g,_){const E=function(U,X,te){if(U)for(const ne of U){const me=X[ne];if(me&&me.source===te&&me.type==="fill-extrusion")return!0}else for(const ne in X){const me=X[ne];if(me.source===te&&me.type==="fill-extrusion")return!0}return!1}(g&&g.layers,a,x.id),A=_.maxPitchScaleFactor(),I=x.tilesIn(p,A,E);I.sort(ar);const R=[];for(const U of I)R.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,u,x._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,g,_,A,zt(x.transform,U.tileID))});const K=function(U){const X={},te={};for(const ne of U){const me=ne.queryResults,oe=ne.wrappedTileID,_e=te[oe]=te[oe]||{};for(const Ce in me){const de=me[Ce],ke=_e[Ce]=_e[Ce]||{},$e=X[Ce]=X[Ce]||[];for(const Fe of de)ke[Fe.featureIndex]||(ke[Fe.featureIndex]=!0,$e.push(Fe))}}return X}(R);for(const U in K)K[U].forEach(X=>{const te=X.feature,ne=x.getFeatureState(te.layer["source-layer"],te.id);te.source=te.layer.source,te.layer["source-layer"]&&(te.sourceLayer=te.layer["source-layer"]),te.state=ne});return K}function ar(x,a){const u=x.tileID,p=a.tileID;return u.overscaledZ-p.overscaledZ||u.canonical.y-p.canonical.y||u.wrap-p.wrap||u.canonical.x-p.canonical.x}function Zt(x,a,u){return c._(this,void 0,void 0,function*(){let p=x;if(x.url?p=(yield c.h(a.transformRequest(x.url,"Source"),u)).data:yield T.frameAsync(u),!p)return null;const g=c.L(c.e(p,x),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(g.vectorLayerIds=p.vector_layers.map(_=>_.id)),g})}class Yt{constructor(a,u){a&&(u?this.setSouthWest(a).setNorthEast(u):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof c.M?new c.M(a.lng,a.lat):c.M.convert(a),this}setSouthWest(a){return this._sw=a instanceof c.M?new c.M(a.lng,a.lat):c.M.convert(a),this}extend(a){const u=this._sw,p=this._ne;let g,_;if(a instanceof c.M)g=a,_=a;else{if(!(a instanceof Yt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(Yt.convert(a)):this.extend(c.M.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(c.M.convert(a)):this;if(g=a._sw,_=a._ne,!g||!_)return this}return u||p?(u.lng=Math.min(g.lng,u.lng),u.lat=Math.min(g.lat,u.lat),p.lng=Math.max(_.lng,p.lng),p.lat=Math.max(_.lat,p.lat)):(this._sw=new c.M(g.lng,g.lat),this._ne=new c.M(_.lng,_.lat)),this}getCenter(){return new c.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.M(this.getWest(),this.getNorth())}getSouthEast(){return new c.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:u,lat:p}=c.M.convert(a);let g=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&g}static convert(a){return a instanceof Yt?a:a&&new Yt(a)}static fromLngLat(a,u=0){const p=360*u/40075017,g=p/Math.cos(Math.PI/180*a.lat);return new Yt(new c.M(a.lng-g,a.lat-p),new c.M(a.lng+g,a.lat+p))}}class Kn{constructor(a,u,p){this.bounds=Yt.convert(this.validateBounds(a)),this.minzoom=u||0,this.maxzoom=p||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const u=Math.pow(2,a.z),p=Math.floor(c.N(this.bounds.getWest())*u),g=Math.floor(c.O(this.bounds.getNorth())*u),_=Math.ceil(c.N(this.bounds.getEast())*u),E=Math.ceil(c.O(this.bounds.getSouth())*u);return a.x>=p&&a.x<_&&a.y>=g&&a.y<E}}class Ve extends c.E{constructor(a,u,p,g){if(super(),this.id=a,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.L(u,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},u),this._collectResourceTiming=u.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(g)}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const a=yield Zt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),a&&(c.e(this,a),a.bounds&&(this.tileBounds=new Kn(a.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new c.j(a))}})}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.abort(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(u,"Tile"),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let g="RT";if(a.actor&&a.state!=="expired"){if(a.state==="loading")return new Promise((_,E)=>{a.reloadPromise={resolve:_,reject:E}})}else a.actor=this.dispatcher.getActor(),g="LT";a.abortController=new AbortController;try{const _=yield a.actor.sendAsync({type:g,data:p},a.abortController);if(delete a.abortController,a.aborted)return;this._afterTileLoadWorkerResponse(a,_)}catch(_){if(delete a.abortController,a.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(a,null)}})}_afterTileLoadWorkerResponse(a,u){if(u&&u.resourceTiming&&(a.resourceTiming=u.resourceTiming),u&&this.map._refreshExpiredTiles&&a.setExpiryData(u),a.loadVectorData(u,this.map.painter),a.reloadPromise){const p=a.reloadPromise;a.reloadPromise=null,this.loadTile(a).then(p.resolve).catch(p.reject)}}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.actor&&(yield a.actor.sendAsync({type:"AT",data:{uid:a.uid,type:this.type,source:this.id}}))})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.unloadVectorData(),a.actor&&(yield a.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class ni extends c.E{constructor(a,u,p,g){super(),this.id=a,this.dispatcher=p,this.setEventedParent(g),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},u),c.e(this,c.L(u,["url","scheme","tileSize"]))}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const a=yield Zt(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,a&&(c.e(this,a),a.bounds&&(this.tileBounds=new Kn(a.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(a){this._tileJSONRequest=null,this.fire(new c.j(a))}})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}serialize(){return c.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.abortController=new AbortController;try{const p=yield N.getImage(this.map._requestManager.transformRequest(u,"Tile"),a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&a.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const g=this.map.painter.context,_=g.gl,E=p.data;a.texture=this.map.painter.getTileTexture(E.width),a.texture?a.texture.update(E,{useMipmap:!0}):(a.texture=new le(g,E,_.RGBA,{useMipmap:!0}),a.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),g.extTextureFilterAnisotropic&&_.texParameterf(_.TEXTURE_2D,g.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,g.extTextureFilterAnisotropicMax)),a.state="loaded"}}catch(p){if(delete a.abortController,a.aborted)a.state="unloaded";else if(p)throw a.state="errored",p}})}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController)})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.texture&&this.map.painter.saveTileTexture(a.texture)})}hasTransition(){return!1}}class kr extends ni{constructor(a,u,p,g){super(a,u,p,g),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},u),this.encoding=u.encoding||"mapbox",this.redFactor=u.redFactor,this.greenFactor=u.greenFactor,this.blueFactor=u.blueFactor,this.baseShift=u.baseShift}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(u,"Tile");a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.abortController=new AbortController;try{const g=yield N.getImage(p,a.abortController,this.map._refreshExpiredTiles);if(delete a.abortController,a.aborted)return void(a.state="unloaded");if(g&&g.data){const _=g.data;this.map._refreshExpiredTiles&&g.cacheControl&&g.expires&&a.setExpiryData({cacheControl:g.cacheControl,expires:g.expires});const E=c.b(_)&&c.S()?_:yield this.readImageNow(_),A={type:this.type,uid:a.uid,source:this.id,rawImageData:E,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!a.actor||a.state==="expired"){a.actor=this.dispatcher.getActor();const I=yield a.actor.sendAsync({type:"LDT",data:A});a.dem=I,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded"}}}catch(g){if(delete a.abortController,a.aborted)a.state="unloaded";else if(g)throw a.state="errored",g}})}readImageNow(a){return c._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&c.U()){const u=a.width+2,p=a.height+2;try{return new c.R({width:u,height:p},yield c.V(a,-1,-1,u,p))}catch{}}return T.getImageData(a,1)})}_getNeighboringTiles(a){const u=a.canonical,p=Math.pow(2,u.z),g=(u.x-1+p)%p,_=u.x===0?a.wrap-1:a.wrap,E=(u.x+1+p)%p,A=u.x+1===p?a.wrap+1:a.wrap,I={};return I[new c.Q(a.overscaledZ,_,u.z,g,u.y).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y).key]={backfilled:!1},u.y>0&&(I[new c.Q(a.overscaledZ,_,u.z,g,u.y-1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,a.wrap,u.z,u.x,u.y-1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y-1).key]={backfilled:!1}),u.y+1<p&&(I[new c.Q(a.overscaledZ,_,u.z,g,u.y+1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,a.wrap,u.z,u.x,u.y+1).key]={backfilled:!1},I[new c.Q(a.overscaledZ,A,u.z,E,u.y+1).key]={backfilled:!1}),I}unloadTile(a){return c._(this,void 0,void 0,function*(){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&(yield a.actor.sendAsync({type:"RDT",data:{type:this.type,uid:a.uid,source:this.id}}))})}}class Gt extends c.E{constructor(a,u,p,g){super(),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(g),this._data=u.data,this._options=c.e({},u),this._collectResourceTiming=u.collectResourceTiming,u.maxzoom!==void 0&&(this.maxzoom=u.maxzoom),u.type&&(this.type=u.type),u.attribution&&(this.attribution=u.attribution),this.promoteId=u.promoteId;const _=c.W/this.tileSize;this.workerOptions=c.e({source:this.id,cluster:u.cluster||!1,geojsonVtOptions:{buffer:(u.buffer!==void 0?u.buffer:128)*_,tolerance:(u.tolerance!==void 0?u.tolerance:.375)*_,extent:c.W,maxZoom:this.maxzoom,lineMetrics:u.lineMetrics||!1,generateId:u.generateId||!1},superclusterOptions:{maxZoom:u.clusterMaxZoom!==void 0?u.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,u.clusterMinPoints||2),extent:c.W,radius:(u.clusterRadius||50)*_,log:!1,generateId:u.generateId||!1},clusterProperties:u.clusterProperties,filter:u.filter},u.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return c._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}getData(){return c._(this,void 0,void 0,function*(){const a=c.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:a})})}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:a,source:this.id}})}getClusterChildren(a){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:a,source:this.id}})}getClusterLeaves(a,u,p){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:a,limit:u,offset:p}})}_updateWorkerData(a){return c._(this,void 0,void 0,function*(){const u=c.e({type:this.type},this.workerOptions);a?u.dataDiff=a:typeof this._data=="string"?(u.request=this.map._requestManager.transformRequest(T.resolveURL(this._data),"Source"),u.request.collectResourceTiming=this._collectResourceTiming):u.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"LD",data:u});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new c.k("dataabort",{dataType:"source"}));let g=null;p.resourceTiming&&p.resourceTiming[this.id]&&(g=p.resourceTiming[this.id].slice(0));const _={dataType:"source"};this._collectResourceTiming&&g&&g.length>0&&c.e(_,{resourceTiming:g}),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"metadata"}))),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new c.k("dataabort",{dataType:"source"}));this.fire(new c.j(p))}})}loaded(){return this._pendingLoads===0}loadTile(a){return c._(this,void 0,void 0,function*(){const u=a.actor?"RT":"LT";a.actor=this.actor;const p={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.abortController=new AbortController;const g=yield this.actor.sendAsync({type:u,data:p},a.abortController);delete a.abortController,a.unloadVectorData(),a.aborted||a.loadVectorData(g,this.map.painter,u==="RT")})}abortTile(a){return c._(this,void 0,void 0,function*(){a.abortController&&(a.abortController.abort(),delete a.abortController),a.aborted=!0})}unloadTile(a){return c._(this,void 0,void 0,function*(){a.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:a.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var yr=c.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Yi extends c.E{constructor(a,u,p,g){super(),this.id=a,this.dispatcher=p,this.coordinates=u.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(g),this.options=u}load(a){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const u=yield N.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,u&&u.data&&(this.image=u.data,a&&(this.coordinates=a),this._finishLoading())}catch(u){this._request=null,this._loaded=!0,this.fire(new c.j(u))}})}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=a.url,this.load(a.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(a){this.coordinates=a;const u=a.map(c.Y.fromLngLat);this.tileID=function(g){let _=1/0,E=1/0,A=-1/0,I=-1/0;for(const X of g)_=Math.min(_,X.x),E=Math.min(E,X.y),A=Math.max(A,X.x),I=Math.max(I,X.y);const R=Math.max(A-_,I-E),K=Math.max(0,Math.floor(-Math.log(R)/Math.LN2)),U=Math.pow(2,K);return new c.a0(K,Math.floor((_+A)/2*U),Math.floor((E+I)/2*U))}(u),this.minzoom=this.maxzoom=this.tileID.z;const p=u.map(g=>this.tileID.getTilePoint(g)._round());return this._boundsArray=new c.Z,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,c.W,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,c.W),this._boundsArray.emplaceBack(p[2].x,p[2].y,c.W,c.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const a=this.map.painter.context,u=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new le(a,this.image,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let p=!1;for(const g in this.tiles){const _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(a){return c._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={}):a.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class ho extends Yi{constructor(a,u,p,g){super(a,u,p,g),this.roundZoom=!0,this.type="video",this.options=u}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1;const a=this.options;this.urls=[];for(const u of a.urls)this.urls.push(this.map._requestManager.transformRequest(u,"Source").url);try{const u=yield c.a2(this.urls);if(this._loaded=!0,!u)return;this.video=u,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(u){this.fire(new c.j(u))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const u=this.video.seekable;a<u.start(0)||a>u.end(0)?this.fire(new c.j(new c.a1(`sources.${this.id}`,null,`Playback for this video can be set only between the ${u.start(0)} and ${u.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const a=this.map.painter.context,u=a.gl;this.boundsBuffer||(this.boundsBuffer=a.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE),u.texSubImage2D(u.TEXTURE_2D,0,0,0,u.RGBA,u.UNSIGNED_BYTE,this.video)):(this.texture=new le(a,this.video,u.RGBA),this.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE));let p=!1;for(const g in this.tiles){const _=this.tiles[g];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Fo extends Yi{constructor(a,u,p,g){super(a,u,p,g),u.coordinates?Array.isArray(u.coordinates)&&u.coordinates.length===4&&!u.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(E=>typeof E!="number"))||this.fire(new c.j(new c.a1(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.j(new c.a1(`sources.${a}`,null,'missing required property "coordinates"'))),u.animate&&typeof u.animate!="boolean"&&this.fire(new c.j(new c.a1(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),u.canvas?typeof u.canvas=="string"||u.canvas instanceof HTMLCanvasElement||this.fire(new c.j(new c.a1(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.j(new c.a1(`sources.${a}`,null,'missing required property "canvas"'))),this.options=u,this.animate=u.animate===void 0||u.animate}load(){return c._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let a=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,a=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,a=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const u=this.map.painter.context,p=u.gl;this.boundsBuffer||(this.boundsBuffer=u.createVertexBuffer(this._boundsArray,yr.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?(a||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new le(u,this.canvas,p.RGBA,{premultiply:!0});let g=!1;for(const _ in this.tiles){const E=this.tiles[_];E.state!=="loaded"&&(E.state="loaded",E.texture=this.texture,g=!0)}g&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const ja={},Xi=x=>{switch(x){case"geojson":return Gt;case"image":return Yi;case"raster":return ni;case"raster-dem":return kr;case"vector":return Ve;case"video":return ho;case"canvas":return Fo}return ja[x]},fo="RTLPluginLoaded";class Vr extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=At()}_syncState(a){return this.status=a,this.dispatcher.broadcast("SRPS",{pluginStatus:a,pluginURL:this.url}).catch(u=>{throw this.status="error",u})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(a){return c._(this,arguments,void 0,function*(u,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=T.resolveURL(u),!this.url)throw new Error(`requested url ${u} is invalid`);if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return c._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.k(fo))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Je=null;function en(){return Je||(Je=new Vr),Je}class In{constructor(a,u){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=c.a3(),this.uses=0,this.tileSize=u,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const u=a+this.timeAdded;u<this.fadeEndTime||(this.fadeEndTime=u)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,u,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(g,_){const E={};if(!_)return E;for(const A of g){const I=A.layerIds.map(R=>_.getLayer(R)).filter(Boolean);if(I.length!==0){A.layers=I,A.stateDependentLayerIds&&(A.stateDependentLayers=A.stateDependentLayerIds.map(R=>I.filter(K=>K.id===R)[0]));for(const R of I)E[R.id]=A}}return E}(a.buckets,u.style),this.hasSymbolBuckets=!1;for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof c.a5){if(this.hasSymbolBuckets=!0,!p)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const g in this.buckets){const _=this.buckets[g];if(_ instanceof c.a5&&_.hasRTLText){this.hasRTLText=!0,en().lazyLoad();break}}this.queryPadding=0;for(const g in this.buckets){const _=this.buckets[g];this.queryPadding=Math.max(this.queryPadding,u.style.getLayer(g).queryRadius(_))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new c.a4}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const p in this.buckets){const g=this.buckets[p];g.uploadPending()&&g.upload(a)}const u=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new le(a,this.imageAtlas.image,u.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new le(a,this.glyphAtlasImage,u.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,u,p,g,_,E,A,I,R,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:g,cameraQueryGeometry:_,scale:E,tileSize:this.tileSize,pixelPosMatrix:K,transform:I,params:A,queryPadding:this.queryPadding*R},a,u,p):{}}querySourceFeatures(a,u){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const g=p.loadVTLayers(),_=u&&u.sourceLayer?u.sourceLayer:"",E=g._geojsonTileLayer||g[_];if(!E)return;const A=c.a6(u&&u.filter),{z:I,x:R,y:K}=this.tileID.canonical,U={z:I,x:R,y:K};for(let X=0;X<E.length;X++){const te=E.feature(X);if(A.needGeometry){const oe=c.a7(te,!0);if(!A.filter(new c.a8(this.tileID.overscaledZ),oe,this.tileID.canonical))continue}else if(!A.filter(new c.a8(this.tileID.overscaledZ),te))continue;const ne=p.getId(te,_),me=new c.a9(te,I,R,K,ne);me.tile=U,a.push(me)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const u=this.expirationTime;if(a.cacheControl){const p=c.aa(a.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const p=Date.now();let g=!1;if(this.expirationTime>p)g=!1;else if(u)if(this.expirationTime<u)g=!0;else{const _=this.expirationTime-u;_?this.expirationTime=p+Math.max(_,3e4):g=!0}else g=!0;g?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,u){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const g in this.buckets){if(!u.style.hasLayer(g))continue;const _=this.buckets[g],E=_.layers[0].sourceLayer||"_geojsonTileLayer",A=p[E],I=a[E];if(!A||!I||Object.keys(I).length===0)continue;_.update(I,A,this.imageAtlas&&this.imageAtlas.patternPositions||{});const R=u&&u.style&&u.style.getLayer(g);R&&(this.queryPadding=Math.max(this.queryPadding,R.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<T.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=T.now()+a}setDependencies(a,u){const p={};for(const g of u)p[g]=!0;this.dependencies[a]=p}hasDependency(a,u){for(const p of a){const g=this.dependencies[p];if(g){for(const _ of u)if(g[_])return!0}}return!1}}class Ms{constructor(a,u){this.max=a,this.onRemove=u,this.reset()}reset(){for(const a in this.data)for(const u of this.data[a])u.timeout&&clearTimeout(u.timeout),this.onRemove(u.value);return this.data={},this.order=[],this}add(a,u,p){const g=a.wrapped().key;this.data[g]===void 0&&(this.data[g]=[]);const _={value:u,timeout:void 0};if(p!==void 0&&(_.timeout=setTimeout(()=>{this.remove(a,_)},p)),this.data[g].push(_),this.order.push(g),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const u=this.data[a].shift();return u.timeout&&clearTimeout(u.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),u.value}getByKey(a){const u=this.data[a];return u?u[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,u){if(!this.has(a))return this;const p=a.wrapped().key,g=u===void 0?0:this.data[p].indexOf(u),_=this.data[p][g];return this.data[p].splice(g,1),_.timeout&&clearTimeout(_.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(_.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const u=this._getAndRemoveByKey(this.order[0]);u&&this.onRemove(u)}return this}filter(a){const u=[];for(const p in this.data)for(const g of this.data[p])a(g.value)||u.push(g);for(const p of u)this.remove(p.value.tileID,p)}}class Bo{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,u,p){const g=String(u);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][g]=this.stateChanges[a][g]||{},c.e(this.stateChanges[a][g],p),this.deletedStates[a]===null){this.deletedStates[a]={};for(const _ in this.state[a])_!==g&&(this.deletedStates[a][_]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][g]===null){this.deletedStates[a][g]={};for(const _ in this.state[a][g])p[_]||(this.deletedStates[a][g][_]=null)}else for(const _ in p)this.deletedStates[a]&&this.deletedStates[a][g]&&this.deletedStates[a][g][_]===null&&delete this.deletedStates[a][g][_]}removeFeatureState(a,u,p){if(this.deletedStates[a]===null)return;const g=String(u);if(this.deletedStates[a]=this.deletedStates[a]||{},p&&u!==void 0)this.deletedStates[a][g]!==null&&(this.deletedStates[a][g]=this.deletedStates[a][g]||{},this.deletedStates[a][g][p]=null);else if(u!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][g])for(p in this.deletedStates[a][g]={},this.stateChanges[a][g])this.deletedStates[a][g][p]=null;else this.deletedStates[a][g]=null;else this.deletedStates[a]=null}getState(a,u){const p=String(u),g=c.e({},(this.state[a]||{})[p],(this.stateChanges[a]||{})[p]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const _=this.deletedStates[a][u];if(_===null)return{};for(const E in _)delete g[E]}return g}initializeTileState(a,u){a.setFeatureState(this.state,u)}coalesceChanges(a,u){const p={};for(const g in this.stateChanges){this.state[g]=this.state[g]||{};const _={};for(const E in this.stateChanges[g])this.state[g][E]||(this.state[g][E]={}),c.e(this.state[g][E],this.stateChanges[g][E]),_[E]=this.state[g][E];p[g]=_}for(const g in this.deletedStates){this.state[g]=this.state[g]||{};const _={};if(this.deletedStates[g]===null)for(const E in this.state[g])_[E]={},this.state[g][E]={};else for(const E in this.deletedStates[g]){if(this.deletedStates[g][E]===null)this.state[g][E]={};else for(const A of Object.keys(this.deletedStates[g][E]))delete this.state[g][E][A];_[E]=this.state[g][E]}p[g]=p[g]||{},c.e(p[g],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const g in a)a[g].setFeatureState(p,u)}}class Qe extends c.E{constructor(a,u,p){super(),this.id=a,this.dispatcher=p,this.on("data",g=>this._dataHandler(g)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((g,_,E,A)=>{const I=new(Xi(_.type))(g,_,E,A);if(I.id!==g)throw new Error(`Expected Source id to be ${g} instead of ${I.id}`);return I})(a,u,p,this),this._tiles={},this._cache=new Ms(0,g=>this._unloadTile(g)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Bo,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const u=this._tiles[a];if(u.state!=="loaded"&&u.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,u,p){return c._(this,void 0,void 0,function*(){try{yield this._source.loadTile(a),this._tileLoaded(a,u,p)}catch(g){a.state="errored",g.status!==404?this._source.fire(new c.j(g,{tile:a})):this.update(this.transform,this.terrain)}})}_unloadTile(a){this._source.unloadTile&&this._source.unloadTile(a)}_abortTile(a){this._source.abortTile&&this._source.abortTile(a),this._source.fire(new c.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const u in this._tiles){const p=this._tiles[u];p.upload(a),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Kt).map(a=>a.key)}getRenderableIds(a){const u=[];for(const p in this._tiles)this._isIdRenderable(p,a)&&u.push(this._tiles[p]);return a?u.sort((p,g)=>{const _=p.tileID,E=g.tileID,A=new c.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),I=new c.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-E.overscaledZ||I.y-A.y||I.x-A.x}).map(p=>p.tileID.key):u.map(p=>p.tileID).sort(Kt).map(p=>p.key)}hasRenderableParent(a){const u=this.findLoadedParent(a,0);return!!u&&this._isIdRenderable(u.tileID.key)}_isIdRenderable(a,u){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(u||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,u){return c._(this,void 0,void 0,function*(){const p=this._tiles[a];p&&(p.state!=="loading"&&(p.state=u),yield this._loadTile(p,a,u))})}_tileLoaded(a,u,p){a.timeAdded=T.now(),p==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(u,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new c.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const u=this.getRenderableIds();for(let g=0;g<u.length;g++){const _=u[g];if(a.neighboringTiles&&a.neighboringTiles[_]){const E=this.getTileByID(_);p(a,E),p(E,a)}}function p(g,_){g.needsHillshadePrepare=!0,g.needsTerrainPrepare=!0;let E=_.tileID.canonical.x-g.tileID.canonical.x;const A=_.tileID.canonical.y-g.tileID.canonical.y,I=Math.pow(2,g.tileID.canonical.z),R=_.tileID.key;E===0&&A===0||Math.abs(A)>1||(Math.abs(E)>1&&(Math.abs(E+I)===1?E+=I:Math.abs(E-I)===1&&(E-=I)),_.dem&&g.dem&&(g.dem.backfillBorder(_.dem,E,A),g.neighboringTiles&&g.neighboringTiles[R]&&(g.neighboringTiles[R].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,u,p,g){for(const _ in this._tiles){let E=this._tiles[_];if(g[_]||!E.hasData()||E.tileID.overscaledZ<=u||E.tileID.overscaledZ>p)continue;let A=E.tileID;for(;E&&E.tileID.overscaledZ>u+1;){const R=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[R.key],E&&E.hasData()&&(A=R)}let I=A;for(;I.overscaledZ>u;)if(I=I.scaledTo(I.overscaledZ-1),a[I.key]){g[A.key]=A;break}}}findLoadedParent(a,u){if(a.key in this._loadedParentTiles){const p=this._loadedParentTiles[a.key];return p&&p.tileID.overscaledZ>=u?p:null}for(let p=a.overscaledZ-1;p>=u;p--){const g=a.scaledTo(p),_=this._getLoadedTile(g);if(_)return _}}findLoadedSibling(a){return this._getLoadedTile(a)}_getLoadedTile(a){const u=this._tiles[a.key];return u&&u.hasData()?u:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const u=Math.ceil(a.width/this._source.tileSize)+1,p=Math.ceil(a.height/this._source.tileSize)+1,g=Math.floor(u*p*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(_)}handleWrapJump(a){const u=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,u){const p={};for(const g in this._tiles){const _=this._tiles[g];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+u),p[_.tileID.key]=_}this._tiles=p;for(const g in this._timers)clearTimeout(this._timers[g]),delete this._timers[g];for(const g in this._tiles)this._setTileReloadTimer(g,this._tiles[g])}}_updateCoveredAndRetainedTiles(a,u,p,g,_,E){const A={},I={},R=Object.keys(a),K=T.now();for(const U of R){const X=a[U],te=this._tiles[U];if(!te||te.fadeEndTime!==0&&te.fadeEndTime<=K)continue;const ne=this.findLoadedParent(X,u),me=this.findLoadedSibling(X),oe=ne||me||null;oe&&(this._addTile(oe.tileID),A[oe.tileID.key]=oe.tileID),I[U]=X}this._retainLoadedChildren(I,g,p,a);for(const U in A)a[U]||(this._coveredTiles[U]=!0,a[U]=A[U]);if(E){const U={},X={};for(const te of _)this._tiles[te.key].hasData()?U[te.key]=te:X[te.key]=te;for(const te in X){const ne=X[te].children(this._source.maxzoom);this._tiles[ne[0].key]&&this._tiles[ne[1].key]&&this._tiles[ne[2].key]&&this._tiles[ne[3].key]&&(U[ne[0].key]=a[ne[0].key]=ne[0],U[ne[1].key]=a[ne[1].key]=ne[1],U[ne[2].key]=a[ne[2].key]=ne[2],U[ne[3].key]=a[ne[3].key]=ne[3],delete X[te])}for(const te in X){const ne=X[te],me=this.findLoadedParent(ne,this._source.minzoom),oe=this.findLoadedSibling(ne),_e=me||oe||null;if(_e){U[_e.tileID.key]=a[_e.tileID.key]=_e.tileID;for(const Ce in U)U[Ce].isChildOf(_e.tileID)&&delete U[Ce]}}for(const te in this._tiles)U[te]||(this._coveredTiles[te]=!0)}}update(a,u){if(!this._sourceLoaded||this._paused)return;let p;this.transform=a,this.terrain=u,this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(K=>new c.Q(K.canonical.z,K.wrap,K.canonical.z,K.canonical.x,K.canonical.y)):(p=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:u}),this._source.hasTile&&(p=p.filter(K=>this._source.hasTile(K)))):p=[];const g=a.coveringZoomLevel(this._source),_=Math.max(g-Qe.maxOverzooming,this._source.minzoom),E=Math.max(g+Qe.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const K={};for(const U of p)if(U.canonical.z>this._source.minzoom){const X=U.scaledTo(U.canonical.z-1);K[X.key]=X;const te=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));K[te.key]=te}p=p.concat(Object.values(K))}const A=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,A&&this.fire(new c.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const I=this._updateRetainedTiles(p,g);Ft(this._source.type)&&this._updateCoveredAndRetainedTiles(I,_,E,g,p,u);for(const K in I)this._tiles[K].clearFadeHold();const R=c.ab(this._tiles,I);for(const K of R){const U=this._tiles[K];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(K)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,u){var p;const g={},_={},E=Math.max(u-Qe.maxOverzooming,this._source.minzoom),A=Math.max(u+Qe.maxUnderzooming,this._source.minzoom),I={};for(const R of a){const K=this._addTile(R);g[R.key]=R,K.hasData()||u<this._source.maxzoom&&(I[R.key]=R)}this._retainLoadedChildren(I,u,A,g);for(const R of a){let K=this._tiles[R.key];if(K.hasData())continue;if(u+1>this._source.maxzoom){const X=R.children(this._source.maxzoom)[0],te=this.getTile(X);if(te&&te.hasData()){g[X.key]=X;continue}}else{const X=R.children(this._source.maxzoom);if(g[X[0].key]&&g[X[1].key]&&g[X[2].key]&&g[X[3].key])continue}let U=K.wasRequested();for(let X=R.overscaledZ-1;X>=E;--X){const te=R.scaledTo(X);if(_[te.key])break;if(_[te.key]=!0,K=this.getTile(te),!K&&U&&(K=this._addTile(te)),K){const ne=K.hasData();if((ne||!(!((p=this.map)===null||p===void 0)&&p.cancelPendingTileRequestsWhileZooming)||U)&&(g[te.key]=te),U=K.wasRequested(),ne)break}}}return g}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const u=[];let p,g=this._tiles[a].tileID;for(;g.overscaledZ>0;){if(g.key in this._loadedParentTiles){p=this._loadedParentTiles[g.key];break}u.push(g.key);const _=g.scaledTo(g.overscaledZ-1);if(p=this._getLoadedTile(_),p)break;g=_}for(const _ of u)this._loadedParentTiles[_]=p}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const a in this._tiles){const u=this._tiles[a].tileID,p=this._getLoadedTile(u);this._loadedSiblingTiles[u.key]=p}}_addTile(a){let u=this._tiles[a.key];if(u)return u;u=this._cache.getAndRemove(a),u&&(this._setTileReloadTimer(a.key,u),u.tileID=a,this._state.initializeTileState(u,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,u)));const p=u;return u||(u=new In(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(u,a.key,u.state)),u.uses++,this._tiles[a.key]=u,p||this._source.fire(new c.k("dataloading",{tile:u,coord:u.tileID,dataType:"source"})),u}_setTileReloadTimer(a,u){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const p=u.getExpiryTimeout();p&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},p))}_removeTile(a){const u=this._tiles[a];u&&(u.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),u.uses>0||(u.hasData()&&u.state!=="reloading"?this._cache.add(u.tileID,u,u.getExpiryTimeout()):(u.aborted=!0,this._abortTile(u),this._unloadTile(u))))}_dataHandler(a){const u=a.sourceDataType;a.dataType==="source"&&u==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&a.dataType==="source"&&u==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,u,p){const g=[],_=this.transform;if(!_)return g;const E=p?_.getCameraQueryGeometry(a):a,A=a.map(ne=>_.pointCoordinate(ne,this.terrain)),I=E.map(ne=>_.pointCoordinate(ne,this.terrain)),R=this.getIds();let K=1/0,U=1/0,X=-1/0,te=-1/0;for(const ne of I)K=Math.min(K,ne.x),U=Math.min(U,ne.y),X=Math.max(X,ne.x),te=Math.max(te,ne.y);for(let ne=0;ne<R.length;ne++){const me=this._tiles[R[ne]];if(me.holdingForFade())continue;const oe=me.tileID,_e=Math.pow(2,_.zoom-me.tileID.overscaledZ),Ce=u*me.queryPadding*c.W/me.tileSize/_e,de=[oe.getTilePoint(new c.Y(K,U)),oe.getTilePoint(new c.Y(X,te))];if(de[0].x-Ce<c.W&&de[0].y-Ce<c.W&&de[1].x+Ce>=0&&de[1].y+Ce>=0){const ke=A.map(Fe=>oe.getTilePoint(Fe)),$e=I.map(Fe=>oe.getTilePoint(Fe));g.push({tile:me,tileID:oe,queryGeometry:ke,cameraQueryGeometry:$e,scale:_e})}}return g}getVisibleCoordinates(a){const u=this.getRenderableIds(a).map(p=>this._tiles[p].tileID);for(const p of u)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return u}hasTransition(){if(this._source.hasTransition())return!0;if(Ft(this._source.type)){const a=T.now();for(const u in this._tiles)if(this._tiles[u].fadeEndTime>=a)return!0}return!1}setFeatureState(a,u,p){this._state.updateState(a=a||"_geojsonTileLayer",u,p)}removeFeatureState(a,u,p){this._state.removeFeatureState(a=a||"_geojsonTileLayer",u,p)}getFeatureState(a,u){return this._state.getState(a=a||"_geojsonTileLayer",u)}setDependencies(a,u,p){const g=this._tiles[a];g&&g.setDependencies(u,p)}reloadTilesForDependencies(a,u){for(const p in this._tiles)this._tiles[p].hasDependency(a,u)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(a,u))}}function Kt(x,a){const u=Math.abs(2*x.wrap)-+(x.wrap<0),p=Math.abs(2*a.wrap)-+(a.wrap<0);return x.overscaledZ-a.overscaledZ||p-u||a.canonical.y-x.canonical.y||a.canonical.x-x.canonical.x}function Ft(x){return x==="raster"||x==="image"||x==="video"}Qe.maxOverzooming=10,Qe.maxUnderzooming=3;class Hn{constructor(a,u){this.reset(a,u)}reset(a,u){this.points=a||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(u||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=c.ac(a,0,1);let u=1,p=this._distances[u];const g=a*this.paddedLength+this.padding;for(;p<g&&u<this._distances.length;)p=this._distances[++u];const _=u-1,E=this._distances[_],A=p-E,I=A>0?(g-E)/A:0;return this.points[_].mult(1-I).add(this.points[u].mult(I))}}function Wn(x,a){let u=!0;return x==="always"||x!=="never"&&a!=="never"||(u=!1),u}class Ot{constructor(a,u,p){const g=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(a/p),this.yCellCount=Math.ceil(u/p);for(let E=0;E<this.xCellCount*this.yCellCount;E++)g.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=u,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/u,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,u,p,g,_){this._forEachCell(u,p,g,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(u),this.bboxes.push(p),this.bboxes.push(g),this.bboxes.push(_)}insertCircle(a,u,p,g){this._forEachCell(u-g,p-g,u+g,p+g,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(u),this.circles.push(p),this.circles.push(g)}_insertBoxCell(a,u,p,g,_,E){this.boxCells[_].push(E)}_insertCircleCell(a,u,p,g,_,E){this.circleCells[_].push(E)}_query(a,u,p,g,_,E,A){if(p<0||a>this.width||g<0||u>this.height)return[];const I=[];if(a<=0&&u<=0&&this.width<=p&&this.height<=g){if(_)return[{key:null,x1:a,y1:u,x2:p,y2:g}];for(let R=0;R<this.boxKeys.length;R++)I.push({key:this.boxKeys[R],x1:this.bboxes[4*R],y1:this.bboxes[4*R+1],x2:this.bboxes[4*R+2],y2:this.bboxes[4*R+3]});for(let R=0;R<this.circleKeys.length;R++){const K=this.circles[3*R],U=this.circles[3*R+1],X=this.circles[3*R+2];I.push({key:this.circleKeys[R],x1:K-X,y1:U-X,x2:K+X,y2:U+X})}}else this._forEachCell(a,u,p,g,this._queryCell,I,{hitTest:_,overlapMode:E,seenUids:{box:{},circle:{}}},A);return I}query(a,u,p,g){return this._query(a,u,p,g,!1,null)}hitTest(a,u,p,g,_,E){return this._query(a,u,p,g,!0,_,E).length>0}hitTestCircle(a,u,p,g,_){const E=a-p,A=a+p,I=u-p,R=u+p;if(A<0||E>this.width||R<0||I>this.height)return!1;const K=[];return this._forEachCell(E,I,A,R,this._queryCellCircle,K,{hitTest:!0,overlapMode:g,circle:{x:a,y:u,radius:p},seenUids:{box:{},circle:{}}},_),K.length>0}_queryCell(a,u,p,g,_,E,A,I){const{seenUids:R,hitTest:K,overlapMode:U}=A,X=this.boxCells[_];if(X!==null){const ne=this.bboxes;for(const me of X)if(!R.box[me]){R.box[me]=!0;const oe=4*me,_e=this.boxKeys[me];if(a<=ne[oe+2]&&u<=ne[oe+3]&&p>=ne[oe+0]&&g>=ne[oe+1]&&(!I||I(_e))&&(!K||!Wn(U,_e.overlapMode))&&(E.push({key:_e,x1:ne[oe],y1:ne[oe+1],x2:ne[oe+2],y2:ne[oe+3]}),K))return!0}}const te=this.circleCells[_];if(te!==null){const ne=this.circles;for(const me of te)if(!R.circle[me]){R.circle[me]=!0;const oe=3*me,_e=this.circleKeys[me];if(this._circleAndRectCollide(ne[oe],ne[oe+1],ne[oe+2],a,u,p,g)&&(!I||I(_e))&&(!K||!Wn(U,_e.overlapMode))){const Ce=ne[oe],de=ne[oe+1],ke=ne[oe+2];if(E.push({key:_e,x1:Ce-ke,y1:de-ke,x2:Ce+ke,y2:de+ke}),K)return!0}}}return!1}_queryCellCircle(a,u,p,g,_,E,A,I){const{circle:R,seenUids:K,overlapMode:U}=A,X=this.boxCells[_];if(X!==null){const ne=this.bboxes;for(const me of X)if(!K.box[me]){K.box[me]=!0;const oe=4*me,_e=this.boxKeys[me];if(this._circleAndRectCollide(R.x,R.y,R.radius,ne[oe+0],ne[oe+1],ne[oe+2],ne[oe+3])&&(!I||I(_e))&&!Wn(U,_e.overlapMode))return E.push(!0),!0}}const te=this.circleCells[_];if(te!==null){const ne=this.circles;for(const me of te)if(!K.circle[me]){K.circle[me]=!0;const oe=3*me,_e=this.circleKeys[me];if(this._circlesCollide(ne[oe],ne[oe+1],ne[oe+2],R.x,R.y,R.radius)&&(!I||I(_e))&&!Wn(U,_e.overlapMode))return E.push(!0),!0}}}_forEachCell(a,u,p,g,_,E,A,I){const R=this._convertToXCellCoord(a),K=this._convertToYCellCoord(u),U=this._convertToXCellCoord(p),X=this._convertToYCellCoord(g);for(let te=R;te<=U;te++)for(let ne=K;ne<=X;ne++)if(_.call(this,a,u,p,g,this.xCellCount*ne+te,E,A,I))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,u,p,g,_,E){const A=g-a,I=_-u,R=p+E;return R*R>A*A+I*I}_circleAndRectCollide(a,u,p,g,_,E,A){const I=(E-g)/2,R=Math.abs(a-(g+I));if(R>I+p)return!1;const K=(A-_)/2,U=Math.abs(u-(_+K));if(U>K+p)return!1;if(R<=I||U<=K)return!0;const X=R-I,te=U-K;return X*X+te*te<=p*p}}function Va(x,a,u,p,g){const _=c.F();return a?(c.J(_,_,[1/g,1/g,1]),u||c.ad(_,_,p.angle)):c.K(_,p.labelPlaneMatrix,x),_}function Ua(x,a,u,p,g){if(a){const _=c.ae(x);return c.J(_,_,[g,g,1]),u||c.ad(_,_,-p.angle),_}return p.glCoordMatrix}function mn(x,a,u){let p;u?(p=[x.x,x.y,u(x.x,x.y),1],c.af(p,p,a)):(p=[x.x,x.y,0,1],function(_,E,A){const I=E[0],R=E[1];_[0]=A[0]*I+A[4]*R+A[12],_[1]=A[1]*I+A[5]*R+A[13],_[3]=A[3]*I+A[7]*R+A[15]}(p,p,a));const g=p[3];return{point:new c.P(p[0]/g,p[1]/g),signedDistanceFromCamera:g,isOccluded:!1}}function ue(x,a){return .5+x/a*.5}function W(x,a){return x.x>=-a[0]&&x.x<=a[0]&&x.y>=-a[1]&&x.y<=a[1]}function Z(x,a,u,p,g,_,E,A,I,R,K,U,X,te,ne){const me=p?x.textSizeData:x.iconSizeData,oe=c.ag(me,u.transform.zoom),_e=[256/u.width*2+1,256/u.height*2+1],Ce=p?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;Ce.clear();const de=x.lineVertexArray,ke=p?x.text.placedSymbolArray:x.icon.placedSymbolArray,$e=u.transform.width/u.transform.height;let Fe=!1;for(let We=0;We<ke.length;We++){const Ye=ke.get(We);if(Ye.hidden||Ye.writingMode===c.ah.vertical&&!Fe){Tt(Ye.numGlyphs,Ce);continue}Fe=!1;const ct=mn(new c.P(Ye.anchorX,Ye.anchorY),a,ne);if(!W(ct.point,_e)){Tt(Ye.numGlyphs,Ce);continue}const ut=ue(u.transform.cameraToCenterDistance,ct.signedDistanceFromCamera),Xe=c.ai(me,oe,Ye),et=E?Xe/ut:Xe*ut,pt={getElevation:ne,labelPlaneMatrix:g,lineVertexArray:de,pitchWithMap:E,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:R,tileAnchorPoint:new c.P(Ye.anchorX,Ye.anchorY),unwrappedTileID:K,width:U,height:X,translation:te},Lt=Te(pt,Ye,et,!1,A,a,_,x.glyphOffsetArray,Ce,$e,I);Fe=Lt.useVertical,(Lt.notEnoughRoom||Fe||Lt.needsFlipping&&Te(pt,Ye,et,!0,A,a,_,x.glyphOffsetArray,Ce,$e,I).notEnoughRoom)&&Tt(Ye.numGlyphs,Ce)}p?x.text.dynamicLayoutVertexBuffer.updateData(Ce):x.icon.dynamicLayoutVertexBuffer.updateData(Ce)}function Q(x,a,u,p,g,_,E,A){const I=_.glyphStartIndex+_.numGlyphs,R=_.lineStartIndex,K=_.lineStartIndex+_.lineLength,U=a.getoffsetX(_.glyphStartIndex),X=a.getoffsetX(I-1),te=Ke(x*U,u,p,g,_.segment,R,K,A,E);if(!te)return null;const ne=Ke(x*X,u,p,g,_.segment,R,K,A,E);return ne?A.projectionCache.anyProjectionOccluded?null:{first:te,last:ne}:null}function he(x,a,u,p){return x===c.ah.horizontal&&Math.abs(u.y-a.y)>Math.abs(u.x-a.x)*p?{useVertical:!0}:(x===c.ah.vertical?a.y<u.y:a.x>u.x)?{needsFlipping:!0}:null}function Te(x,a,u,p,g,_,E,A,I,R,K){const U=u/24,X=a.lineOffsetX*U,te=a.lineOffsetY*U;let ne;if(a.numGlyphs>1){const me=a.glyphStartIndex+a.numGlyphs,oe=a.lineStartIndex,_e=a.lineStartIndex+a.lineLength,Ce=Q(U,A,X,te,p,a,K,x);if(!Ce)return{notEnoughRoom:!0};const de=mn(Ce.first.point,E,x.getElevation).point,ke=mn(Ce.last.point,E,x.getElevation).point;if(g&&!p){const $e=he(a.writingMode,de,ke,R);if($e)return $e}ne=[Ce.first];for(let $e=a.glyphStartIndex+1;$e<me-1;$e++)ne.push(Ke(U*A.getoffsetX($e),X,te,p,a.segment,oe,_e,x,K));ne.push(Ce.last)}else{if(g&&!p){const oe=mn(x.tileAnchorPoint,_,x.getElevation).point,_e=a.lineStartIndex+a.segment+1,Ce=new c.P(x.lineVertexArray.getx(_e),x.lineVertexArray.gety(_e)),de=mn(Ce,_,x.getElevation),ke=de.signedDistanceFromCamera>0?de.point:function(Fe,We,Ye,ct,ut,Xe){return Ee(Fe,We,Ye,1,ut,Xe)}(x.tileAnchorPoint,Ce,oe,0,_,x),$e=he(a.writingMode,oe,ke,R);if($e)return $e}const me=Ke(U*A.getoffsetX(a.glyphStartIndex),X,te,p,a.segment,a.lineStartIndex,a.lineStartIndex+a.lineLength,x,K);if(!me||x.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ne=[me]}for(const me of ne)c.aj(I,me.point,me.angle);return{}}function Ee(x,a,u,p,g,_){const E=x.add(x.sub(a)._unit()),A=g!==void 0?mn(E,g,_.getElevation).point:we(E.x,E.y,_).point,I=u.sub(A);return u.add(I._mult(p/I.mag()))}function Ie(x,a,u){const p=a.projectionCache;if(p.projections[x])return p.projections[x];const g=new c.P(a.lineVertexArray.getx(x),a.lineVertexArray.gety(x)),_=we(g.x,g.y,a);if(_.signedDistanceFromCamera>0)return p.projections[x]=_.point,p.anyProjectionOccluded=p.anyProjectionOccluded||_.isOccluded,_.point;const E=x-u.direction;return function(A,I,R,K,U){return Ee(A,I,R,K,void 0,U)}(u.distanceFromAnchor===0?a.tileAnchorPoint:new c.P(a.lineVertexArray.getx(E),a.lineVertexArray.gety(E)),g,u.previousVertex,u.absOffsetX-u.distanceFromAnchor+1,a)}function we(x,a,u){const p=x+u.translation[0],g=a+u.translation[1];let _;return!u.pitchWithMap&&u.projection.useSpecialProjectionForSymbols?(_=u.projection.projectTileCoordinates(p,g,u.unwrappedTileID,u.getElevation),_.point.x=(.5*_.point.x+.5)*u.width,_.point.y=(.5*-_.point.y+.5)*u.height):(_=mn(new c.P(p,g),u.labelPlaneMatrix,u.getElevation),_.isOccluded=!1),_}function Le(x,a,u){return x._unit()._perp()._mult(a*u)}function Ge(x,a,u,p,g,_,E,A,I){if(A.projectionCache.offsets[x])return A.projectionCache.offsets[x];const R=u.add(a);if(x+I.direction<p||x+I.direction>=g)return A.projectionCache.offsets[x]=R,R;const K=Ie(x+I.direction,A,I),U=Le(K.sub(u),E,I.direction),X=u.add(U),te=K.add(U);return A.projectionCache.offsets[x]=c.ak(_,R,X,te)||R,A.projectionCache.offsets[x]}function Ke(x,a,u,p,g,_,E,A,I){const R=p?x-a:x+a;let K=R>0?1:-1,U=0;p&&(K*=-1,U=Math.PI),K<0&&(U+=Math.PI);let X,te=K>0?_+g:_+g+1;A.projectionCache.cachedAnchorPoint?X=A.projectionCache.cachedAnchorPoint:(X=we(A.tileAnchorPoint.x,A.tileAnchorPoint.y,A).point,A.projectionCache.cachedAnchorPoint=X);let ne,me,oe=X,_e=X,Ce=0,de=0;const ke=Math.abs(R),$e=[];let Fe;for(;Ce+de<=ke;){if(te+=K,te<_||te>=E)return null;Ce+=de,_e=oe,me=ne;const ct={absOffsetX:ke,direction:K,distanceFromAnchor:Ce,previousVertex:_e};if(oe=Ie(te,A,ct),u===0)$e.push(_e),Fe=oe.sub(_e);else{let ut;const Xe=oe.sub(_e);ut=Xe.mag()===0?Le(Ie(te+K,A,ct).sub(oe),u,K):Le(Xe,u,K),me||(me=_e.add(ut)),ne=Ge(te,ut,oe,_,E,me,u,A,ct),$e.push(me),Fe=ne.sub(me)}de=Fe.mag()}const We=Fe._mult((ke-Ce)/de)._add(me||_e),Ye=U+Math.atan2(oe.y-_e.y,oe.x-_e.x);return $e.push(We),{point:We,angle:I?Ye:0,path:$e}}const Ue=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Tt(x,a){for(let u=0;u<x;u++){const p=a.length;a.resize(p+4),a.float32.set(Ue,3*p)}}const St=100;class qt{constructor(a,u,p=new Ot(a.width+200,a.height+200,25),g=new Ot(a.width+200,a.height+200,25)){this.transform=a,this.mapProjection=u,this.grid=p,this.ignoredGrid=g,this.pitchFactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+St,this.screenBottomBoundary=a.height+St,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,u,p,g,_,E,A,I,R,K,U){const X=a.anchorPointX+I[0],te=a.anchorPointY+I[1],ne=this.projectAndGetPerspectiveRatio(g,X,te,_,K),me=this._projectCollisionBox(a,p,g,_,E,A,I,ne,K,U),[oe,_e,Ce,de]=me.box;return this.mapProjection.useSpecialProjectionForSymbols&&(E?me.allPointsOccluded:this.mapProjection.isOccluded(X,te,_))||ne.perspectiveRatio<this.perspectiveRatioCutoff||!this.isInsideGrid(oe,_e,Ce,de)||u!=="always"&&this.grid.hitTest(oe,_e,Ce,de,u,R)?{box:[oe,_e,Ce,de],placeable:!1,offscreen:!1}:{box:[oe,_e,Ce,de],placeable:!0,offscreen:this.isOffscreen(oe,_e,Ce,de)}}placeCollisionCircles(a,u,p,g,_,E,A,I,R,K,U,X,te,ne,me,oe){const _e=[],Ce=new c.P(u.anchorX,u.anchorY),de=this.getPerspectiveRatio(E,Ce.x,Ce.y,A,oe),ke=(U?_/de:_*de)/c.ap,$e={getElevation:oe,labelPlaneMatrix:I,lineVertexArray:p,pitchWithMap:U,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},projection:this.mapProjection,tileAnchorPoint:Ce,unwrappedTileID:A,width:this.transform.width,height:this.transform.height,translation:me},Fe=Q(ke,g,u.lineOffsetX*ke,u.lineOffsetY*ke,!1,u,!1,$e);let We=!1,Ye=!1,ct=!0;if(Fe){const ut=.5*te*de+ne,Xe=new c.P(-100,-100),et=new c.P(this.screenRightBoundary,this.screenBottomBoundary),pt=new Hn,Lt=Fe.first,rt=Fe.last;let at=[];for(let Ht=Lt.path.length-1;Ht>=1;Ht--)at.push(Lt.path[Ht]);for(let Ht=1;Ht<rt.path.length;Ht++)at.push(rt.path[Ht]);const It=2.5*ut;if(R){const Ht=this.projectPathToScreenSpace(at,$e,R);at=Ht.some(Xt=>Xt.signedDistanceFromCamera<=0)?[]:Ht.map(Xt=>Xt.point)}let wr=[];if(at.length>0){const Ht=at[0].clone(),Xt=at[0].clone();for(let Sr=1;Sr<at.length;Sr++)Ht.x=Math.min(Ht.x,at[Sr].x),Ht.y=Math.min(Ht.y,at[Sr].y),Xt.x=Math.max(Xt.x,at[Sr].x),Xt.y=Math.max(Xt.y,at[Sr].y);wr=Ht.x>=Xe.x&&Xt.x<=et.x&&Ht.y>=Xe.y&&Xt.y<=et.y?[at]:Xt.x<Xe.x||Ht.x>et.x||Xt.y<Xe.y||Ht.y>et.y?[]:c.al([at],Xe.x,Xe.y,et.x,et.y)}for(const Ht of wr){pt.reset(Ht,.25*ut);let Xt=0;Xt=pt.length<=.5*ut?1:Math.ceil(pt.paddedLength/It)+1;for(let Sr=0;Sr<Xt;Sr++){const Dn=Sr/Math.max(Xt-1,1),Qi=pt.lerp(Dn),Pr=Qi.x+St,li=Qi.y+St;_e.push(Pr,li,ut,0);const qn=Pr-ut,$n=li-ut,Rn=Pr+ut,ea=li+ut;if(ct=ct&&this.isOffscreen(qn,$n,Rn,ea),Ye=Ye||this.isInsideGrid(qn,$n,Rn,ea),a!=="always"&&this.grid.hitTestCircle(Pr,li,ut,a,X)&&(We=!0,!K))return{circles:[],offscreen:!1,collisionDetected:We}}}}return{circles:!K&&We||!Ye||de<this.perspectiveRatioCutoff?[]:_e,offscreen:ct,collisionDetected:We}}projectPathToScreenSpace(a,u,p){return a.map(g=>mn(g,p,u.getElevation))}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const u=[];let p=1/0,g=1/0,_=-1/0,E=-1/0;for(const K of a){const U=new c.P(K.x+St,K.y+St);p=Math.min(p,U.x),g=Math.min(g,U.y),_=Math.max(_,U.x),E=Math.max(E,U.y),u.push(U)}const A=this.grid.query(p,g,_,E).concat(this.ignoredGrid.query(p,g,_,E)),I={},R={};for(const K of A){const U=K.key;if(I[U.bucketInstanceId]===void 0&&(I[U.bucketInstanceId]={}),I[U.bucketInstanceId][U.featureIndex])continue;const X=[new c.P(K.x1,K.y1),new c.P(K.x2,K.y1),new c.P(K.x2,K.y2),new c.P(K.x1,K.y2)];c.am(u,X)&&(I[U.bucketInstanceId][U.featureIndex]=!0,R[U.bucketInstanceId]===void 0&&(R[U.bucketInstanceId]=[]),R[U.bucketInstanceId].push(U.featureIndex))}return R}insertCollisionBox(a,u,p,g,_,E){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:g,featureIndex:_,collisionGroupID:E,overlapMode:u},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,u,p,g,_,E){const A=p?this.ignoredGrid:this.grid,I={bucketInstanceId:g,featureIndex:_,collisionGroupID:E,overlapMode:u};for(let R=0;R<a.length;R+=4)A.insertCircle(I,a[R],a[R+1],a[R+2])}projectAndGetPerspectiveRatio(a,u,p,g,_){const E=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(u,p,g,_):mn(new c.P(u,p),a,_);return{point:new c.P((E.point.x+1)/2*this.transform.width+St,(1-E.point.y)/2*this.transform.height+St),perspectiveRatio:.5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5,isOccluded:E.isOccluded,signedDistanceFromCamera:E.signedDistanceFromCamera}}getPerspectiveRatio(a,u,p,g,_){const E=this.mapProjection.useSpecialProjectionForSymbols?this.mapProjection.projectTileCoordinates(u,p,g,_):mn(new c.P(u,p),a,_);return .5+this.transform.cameraToCenterDistance/E.signedDistanceFromCamera*.5}isOffscreen(a,u,p,g){return p<St||a>=this.screenRightBoundary||g<St||u>this.screenBottomBoundary}isInsideGrid(a,u,p,g){return p>=0&&a<this.gridRightBoundary&&g>=0&&u<this.gridBottomBoundary}getViewportMatrix(){const a=c.an([]);return c.H(a,a,[-100,-100,0]),a}_projectCollisionBox(a,u,p,g,_,E,A,I,R,K){const U=u*I.perspectiveRatio;let X=new c.P(1,0),te=new c.P(0,1);const ne=new c.P(a.anchorPointX+A[0],a.anchorPointY+A[1]);if(E&&!_){const ut=this.projectAndGetPerspectiveRatio(p,ne.x+1,ne.y,g,R).point.sub(I.point).unit(),Xe=Math.atan(ut.y/ut.x)+(ut.x<0?Math.PI:0),et=Math.sin(Xe),pt=Math.cos(Xe);X=new c.P(pt,et),te=new c.P(-et,pt)}else if(!E&&_){const ut=-this.transform.angle,Xe=Math.sin(ut),et=Math.cos(ut);X=new c.P(et,Xe),te=new c.P(-Xe,et)}let me=I.point,oe=U;if(_){me=ne;const ut=this.transform.zoom-Math.floor(this.transform.zoom);oe=Math.pow(2,-ut),oe*=this.mapProjection.getPitchedTextCorrection(this.transform,ne,g),K||(oe*=c.ac(.5+I.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))}K&&(me=me.add(X.mult(K.x*oe)).add(te.mult(K.y*oe)));const _e=a.x1*oe,Ce=a.x2*oe,de=(_e+Ce)/2,ke=a.y1*oe,$e=a.y2*oe,Fe=(ke+$e)/2,We=[{offsetX:_e,offsetY:ke},{offsetX:de,offsetY:ke},{offsetX:Ce,offsetY:ke},{offsetX:Ce,offsetY:Fe},{offsetX:Ce,offsetY:$e},{offsetX:de,offsetY:$e},{offsetX:_e,offsetY:$e},{offsetX:_e,offsetY:Fe}];let Ye=[];for(const{offsetX:ut,offsetY:Xe}of We)Ye.push(new c.P(me.x+X.x*ut+te.x*Xe,me.y+X.y*ut+te.y*Xe));let ct=!1;if(_){const ut=Ye.map(Xe=>this.projectAndGetPerspectiveRatio(p,Xe.x,Xe.y,g,R));ct=ut.some(Xe=>!Xe.isOccluded),Ye=ut.map(Xe=>Xe.point)}else ct=!0;return{box:c.ao(Ye),allPointsOccluded:!ct}}}function Rt(x,a,u){return a*(c.W/(x.tileSize*Math.pow(2,u-x.tileID.overscaledZ)))}class Jt{constructor(a,u,p,g){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?u:-u))):g&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class hr{constructor(a,u,p,g,_){this.text=new Jt(a?a.text:null,u,p,_),this.icon=new Jt(a?a.icon:null,u,g,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class br{constructor(a,u,p){this.text=a,this.icon=u,this.skipFade=p}}class tn{constructor(){this.invProjMatrix=c.F(),this.viewportMatrix=c.F(),this.circles=[]}}class jt{constructor(a,u,p,g,_){this.bucketInstanceId=a,this.featureIndex=u,this.sourceLayerIndex=p,this.bucketIndex=g,this.tileID=_}}class Ir{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const u=++this.maxGroupID;this.collisionGroups[a]={ID:u,predicate:p=>p.collisionGroupID===u}}return this.collisionGroups[a]}}function sn(x,a,u,p,g){const{horizontalAlign:_,verticalAlign:E}=c.au(x);return new c.P(-(_-.5)*a+p[0]*g,-(E-.5)*u+p[1]*g)}class ii{constructor(a,u,p,g,_,E){this.transform=a.clone(),this.terrain=p,this.collisionIndex=new qt(this.transform,u),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=g,this.retainedQueryData={},this.collisionGroups=new Ir(_),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=E,E&&(E.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(a){const u=this.terrain;return u?(p,g)=>u.getElevation(a,p,g):null}getBucketParts(a,u,p,g){const _=p.getBucket(u),E=p.latestFeatureIndex;if(!_||!E||u.id!==_.layerIds[0])return;const A=p.collisionBoxArray,I=_.layers[0].layout,R=_.layers[0].paint,K=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),U=p.tileSize/c.W,X=p.tileID.toUnwrapped(),te=this.transform.calculatePosMatrix(X),ne=I.get("text-pitch-alignment")==="map",me=I.get("text-rotation-alignment")==="map",oe=Rt(p,1,this.transform.zoom),_e=this.collisionIndex.mapProjection.translatePosition(this.transform,p,R.get("text-translate"),R.get("text-translate-anchor")),Ce=this.collisionIndex.mapProjection.translatePosition(this.transform,p,R.get("icon-translate"),R.get("icon-translate-anchor")),de=Va(te,ne,me,this.transform,oe);let ke=null;if(ne){const Fe=Ua(te,ne,me,this.transform,oe);ke=c.K([],this.transform.labelPlaneMatrix,Fe)}this.retainedQueryData[_.bucketInstanceId]=new jt(_.bucketInstanceId,E,_.sourceLayerIndex,_.index,p.tileID);const $e={bucket:_,layout:I,translationText:_e,translationIcon:Ce,posMatrix:te,unwrappedTileID:X,textLabelPlaneMatrix:de,labelToScreenMatrix:ke,scale:K,textPixelRatio:U,holdingForFade:p.holdingForFade(),collisionBoxArray:A,partiallyEvaluatedTextSize:c.ag(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(g)for(const Fe of _.sortKeyRanges){const{sortKey:We,symbolInstanceStart:Ye,symbolInstanceEnd:ct}=Fe;a.push({sortKey:We,symbolInstanceStart:Ye,symbolInstanceEnd:ct,parameters:$e})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:$e})}attemptAnchorPlacement(a,u,p,g,_,E,A,I,R,K,U,X,te,ne,me,oe,_e,Ce,de){const ke=c.aq[a.textAnchor],$e=[a.textOffset0,a.textOffset1],Fe=sn(ke,p,g,$e,_),We=this.collisionIndex.placeCollisionBox(u,X,I,R,K,A,E,oe,U.predicate,de,Fe);if((!Ce||this.collisionIndex.placeCollisionBox(Ce,X,I,R,K,A,E,_e,U.predicate,de,Fe).placeable)&&We.placeable){let Ye;if(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[te.crossTileID].anchor),te.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[te.crossTileID]={textOffset:$e,width:p,height:g,anchor:ke,textBoxScale:_,prevAnchor:Ye},this.markUsedJustification(ne,ke,te,me),ne.allowVerticalPlacement&&(this.markUsedOrientation(ne,me,te),this.placedOrientations[te.crossTileID]=me),{shift:Fe,placedGlyphBoxes:We}}}placeLayerBucketPart(a,u,p){const{bucket:g,layout:_,translationText:E,translationIcon:A,posMatrix:I,unwrappedTileID:R,textLabelPlaneMatrix:K,labelToScreenMatrix:U,textPixelRatio:X,holdingForFade:te,collisionBoxArray:ne,partiallyEvaluatedTextSize:me,collisionGroup:oe}=a.parameters,_e=_.get("text-optional"),Ce=_.get("icon-optional"),de=c.ar(_,"text-overlap","text-allow-overlap"),ke=de==="always",$e=c.ar(_,"icon-overlap","icon-allow-overlap"),Fe=$e==="always",We=_.get("text-rotation-alignment")==="map",Ye=_.get("text-pitch-alignment")==="map",ct=_.get("icon-text-fit")!=="none",ut=_.get("symbol-z-order")==="viewport-y",Xe=ke&&(Fe||!g.hasIconData()||Ce),et=Fe&&(ke||!g.hasTextData()||_e);!g.collisionArrays&&ne&&g.deserializeCollisionBoxes(ne);const pt=this._getTerrainElevationFunc(this.retainedQueryData[g.bucketInstanceId].tileID),Lt=(rt,at,It)=>{var wr,Ht;if(u[rt.crossTileID])return;if(te)return void(this.placements[rt.crossTileID]=new br(!1,!1,!1));let Xt=!1,Sr=!1,Dn=!0,Qi=null,Pr={box:null,placeable:!1,offscreen:null},li={box:null,placeable:!1,offscreen:null},qn=null,$n=null,Rn=null,ea=0,Zo=0,Vu=0;at.textFeatureIndex?ea=at.textFeatureIndex:rt.useRuntimeCollisionCircles&&(ea=rt.featureIndex),at.verticalTextFeatureIndex&&(Zo=at.verticalTextFeatureIndex);const Hs=at.textBox;if(Hs){const Pn=Ln=>{let zn=c.ah.horizontal;if(g.allowVerticalPlacement&&!Ln&&this.prevPlacement){const gn=this.prevPlacement.placedOrientations[rt.crossTileID];gn&&(this.placedOrientations[rt.crossTileID]=gn,zn=gn,this.markUsedOrientation(g,zn,rt))}return zn},ta=(Ln,zn)=>{if(g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&at.verticalTextBox){for(const gn of g.writingModes)if(gn===c.ah.vertical?(Pr=zn(),li=Pr):Pr=Ln(),Pr&&Pr.placeable)break}else Pr=Ln()},xo=rt.textAnchorOffsetStartIndex,Ws=rt.textAnchorOffsetEndIndex;if(Ws===xo){const Ln=(zn,gn)=>{const Dr=this.collisionIndex.placeCollisionBox(zn,de,X,I,R,Ye,We,E,oe.predicate,pt);return Dr&&Dr.placeable&&(this.markUsedOrientation(g,gn,rt),this.placedOrientations[rt.crossTileID]=gn),Dr};ta(()=>Ln(Hs,c.ah.horizontal),()=>{const zn=at.verticalTextBox;return g.allowVerticalPlacement&&rt.numVerticalGlyphVertices>0&&zn?Ln(zn,c.ah.vertical):{box:null,offscreen:null}}),Pn(Pr&&Pr.placeable)}else{let Ln=c.aq[(Ht=(wr=this.prevPlacement)===null||wr===void 0?void 0:wr.variableOffsets[rt.crossTileID])===null||Ht===void 0?void 0:Ht.anchor];const zn=(Dr,Gs,mf)=>{const cn=Dr.x2-Dr.x1,cg=Dr.y2-Dr.y1,Ku=rt.textBoxScale,Hu=ct&&$e==="never"?Gs:null;let _o=null,ug=de==="never"?1:2,gf="never";Ln&&ug++;for(let yf=0;yf<ug;yf++){for(let vf=xo;vf<Ws;vf++){const Wu=g.textAnchorOffsets.get(vf);if(Ln&&Wu.textAnchor!==Ln)continue;const qs=this.attemptAnchorPlacement(Wu,Dr,cn,cg,Ku,We,Ye,X,I,R,oe,gf,rt,g,mf,E,A,Hu,pt);if(qs&&(_o=qs.placedGlyphBoxes,_o&&_o.placeable))return Xt=!0,Qi=qs.shift,_o}Ln?Ln=null:gf=de}return p&&!_o&&(_o={box:this.collisionIndex.placeCollisionBox(Hs,"always",X,I,R,Ye,We,E,oe.predicate,pt,new c.P(0,0)).box,offscreen:!1,placeable:!1}),_o};ta(()=>zn(Hs,at.iconBox,c.ah.horizontal),()=>{const Dr=at.verticalTextBox;return g.allowVerticalPlacement&&(!Pr||!Pr.placeable)&&rt.numVerticalGlyphVertices>0&&Dr?zn(Dr,at.verticalIconBox,c.ah.vertical):{box:null,occluded:!0,offscreen:null}}),Pr&&(Xt=Pr.placeable,Dn=Pr.offscreen);const gn=Pn(Pr&&Pr.placeable);if(!Xt&&this.prevPlacement){const Dr=this.prevPlacement.variableOffsets[rt.crossTileID];Dr&&(this.variableOffsets[rt.crossTileID]=Dr,this.markUsedJustification(g,Dr.anchor,rt,gn))}}}if(qn=Pr,Xt=qn&&qn.placeable,Dn=qn&&qn.offscreen,rt.useRuntimeCollisionCircles){const Pn=g.text.placedSymbolArray.get(rt.centerJustifiedTextSymbolIndex),ta=c.ai(g.textSizeData,me,Pn),xo=_.get("text-padding");$n=this.collisionIndex.placeCollisionCircles(de,Pn,g.lineVertexArray,g.glyphOffsetArray,ta,I,R,K,U,p,Ye,oe.predicate,rt.collisionCircleDiameter,xo,E,pt),$n.circles.length&&$n.collisionDetected&&!p&&c.w("Collisions detected, but collision boxes are not shown"),Xt=ke||$n.circles.length>0&&!$n.collisionDetected,Dn=Dn&&$n.offscreen}if(at.iconFeatureIndex&&(Vu=at.iconFeatureIndex),at.iconBox){const Pn=ta=>this.collisionIndex.placeCollisionBox(ta,$e,X,I,R,Ye,We,A,oe.predicate,pt,ct&&Qi?Qi:void 0);li&&li.placeable&&at.verticalIconBox?(Rn=Pn(at.verticalIconBox),Sr=Rn.placeable):(Rn=Pn(at.iconBox),Sr=Rn.placeable),Dn=Dn&&Rn.offscreen}const Yo=_e||rt.numHorizontalGlyphVertices===0&&rt.numVerticalGlyphVertices===0,Uu=Ce||rt.numIconVertices===0;Yo||Uu?Uu?Yo||(Sr=Sr&&Xt):Xt=Sr&&Xt:Sr=Xt=Sr&&Xt;const pf=Sr&&Rn.placeable;if(Xt&&qn.placeable&&this.collisionIndex.insertCollisionBox(qn.box,de,_.get("text-ignore-placement"),g.bucketInstanceId,li&&li.placeable&&Zo?Zo:ea,oe.ID),pf&&this.collisionIndex.insertCollisionBox(Rn.box,$e,_.get("icon-ignore-placement"),g.bucketInstanceId,Vu,oe.ID),$n&&Xt&&this.collisionIndex.insertCollisionCircles($n.circles,de,_.get("text-ignore-placement"),g.bucketInstanceId,ea,oe.ID),p&&this.storeCollisionData(g.bucketInstanceId,It,at,qn,Rn,$n),rt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(g.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[rt.crossTileID]=new br(Xt||Xe,Sr||et,Dn||g.justReloaded),u[rt.crossTileID]=!0};if(ut){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const rt=g.getSortedSymbolIndexes(this.transform.angle);for(let at=rt.length-1;at>=0;--at){const It=rt[at];Lt(g.symbolInstances.get(It),g.collisionArrays[It],It)}}else for(let rt=a.symbolInstanceStart;rt<a.symbolInstanceEnd;rt++)Lt(g.symbolInstances.get(rt),g.collisionArrays[rt],rt);if(p&&g.bucketInstanceId in this.collisionCircleArrays){const rt=this.collisionCircleArrays[g.bucketInstanceId];c.as(rt.invProjMatrix,I),rt.viewportMatrix=this.collisionIndex.getViewportMatrix()}g.justReloaded=!1}storeCollisionData(a,u,p,g,_,E){if(p.textBox||p.iconBox){let A,I;this.collisionBoxArrays.has(a)?A=this.collisionBoxArrays.get(a):(A=new Map,this.collisionBoxArrays.set(a,A)),A.has(u)?I=A.get(u):(I={text:null,icon:null},A.set(u,I)),p.textBox&&(I.text=g.box),p.iconBox&&(I.icon=_.box)}if(E){let A=this.collisionCircleArrays[a];A===void 0&&(A=this.collisionCircleArrays[a]=new tn);for(let I=0;I<E.circles.length;I+=4)A.circles.push(E.circles[I+0]),A.circles.push(E.circles[I+1]),A.circles.push(E.circles[I+2]),A.circles.push(E.collisionDetected?1:0)}}markUsedJustification(a,u,p,g){let _;_=g===c.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[c.at(u)];const E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const A of E)A>=0&&(a.text.placedSymbolArray.get(A).crossTileID=_>=0&&A!==_?0:p.crossTileID)}markUsedOrientation(a,u,p){const g=u===c.ah.horizontal||u===c.ah.horizontalOnly?u:0,_=u===c.ah.vertical?u:0,E=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const A of E)a.text.placedSymbolArray.get(A).placedOrientation=g;p.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const u=this.prevPlacement;let p=!1;this.prevZoomAdjustment=u?u.zoomAdjustment(this.transform.zoom):0;const g=u?u.symbolFadeChange(a):1,_=u?u.opacities:{},E=u?u.variableOffsets:{},A=u?u.placedOrientations:{};for(const I in this.placements){const R=this.placements[I],K=_[I];K?(this.opacities[I]=new hr(K,g,R.text,R.icon),p=p||R.text!==K.text.placed||R.icon!==K.icon.placed):(this.opacities[I]=new hr(null,g,R.text,R.icon,R.skipFade),p=p||R.text||R.icon)}for(const I in _){const R=_[I];if(!this.opacities[I]){const K=new hr(R,g,!1,!1);K.isHidden()||(this.opacities[I]=K,p=p||R.text.placed||R.icon.placed)}}for(const I in E)this.variableOffsets[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.variableOffsets[I]=E[I]);for(const I in A)this.placedOrientations[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.placedOrientations[I]=A[I]);if(u&&u.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=u?u.lastPlacementChangeTime:a)}updateLayerOpacities(a,u){const p={};for(const g of u){const _=g.getBucket(a);_&&g.latestFeatureIndex&&a.id===_.layerIds[0]&&this.updateBucketOpacities(_,g.tileID,p,g.collisionBoxArray)}}updateBucketOpacities(a,u,p,g){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const _=a.layers[0],E=_.layout,A=new hr(null,0,!1,!1,!0),I=E.get("text-allow-overlap"),R=E.get("icon-allow-overlap"),K=_._unevaluatedLayout.hasValue("text-variable-anchor")||_._unevaluatedLayout.hasValue("text-variable-anchor-offset"),U=E.get("text-rotation-alignment")==="map",X=E.get("text-pitch-alignment")==="map",te=E.get("icon-text-fit")!=="none",ne=new hr(null,0,I&&(R||!a.hasIconData()||E.get("icon-optional")),R&&(I||!a.hasTextData()||E.get("text-optional")),!0);!a.collisionArrays&&g&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(g);const me=(_e,Ce,de)=>{for(let ke=0;ke<Ce/4;ke++)_e.opacityVertexArray.emplaceBack(de);_e.hasVisibleVertices=_e.hasVisibleVertices||de!==Wl},oe=this.collisionBoxArrays.get(a.bucketInstanceId);for(let _e=0;_e<a.symbolInstances.length;_e++){const Ce=a.symbolInstances.get(_e),{numHorizontalGlyphVertices:de,numVerticalGlyphVertices:ke,crossTileID:$e}=Ce;let Fe=this.opacities[$e];p[$e]?Fe=A:Fe||(Fe=ne,this.opacities[$e]=Fe),p[$e]=!0;const We=Ce.numIconVertices>0,Ye=this.placedOrientations[Ce.crossTileID],ct=Ye===c.ah.vertical,ut=Ye===c.ah.horizontal||Ye===c.ah.horizontalOnly;if(de>0||ke>0){const et=ai(Fe.text);me(a.text,de,ct?Wl:et),me(a.text,ke,ut?Wl:et);const pt=Fe.text.isHidden();[Ce.rightJustifiedTextSymbolIndex,Ce.centerJustifiedTextSymbolIndex,Ce.leftJustifiedTextSymbolIndex].forEach(at=>{at>=0&&(a.text.placedSymbolArray.get(at).hidden=pt||ct?1:0)}),Ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(Ce.verticalPlacedTextSymbolIndex).hidden=pt||ut?1:0);const Lt=this.variableOffsets[Ce.crossTileID];Lt&&this.markUsedJustification(a,Lt.anchor,Ce,Ye);const rt=this.placedOrientations[Ce.crossTileID];rt&&(this.markUsedJustification(a,"left",Ce,rt),this.markUsedOrientation(a,rt,Ce))}if(We){const et=ai(Fe.icon),pt=!(te&&Ce.verticalPlacedIconSymbolIndex&&ct);Ce.placedIconSymbolIndex>=0&&(me(a.icon,Ce.numIconVertices,pt?et:Wl),a.icon.placedSymbolArray.get(Ce.placedIconSymbolIndex).hidden=Fe.icon.isHidden()),Ce.verticalPlacedIconSymbolIndex>=0&&(me(a.icon,Ce.numVerticalIconVertices,pt?Wl:et),a.icon.placedSymbolArray.get(Ce.verticalPlacedIconSymbolIndex).hidden=Fe.icon.isHidden())}const Xe=oe&&oe.has(_e)?oe.get(_e):{text:null,icon:null};if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const et=a.collisionArrays[_e];if(et){let pt=new c.P(0,0);if(et.textBox||et.verticalTextBox){let Lt=!0;if(K){const rt=this.variableOffsets[$e];rt?(pt=sn(rt.anchor,rt.width,rt.height,rt.textOffset,rt.textBoxScale),U&&pt._rotate(X?this.transform.angle:-this.transform.angle)):Lt=!1}if(et.textBox||et.verticalTextBox){let rt;et.textBox&&(rt=ct),et.verticalTextBox&&(rt=ut),Si(a.textCollisionBox.collisionVertexArray,Fe.text.placed,!Lt||rt,Xe.text,pt.x,pt.y)}}if(et.iconBox||et.verticalIconBox){const Lt=!!(!ut&&et.verticalIconBox);let rt;et.iconBox&&(rt=Lt),et.verticalIconBox&&(rt=!Lt),Si(a.iconCollisionBox.collisionVertexArray,Fe.icon.placed,rt,Xe.icon,te?pt.x:0,te?pt.y:0)}}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const _e=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=_e.invProjMatrix,a.placementViewportMatrix=_e.viewportMatrix,a.collisionCircleArray=_e.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,u){const p=this.zoomAtLastRecencyCheck===u?1-this.zoomAdjustment(u):1;return this.zoomAtLastRecencyCheck=u,this.commitTime+this.fadeDuration*p>a}setStale(){this.stale=!0}}function Si(x,a,u,p,g,_){p&&p.length!==0||(p=[0,0,0,0]);const E=p[0]-St,A=p[1]-St,I=p[2]-St,R=p[3]-St;x.emplaceBack(a?1:0,u?1:0,g||0,_||0,E,A),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,I,A),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,I,R),x.emplaceBack(a?1:0,u?1:0,g||0,_||0,E,R)}const ln=Math.pow(2,25),Ds=Math.pow(2,24),K0=Math.pow(2,17),dr=Math.pow(2,16),Ch=Math.pow(2,9),Eh=Math.pow(2,8),Pi=Math.pow(2,1);function ai(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;const a=x.placed?1:0,u=Math.floor(127*x.opacity);return u*ln+a*Ds+u*K0+a*dr+u*Ch+a*Eh+u*Pi+a}const Wl=0;function oi(){return{isOccluded:(x,a,u)=>!1,getPitchedTextCorrection:(x,a,u)=>1,get useSpecialProjectionForSymbols(){return!1},projectTileCoordinates(x,a,u,p){throw new Error("Not implemented.")},translatePosition:(x,a,u,p)=>function(g,_,E,A,I=!1){if(!E[0]&&!E[1])return[0,0];const R=I?A==="map"?g.angle:0:A==="viewport"?-g.angle:0;if(R){const K=Math.sin(R),U=Math.cos(R);E=[E[0]*U-E[1]*K,E[0]*K+E[1]*U]}return[I?E[0]:Rt(_,E[0],g.zoom),I?E[1]:Rt(_,E[1],g.zoom)]}(x,a,u,p),getCircleRadiusCorrection:x=>1}}class Bi{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,u,p,g,_){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(u.getBucketParts(E,g,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((A,I)=>A.sortKey-I.sortKey));this._currentPartIndex<E.length;)if(u.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,_())return!0;return!1}}class Cm{constructor(a,u,p,g,_,E,A,I){this.placement=new ii(a,oi(),u,E,A,I),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=g,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(a,u,p){const g=T.now(),_=()=>!this._forceFullPlacement&&T.now()-g>2;for(;this._currentPlacementIndex>=0;){const E=u[a[this._currentPlacementIndex]],A=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=A)&&(!E.maxzoom||E.maxzoom>A)){if(this._inProgressLayer||(this._inProgressLayer=new Bi(E)),this._inProgressLayer.continuePlacement(p[E.source],this.placement,this._showCollisionBoxes,E,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Ka=512/c.W/2;class rn{constructor(a,u,p){this.tileID=a,this.bucketInstanceId=p,this._symbolsByKey={};const g=new Map;for(let _=0;_<u.length;_++){const E=u.get(_),A=E.key,I=g.get(A);I?I.push(E):g.set(A,[E])}for(const[_,E]of g){const A={positions:E.map(I=>({x:Math.floor(I.anchorX*Ka),y:Math.floor(I.anchorY*Ka)})),crossTileIDs:E.map(I=>I.crossTileID)};if(A.positions.length>128){const I=new c.av(A.positions.length,16,Uint16Array);for(const{x:R,y:K}of A.positions)I.add(R,K);I.finish(),delete A.positions,A.index=I}this._symbolsByKey[_]=A}}getScaledCoordinates(a,u){const{x:p,y:g,z:_}=this.tileID.canonical,{x:E,y:A,z:I}=u.canonical,R=Ka/Math.pow(2,I-_),K=(A*c.W+a.anchorY)*R,U=g*c.W*Ka;return{x:Math.floor((E*c.W+a.anchorX)*R-p*c.W*Ka),y:Math.floor(K-U)}}findMatches(a,u,p){const g=this.tileID.canonical.z<u.canonical.z?1:Math.pow(2,this.tileID.canonical.z-u.canonical.z);for(let _=0;_<a.length;_++){const E=a.get(_);if(E.crossTileID)continue;const A=this._symbolsByKey[E.key];if(!A)continue;const I=this.getScaledCoordinates(E,u);if(A.index){const R=A.index.range(I.x-g,I.y-g,I.x+g,I.y+g).sort();for(const K of R){const U=A.crossTileIDs[K];if(!p[U]){p[U]=!0,E.crossTileID=U;break}}}else if(A.positions)for(let R=0;R<A.positions.length;R++){const K=A.positions[R],U=A.crossTileIDs[R];if(Math.abs(K.x-I.x)<=g&&Math.abs(K.y-I.y)<=g&&!p[U]){p[U]=!0,E.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class Gl{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class No{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const u=Math.round((a-this.lng)/360);if(u!==0)for(const p in this.indexes){const g=this.indexes[p],_={};for(const E in g){const A=g[E];A.tileID=A.tileID.unwrapTo(A.tileID.wrap+u),_[A.tileID.key]=A}this.indexes[p]=_}this.lng=a}addBucket(a,u,p){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===u.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let _=0;_<u.symbolInstances.length;_++)u.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const g=this.usedCrossTileIDs[a.overscaledZ];for(const _ in this.indexes){const E=this.indexes[_];if(Number(_)>a.overscaledZ)for(const A in E){const I=E[A];I.tileID.isChildOf(a)&&I.findMatches(u.symbolInstances,a,g)}else{const A=E[a.scaledTo(Number(_)).key];A&&A.findMatches(u.symbolInstances,a,g)}}for(let _=0;_<u.symbolInstances.length;_++){const E=u.symbolInstances.get(_);E.crossTileID||(E.crossTileID=p.generate(),g[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new rn(a,u.symbolInstances,u.bucketInstanceId),!0}removeBucketCrossTileIDs(a,u){for(const p of u.getCrossTileIDsLists())for(const g of p)delete this.usedCrossTileIDs[a][g]}removeStaleBuckets(a){let u=!1;for(const p in this.indexes){const g=this.indexes[p];for(const _ in g)a[g[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,g[_]),delete g[_],u=!0)}return u}}class Ur{constructor(){this.layerIndexes={},this.crossTileIDs=new Gl,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,u,p){let g=this.layerIndexes[a.id];g===void 0&&(g=this.layerIndexes[a.id]=new No);let _=!1;const E={};g.handleWrapJump(p);for(const A of u){const I=A.getBucket(a);I&&a.id===I.layerIds[0]&&(I.bucketInstanceId||(I.bucketInstanceId=++this.maxBucketInstanceId),g.addBucket(A.tileID,I,this.crossTileIDs)&&(_=!0),E[I.bucketInstanceId]=!0)}return g.removeStaleBuckets(E)&&(_=!0),_}pruneUnusedLayers(a){const u={};a.forEach(p=>{u[p]=!0});for(const p in this.layerIndexes)u[p]||delete this.layerIndexes[p]}}const Oo=(x,a)=>c.t(x,a&&a.filter(u=>u.identifier!=="source.canvas")),Ji=c.aw();class uu extends c.E{constructor(a,u={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const g=this.sourceCaches[p].getSource().type;g!=="vector"&&g!=="geojson"||this.sourceCaches[p].reload()}},this.map=a,this.dispatcher=new Pt(Et(),a._getMapId()),this.dispatcher.registerMessageHandler("GG",(p,g)=>this.getGlyphs(p,g)),this.dispatcher.registerMessageHandler("GI",(p,g)=>this.getImages(p,g)),this.imageManager=new ge,this.imageManager.setEventedParent(this),this.glyphManager=new ae(a._requestManager,u.localIdeographFontFamily),this.lineAtlas=new se(256,512),this.crossTileSymbolIndex=new Ur,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.ax,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("SR",c.ay()),en().on(fo,this._rtlPluginLoaded),this.on("data",p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const g=this.sourceCaches[p.sourceId];if(!g)return;const _=g.getSource();if(_&&_.vectorLayerIds)for(const E in this._layers){const A=this._layers[E];A.source===_.id&&this._validateLayer(A)}})}loadURL(a,u={},p){this.fire(new c.k("dataloading",{dataType:"style"})),u.validate=typeof u.validate!="boolean"||u.validate;const g=this.map._requestManager.transformRequest(a,"Style");this._loadStyleRequest=new AbortController,c.h(g,this._loadStyleRequest).then(_=>{this._loadStyleRequest=null,this._load(_.data,u,p)}).catch(_=>{this._loadStyleRequest=null,_&&this.fire(new c.j(_))})}loadJSON(a,u={},p){this.fire(new c.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,T.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,u.validate=u.validate!==!1,this._load(a,u,p)}).catch(()=>{})}loadEmpty(){this.fire(new c.k("dataloading",{dataType:"style"})),this._load(Ji,{validate:!1})}_load(a,u,p){var g;const _=u.transformStyle?u.transformStyle(p,a):a;if(!u.validate||!Oo(this,c.x(_))){this._loaded=!0,this.stylesheet=_;for(const E in _.sources)this.addSource(E,_.sources[E],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new Oe(this.stylesheet.light),this.map.setTerrain((g=this.stylesheet.terrain)!==null&&g!==void 0?g:null),this.fire(new c.k("data",{dataType:"style"})),this.fire(new c.k("style.load"))}}_createLayers(){const a=c.az(this.stylesheet.layers);this.dispatcher.broadcast("SL",a),this._order=a.map(u=>u.id),this._layers={},this._serializedLayers=null;for(const u of a){const p=c.aA(u);p.setEventedParent(this,{layer:{id:u.id}}),this._layers[u.id]=p}}_loadSprite(a,u=!1,p=void 0){let g;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,E,A,I){return c._(this,void 0,void 0,function*(){const R=pe(_),K=A>1?"@2x":"",U={},X={};for(const{id:te,url:ne}of R){const me=E.transformRequest(xe(ne,K,".json"),"SpriteJSON");U[te]=c.h(me,I);const oe=E.transformRequest(xe(ne,K,".png"),"SpriteImage");X[te]=N.getImage(oe,I)}return yield Promise.all([...Object.values(U),...Object.values(X)]),function(te,ne){return c._(this,void 0,void 0,function*(){const me={};for(const oe in te){me[oe]={};const _e=T.getImageCanvasContext((yield ne[oe]).data),Ce=(yield te[oe]).data;for(const de in Ce){const{width:ke,height:$e,x:Fe,y:We,sdf:Ye,pixelRatio:ct,stretchX:ut,stretchY:Xe,content:et,textFitWidth:pt,textFitHeight:Lt}=Ce[de];me[oe][de]={data:null,pixelRatio:ct,sdf:Ye,stretchX:ut,stretchY:Xe,content:et,textFitWidth:pt,textFitHeight:Lt,spriteData:{width:ke,height:$e,x:Fe,y:We,context:_e}}}}return me})}(U,X)})}(a,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(const E in _){this._spritesImagesIds[E]=[];const A=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(I=>!(I in _)):[];for(const I of A)this.imageManager.removeImage(I),this._changedImages[I]=!0;for(const I in _[E]){const R=E==="default"?I:`${E}:${I}`;this._spritesImagesIds[E].push(R),R in this.imageManager.images?this.imageManager.updateImage(R,_[E][I],!1):this.imageManager.addImage(R,_[E][I]),u&&(this._changedImages[R]=!0)}}}).catch(_=>{this._spriteRequest=null,g=_,this.fire(new c.j(g))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),u&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"})),p&&p(g)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}_validateLayer(a){const u=this.sourceCaches[a.source];if(!u)return;const p=a.sourceLayer;if(!p)return;const g=u.getSource();(g.type==="geojson"||g.vectorLayerIds&&g.vectorLayerIds.indexOf(p)===-1)&&this.fire(new c.j(new Error(`Source layer "${p}" does not exist on source "${g.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const u=this._serializedAllLayers();if(!a||a.length===0)return Object.values(u);const p=[];for(const g of a)u[g]&&p.push(u[g]);return p}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const u=Object.keys(this._layers);for(const p of u){const g=this._layers[p];g.type!=="custom"&&(a[p]=g.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const u=this._changed;if(u){const g=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(g.length||_.length)&&this._updateWorkerLayers(g,_);for(const E in this._updatedSources){const A=this._updatedSources[E];if(A==="reload")this._reloadSource(E);else{if(A!=="clear")throw new Error(`Invalid action ${A}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const p={};for(const g in this.sourceCaches){const _=this.sourceCaches[g];p[g]=_.used,_.used=!1}for(const g of this._order){const _=this._layers[g];_.recalculate(a,this._availableImages),!_.isHidden(a.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const g in p){const _=this.sourceCaches[g];!!p[g]!=!!_.used&&_.fire(new c.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:g}))}this.light.recalculate(a),this.z=a.zoom,u&&this.fire(new c.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const u in this.sourceCaches)this.sourceCaches[u].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,u){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(a),removedIds:u})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,u={}){var p;this._checkLoaded();const g=this.serialize();if(a=u.transformStyle?u.transformStyle(g,a):a,((p=u.validate)===null||p===void 0||p)&&Oo(this,c.x(a)))return!1;(a=c.aB(a)).layers=c.az(a.layers);const _=c.aC(g,a),E=this._getOperationsToPerform(_);if(E.unimplemented.length>0)throw new Error(`Unimplemented: ${E.unimplemented.join(", ")}.`);if(E.operations.length===0)return!1;for(const A of E.operations)A();return this.stylesheet=a,this._serializedLayers=null,!0}_getOperationsToPerform(a){const u=[],p=[];for(const g of a)switch(g.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":u.push(()=>this.addLayer.apply(this,g.args));break;case"removeLayer":u.push(()=>this.removeLayer.apply(this,g.args));break;case"setPaintProperty":u.push(()=>this.setPaintProperty.apply(this,g.args));break;case"setLayoutProperty":u.push(()=>this.setLayoutProperty.apply(this,g.args));break;case"setFilter":u.push(()=>this.setFilter.apply(this,g.args));break;case"addSource":u.push(()=>this.addSource.apply(this,g.args));break;case"removeSource":u.push(()=>this.removeSource.apply(this,g.args));break;case"setLayerZoomRange":u.push(()=>this.setLayerZoomRange.apply(this,g.args));break;case"setLight":u.push(()=>this.setLight.apply(this,g.args));break;case"setGeoJSONSourceData":u.push(()=>this.setGeoJSONSourceData.apply(this,g.args));break;case"setGlyphs":u.push(()=>this.setGlyphs.apply(this,g.args));break;case"setSprite":u.push(()=>this.setSprite.apply(this,g.args));break;case"setTerrain":u.push(()=>this.map.setTerrain.apply(this,g.args));break;case"setTransition":u.push(()=>{});break;default:p.push(g.command)}return{operations:u,unimplemented:p}}addImage(a,u){if(this.getImage(a))return this.fire(new c.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,u),this._afterImageUpdated(a)}updateImage(a,u){this.imageManager.updateImage(a,u)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new c.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,u,p={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!u.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(u).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(u.type)>=0&&this._validate(c.x.source,`sources.${a}`,u,null,p))return;this.map&&this.map._collectResourceTiming&&(u.collectResourceTiming=!0);const g=this.sourceCaches[a]=new Qe(a,u,this.dispatcher);g.style=this,g.setEventedParent(this,()=>({isSourceLoaded:g.loaded(),source:g.serialize(),sourceId:a})),g.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===a)return this.fire(new c.j(new Error(`Source "${a}" cannot be removed while layer "${p}" is using it.`)));const u=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],u.fire(new c.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),u.setEventedParent(null),u.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,u){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const p=this.sourceCaches[a].getSource();if(p.type!=="geojson")throw new Error(`geojsonSource.type is ${p.type}, which is !== 'geojson`);p.setData(u),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,u,p={}){this._checkLoaded();const g=a.id;if(this.getLayer(g))return void this.fire(new c.j(new Error(`Layer "${g}" already exists on this map.`)));let _;if(a.type==="custom"){if(Oo(this,c.aD(a)))return;_=c.aA(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(g,a.source),a=c.aB(a),a=c.e(a,{source:g})),this._validate(c.x.layer,`layers.${g}`,a,{arrayIndex:-1},p))return;_=c.aA(a),this._validateLayer(_),_.setEventedParent(this,{layer:{id:g}})}const E=u?this._order.indexOf(u):this._order.length;if(u&&E===-1)this.fire(new c.j(new Error(`Cannot add layer "${g}" before non-existing layer "${u}".`)));else{if(this._order.splice(E,0,g),this._layerOrderChanged=!0,this._layers[g]=_,this._removedLayers[g]&&_.source&&_.type!=="custom"){const A=this._removedLayers[g];delete this._removedLayers[g],A.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(a,u){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new c.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===u)return;const p=this._order.indexOf(a);this._order.splice(p,1);const g=u?this._order.indexOf(u):this._order.length;u&&g===-1?this.fire(new c.j(new Error(`Cannot move layer "${a}" before non-existing layer "${u}".`))):(this._order.splice(g,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const u=this._layers[a];if(!u)return void this.fire(new c.j(new Error(`Cannot remove non-existing layer "${a}".`)));u.setEventedParent(null);const p=this._order.indexOf(a);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=u,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],u.onRemove&&u.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,u,p){this._checkLoaded();const g=this.getLayer(a);g?g.minzoom===u&&g.maxzoom===p||(u!=null&&(g.minzoom=u),p!=null&&(g.maxzoom=p),this._updateLayer(g)):this.fire(new c.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,u,p={}){this._checkLoaded();const g=this.getLayer(a);if(g){if(!c.aE(g.filter,u))return u==null?(g.filter=void 0,void this._updateLayer(g)):void(this._validate(c.x.filter,`layers.${g.id}.filter`,u,null,p)||(g.filter=c.aB(u),this._updateLayer(g)))}else this.fire(new c.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return c.aB(this.getLayer(a).filter)}setLayoutProperty(a,u,p,g={}){this._checkLoaded();const _=this.getLayer(a);_?c.aE(_.getLayoutProperty(u),p)||(_.setLayoutProperty(u,p,g),this._updateLayer(_)):this.fire(new c.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,u){const p=this.getLayer(a);if(p)return p.getLayoutProperty(u);this.fire(new c.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,u,p,g={}){this._checkLoaded();const _=this.getLayer(a);_?c.aE(_.getPaintProperty(u),p)||(_.setPaintProperty(u,p,g)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[a]=!0,this._serializedLayers=null):this.fire(new c.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,u){return this.getLayer(a).getPaintProperty(u)}setFeatureState(a,u){this._checkLoaded();const p=a.source,g=a.sourceLayer,_=this.sourceCaches[p];if(_===void 0)return void this.fire(new c.j(new Error(`The source '${p}' does not exist in the map's style.`)));const E=_.getSource().type;E==="geojson"&&g?this.fire(new c.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||g?(a.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(g,a.id,u)):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,u){this._checkLoaded();const p=a.source,g=this.sourceCaches[p];if(g===void 0)return void this.fire(new c.j(new Error(`The source '${p}' does not exist in the map's style.`)));const _=g.getSource().type,E=_==="vector"?a.sourceLayer:void 0;_!=="vector"||E?u&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new c.j(new Error("A feature id is required to remove its specific state property."))):g.removeFeatureState(E,a.id,u):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const u=a.source,p=a.sourceLayer,g=this.sourceCaches[u];if(g!==void 0)return g.getSource().type!=="vector"||p?(a.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),g.getFeatureState(p,a.id)):void this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.j(new Error(`The source '${u}' does not exist in the map's style.`)))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=c.aF(this.sourceCaches,_=>_.serialize()),u=this._serializeByIds(this._order),p=this.map.getTerrain()||void 0,g=this.stylesheet;return c.aG({version:g.version,name:g.name,metadata:g.metadata,light:g.light,center:g.center,zoom:g.zoom,bearing:g.bearing,pitch:g.pitch,sprite:g.sprite,glyphs:g.glyphs,transition:g.transition,sources:a,layers:u,terrain:p},_=>_!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const u=E=>this._layers[E].type==="fill-extrusion",p={},g=[];for(let E=this._order.length-1;E>=0;E--){const A=this._order[E];if(u(A)){p[A]=E;for(const I of a){const R=I[A];if(R)for(const K of R)g.push(K)}}}g.sort((E,A)=>A.intersectionZ-E.intersectionZ);const _=[];for(let E=this._order.length-1;E>=0;E--){const A=this._order[E];if(u(A))for(let I=g.length-1;I>=0;I--){const R=g[I].feature;if(p[R.layer.id]<E)break;_.push(R),g.pop()}else for(const I of a){const R=I[A];if(R)for(const K of R)_.push(K.feature)}}return _}queryRenderedFeatures(a,u,p){u&&u.filter&&this._validate(c.x.filter,"queryRenderedFeatures.filter",u.filter,null,u);const g={};if(u&&u.layers){if(!Array.isArray(u.layers))return this.fire(new c.j(new Error("parameters.layers must be an Array."))),[];for(const A of u.layers){const I=this._layers[A];if(!I)return this.fire(new c.j(new Error(`The layer '${A}' does not exist in the map's style and cannot be queried for features.`))),[];g[I.source]=!0}}const _=[];u.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const A in this.sourceCaches)u.layers&&!g[A]||_.push(Nt(this.sourceCaches[A],this._layers,E,a,u,p));return this.placement&&_.push(function(A,I,R,K,U,X,te){const ne={},me=X.queryRenderedSymbols(K),oe=[];for(const _e of Object.keys(me).map(Number))oe.push(te[_e]);oe.sort(ar);for(const _e of oe){const Ce=_e.featureIndex.lookupSymbolFeatures(me[_e.bucketInstanceId],I,_e.bucketIndex,_e.sourceLayerIndex,U.filter,U.layers,U.availableImages,A);for(const de in Ce){const ke=ne[de]=ne[de]||[],$e=Ce[de];$e.sort((Fe,We)=>{const Ye=_e.featureSortOrder;if(Ye){const ct=Ye.indexOf(Fe.featureIndex);return Ye.indexOf(We.featureIndex)-ct}return We.featureIndex-Fe.featureIndex});for(const Fe of $e)ke.push(Fe)}}for(const _e in ne)ne[_e].forEach(Ce=>{const de=Ce.feature,ke=R[A[_e].source].getFeatureState(de.layer["source-layer"],de.id);de.source=de.layer.source,de.layer["source-layer"]&&(de.sourceLayer=de.layer["source-layer"]),de.state=ke});return ne}(this._layers,E,this.sourceCaches,a,u,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(a,u){u&&u.filter&&this._validate(c.x.filter,"querySourceFeatures.filter",u.filter,null,u);const p=this.sourceCaches[a];return p?function(g,_){const E=g.getRenderableIds().map(R=>g.getTileByID(R)),A=[],I={};for(let R=0;R<E.length;R++){const K=E[R],U=K.tileID.canonical.key;I[U]||(I[U]=!0,K.querySourceFeatures(A,_))}return A}(p,u):[]}getLight(){return this.light.getLight()}setLight(a,u={}){this._checkLoaded();const p=this.light.getLight();let g=!1;for(const E in a)if(!c.aE(a[E],p[E])){g=!0;break}if(!g)return;const _={now:T.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,u),this.light.updateTransitions(_)}_validate(a,u,p,g,_={}){return(!_||_.validate!==!1)&&Oo(this,a.call(c.x,c.e({key:u,style:this.serialize(),value:p,styleSpec:c.v},g)))}_remove(a=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),en().off(fo,this._rtlPluginLoaded);for(const u in this._layers)this._layers[u].setEventedParent(null);for(const u in this.sourceCaches){const p=this.sourceCaches[u];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),a&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const u in this.sourceCaches)this.sourceCaches[u].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,u,p,g,_=!1){let E=!1,A=!1;const I={};for(const R of this._order){const K=this._layers[R];if(K.type!=="symbol")continue;if(!I[K.source]){const X=this.sourceCaches[K.source];I[K.source]=X.getRenderableIds(!0).map(te=>X.getTileByID(te)).sort((te,ne)=>ne.tileID.overscaledZ-te.tileID.overscaledZ||(te.tileID.isLessThan(ne.tileID)?-1:1))}const U=this.crossTileSymbolIndex.addLayer(K,I[K.source],a.center.lng);E=E||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(T.now(),a.zoom))&&(this.pauseablePlacement=new Cm(a,this.map.terrain,this._order,_,u,p,g,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,I),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(T.now()),A=!0),E&&this.pauseablePlacement.placement.setStale()),A||E)for(const R of this._order){const K=this._layers[R];K.type==="symbol"&&this.placement.updateLayerOpacities(K,I[K.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(T.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,u){return c._(this,void 0,void 0,function*(){const p=yield this.imageManager.getImages(u.icons);this._updateTilesForChangedImages();const g=this.sourceCaches[u.source];return g&&g.setDependencies(u.tileID.key,u.type,u.icons),p})}getGlyphs(a,u){return c._(this,void 0,void 0,function*(){const p=yield this.glyphManager.getGlyphs(u.stacks),g=this.sourceCaches[u.source];return g&&g.setDependencies(u.tileID.key,u.type,[""]),p})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,u={}){this._checkLoaded(),a&&this._validate(c.x.glyphs,"glyphs",a,null,u)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,u,p={},g){this._checkLoaded();const _=[{id:a,url:u}],E=[...pe(this.stylesheet.sprite),..._];this._validate(c.x.sprite,"sprite",E,null,p)||(this.stylesheet.sprite=E,this._loadSprite(_,!0,g))}removeSprite(a){this._checkLoaded();const u=pe(this.stylesheet.sprite);if(u.find(p=>p.id===a)){if(this._spritesImagesIds[a])for(const p of this._spritesImagesIds[a])this.imageManager.removeImage(p),this._changedImages[p]=!0;u.splice(u.findIndex(p=>p.id===a),1),this.stylesheet.sprite=u.length>0?u:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}else this.fire(new c.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return pe(this.stylesheet.sprite)}setSprite(a,u={},p){this._checkLoaded(),a&&this._validate(c.x.sprite,"sprite",a,null,u)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,p):(this._unloadSprite(),p&&p(null)))}}var _a=c.X([{name:"a_pos",type:"Int16",components:2}]),kh="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const $s={prelude:or(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:or(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:or(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:or(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:or("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:or(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:or(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:or("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_anchor_pos;attribute vec2 a_placed;attribute vec2 a_box_real;uniform mat4 u_matrix;uniform vec2 u_pixel_extrude_scale;varying float v_placed;varying float v_notUsed;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:or("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:or("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:or(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:or(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:or(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:or(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:or(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:or(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:or(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:or(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:or(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:or(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:or(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:or(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:or(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:or(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_tex;varying float v_fade_opacity;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:or(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec2 v_data0;varying vec3 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:or(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;varying vec4 v_data0;varying vec4 v_data1;vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_matrix*vec4(posInTile,elevation,1.0);}
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:or("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",kh),terrainDepth:or("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",kh),terrainCoords:or("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",kh)};function or(x,a){const u=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=a.match(/attribute ([\w]+) ([\w]+)/g),g=x.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=_?_.concat(g):g,A={};return{fragmentSource:x=x.replace(u,(I,R,K,U,X)=>(A[X]=!0,R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${K} ${U} ${X};
#else
uniform ${K} ${U} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${K} ${U} ${X} = u_${X};
#endif
`)),vertexSource:a=a.replace(u,(I,R,K,U,X)=>{const te=U==="float"?"vec2":"vec4",ne=X.match(/color/)?"color":te;return A[X]?R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${K} ${te} a_${X};
varying ${K} ${U} ${X};
#else
uniform ${K} ${U} u_${X};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${K} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${ne}(a_${X}, u_${X}_t);
#else
    ${K} ${U} ${X} = u_${X};
#endif
`:R==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${K} ${te} a_${X};
#else
uniform ${K} ${U} u_${X};
#endif
`:ne==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${K} ${U} ${X} = a_${X};
#else
    ${K} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${K} ${U} ${X} = unpack_mix_${ne}(a_${X}, u_${X}_t);
#else
    ${K} ${U} ${X} = u_${X};
#endif
`}),staticAttributes:p,staticUniforms:E}}class du{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,u,p,g,_,E,A,I,R){this.context=a;let K=this.boundPaintVertexBuffers.length!==g.length;for(let U=0;!K&&U<g.length;U++)this.boundPaintVertexBuffers[U]!==g[U]&&(K=!0);!this.vao||this.boundProgram!==u||this.boundLayoutVertexBuffer!==p||K||this.boundIndexBuffer!==_||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==A||this.boundDynamicVertexBuffer2!==I||this.boundDynamicVertexBuffer3!==R?this.freshBind(u,p,g,_,E,A,I,R):(a.bindVertexArray.set(this.vao),A&&A.bind(),_&&_.dynamicDraw&&_.bind(),I&&I.bind(),R&&R.bind())}freshBind(a,u,p,g,_,E,A,I){const R=a.numAttributes,K=this.context,U=K.gl;this.vao&&this.destroy(),this.vao=K.createVertexArray(),K.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=u,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=g,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=A,this.boundDynamicVertexBuffer3=I,u.enableAttributes(U,a);for(const X of p)X.enableAttributes(U,a);E&&E.enableAttributes(U,a),A&&A.enableAttributes(U,a),I&&I.enableAttributes(U,a),u.bind(),u.setVertexAttribPointers(U,a,_);for(const X of p)X.bind(),X.setVertexAttribPointers(U,a,_);E&&(E.bind(),E.setVertexAttribPointers(U,a,_)),g&&g.bind(),A&&(A.bind(),A.setVertexAttribPointers(U,a,_)),I&&(I.bind(),I.setVertexAttribPointers(U,a,_)),K.currentNumAttributes=R}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Rs(x){const a=[];for(let u=0;u<x.length;u++){if(x[u]===null)continue;const p=x[u].split(" ");a.push(p.pop())}return a}class Ah{constructor(a,u,p,g,_,E){const A=a.gl;this.program=A.createProgram();const I=Rs(u.staticAttributes),R=p?p.getBinderAttributes():[],K=I.concat(R),U=$s.prelude.staticUniforms?Rs($s.prelude.staticUniforms):[],X=u.staticUniforms?Rs(u.staticUniforms):[],te=p?p.getBinderUniforms():[],ne=U.concat(X).concat(te),me=[];for(const Fe of ne)me.indexOf(Fe)<0&&me.push(Fe);const oe=p?p.defines():[];_&&oe.push("#define OVERDRAW_INSPECTOR;"),E&&oe.push("#define TERRAIN3D;");const _e=oe.concat($s.prelude.fragmentSource,u.fragmentSource).join(`
`),Ce=oe.concat($s.prelude.vertexSource,u.vertexSource).join(`
`),de=A.createShader(A.FRAGMENT_SHADER);if(A.isContextLost())return void(this.failedToCreate=!0);if(A.shaderSource(de,_e),A.compileShader(de),!A.getShaderParameter(de,A.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${A.getShaderInfoLog(de)}`);A.attachShader(this.program,de);const ke=A.createShader(A.VERTEX_SHADER);if(A.isContextLost())return void(this.failedToCreate=!0);if(A.shaderSource(ke,Ce),A.compileShader(ke),!A.getShaderParameter(ke,A.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${A.getShaderInfoLog(ke)}`);A.attachShader(this.program,ke),this.attributes={};const $e={};this.numAttributes=K.length;for(let Fe=0;Fe<this.numAttributes;Fe++)K[Fe]&&(A.bindAttribLocation(this.program,Fe,K[Fe]),this.attributes[K[Fe]]=Fe);if(A.linkProgram(this.program),!A.getProgramParameter(this.program,A.LINK_STATUS))throw new Error(`Program failed to link: ${A.getProgramInfoLog(this.program)}`);A.deleteShader(ke),A.deleteShader(de);for(let Fe=0;Fe<me.length;Fe++){const We=me[Fe];if(We&&!$e[We]){const Ye=A.getUniformLocation(this.program,We);Ye&&($e[We]=Ye)}}this.fixedUniforms=g(a,$e),this.terrainUniforms=((Fe,We)=>({u_depth:new c.aH(Fe,We.u_depth),u_terrain:new c.aH(Fe,We.u_terrain),u_terrain_dim:new c.aI(Fe,We.u_terrain_dim),u_terrain_matrix:new c.aJ(Fe,We.u_terrain_matrix),u_terrain_unpack:new c.aK(Fe,We.u_terrain_unpack),u_terrain_exaggeration:new c.aI(Fe,We.u_terrain_exaggeration)}))(a,$e),this.binderUniforms=p?p.getUniforms(a,$e):[]}draw(a,u,p,g,_,E,A,I,R,K,U,X,te,ne,me,oe,_e,Ce){const de=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(p),a.setStencilMode(g),a.setColorMode(_),a.setCullFace(E),I){a.activeTexture.set(de.TEXTURE2),de.bindTexture(de.TEXTURE_2D,I.depthTexture),a.activeTexture.set(de.TEXTURE3),de.bindTexture(de.TEXTURE_2D,I.texture);for(const $e in this.terrainUniforms)this.terrainUniforms[$e].set(I[$e])}for(const $e in this.fixedUniforms)this.fixedUniforms[$e].set(A[$e]);me&&me.setUniforms(a,this.binderUniforms,te,{zoom:ne});let ke=0;switch(u){case de.LINES:ke=2;break;case de.TRIANGLES:ke=3;break;case de.LINE_STRIP:ke=1}for(const $e of X.get()){const Fe=$e.vaos||($e.vaos={});(Fe[R]||(Fe[R]=new du)).bind(a,this,K,me?me.getPaintVertexBuffers():[],U,$e.vertexOffset,oe,_e,Ce),de.drawElements(u,$e.primitiveLength*ke,de.UNSIGNED_SHORT,$e.primitiveOffset*ke*2)}}}function hu(x,a,u){const p=1/Rt(u,1,a.transform.tileZoom),g=Math.pow(2,u.tileID.overscaledZ),_=u.tileSize*Math.pow(2,a.transform.tileZoom)/g,E=_*(u.tileID.canonical.x+u.tileID.wrap*g),A=_*u.tileID.canonical.y;return{u_image:0,u_texsize:u.imageAtlasTexture.size,u_scale:[p,x.fromScale,x.toScale],u_fade:x.t,u_pixel_coord_upper:[E>>16,A>>16],u_pixel_coord_lower:[65535&E,65535&A]}}const ql=(x,a,u,p)=>{const g=a.style.light,_=g.properties.get("position"),E=[_.x,_.y,_.z],A=function(){var R=new c.A(9);return c.A!=Float32Array&&(R[1]=0,R[2]=0,R[3]=0,R[5]=0,R[6]=0,R[7]=0),R[0]=1,R[4]=1,R[8]=1,R}();g.properties.get("anchor")==="viewport"&&function(R,K){var U=Math.sin(K),X=Math.cos(K);R[0]=X,R[1]=U,R[2]=0,R[3]=-U,R[4]=X,R[5]=0,R[6]=0,R[7]=0,R[8]=1}(A,-a.transform.angle),function(R,K,U){var X=K[0],te=K[1],ne=K[2];R[0]=X*U[0]+te*U[3]+ne*U[6],R[1]=X*U[1]+te*U[4]+ne*U[7],R[2]=X*U[2]+te*U[5]+ne*U[8]}(E,E,A);const I=g.properties.get("color");return{u_matrix:x,u_lightpos:E,u_lightintensity:g.properties.get("intensity"),u_lightcolor:[I.r,I.g,I.b],u_vertical_gradient:+u,u_opacity:p}},Ih=(x,a,u,p,g,_,E)=>c.e(ql(x,a,u,p),hu(_,a,E),{u_height_factor:-Math.pow(2,g.overscaledZ)/E.tileSize/8}),fu=x=>({u_matrix:x}),Zl=(x,a,u,p)=>c.e(fu(x),hu(u,a,p)),pu=(x,a)=>({u_matrix:x,u_world:a}),Yl=(x,a,u,p,g)=>c.e(Zl(x,a,u,p),{u_world:g}),H0=(x,a,u,p)=>{const g=x.transform;let _,E;if(p.paint.get("circle-pitch-alignment")==="map"){const A=Rt(u,1,g.zoom);_=!0,E=[A,A]}else _=!1,E=g.pixelsToGLUnits;return{u_camera_to_center_distance:g.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:x.translatePosMatrix(a.posMatrix,u,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:x.pixelRatio,u_extrude_scale:E}},W0=(x,a,u)=>({u_matrix:x,u_inv_matrix:a,u_camera_to_center_distance:u.cameraToCenterDistance,u_viewport_size:[u.width,u.height]}),Mh=(x,a,u=1)=>({u_matrix:x,u_color:a,u_overlay:0,u_overlay_scale:u}),Em=x=>({u_matrix:x}),jo=(x,a,u,p)=>({u_matrix:x,u_extrude_scale:Rt(a,1,u),u_intensity:p});function mu(x,a){const u=Math.pow(2,a.canonical.z),p=a.canonical.y;return[new c.Y(0,p/u).toLngLat().lat,new c.Y(0,(p+1)/u).toLngLat().lat]}const Gn=(x,a,u,p)=>{const g=x.transform;return{u_matrix:Rh(x,a,u,p),u_ratio:1/Rt(a,1,g.zoom),u_device_pixel_ratio:x.pixelRatio,u_units_to_pixels:[1/g.pixelsToGLUnits[0],1/g.pixelsToGLUnits[1]]}},Ti=(x,a,u,p,g)=>c.e(Gn(x,a,u,g),{u_image:0,u_image_height:p}),Dh=(x,a,u,p,g)=>{const _=x.transform,E=$h(a,_);return{u_matrix:Rh(x,a,u,g),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Rt(a,1,_.zoom),u_device_pixel_ratio:x.pixelRatio,u_image:0,u_scale:[E,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},gu=(x,a,u,p,g,_)=>{const E=x.lineAtlas,A=$h(a,x.transform),I=u.layout.get("line-cap")==="round",R=E.getDash(p.from,I),K=E.getDash(p.to,I),U=R.width*g.fromScale,X=K.width*g.toScale;return c.e(Gn(x,a,u,_),{u_patternscale_a:[A/U,-R.height/2],u_patternscale_b:[A/X,-K.height/2],u_sdfgamma:E.width/(256*Math.min(U,X)*x.pixelRatio)/2,u_image:0,u_tex_y_a:R.y,u_tex_y_b:K.y,u_mix:g.t})};function $h(x,a){return 1/Rt(x,1,a.tileZoom)}function Rh(x,a,u,p){return x.translatePosMatrix(p?p.posMatrix:a.tileID.posMatrix,a,u.paint.get("line-translate"),u.paint.get("line-translate-anchor"))}const Ls=(x,a,u,p,g)=>{return{u_matrix:x,u_tl_parent:a,u_scale_parent:u,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*g.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:g.paint.get("raster-brightness-min"),u_brightness_high:g.paint.get("raster-brightness-max"),u_saturation_factor:(E=g.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(_=g.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:G0(g.paint.get("raster-hue-rotate"))};var _,E};function G0(x){x*=Math.PI/180;const a=Math.sin(x),u=Math.cos(x);return[(2*u+1)/3,(-Math.sqrt(3)*a-u+1)/3,(Math.sqrt(3)*a-u+1)/3]}const km=(x,a,u,p,g,_,E,A,I,R,K,U,X,te)=>{const ne=E.transform;return{u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:ne.cameraToCenterDistance,u_pitch:ne.pitch/360*2*Math.PI,u_rotate_symbol:+u,u_aspect_ratio:ne.width/ne.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:I,u_coord_matrix:R,u_is_text:+U,u_pitch_with_map:+p,u_is_along_line:g,u_is_variable_anchor:_,u_texsize:X,u_texture:0,u_translation:K,u_pitched_scale:te}},Am=(x,a,u,p,g,_,E,A,I,R,K,U,X,te,ne)=>{const me=E.transform;return c.e(km(x,a,u,p,g,_,E,A,I,R,K,U,X,ne),{u_gamma_scale:p?Math.cos(me._pitch)*me.cameraToCenterDistance:1,u_device_pixel_ratio:E.pixelRatio,u_is_halo:+te})},q0=(x,a,u,p,g,_,E,A,I,R,K,U,X,te)=>c.e(Am(x,a,u,p,g,_,E,A,I,R,K,!0,U,!0,te),{u_texsize_icon:X,u_texture_icon:1}),Z0=(x,a,u)=>({u_matrix:x,u_opacity:a,u_color:u}),Y0=(x,a,u,p,g,_)=>c.e(function(E,A,I,R){const K=I.imageManager.getPattern(E.from.toString()),U=I.imageManager.getPattern(E.to.toString()),{width:X,height:te}=I.imageManager.getPixelSize(),ne=Math.pow(2,R.tileID.overscaledZ),me=R.tileSize*Math.pow(2,I.transform.tileZoom)/ne,oe=me*(R.tileID.canonical.x+R.tileID.wrap*ne),_e=me*R.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:K.tl,u_pattern_br_a:K.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[X,te],u_mix:A.t,u_pattern_size_a:K.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:A.fromScale,u_scale_b:A.toScale,u_tile_units_to_pixels:1/Rt(R,1,I.transform.tileZoom),u_pixel_coord_upper:[oe>>16,_e>>16],u_pixel_coord_lower:[65535&oe,65535&_e]}}(p,_,u,g),{u_matrix:x,u_opacity:a}),yu={fillExtrusion:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_lightpos:new c.aL(x,a.u_lightpos),u_lightintensity:new c.aI(x,a.u_lightintensity),u_lightcolor:new c.aL(x,a.u_lightcolor),u_vertical_gradient:new c.aI(x,a.u_vertical_gradient),u_opacity:new c.aI(x,a.u_opacity)}),fillExtrusionPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_lightpos:new c.aL(x,a.u_lightpos),u_lightintensity:new c.aI(x,a.u_lightintensity),u_lightcolor:new c.aL(x,a.u_lightcolor),u_vertical_gradient:new c.aI(x,a.u_vertical_gradient),u_height_factor:new c.aI(x,a.u_height_factor),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade),u_opacity:new c.aI(x,a.u_opacity)}),fill:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix)}),fillPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),fillOutline:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world)}),fillOutlinePattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world),u_image:new c.aH(x,a.u_image),u_texsize:new c.aM(x,a.u_texsize),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),circle:(x,a)=>({u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_scale_with_map:new c.aH(x,a.u_scale_with_map),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_extrude_scale:new c.aM(x,a.u_extrude_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_matrix:new c.aJ(x,a.u_matrix)}),collisionBox:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_pixel_extrude_scale:new c.aM(x,a.u_pixel_extrude_scale)}),collisionCircle:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_inv_matrix:new c.aJ(x,a.u_inv_matrix),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_viewport_size:new c.aM(x,a.u_viewport_size)}),debug:(x,a)=>({u_color:new c.aN(x,a.u_color),u_matrix:new c.aJ(x,a.u_matrix),u_overlay:new c.aH(x,a.u_overlay),u_overlay_scale:new c.aI(x,a.u_overlay_scale)}),clippingMask:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix)}),heatmap:(x,a)=>({u_extrude_scale:new c.aI(x,a.u_extrude_scale),u_intensity:new c.aI(x,a.u_intensity),u_matrix:new c.aJ(x,a.u_matrix)}),heatmapTexture:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_world:new c.aM(x,a.u_world),u_image:new c.aH(x,a.u_image),u_color_ramp:new c.aH(x,a.u_color_ramp),u_opacity:new c.aI(x,a.u_opacity)}),hillshade:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_latrange:new c.aM(x,a.u_latrange),u_light:new c.aM(x,a.u_light),u_shadow:new c.aN(x,a.u_shadow),u_highlight:new c.aN(x,a.u_highlight),u_accent:new c.aN(x,a.u_accent)}),hillshadePrepare:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_image:new c.aH(x,a.u_image),u_dimension:new c.aM(x,a.u_dimension),u_zoom:new c.aI(x,a.u_zoom),u_unpack:new c.aK(x,a.u_unpack)}),line:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels)}),lineGradient:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_image:new c.aH(x,a.u_image),u_image_height:new c.aI(x,a.u_image_height)}),linePattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texsize:new c.aM(x,a.u_texsize),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_image:new c.aH(x,a.u_image),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_scale:new c.aL(x,a.u_scale),u_fade:new c.aI(x,a.u_fade)}),lineSDF:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ratio:new c.aI(x,a.u_ratio),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_units_to_pixels:new c.aM(x,a.u_units_to_pixels),u_patternscale_a:new c.aM(x,a.u_patternscale_a),u_patternscale_b:new c.aM(x,a.u_patternscale_b),u_sdfgamma:new c.aI(x,a.u_sdfgamma),u_image:new c.aH(x,a.u_image),u_tex_y_a:new c.aI(x,a.u_tex_y_a),u_tex_y_b:new c.aI(x,a.u_tex_y_b),u_mix:new c.aI(x,a.u_mix)}),raster:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_tl_parent:new c.aM(x,a.u_tl_parent),u_scale_parent:new c.aI(x,a.u_scale_parent),u_buffer_scale:new c.aI(x,a.u_buffer_scale),u_fade_t:new c.aI(x,a.u_fade_t),u_opacity:new c.aI(x,a.u_opacity),u_image0:new c.aH(x,a.u_image0),u_image1:new c.aH(x,a.u_image1),u_brightness_low:new c.aI(x,a.u_brightness_low),u_brightness_high:new c.aI(x,a.u_brightness_high),u_saturation_factor:new c.aI(x,a.u_saturation_factor),u_contrast_factor:new c.aI(x,a.u_contrast_factor),u_spin_weights:new c.aL(x,a.u_spin_weights)}),symbolIcon:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texture:new c.aH(x,a.u_texture),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),symbolSDF:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texture:new c.aH(x,a.u_texture),u_gamma_scale:new c.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_is_halo:new c.aH(x,a.u_is_halo),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),symbolTextAndIcon:(x,a)=>({u_is_size_zoom_constant:new c.aH(x,a.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aH(x,a.u_is_size_feature_constant),u_size_t:new c.aI(x,a.u_size_t),u_size:new c.aI(x,a.u_size),u_camera_to_center_distance:new c.aI(x,a.u_camera_to_center_distance),u_pitch:new c.aI(x,a.u_pitch),u_rotate_symbol:new c.aH(x,a.u_rotate_symbol),u_aspect_ratio:new c.aI(x,a.u_aspect_ratio),u_fade_change:new c.aI(x,a.u_fade_change),u_matrix:new c.aJ(x,a.u_matrix),u_label_plane_matrix:new c.aJ(x,a.u_label_plane_matrix),u_coord_matrix:new c.aJ(x,a.u_coord_matrix),u_is_text:new c.aH(x,a.u_is_text),u_pitch_with_map:new c.aH(x,a.u_pitch_with_map),u_is_along_line:new c.aH(x,a.u_is_along_line),u_is_variable_anchor:new c.aH(x,a.u_is_variable_anchor),u_texsize:new c.aM(x,a.u_texsize),u_texsize_icon:new c.aM(x,a.u_texsize_icon),u_texture:new c.aH(x,a.u_texture),u_texture_icon:new c.aH(x,a.u_texture_icon),u_gamma_scale:new c.aI(x,a.u_gamma_scale),u_device_pixel_ratio:new c.aI(x,a.u_device_pixel_ratio),u_is_halo:new c.aH(x,a.u_is_halo),u_translation:new c.aM(x,a.u_translation),u_pitched_scale:new c.aI(x,a.u_pitched_scale)}),background:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_opacity:new c.aI(x,a.u_opacity),u_color:new c.aN(x,a.u_color)}),backgroundPattern:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_opacity:new c.aI(x,a.u_opacity),u_image:new c.aH(x,a.u_image),u_pattern_tl_a:new c.aM(x,a.u_pattern_tl_a),u_pattern_br_a:new c.aM(x,a.u_pattern_br_a),u_pattern_tl_b:new c.aM(x,a.u_pattern_tl_b),u_pattern_br_b:new c.aM(x,a.u_pattern_br_b),u_texsize:new c.aM(x,a.u_texsize),u_mix:new c.aI(x,a.u_mix),u_pattern_size_a:new c.aM(x,a.u_pattern_size_a),u_pattern_size_b:new c.aM(x,a.u_pattern_size_b),u_scale_a:new c.aI(x,a.u_scale_a),u_scale_b:new c.aI(x,a.u_scale_b),u_pixel_coord_upper:new c.aM(x,a.u_pixel_coord_upper),u_pixel_coord_lower:new c.aM(x,a.u_pixel_coord_lower),u_tile_units_to_pixels:new c.aI(x,a.u_tile_units_to_pixels)}),terrain:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texture:new c.aH(x,a.u_texture),u_ele_delta:new c.aI(x,a.u_ele_delta)}),terrainDepth:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_ele_delta:new c.aI(x,a.u_ele_delta)}),terrainCoords:(x,a)=>({u_matrix:new c.aJ(x,a.u_matrix),u_texture:new c.aH(x,a.u_texture),u_terrain_coords_id:new c.aI(x,a.u_terrain_coords_id),u_ele_delta:new c.aI(x,a.u_ele_delta)})};class Lh{constructor(a,u,p){this.context=a;const g=a.gl;this.buffer=g.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),g.bufferData(g.ELEMENT_ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?g.DYNAMIC_DRAW:g.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const u=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),u.bufferSubData(u.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const vu={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class zh{constructor(a,u,p,g){this.length=u.length,this.attributes=p,this.itemSize=u.bytesPerElement,this.dynamicDraw=g,this.context=a;const _=a.gl;this.buffer=_.createBuffer(),a.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,u.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete u.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const u=this.context.gl;this.bind(),u.bufferSubData(u.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,u){for(let p=0;p<this.attributes.length;p++){const g=u.attributes[this.attributes[p].name];g!==void 0&&a.enableVertexAttribArray(g)}}setVertexAttribPointers(a,u,p){for(let g=0;g<this.attributes.length;g++){const _=this.attributes[g],E=u.attributes[_.name];E!==void 0&&a.vertexAttribPointer(E,_.components,a[vu[_.type]],!1,this.itemSize,_.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Xl=new WeakMap;function Ci(x){var a;if(Xl.has(x))return Xl.get(x);{const u=(a=x.getParameter(x.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Xl.set(x,u),u}}class sr{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Fh extends sr{getDefault(){return c.aP.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Jl extends sr{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class Ql extends sr{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class X0 extends sr{getDefault(){return[!0,!0,!0,!0]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class xu extends sr{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class J0 extends sr{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class zs extends sr{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const u=this.current;(a.func!==u.func||a.ref!==u.ref||a.mask!==u.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class Q0 extends sr{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Im extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.STENCIL_TEST):u.disable(u.STENCIL_TEST),this.current=a,this.dirty=!1}}class ex extends sr{getDefault(){return[0,1]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class Mm extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST),this.current=a,this.dirty=!1}}class Bh extends sr{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Dm extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.BLEND):u.disable(u.BLEND),this.current=a,this.dirty=!1}}class $m extends sr{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Rm extends sr{getDefault(){return c.aP.transparent}set(a){const u=this.current;(a.r!==u.r||a.g!==u.g||a.b!==u.b||a.a!==u.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class Lm extends sr{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class Vo extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;a?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE),this.current=a,this.dirty=!1}}class zm extends sr{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class tx extends sr{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class rx extends sr{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class Fm extends sr{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class ec extends sr{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const u=this.current;(a[0]!==u[0]||a[1]!==u[1]||a[2]!==u[2]||a[3]!==u[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class nx extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindFramebuffer(u.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class _u extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindRenderbuffer(u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ix extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindTexture(u.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class ax extends sr{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.bindBuffer(u.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Bm extends sr{getDefault(){return null}set(a){const u=this.gl;u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Nm extends sr{getDefault(){return null}set(a){var u;if(a===this.current&&!this.dirty)return;const p=this.gl;Ci(p)?p.bindVertexArray(a):(u=p.getExtension("OES_vertex_array_object"))===null||u===void 0||u.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class Om extends sr{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class Nh extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class jm extends sr{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const u=this.gl;u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class Fs extends sr{constructor(a,u){super(a),this.context=a,this.parent=u}getDefault(){return null}}class Ha extends Fs{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Oh extends Fs{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_ATTACHMENT,u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class jh extends Fs{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const u=this.gl;u.framebufferRenderbuffer(u.FRAMEBUFFER,u.DEPTH_STENCIL_ATTACHMENT,u.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Vh{constructor(a,u,p,g,_){this.context=a,this.width=u,this.height=p;const E=a.gl,A=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Ha(a,A),g)this.depthAttachment=_?new jh(a,A):new Oh(a,A);else if(_)throw new Error("Stencil cannot be set without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,u=this.colorAttachment.get();if(u&&a.deleteTexture(u),this.depthAttachment){const p=this.depthAttachment.get();p&&a.deleteRenderbuffer(p)}a.deleteFramebuffer(this.framebuffer)}}class Kr{constructor(a,u,p){this.blendFunction=a,this.blendColor=u,this.mask=p}}Kr.Replace=[1,0],Kr.disabled=new Kr(Kr.Replace,c.aP.transparent,[!1,!1,!1,!1]),Kr.unblended=new Kr(Kr.Replace,c.aP.transparent,[!0,!0,!0,!0]),Kr.alphaBlended=new Kr([1,771],c.aP.transparent,[!0,!0,!0,!0]);class Uh{constructor(a){var u,p;if(this.gl=a,this.clearColor=new Fh(this),this.clearDepth=new Jl(this),this.clearStencil=new Ql(this),this.colorMask=new X0(this),this.depthMask=new xu(this),this.stencilMask=new J0(this),this.stencilFunc=new zs(this),this.stencilOp=new Q0(this),this.stencilTest=new Im(this),this.depthRange=new ex(this),this.depthTest=new Mm(this),this.depthFunc=new Bh(this),this.blend=new Dm(this),this.blendFunc=new $m(this),this.blendColor=new Rm(this),this.blendEquation=new Lm(this),this.cullFace=new Vo(this),this.cullFaceSide=new zm(this),this.frontFace=new tx(this),this.program=new rx(this),this.activeTexture=new Fm(this),this.viewport=new ec(this),this.bindFramebuffer=new nx(this),this.bindRenderbuffer=new _u(this),this.bindTexture=new ix(this),this.bindVertexBuffer=new ax(this),this.bindElementBuffer=new Bm(this),this.bindVertexArray=new Nm(this),this.pixelStoreUnpack=new Om(this),this.pixelStoreUnpackPremultiplyAlpha=new Nh(this),this.pixelStoreUnpackFlipY=new jm(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),Ci(a)){this.HALF_FLOAT=a.HALF_FLOAT;const g=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(u=a.RGBA16F)!==null&&u!==void 0?u:g==null?void 0:g.RGBA16F_EXT,this.RGB16F=(p=a.RGB16F)!==null&&p!==void 0?p:g==null?void 0:g.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const g=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=g==null?void 0:g.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,u){return new Lh(this,a,u)}createVertexBuffer(a,u,p){return new zh(this,a,u,p)}createRenderbuffer(a,u,p){const g=this.gl,_=g.createRenderbuffer();return this.bindRenderbuffer.set(_),g.renderbufferStorage(g.RENDERBUFFER,a,u,p),this.bindRenderbuffer.set(null),_}createFramebuffer(a,u,p,g){return new Vh(this,a,u,p,g)}clear({color:a,depth:u,stencil:p}){const g=this.gl;let _=0;a&&(_|=g.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),u!==void 0&&(_|=g.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(u),this.depthMask.set(!0)),p!==void 0&&(_|=g.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),g.clear(_)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){c.aE(a.blendFunction,Kr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return Ci(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var u;return Ci(this.gl)?this.gl.deleteVertexArray(a):(u=this.gl.getExtension("OES_vertex_array_object"))===null||u===void 0?void 0:u.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class Wt{constructor(a,u,p){this.func=a,this.mask=u,this.range=p}}Wt.ReadOnly=!1,Wt.ReadWrite=!0,Wt.disabled=new Wt(519,Wt.ReadOnly,[0,1]);const tc=7680;class Mr{constructor(a,u,p,g,_,E){this.test=a,this.ref=u,this.mask=p,this.fail=g,this.depthFail=_,this.pass=E}}Mr.disabled=new Mr({func:519,mask:0},0,0,tc,tc,tc);class Ar{constructor(a,u,p){this.enable=a,this.mode=u,this.frontFace=p}}let bu;function Vm(x,a,u,p,g){const _=x.context,E=_.gl,A=x.useProgram("collisionBox"),I=[];let R=0,K=0;for(let _e=0;_e<p.length;_e++){const Ce=p[_e],de=a.getTile(Ce).getBucket(u);if(!de)continue;const ke=g?de.textCollisionBox:de.iconCollisionBox,$e=de.collisionCircleArray;if($e.length>0){const Fe=c.F();c.aQ(Fe,de.placementInvProjMatrix,x.transform.glCoordMatrix),c.aQ(Fe,Fe,de.placementViewportMatrix),I.push({circleArray:$e,circleOffset:K,transform:Ce.posMatrix,invTransform:Fe,coord:Ce}),R+=$e.length/4,K=R}ke&&A.draw(_,E.LINES,Wt.disabled,Mr.disabled,x.colorModeForRenderPass(),Ar.disabled,{u_matrix:Ce.posMatrix,u_pixel_extrude_scale:[1/(U=x.transform).width,1/U.height]},x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ce),u.id,ke.layoutVertexBuffer,ke.indexBuffer,ke.segments,null,x.transform.zoom,null,null,ke.collisionVertexBuffer)}var U;if(!g||!I.length)return;const X=x.useProgram("collisionCircle"),te=new c.aR;te.resize(4*R),te._trim();let ne=0;for(const _e of I)for(let Ce=0;Ce<_e.circleArray.length/4;Ce++){const de=4*Ce,ke=_e.circleArray[de+0],$e=_e.circleArray[de+1],Fe=_e.circleArray[de+2],We=_e.circleArray[de+3];te.emplace(ne++,ke,$e,Fe,We,0),te.emplace(ne++,ke,$e,Fe,We,1),te.emplace(ne++,ke,$e,Fe,We,2),te.emplace(ne++,ke,$e,Fe,We,3)}(!bu||bu.length<2*R)&&(bu=function(_e){const Ce=2*_e,de=new c.aT;de.resize(Ce),de._trim();for(let ke=0;ke<Ce;ke++){const $e=6*ke;de.uint16[$e+0]=4*ke+0,de.uint16[$e+1]=4*ke+1,de.uint16[$e+2]=4*ke+2,de.uint16[$e+3]=4*ke+2,de.uint16[$e+4]=4*ke+3,de.uint16[$e+5]=4*ke+0}return de}(R));const me=_.createIndexBuffer(bu,!0),oe=_.createVertexBuffer(te,c.aS.members,!0);for(const _e of I){const Ce=W0(_e.transform,_e.invTransform,x.transform);X.draw(_,E.TRIANGLES,Wt.disabled,Mr.disabled,x.colorModeForRenderPass(),Ar.disabled,Ce,x.style.map.terrain&&x.style.map.terrain.getTerrainData(_e.coord),u.id,oe,me,c.$.simpleSegment(0,2*_e.circleOffset,_e.circleArray.length,_e.circleArray.length/2),null,x.transform.zoom,null,null,null)}oe.destroy(),me.destroy()}Ar.disabled=new Ar(!1,1029,2305),Ar.backCCW=new Ar(!0,1029,2305);const Kh=c.an(new Float32Array(16));function ox(x,a,u,p,g,_){const{horizontalAlign:E,verticalAlign:A}=c.au(x);return new c.P((-(E-.5)*a/g+p[0])*_,(-(A-.5)*u/g+p[1])*_)}function Um(x,a,u,p,g,_){const E=a.tileAnchorPoint.add(new c.P(a.translation[0],a.translation[1]));if(a.pitchWithMap){let A=p.mult(_);return u||(A=A.rotate(-g)),mn(E.add(A),a.labelPlaneMatrix,a.getElevation).point}if(u){const A=we(a.tileAnchorPoint.x+1,a.tileAnchorPoint.y,a).point.sub(x),I=Math.atan(A.y/A.x)+(A.x<0?Math.PI:0);return x.add(p.rotate(I))}return x.add(p)}function wu(x,a,u,p,g,_,E,A,I,R,K,U,X,te){const ne=x.text.placedSymbolArray,me=x.text.dynamicLayoutVertexArray,oe=x.icon.dynamicLayoutVertexArray,_e={};me.clear();for(let Ce=0;Ce<ne.length;Ce++){const de=ne.get(Ce),ke=de.hidden||!de.crossTileID||x.allowVerticalPlacement&&!de.placedOrientation?null:p[de.crossTileID];if(ke){const $e=new c.P(de.anchorX,de.anchorY),Fe={getElevation:te,width:g.width,height:g.height,labelPlaneMatrix:_,lineVertexArray:null,pitchWithMap:u,projection:K,projectionCache:null,tileAnchorPoint:$e,translation:U,unwrappedTileID:X},We=u?mn($e,E,te):we($e.x,$e.y,Fe),Ye=ue(g.cameraToCenterDistance,We.signedDistanceFromCamera);let ct=c.ai(x.textSizeData,I,de)*Ye/c.ap;u&&(ct*=x.tilePixelRatio/A);const{width:ut,height:Xe,anchor:et,textOffset:pt,textBoxScale:Lt}=ke,rt=ox(et,ut,Xe,pt,Lt,ct),at=K.getPitchedTextCorrection(g,$e.add(new c.P(U[0],U[1])),X),It=Um(We.point,Fe,a,rt,g.angle,at),wr=x.allowVerticalPlacement&&de.placedOrientation===c.ah.vertical?Math.PI/2:0;for(let Ht=0;Ht<de.numGlyphs;Ht++)c.aj(me,It,wr);R&&de.associatedIconIndex>=0&&(_e[de.associatedIconIndex]={shiftedAnchor:It,angle:wr})}else Tt(de.numGlyphs,me)}if(R){oe.clear();const Ce=x.icon.placedSymbolArray;for(let de=0;de<Ce.length;de++){const ke=Ce.get(de);if(ke.hidden)Tt(ke.numGlyphs,oe);else{const $e=_e[de];if($e)for(let Fe=0;Fe<ke.numGlyphs;Fe++)c.aj(oe,$e.shiftedAnchor,$e.angle);else Tt(ke.numGlyphs,oe)}}x.icon.dynamicLayoutVertexBuffer.updateData(oe)}x.text.dynamicLayoutVertexBuffer.updateData(me)}function Su(x,a,u){return u.iconsInText&&a?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function rc(x,a,u,p,g,_,E,A,I,R,K,U){const X=x.context,te=X.gl,ne=x.transform,me=oi(),oe=A==="map",_e=I==="map",Ce=A!=="viewport"&&u.layout.get("symbol-placement")!=="point",de=oe&&!_e&&!Ce,ke=!_e&&Ce,$e=!u.layout.get("symbol-sort-key").isConstant();let Fe=!1;const We=x.depthModeForSublayer(0,Wt.ReadOnly),Ye=u._unevaluatedLayout.hasValue("text-variable-anchor")||u._unevaluatedLayout.hasValue("text-variable-anchor-offset"),ct=[],ut=me.getCircleRadiusCorrection(ne);for(const Xe of p){const et=a.getTile(Xe),pt=et.getBucket(u);if(!pt)continue;const Lt=g?pt.text:pt.icon;if(!Lt||!Lt.segments.get().length||!Lt.hasVisibleVertices)continue;const rt=Lt.programConfigurations.get(u.id),at=g||pt.sdfIcons,It=g?pt.textSizeData:pt.iconSizeData,wr=_e||ne.pitch!==0,Ht=x.useProgram(Su(at,g,pt),rt),Xt=c.ag(It,ne.zoom),Sr=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Xe);let Dn,Qi,Pr,li,qn=[0,0],$n=null;if(g)Qi=et.glyphAtlasTexture,Pr=te.LINEAR,Dn=et.glyphAtlasTexture.size,pt.iconsInText&&(qn=et.imageAtlasTexture.size,$n=et.imageAtlasTexture,li=wr||x.options.rotating||x.options.zooming||It.kind==="composite"||It.kind==="camera"?te.LINEAR:te.NEAREST);else{const Dr=u.layout.get("icon-size").constantOr(0)!==1||pt.iconsNeedLinear;Qi=et.imageAtlasTexture,Pr=at||x.options.rotating||x.options.zooming||Dr||wr?te.LINEAR:te.NEAREST,Dn=et.imageAtlasTexture.size}const Rn=Rt(et,1,x.transform.zoom),ea=ke?Xe.posMatrix:Kh,Zo=Va(ea,_e,oe,x.transform,Rn),Vu=Ua(ea,_e,oe,x.transform,Rn),Hs=Ua(Xe.posMatrix,_e,oe,x.transform,Rn),Yo=me.translatePosition(x.transform,et,_,E),Uu=Ye&&pt.hasTextData(),pf=u.layout.get("icon-text-fit")!=="none"&&Uu&&pt.hasIconData();if(Ce){const Dr=x.style.map.terrain?(mf,cn)=>x.style.map.terrain.getElevation(Xe,mf,cn):null,Gs=u.layout.get("text-rotation-alignment")==="map";Z(pt,Xe.posMatrix,x,g,Zo,Hs,_e,R,Gs,me,Xe.toUnwrapped(),ne.width,ne.height,Yo,Dr)}const Pn=Xe.posMatrix,ta=g&&Ye||pf,xo=Ce||ta?Kh:Zo,Ws=Vu,Ln=at&&u.paint.get(g?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let zn;zn=at?pt.iconsInText?q0(It.kind,Xt,de,_e,Ce,ta,x,Pn,xo,Ws,Yo,Dn,qn,ut):Am(It.kind,Xt,de,_e,Ce,ta,x,Pn,xo,Ws,Yo,g,Dn,!0,ut):km(It.kind,Xt,de,_e,Ce,ta,x,Pn,xo,Ws,Yo,g,Dn,ut);const gn={program:Ht,buffers:Lt,uniformValues:zn,atlasTexture:Qi,atlasTextureIcon:$n,atlasInterpolation:Pr,atlasInterpolationIcon:li,isSDF:at,hasHalo:Ln};if($e&&pt.canOverlap){Fe=!0;const Dr=Lt.segments.get();for(const Gs of Dr)ct.push({segments:new c.$([Gs]),sortKey:Gs.sortKey,state:gn,terrainData:Sr})}else ct.push({segments:Lt.segments,sortKey:0,state:gn,terrainData:Sr})}Fe&&ct.sort((Xe,et)=>Xe.sortKey-et.sortKey);for(const Xe of ct){const et=Xe.state;if(X.activeTexture.set(te.TEXTURE0),et.atlasTexture.bind(et.atlasInterpolation,te.CLAMP_TO_EDGE),et.atlasTextureIcon&&(X.activeTexture.set(te.TEXTURE1),et.atlasTextureIcon&&et.atlasTextureIcon.bind(et.atlasInterpolationIcon,te.CLAMP_TO_EDGE)),et.isSDF){const pt=et.uniformValues;et.hasHalo&&(pt.u_is_halo=1,Pu(et.buffers,Xe.segments,u,x,et.program,We,K,U,pt,Xe.terrainData)),pt.u_is_halo=0}Pu(et.buffers,Xe.segments,u,x,et.program,We,K,U,et.uniformValues,Xe.terrainData)}}function Pu(x,a,u,p,g,_,E,A,I,R){const K=p.context;g.draw(K,K.gl.TRIANGLES,_,E,A,Ar.disabled,I,R,u.id,x.layoutVertexBuffer,x.indexBuffer,a,u.paint,p.transform.zoom,x.programConfigurations.get(u.id),x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer)}function po(x,a,u,p,g){if(!u||!p||!p.imageAtlas)return;const _=p.imageAtlas.patternPositions;let E=_[u.to.toString()],A=_[u.from.toString()];if(!E&&A&&(E=A),!A&&E&&(A=E),!E||!A){const I=g.getPaintProperty(a);E=_[I],A=_[I]}E&&A&&x.setConstantPatternPositions(E,A)}function Uo(x,a,u,p,g,_,E){const A=x.context.gl,I="fill-pattern",R=u.paint.get(I),K=R&&R.constantOr(1),U=u.getCrossfadeParameters();let X,te,ne,me,oe;E?(te=K&&!u.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=A.LINES):(te=K?"fillPattern":"fill",X=A.TRIANGLES);const _e=R.constantOr(null);for(const Ce of p){const de=a.getTile(Ce);if(K&&!de.patternsLoaded())continue;const ke=de.getBucket(u);if(!ke)continue;const $e=ke.programConfigurations.get(u.id),Fe=x.useProgram(te,$e),We=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ce);K&&(x.context.activeTexture.set(A.TEXTURE0),de.imageAtlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE),$e.updatePaintBuffers(U)),po($e,I,_e,de,u);const Ye=We?Ce:null,ct=x.translatePosMatrix(Ye?Ye.posMatrix:Ce.posMatrix,de,u.paint.get("fill-translate"),u.paint.get("fill-translate-anchor"));if(E){me=ke.indexBuffer2,oe=ke.segments2;const ut=[A.drawingBufferWidth,A.drawingBufferHeight];ne=te==="fillOutlinePattern"&&K?Yl(ct,x,U,de,ut):pu(ct,ut)}else me=ke.indexBuffer,oe=ke.segments,ne=K?Zl(ct,x,U,de):fu(ct);Fe.draw(x.context,X,g,x.stencilModeForClipping(Ce),_,Ar.disabled,ne,We,u.id,ke.layoutVertexBuffer,me,oe,u.paint,x.transform.zoom,$e)}}function si(x,a,u,p,g,_,E){const A=x.context,I=A.gl,R="fill-extrusion-pattern",K=u.paint.get(R),U=K.constantOr(1),X=u.getCrossfadeParameters(),te=u.paint.get("fill-extrusion-opacity"),ne=K.constantOr(null);for(const me of p){const oe=a.getTile(me),_e=oe.getBucket(u);if(!_e)continue;const Ce=x.style.map.terrain&&x.style.map.terrain.getTerrainData(me),de=_e.programConfigurations.get(u.id),ke=x.useProgram(U?"fillExtrusionPattern":"fillExtrusion",de);U&&(x.context.activeTexture.set(I.TEXTURE0),oe.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),de.updatePaintBuffers(X)),po(de,R,ne,oe,u);const $e=x.translatePosMatrix(me.posMatrix,oe,u.paint.get("fill-extrusion-translate"),u.paint.get("fill-extrusion-translate-anchor")),Fe=u.paint.get("fill-extrusion-vertical-gradient"),We=U?Ih($e,x,Fe,te,me,X,oe):ql($e,x,Fe,te);ke.draw(A,A.gl.TRIANGLES,g,_,E,Ar.backCCW,We,Ce,u.id,_e.layoutVertexBuffer,_e.indexBuffer,_e.segments,u.paint,x.transform.zoom,de,x.style.map.terrain&&_e.centroidVertexBuffer)}}function Km(x,a,u,p,g,_,E){const A=x.context,I=A.gl,R=u.fbo;if(!R)return;const K=x.useProgram("hillshade"),U=x.style.map.terrain&&x.style.map.terrain.getTerrainData(a);A.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,R.colorAttachment.get()),K.draw(A,I.TRIANGLES,g,_,E,Ar.disabled,((X,te,ne,me)=>{const oe=ne.paint.get("hillshade-shadow-color"),_e=ne.paint.get("hillshade-highlight-color"),Ce=ne.paint.get("hillshade-accent-color");let de=ne.paint.get("hillshade-illumination-direction")*(Math.PI/180);ne.paint.get("hillshade-illumination-anchor")==="viewport"&&(de-=X.transform.angle);const ke=!X.options.moving;return{u_matrix:me?me.posMatrix:X.transform.calculatePosMatrix(te.tileID.toUnwrapped(),ke),u_image:0,u_latrange:mu(0,te.tileID),u_light:[ne.paint.get("hillshade-exaggeration"),de],u_shadow:oe,u_highlight:_e,u_accent:Ce}})(x,u,p,U?a:null),U,p.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}function Hm(x,a,u,p,g,_){const E=x.context,A=E.gl,I=a.dem;if(I&&I.data){const R=I.dim,K=I.stride,U=I.getPixels();if(E.activeTexture.set(A.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||x.getTileTexture(K),a.demTexture){const te=a.demTexture;te.update(U,{premultiply:!1}),te.bind(A.NEAREST,A.CLAMP_TO_EDGE)}else a.demTexture=new le(E,U,A.RGBA,{premultiply:!1}),a.demTexture.bind(A.NEAREST,A.CLAMP_TO_EDGE);E.activeTexture.set(A.TEXTURE0);let X=a.fbo;if(!X){const te=new le(E,{width:R,height:R,data:null},A.RGBA);te.bind(A.LINEAR,A.CLAMP_TO_EDGE),X=a.fbo=E.createFramebuffer(R,R,!0,!1),X.colorAttachment.set(te.texture)}E.bindFramebuffer.set(X.framebuffer),E.viewport.set([0,0,R,R]),x.useProgram("hillshadePrepare").draw(E,A.TRIANGLES,p,g,_,Ar.disabled,((te,ne)=>{const me=ne.stride,oe=c.F();return c.aO(oe,0,c.W,-c.W,0,0,1),c.H(oe,oe,[0,-c.W,0]),{u_matrix:oe,u_image:1,u_dimension:[me,me],u_zoom:te.overscaledZ,u_unpack:ne.getUnpackVector()}})(a.tileID,I),null,u.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function Hh(x,a,u,p,g,_){const E=p.paint.get("raster-fade-duration");if(!_&&E>0){const A=T.now(),I=(A-x.timeAdded)/E,R=a?(A-a.timeAdded)/E:-1,K=u.getSource(),U=g.coveringZoomLevel({tileSize:K.tileSize,roundZoom:K.roundZoom}),X=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(x.tileID.overscaledZ-U),te=X&&x.refreshedUponExpiration?1:c.ac(X?I:1-R,0,1);return x.refreshedUponExpiration&&I>=1&&(x.refreshedUponExpiration=!1),a?{opacity:1,mix:1-te}:{opacity:te,mix:0}}return{opacity:1,mix:0}}const Ko=new c.aP(1,0,0,1),Tu=new c.aP(0,1,0,1),Cu=new c.aP(0,0,1,1),nc=new c.aP(1,0,1,1),Eu=new c.aP(0,1,1,1);function Wh(x,a,u,p){Wa(x,0,a+u/2,x.transform.width,u,p)}function Ho(x,a,u,p){Wa(x,a-u/2,0,u,x.transform.height,p)}function Wa(x,a,u,p,g,_){const E=x.context,A=E.gl;A.enable(A.SCISSOR_TEST),A.scissor(a*x.pixelRatio,u*x.pixelRatio,p*x.pixelRatio,g*x.pixelRatio),E.clear({color:_}),A.disable(A.SCISSOR_TEST)}function Wm(x,a,u){const p=x.context,g=p.gl,_=u.posMatrix,E=x.useProgram("debug"),A=Wt.disabled,I=Mr.disabled,R=x.colorModeForRenderPass(),K="$debug",U=x.style.map.terrain&&x.style.map.terrain.getTerrainData(u);p.activeTexture.set(g.TEXTURE0);const X=a.getTileByID(u.key).latestRawTileData,te=Math.floor((X&&X.byteLength||0)/1024),ne=a.getTile(u).tileSize,me=512/Math.min(ne,512)*(u.overscaledZ/x.transform.zoom)*.5;let oe=u.canonical.toString();u.overscaledZ!==u.canonical.z&&(oe+=` => ${u.overscaledZ}`),function(_e,Ce){_e.initDebugOverlayCanvas();const de=_e.debugOverlayCanvas,ke=_e.context.gl,$e=_e.debugOverlayCanvas.getContext("2d");$e.clearRect(0,0,de.width,de.height),$e.shadowColor="white",$e.shadowBlur=2,$e.lineWidth=1.5,$e.strokeStyle="white",$e.textBaseline="top",$e.font="bold 36px Open Sans, sans-serif",$e.fillText(Ce,5,5),$e.strokeText(Ce,5,5),_e.debugOverlayTexture.update(de),_e.debugOverlayTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE)}(x,`${oe} ${te}kB`),E.draw(p,g.TRIANGLES,A,I,Kr.alphaBlended,Ar.disabled,Mh(_,c.aP.transparent,me),null,K,x.debugBuffer,x.quadTriangleIndexBuffer,x.debugSegments),E.draw(p,g.LINE_STRIP,A,I,R,Ar.disabled,Mh(_,c.aP.red),U,K,x.debugBuffer,x.tileBorderIndexBuffer,x.debugSegments)}function ku(x,a,u){const p=x.context,g=p.gl,_=x.colorModeForRenderPass(),E=new Wt(g.LEQUAL,Wt.ReadWrite,x.depthRangeFor3D),A=x.useProgram("terrain"),I=a.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,x.width,x.height]);for(const R of u){const K=x.renderToTexture.getTexture(R),U=a.getTerrainData(R.tileID);p.activeTexture.set(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,K.texture);const X={u_matrix:x.transform.calculatePosMatrix(R.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(x.transform.zoom)};A.draw(p,g.TRIANGLES,E,Mr.disabled,_,Ar.backCCW,X,U,"terrain",I.vertexBuffer,I.indexBuffer,I.segments)}}class tr{constructor(a,u){this.context=new Uh(a),this.transform=u,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Qe.maxUnderzooming+Qe.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ur}resize(a,u,p){if(this.width=Math.floor(a*p),this.height=Math.floor(u*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const g of this.style._order)this.style._layers[g].resize()}setup(){const a=this.context,u=new c.aW;u.emplaceBack(0,0),u.emplaceBack(c.W,0),u.emplaceBack(0,c.W),u.emplaceBack(c.W,c.W),this.tileExtentBuffer=a.createVertexBuffer(u,_a.members),this.tileExtentSegments=c.$.simpleSegment(0,0,4,2);const p=new c.aW;p.emplaceBack(0,0),p.emplaceBack(c.W,0),p.emplaceBack(0,c.W),p.emplaceBack(c.W,c.W),this.debugBuffer=a.createVertexBuffer(p,_a.members),this.debugSegments=c.$.simpleSegment(0,0,4,5);const g=new c.Z;g.emplaceBack(0,0,0,0),g.emplaceBack(c.W,0,c.W,0),g.emplaceBack(0,c.W,0,c.W),g.emplaceBack(c.W,c.W,c.W,c.W),this.rasterBoundsBuffer=a.createVertexBuffer(g,yr.members),this.rasterBoundsSegments=c.$.simpleSegment(0,0,4,2);const _=new c.aW;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(_,_a.members),this.viewportSegments=c.$.simpleSegment(0,0,4,2);const E=new c.aX;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const A=new c.aY;A.emplaceBack(0,1,2),A.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(A);const I=this.context.gl;this.stencilClearMode=new Mr({func:I.ALWAYS,mask:0},0,255,I.ZERO,I.ZERO,I.ZERO)}clearStencil(){const a=this.context,u=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=c.F();c.aO(p,0,this.width,this.height,0,0,1),c.J(p,p,[u.drawingBufferWidth,u.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,u.TRIANGLES,Wt.disabled,this.stencilClearMode,Kr.disabled,Ar.disabled,Em(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,u){if(this.currentStencilSource===a.source||!a.isTileClipped()||!u||!u.length)return;this.currentStencilSource=a.source;const p=this.context,g=p.gl;this.nextStencilID+u.length>256&&this.clearStencil(),p.setColorMode(Kr.disabled),p.setDepthMode(Wt.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of u){const A=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,I=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);_.draw(p,g.TRIANGLES,Wt.disabled,new Mr({func:g.ALWAYS,mask:0},A,255,g.KEEP,g.KEEP,g.REPLACE),Kr.disabled,Ar.disabled,Em(E.posMatrix),I,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,u=this.context.gl;return new Mr({func:u.NOTEQUAL,mask:255},a,255,u.KEEP,u.KEEP,u.REPLACE)}stencilModeForClipping(a){const u=this.context.gl;return new Mr({func:u.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,u.KEEP,u.KEEP,u.REPLACE)}stencilConfigForOverlap(a){const u=this.context.gl,p=a.sort((E,A)=>A.overscaledZ-E.overscaledZ),g=p[p.length-1].overscaledZ,_=p[0].overscaledZ-g+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const E={};for(let A=0;A<_;A++)E[A+g]=new Mr({func:u.GEQUAL,mask:255},A+this.nextStencilID,255,u.KEEP,u.KEEP,u.REPLACE);return this.nextStencilID+=_,[E,p]}return[{[g]:Mr.disabled},p]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Kr([a.CONSTANT_COLOR,a.ONE],new c.aP(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Kr.unblended:Kr.alphaBlended}depthModeForSublayer(a,u,p){if(!this.opaquePassEnabledForLayer())return Wt.disabled;const g=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new Wt(p||this.context.gl.LEQUAL,u,[g,g])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,u){this.style=a,this.options=u,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(T.now()),this.imageManager.beginFrame();const p=this.style._order,g=this.style.sourceCaches,_={},E={},A={};for(const I in g){const R=g[I];R.used&&R.prepare(this.context),_[I]=R.getVisibleCoordinates(),E[I]=_[I].slice().reverse(),A[I]=R.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let I=0;I<p.length;I++)if(this.style._layers[p[I]].is3D()){this.opaquePassCutoff=I;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const I of p){const R=this.style._layers[I];if(!R.hasOffscreenPass()||R.isHidden(this.transform.zoom))continue;const K=E[R.source];(R.type==="custom"||K.length)&&this.renderLayer(this,g[R.source],R,K)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:u.showOverdrawInspector?c.aP.black:c.aP.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=u.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const I=this.style._layers[p[this.currentLayer]],R=g[I.source],K=_[I.source];this._renderTileClippingMasks(I,K),this.renderLayer(this,R,I,K)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const I=this.style._layers[p[this.currentLayer]],R=g[I.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(I))continue;const K=(I.type==="symbol"?A:E)[I.source];this._renderTileClippingMasks(I,_[I.source]),this.renderLayer(this,R,I,K)}if(this.options.showTileBoundaries){const I=function(R,K){let U=null;const X=Object.values(R._layers).flatMap(oe=>oe.source&&!oe.isHidden(K)?[R.sourceCaches[oe.source]]:[]),te=X.filter(oe=>oe.getSource().type==="vector"),ne=X.filter(oe=>oe.getSource().type!=="vector"),me=oe=>{(!U||U.getSource().maxzoom<oe.getSource().maxzoom)&&(U=oe)};return te.forEach(oe=>me(oe)),U||ne.forEach(oe=>me(oe)),U}(this.style,this.transform.zoom);I&&function(R,K,U){for(let X=0;X<U.length;X++)Wm(R,K,U[X])}(this,I,I.getVisibleCoordinates())}this.options.showPadding&&function(I){const R=I.transform.padding;Wh(I,I.transform.height-(R.top||0),3,Ko),Wh(I,R.bottom||0,3,Tu),Ho(I,R.left||0,3,Cu),Ho(I,I.transform.width-(R.right||0),3,nc);const K=I.transform.centerPoint;(function(U,X,te,ne){Wa(U,X-1,te-10,2,20,ne),Wa(U,X-10,te-1,20,2,ne)})(I,K.x,I.transform.height-K.y,Eu)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(a){if(!this.style||!this.style.map||!this.style.map.terrain)return;const u=this.terrainFacilitator.matrix,p=this.transform.modelViewProjectionMatrix;let g=this.terrainFacilitator.dirty;g||(g=a?!c.aZ(u,p):!c.a_(u,p)),g||(g=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),g&&(c.a$(u,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,E){const A=_.context,I=A.gl,R=Kr.unblended,K=new Wt(I.LEQUAL,Wt.ReadWrite,[0,1]),U=E.getTerrainMesh(),X=E.sourceCache.getRenderableTiles(),te=_.useProgram("terrainDepth");A.bindFramebuffer.set(E.getFramebuffer("depth").framebuffer),A.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),A.clear({color:c.aP.transparent,depth:1});for(const ne of X){const me=E.getTerrainData(ne.tileID),oe={u_matrix:_.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),u_ele_delta:E.getMeshFrameDelta(_.transform.zoom)};te.draw(A,I.TRIANGLES,K,Mr.disabled,R,Ar.backCCW,oe,me,"terrain",U.vertexBuffer,U.indexBuffer,U.segments)}A.bindFramebuffer.set(null),A.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,E){const A=_.context,I=A.gl,R=Kr.unblended,K=new Wt(I.LEQUAL,Wt.ReadWrite,[0,1]),U=E.getTerrainMesh(),X=E.getCoordsTexture(),te=E.sourceCache.getRenderableTiles(),ne=_.useProgram("terrainCoords");A.bindFramebuffer.set(E.getFramebuffer("coords").framebuffer),A.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),A.clear({color:c.aP.transparent,depth:1}),E.coordsIndex=[];for(const me of te){const oe=E.getTerrainData(me.tileID);A.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,X.texture);const _e={u_matrix:_.transform.calculatePosMatrix(me.tileID.toUnwrapped()),u_terrain_coords_id:(255-E.coordsIndex.length)/255,u_texture:0,u_ele_delta:E.getMeshFrameDelta(_.transform.zoom)};ne.draw(A,I.TRIANGLES,K,Mr.disabled,R,Ar.backCCW,_e,oe,"terrain",U.vertexBuffer,U.indexBuffer,U.segments),E.coordsIndex.push(me.tileID.key)}A.bindFramebuffer.set(null),A.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(a,u,p,g){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(g||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(_,E,A,I,R){if(_.renderPass!=="translucent")return;const K=Mr.disabled,U=_.colorModeForRenderPass();(A._unevaluatedLayout.hasValue("text-variable-anchor")||A._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,te,ne,me,oe,_e,Ce,de,ke){const $e=te.transform,Fe=oi(),We=oe==="map",Ye=_e==="map";for(const ct of X){const ut=me.getTile(ct),Xe=ut.getBucket(ne);if(!Xe||!Xe.text||!Xe.text.segments.get().length)continue;const et=c.ag(Xe.textSizeData,$e.zoom),pt=Rt(ut,1,te.transform.zoom),Lt=Va(ct.posMatrix,Ye,We,te.transform,pt),rt=ne.layout.get("icon-text-fit")!=="none"&&Xe.hasIconData();if(et){const at=Math.pow(2,$e.zoom-ut.tileID.overscaledZ),It=te.style.map.terrain?(Ht,Xt)=>te.style.map.terrain.getElevation(ct,Ht,Xt):null,wr=Fe.translatePosition($e,ut,Ce,de);wu(Xe,We,Ye,ke,$e,Lt,ct.posMatrix,at,et,rt,Fe,wr,ct.toUnwrapped(),It)}}}(I,_,A,E,A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),R),A.paint.get("icon-opacity").constantOr(1)!==0&&rc(_,E,A,I,!1,A.paint.get("icon-translate"),A.paint.get("icon-translate-anchor"),A.layout.get("icon-rotation-alignment"),A.layout.get("icon-pitch-alignment"),A.layout.get("icon-keep-upright"),K,U),A.paint.get("text-opacity").constantOr(1)!==0&&rc(_,E,A,I,!0,A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),A.layout.get("text-keep-upright"),K,U),E.map.showCollisionBoxes&&(Vm(_,E,A,I,!0),Vm(_,E,A,I,!1))})(a,u,p,g,this.style.placement.variableOffsets);break;case"circle":(function(_,E,A,I){if(_.renderPass!=="translucent")return;const R=A.paint.get("circle-opacity"),K=A.paint.get("circle-stroke-width"),U=A.paint.get("circle-stroke-opacity"),X=!A.layout.get("circle-sort-key").isConstant();if(R.constantOr(1)===0&&(K.constantOr(1)===0||U.constantOr(1)===0))return;const te=_.context,ne=te.gl,me=_.depthModeForSublayer(0,Wt.ReadOnly),oe=Mr.disabled,_e=_.colorModeForRenderPass(),Ce=[];for(let de=0;de<I.length;de++){const ke=I[de],$e=E.getTile(ke),Fe=$e.getBucket(A);if(!Fe)continue;const We=Fe.programConfigurations.get(A.id),Ye=_.useProgram("circle",We),ct=Fe.layoutVertexBuffer,ut=Fe.indexBuffer,Xe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ke),et={programConfiguration:We,program:Ye,layoutVertexBuffer:ct,indexBuffer:ut,uniformValues:H0(_,ke,$e,A),terrainData:Xe};if(X){const pt=Fe.segments.get();for(const Lt of pt)Ce.push({segments:new c.$([Lt]),sortKey:Lt.sortKey,state:et})}else Ce.push({segments:Fe.segments,sortKey:0,state:et})}X&&Ce.sort((de,ke)=>de.sortKey-ke.sortKey);for(const de of Ce){const{programConfiguration:ke,program:$e,layoutVertexBuffer:Fe,indexBuffer:We,uniformValues:Ye,terrainData:ct}=de.state;$e.draw(te,ne.TRIANGLES,me,oe,_e,Ar.disabled,Ye,ct,A.id,Fe,We,de.segments,A.paint,_.transform.zoom,ke)}})(a,u,p,g);break;case"heatmap":(function(_,E,A,I){if(A.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const R=_.context,K=R.gl,U=Mr.disabled,X=new Kr([K.ONE,K.ONE],c.aP.transparent,[!0,!0,!0,!0]);(function(te,ne,me){const oe=te.gl;te.activeTexture.set(oe.TEXTURE1),te.viewport.set([0,0,ne.width/4,ne.height/4]);let _e=me.heatmapFbo;if(_e)oe.bindTexture(oe.TEXTURE_2D,_e.colorAttachment.get()),te.bindFramebuffer.set(_e.framebuffer);else{const Ce=oe.createTexture();oe.bindTexture(oe.TEXTURE_2D,Ce),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_S,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_WRAP_T,oe.CLAMP_TO_EDGE),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MIN_FILTER,oe.LINEAR),oe.texParameteri(oe.TEXTURE_2D,oe.TEXTURE_MAG_FILTER,oe.LINEAR),_e=me.heatmapFbo=te.createFramebuffer(ne.width/4,ne.height/4,!1,!1),function(de,ke,$e,Fe){var We,Ye;const ct=de.gl,ut=(We=de.HALF_FLOAT)!==null&&We!==void 0?We:ct.UNSIGNED_BYTE,Xe=(Ye=de.RGBA16F)!==null&&Ye!==void 0?Ye:ct.RGBA;ct.texImage2D(ct.TEXTURE_2D,0,Xe,ke.width/4,ke.height/4,0,ct.RGBA,ut,null),Fe.colorAttachment.set($e)}(te,ne,Ce,_e)}})(R,_,A),R.clear({color:c.aP.transparent});for(let te=0;te<I.length;te++){const ne=I[te];if(E.hasRenderableParent(ne))continue;const me=E.getTile(ne),oe=me.getBucket(A);if(!oe)continue;const _e=oe.programConfigurations.get(A.id),Ce=_.useProgram("heatmap",_e),{zoom:de}=_.transform;Ce.draw(R,K.TRIANGLES,Wt.disabled,U,X,Ar.disabled,jo(ne.posMatrix,me,de,A.paint.get("heatmap-intensity")),null,A.id,oe.layoutVertexBuffer,oe.indexBuffer,oe.segments,A.paint,_.transform.zoom,_e)}R.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(R,K){const U=R.context,X=U.gl,te=K.heatmapFbo;if(!te)return;U.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,te.colorAttachment.get()),U.activeTexture.set(X.TEXTURE1);let ne=K.colorRampTexture;ne||(ne=K.colorRampTexture=new le(U,K.colorRamp,X.RGBA)),ne.bind(X.LINEAR,X.CLAMP_TO_EDGE),R.useProgram("heatmapTexture").draw(U,X.TRIANGLES,Wt.disabled,Mr.disabled,R.colorModeForRenderPass(),Ar.disabled,((me,oe,_e,Ce)=>{const de=c.F();c.aO(de,0,me.width,me.height,0,0,1);const ke=me.context.gl;return{u_matrix:de,u_world:[ke.drawingBufferWidth,ke.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:oe.paint.get("heatmap-opacity")}})(R,K),null,K.id,R.viewportBuffer,R.quadTriangleIndexBuffer,R.viewportSegments,K.paint,R.transform.zoom)}(_,A))})(a,u,p,g);break;case"line":(function(_,E,A,I){if(_.renderPass!=="translucent")return;const R=A.paint.get("line-opacity"),K=A.paint.get("line-width");if(R.constantOr(1)===0||K.constantOr(1)===0)return;const U=_.depthModeForSublayer(0,Wt.ReadOnly),X=_.colorModeForRenderPass(),te=A.paint.get("line-dasharray"),ne=A.paint.get("line-pattern"),me=ne.constantOr(1),oe=A.paint.get("line-gradient"),_e=A.getCrossfadeParameters(),Ce=me?"linePattern":te?"lineSDF":oe?"lineGradient":"line",de=_.context,ke=de.gl;let $e=!0;for(const Fe of I){const We=E.getTile(Fe);if(me&&!We.patternsLoaded())continue;const Ye=We.getBucket(A);if(!Ye)continue;const ct=Ye.programConfigurations.get(A.id),ut=_.context.program.get(),Xe=_.useProgram(Ce,ct),et=$e||Xe.program!==ut,pt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Fe),Lt=ne.constantOr(null);if(Lt&&We.imageAtlas){const It=We.imageAtlas,wr=It.patternPositions[Lt.to.toString()],Ht=It.patternPositions[Lt.from.toString()];wr&&Ht&&ct.setConstantPatternPositions(wr,Ht)}const rt=pt?Fe:null,at=me?Dh(_,We,A,_e,rt):te?gu(_,We,A,te,_e,rt):oe?Ti(_,We,A,Ye.lineClipsArray.length,rt):Gn(_,We,A,rt);if(me)de.activeTexture.set(ke.TEXTURE0),We.imageAtlasTexture.bind(ke.LINEAR,ke.CLAMP_TO_EDGE),ct.updatePaintBuffers(_e);else if(te&&(et||_.lineAtlas.dirty))de.activeTexture.set(ke.TEXTURE0),_.lineAtlas.bind(de);else if(oe){const It=Ye.gradients[A.id];let wr=It.texture;if(A.gradientVersion!==It.version){let Ht=256;if(A.stepInterpolant){const Xt=E.getSource().maxzoom,Sr=Fe.canonical.z===Xt?Math.ceil(1<<_.transform.maxZoom-Fe.canonical.z):1;Ht=c.ac(c.aU(Ye.maxLineLength/c.W*1024*Sr),256,de.maxTextureSize)}It.gradient=c.aV({expression:A.gradientExpression(),evaluationKey:"lineProgress",resolution:Ht,image:It.gradient||void 0,clips:Ye.lineClipsArray}),It.texture?It.texture.update(It.gradient):It.texture=new le(de,It.gradient,ke.RGBA),It.version=A.gradientVersion,wr=It.texture}de.activeTexture.set(ke.TEXTURE0),wr.bind(A.stepInterpolant?ke.NEAREST:ke.LINEAR,ke.CLAMP_TO_EDGE)}Xe.draw(de,ke.TRIANGLES,U,_.stencilModeForClipping(Fe),X,Ar.disabled,at,pt,A.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,A.paint,_.transform.zoom,ct,Ye.layoutVertexBuffer2),$e=!1}})(a,u,p,g);break;case"fill":(function(_,E,A,I){const R=A.paint.get("fill-color"),K=A.paint.get("fill-opacity");if(K.constantOr(1)===0)return;const U=_.colorModeForRenderPass(),X=A.paint.get("fill-pattern"),te=_.opaquePassEnabledForLayer()&&!X.constantOr(1)&&R.constantOr(c.aP.transparent).a===1&&K.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===te){const ne=_.depthModeForSublayer(1,_.renderPass==="opaque"?Wt.ReadWrite:Wt.ReadOnly);Uo(_,E,A,I,ne,U,!1)}if(_.renderPass==="translucent"&&A.paint.get("fill-antialias")){const ne=_.depthModeForSublayer(A.getPaintProperty("fill-outline-color")?2:0,Wt.ReadOnly);Uo(_,E,A,I,ne,U,!0)}})(a,u,p,g);break;case"fill-extrusion":(function(_,E,A,I){const R=A.paint.get("fill-extrusion-opacity");if(R!==0&&_.renderPass==="translucent"){const K=new Wt(_.context.gl.LEQUAL,Wt.ReadWrite,_.depthRangeFor3D);if(R!==1||A.paint.get("fill-extrusion-pattern").constantOr(1))si(_,E,A,I,K,Mr.disabled,Kr.disabled),si(_,E,A,I,K,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const U=_.colorModeForRenderPass();si(_,E,A,I,K,Mr.disabled,U)}}})(a,u,p,g);break;case"hillshade":(function(_,E,A,I){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const R=_.context,K=_.depthModeForSublayer(0,Wt.ReadOnly),U=_.colorModeForRenderPass(),[X,te]=_.renderPass==="translucent"?_.stencilConfigForOverlap(I):[{},I];for(const ne of te){const me=E.getTile(ne);me.needsHillshadePrepare!==void 0&&me.needsHillshadePrepare&&_.renderPass==="offscreen"?Hm(_,me,A,K,Mr.disabled,U):_.renderPass==="translucent"&&Km(_,ne,me,A,K,X[ne.overscaledZ],U)}R.viewport.set([0,0,_.width,_.height])})(a,u,p,g);break;case"raster":(function(_,E,A,I){if(_.renderPass!=="translucent"||A.paint.get("raster-opacity")===0||!I.length)return;const R=_.context,K=R.gl,U=E.getSource(),X=_.useProgram("raster"),te=_.colorModeForRenderPass(),[ne,me]=U instanceof Yi?[{},I]:_.stencilConfigForOverlap(I),oe=me[me.length-1].overscaledZ,_e=!_.options.moving;for(const Ce of me){const de=_.depthModeForSublayer(Ce.overscaledZ-oe,A.paint.get("raster-opacity")===1?Wt.ReadWrite:Wt.ReadOnly,K.LESS),ke=E.getTile(Ce);ke.registerFadeDuration(A.paint.get("raster-fade-duration"));const $e=E.findLoadedParent(Ce,0),Fe=E.findLoadedSibling(Ce),We=Hh(ke,$e||Fe||null,E,A,_.transform,_.style.map.terrain);let Ye,ct;const ut=A.paint.get("raster-resampling")==="nearest"?K.NEAREST:K.LINEAR;R.activeTexture.set(K.TEXTURE0),ke.texture.bind(ut,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),R.activeTexture.set(K.TEXTURE1),$e?($e.texture.bind(ut,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST),Ye=Math.pow(2,$e.tileID.overscaledZ-ke.tileID.overscaledZ),ct=[ke.tileID.canonical.x*Ye%1,ke.tileID.canonical.y*Ye%1]):ke.texture.bind(ut,K.CLAMP_TO_EDGE,K.LINEAR_MIPMAP_NEAREST);const Xe=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ce),et=Xe?Ce:null,pt=et?et.posMatrix:_.transform.calculatePosMatrix(Ce.toUnwrapped(),_e),Lt=Ls(pt,ct||[0,0],Ye||1,We,A);U instanceof Yi?X.draw(R,K.TRIANGLES,de,Mr.disabled,te,Ar.disabled,Lt,Xe,A.id,U.boundsBuffer,_.quadTriangleIndexBuffer,U.boundsSegments):X.draw(R,K.TRIANGLES,de,ne[Ce.overscaledZ],te,Ar.disabled,Lt,Xe,A.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(a,u,p,g);break;case"background":(function(_,E,A,I){const R=A.paint.get("background-color"),K=A.paint.get("background-opacity");if(K===0)return;const U=_.context,X=U.gl,te=_.transform,ne=te.tileSize,me=A.paint.get("background-pattern");if(_.isPatternMissing(me))return;const oe=!me&&R.a===1&&K===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==oe)return;const _e=Mr.disabled,Ce=_.depthModeForSublayer(0,oe==="opaque"?Wt.ReadWrite:Wt.ReadOnly),de=_.colorModeForRenderPass(),ke=_.useProgram(me?"backgroundPattern":"background"),$e=I||te.coveringTiles({tileSize:ne,terrain:_.style.map.terrain});me&&(U.activeTexture.set(X.TEXTURE0),_.imageManager.bind(_.context));const Fe=A.getCrossfadeParameters();for(const We of $e){const Ye=I?We.posMatrix:_.transform.calculatePosMatrix(We.toUnwrapped()),ct=me?Y0(Ye,K,_,me,{tileID:We,tileSize:ne},Fe):Z0(Ye,K,R),ut=_.style.map.terrain&&_.style.map.terrain.getTerrainData(We);ke.draw(U,X.TRIANGLES,Ce,_e,de,Ar.disabled,ct,ut,A.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(a,0,p,g);break;case"custom":(function(_,E,A){const I=_.context,R=A.implementation;if(_.renderPass==="offscreen"){const K=R.prerender;K&&(_.setCustomLayerDefaults(),I.setColorMode(_.colorModeForRenderPass()),K.call(R,I.gl,_.transform.customLayerMatrix()),I.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),I.setColorMode(_.colorModeForRenderPass()),I.setStencilMode(Mr.disabled);const K=R.renderingMode==="3d"?new Wt(_.context.gl.LEQUAL,Wt.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,Wt.ReadOnly);I.setDepthMode(K),R.render(I.gl,_.transform.customLayerMatrix()),I.setDirty(),_.setBaseState(),I.bindFramebuffer.set(null)}})(a,0,p)}}translatePosMatrix(a,u,p,g,_){if(!p[0]&&!p[1])return a;const E=_?g==="map"?this.transform.angle:0:g==="viewport"?-this.transform.angle:0;if(E){const R=Math.sin(E),K=Math.cos(E);p=[p[0]*K-p[1]*R,p[0]*R+p[1]*K]}const A=[_?p[0]:Rt(u,p[0],this.transform.zoom),_?p[1]:Rt(u,p[1],this.transform.zoom),0],I=new Float32Array(16);return c.H(I,a,A),I}saveTileTexture(a){const u=this._tileTextures[a.size[0]];u?u.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const u=this._tileTextures[a];return u&&u.length>0?u.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const u=this.imageManager.getPattern(a.from.toString()),p=this.imageManager.getPattern(a.to.toString());return!u||!p}useProgram(a,u){this.cache=this.cache||{};const p=a+(u?u.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new Ah(this.context,$s[a],u,yu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new le(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:u}=this.context.gl;return this.width!==a||this.height!==u}}class Bs{constructor(a,u){this.points=a,this.planes=u}static fromInvProjectionMatrix(a,u,p){const g=Math.pow(2,p),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const I=1/(A=c.af([],A,a))[3]/u*g;return c.b0(A,A,[I,I,1/A[3],I])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const I=function(X,te){var ne=te[0],me=te[1],oe=te[2],_e=ne*ne+me*me+oe*oe;return _e>0&&(_e=1/Math.sqrt(_e)),X[0]=te[0]*_e,X[1]=te[1]*_e,X[2]=te[2]*_e,X}([],function(X,te,ne){var me=te[0],oe=te[1],_e=te[2],Ce=ne[0],de=ne[1],ke=ne[2];return X[0]=oe*ke-_e*de,X[1]=_e*Ce-me*ke,X[2]=me*de-oe*Ce,X}([],be([],_[A[0]],_[A[1]]),be([],_[A[2]],_[A[1]]))),R=-((K=I)[0]*(U=_[A[1]])[0]+K[1]*U[1]+K[2]*U[2]);var K,U;return I.concat(R)});return new Bs(_,E)}}class Au{constructor(a,u){this.min=a,this.max=u,this.center=function(p,g,_){return p[0]=.5*g[0],p[1]=.5*g[1],p[2]=.5*g[2],p}([],function(p,g,_){return p[0]=g[0]+_[0],p[1]=g[1]+_[1],p[2]=g[2]+_[2],p}([],this.min,this.max))}quadrant(a){const u=[a%2==0,a<2],p=ie(this.min),g=ie(this.max);for(let _=0;_<u.length;_++)p[_]=u[_]?this.min[_]:this.center[_],g[_]=u[_]?this.center[_]:this.max[_];return g[2]=this.max[2],new Au(p,g)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const u=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let g=0;g<a.planes.length;g++){const _=a.planes[g];let E=0;for(let A=0;A<u.length;A++)c.b1(_,u[A])>=0&&E++;if(E===0)return 0;E!==u.length&&(p=!1)}if(p)return 2;for(let g=0;g<3;g++){let _=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let A=0;A<a.points.length;A++){const I=a.points[A][g]-this.min[g];_=Math.min(_,I),E=Math.max(E,I)}if(E<0||_>this.max[g]-this.min[g])return 0}return 1}}class ic{constructor(a=0,u=0,p=0,g=0){if(isNaN(a)||a<0||isNaN(u)||u<0||isNaN(p)||p<0||isNaN(g)||g<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=u,this.left=p,this.right=g}interpolate(a,u,p){return u.top!=null&&a.top!=null&&(this.top=c.z.number(a.top,u.top,p)),u.bottom!=null&&a.bottom!=null&&(this.bottom=c.z.number(a.bottom,u.bottom,p)),u.left!=null&&a.left!=null&&(this.left=c.z.number(a.left,u.left,p)),u.right!=null&&a.right!=null&&(this.right=c.z.number(a.right,u.right,p)),this}getCenter(a,u){const p=c.ac((this.left+a-this.right)/2,0,a),g=c.ac((this.top+u-this.bottom)/2,0,u);return new c.P(p,g)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new ic(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Ns=85.051129;class Gh{constructor(a,u,p,g,_){this.tileSize=512,this._renderWorldCopies=_===void 0||!!_,this._minZoom=a||0,this._maxZoom=u||22,this._minPitch=p??0,this._maxPitch=g??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ic,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const a=new Gh(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this.minElevationForCurrentTile=a.minElevationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const u=-c.b2(a,-180,180)*Math.PI/180;this.angle!==u&&(this._unmodified=!1,this.angle=u,this._calcMatrices(),this.rotationMatrix=function(){var p=new c.A(4);return c.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,g,_){var E=g[0],A=g[1],I=g[2],R=g[3],K=Math.sin(_),U=Math.cos(_);p[0]=E*U+I*K,p[1]=A*U+R*K,p[2]=E*-K+I*U,p[3]=A*-K+R*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const u=c.ac(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==u&&(this._unmodified=!1,this._pitch=u,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const u=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==u&&(this._unmodified=!1,this._zoom=u,this.tileZoom=Math.max(0,Math.floor(u)),this.scale=this.zoomScale(u),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,u,p){this._unmodified=!1,this._edgeInsets.interpolate(a,u,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const u=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,u)}getVisibleUnwrappedCoordinates(a){const u=[new c.b3(0,a)];if(this._renderWorldCopies){const p=this.pointCoordinate(new c.P(0,0)),g=this.pointCoordinate(new c.P(this.width,0)),_=this.pointCoordinate(new c.P(this.width,this.height)),E=this.pointCoordinate(new c.P(0,this.height)),A=Math.floor(Math.min(p.x,g.x,_.x,E.x)),I=Math.floor(Math.max(p.x,g.x,_.x,E.x)),R=1;for(let K=A-R;K<=I+R;K++)K!==0&&u.push(new c.b3(K,a))}return u}coveringTiles(a){var u,p;let g=this.coveringZoomLevel(a);const _=g;if(a.minzoom!==void 0&&g<a.minzoom)return[];a.maxzoom!==void 0&&g>a.maxzoom&&(g=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),A=c.Y.fromLngLat(this.center),I=Math.pow(2,g),R=[I*E.x,I*E.y,0],K=[I*A.x,I*A.y,0],U=Bs.fromInvProjectionMatrix(this.invModelViewProjectionMatrix,this.worldSize,g);let X=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=g);const te=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,ne=de=>({aabb:new Au([de*I,0,0],[(de+1)*I,I,0]),zoom:0,x:0,y:0,wrap:de,fullyVisible:!1}),me=[],oe=[],_e=g,Ce=a.reparseOverscaled?_:g;if(this._renderWorldCopies)for(let de=1;de<=3;de++)me.push(ne(-de)),me.push(ne(de));for(me.push(ne(0));me.length>0;){const de=me.pop(),ke=de.x,$e=de.y;let Fe=de.fullyVisible;if(!Fe){const Xe=de.aabb.intersects(U);if(Xe===0)continue;Fe=Xe===2}const We=a.terrain?R:K,Ye=de.aabb.distanceX(We),ct=de.aabb.distanceY(We),ut=Math.max(Math.abs(Ye),Math.abs(ct));if(de.zoom===_e||ut>te+(1<<_e-de.zoom)-2&&de.zoom>=X){const Xe=_e-de.zoom,et=R[0]-.5-(ke<<Xe),pt=R[1]-.5-($e<<Xe);oe.push({tileID:new c.Q(de.zoom===_e?Ce:de.zoom,de.wrap,de.zoom,ke,$e),distanceSq:q([K[0]-.5-ke,K[1]-.5-$e]),tileDistanceToCamera:Math.sqrt(et*et+pt*pt)})}else for(let Xe=0;Xe<4;Xe++){const et=(ke<<1)+Xe%2,pt=($e<<1)+(Xe>>1),Lt=de.zoom+1;let rt=de.aabb.quadrant(Xe);if(a.terrain){const at=new c.Q(Lt,de.wrap,Lt,et,pt),It=a.terrain.getMinMaxElevation(at),wr=(u=It.minElevation)!==null&&u!==void 0?u:this.elevation,Ht=(p=It.maxElevation)!==null&&p!==void 0?p:this.elevation;rt=new Au([rt.min[0],rt.min[1],wr],[rt.max[0],rt.max[1],Ht])}me.push({aabb:rt,zoom:Lt,x:et,y:pt,wrap:de.wrap,fullyVisible:Fe})}}return oe.sort((de,ke)=>de.distanceSq-ke.distanceSq).map(de=>de.tileID)}resize(a,u){this.width=a,this.height=u,this.pixelsToGLUnits=[2/a,-2/u],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const u=c.ac(a.lat,-85.051129,Ns);return new c.P(c.N(a.lng)*this.worldSize,c.O(u)*this.worldSize)}unproject(a){return new c.Y(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const u=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,g=this.pointLocation(this.centerPoint,a),_=a.getElevationForLngLatZoom(g,this.tileZoom);if(!(this.elevation-_))return;const E=p+u-_,A=Math.cos(this._pitch)*this.cameraToCenterDistance/E/c.b4(1,g.lat),I=this.scaleZoom(A/this.tileSize);this._elevation=_,this._center=g,this.zoom=I}setLocationAtPoint(a,u){const p=this.pointCoordinate(u),g=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(a),E=new c.Y(_.x-(p.x-g.x),_.y-(p.y-g.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,u){return u?this.coordinatePoint(this.locationCoordinate(a),u.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,u){return this.coordinateLocation(this.pointCoordinate(a,u))}locationCoordinate(a){return c.Y.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,u){if(u){const X=u.pointCoordinate(a);if(X!=null)return X}const p=[a.x,a.y,0,1],g=[a.x,a.y,1,1];c.af(p,p,this.pixelMatrixInverse),c.af(g,g,this.pixelMatrixInverse);const _=p[3],E=g[3],A=p[1]/_,I=g[1]/E,R=p[2]/_,K=g[2]/E,U=R===K?0:(0-R)/(K-R);return new c.Y(c.z.number(p[0]/_,g[0]/E,U)/this.worldSize,c.z.number(A,I,U)/this.worldSize)}coordinatePoint(a,u=0,p=this.pixelMatrix){const g=[a.x*this.worldSize,a.y*this.worldSize,u,1];return c.af(g,g,p),new c.P(g[0]/g[3],g[1]/g[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new Yt().extend(this.pointLocation(new c.P(0,a))).extend(this.pointLocation(new c.P(this.width,a))).extend(this.pointLocation(new c.P(this.width,this.height))).extend(this.pointLocation(new c.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new Yt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Ns])}calculatePosMatrix(a,u=!1){const p=a.key,g=u?this._alignedPosMatrixCache:this._posMatrixCache;if(g[p])return g[p];const _=a.canonical,E=this.worldSize/this.zoomScale(_.z),A=_.x+Math.pow(2,_.z)*a.wrap,I=c.an(new Float64Array(16));return c.H(I,I,[A*E,_.y*E,0]),c.J(I,I,[E/c.W,E/c.W,1]),c.K(I,u?this.alignedModelViewProjectionMatrix:this.modelViewProjectionMatrix,I),g[p]=new Float32Array(I),g[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(a,u){u=c.ac(+u,this.minZoom,this.maxZoom);const p={center:new c.M(a.lng,a.lat),zoom:u};let g=this.lngRange;if(!this._renderWorldCopies&&g===null){const de=179.9999999999;g=[-de,de]}const _=this.tileSize*this.zoomScale(p.zoom);let E=0,A=_,I=0,R=_,K=0,U=0;const{x:X,y:te}=this.size;if(this.latRange){const de=this.latRange;E=c.O(de[1])*_,A=c.O(de[0])*_,A-E<te&&(K=te/(A-E))}g&&(I=c.b2(c.N(g[0])*_,0,_),R=c.b2(c.N(g[1])*_,0,_),R<I&&(R+=_),R-I<X&&(U=X/(R-I)));const{x:ne,y:me}=this.project.call({worldSize:_},a);let oe,_e;const Ce=Math.max(U||0,K||0);if(Ce){const de=new c.P(U?(R+I)/2:ne,K?(A+E)/2:me);return p.center=this.unproject.call({worldSize:_},de).wrap(),p.zoom+=this.scaleZoom(Ce),p}if(this.latRange){const de=te/2;me-de<E&&(_e=E+de),me+de>A&&(_e=A-de)}if(g){const de=(I+R)/2;let ke=ne;this._renderWorldCopies&&(ke=c.b2(ne,de-_/2,de+_/2));const $e=X/2;ke-$e<I&&(oe=I+$e),ke+$e>R&&(oe=R-$e)}if(oe!==void 0||_e!==void 0){const de=new c.P(oe??ne,_e??me);p.center=this.unproject.call({worldSize:_},de).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const a=this._unmodified,{center:u,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=u,this.zoom=p,this._unmodified=a,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,u=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.b4(1,this.center.lat)*this.worldSize;let g=c.an(new Float64Array(16));c.J(g,g,[this.width/2,-this.height/2,1]),c.H(g,g,[1,-1,0]),this.labelPlaneMatrix=g,g=c.an(new Float64Array(16)),c.J(g,g,[1,-1,1]),c.H(g,g,[-1,-1,0]),c.J(g,g,[2/this.width,2/this.height,1]),this.glCoordMatrix=g;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this.minElevationForCurrentTile),A=_-E*this._pixelPerMeter/Math.cos(this._pitch),I=E<0?A:_,R=Math.PI/2+this._pitch,K=this._fov*(.5+a.y/this.height),U=Math.sin(K)*I/Math.sin(c.ac(Math.PI-R-K,.01,Math.PI-.01)),X=this.getHorizon(),te=2*Math.atan(X/this.cameraToCenterDistance)*(.5+a.y/(2*X)),ne=Math.sin(te)*I/Math.sin(c.ac(Math.PI-R-te,.01,Math.PI-.01)),me=Math.min(U,ne),oe=1.01*(Math.cos(Math.PI/2-this._pitch)*me+I),_e=this.height/50;g=new Float64Array(16),c.b5(g,this._fov,this.width/this.height,_e,oe),g[8]=2*-a.x/this.width,g[9]=2*a.y/this.height,c.J(g,g,[1,-1,1]),c.H(g,g,[0,0,-this.cameraToCenterDistance]),c.b6(g,g,this._pitch),c.ad(g,g,this.angle),c.H(g,g,[-u,-p,0]),this.mercatorMatrix=c.J([],g,[this.worldSize,this.worldSize,this.worldSize]),c.J(g,g,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.K(new Float64Array(16),this.labelPlaneMatrix,g),c.H(g,g,[0,0,-this.elevation]),this.modelViewProjectionMatrix=g,this.invModelViewProjectionMatrix=c.as([],g),this.pixelMatrix3D=c.K(new Float64Array(16),this.labelPlaneMatrix,g);const Ce=this.width%2/2,de=this.height%2/2,ke=Math.cos(this.angle),$e=Math.sin(this.angle),Fe=u-Math.round(u)+ke*Ce+$e*de,We=p-Math.round(p)+ke*de+$e*Ce,Ye=new Float64Array(g);if(c.H(Ye,Ye,[Fe>.5?Fe-1:Fe,We>.5?We-1:We,0]),this.alignedModelViewProjectionMatrix=Ye,g=c.as(new Float64Array(16),this.pixelMatrix),!g)throw new Error("failed to invert matrix");this.pixelMatrixInverse=g,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new c.P(0,0)),u=[a.x*this.worldSize,a.y*this.worldSize,0,1];return c.af(u,u,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,a))}getCameraQueryGeometry(a){const u=this.getCameraPoint();if(a.length===1)return[a[0],u];{let p=u.x,g=u.y,_=u.x,E=u.y;for(const A of a)p=Math.min(p,A.x),g=Math.min(g,A.y),_=Math.max(_,A.x),E=Math.max(E,A.y);return[new c.P(p,g),new c.P(_,g),new c.P(_,E),new c.P(p,E),new c.P(p,g)]}}lngLatToCameraDepth(a,u){const p=this.locationCoordinate(a),g=[p.x*this.worldSize,p.y*this.worldSize,u,1];return c.af(g,g,this.modelViewProjectionMatrix),g[2]/g[3]}}function Gm(x,a){let u,p=!1,g=null,_=null;const E=()=>{g=null,p&&(x.apply(_,u),g=setTimeout(E,a),p=!1)};return(...A)=>(p=!0,_=this,u=A,g||E(),g)}class qh{constructor(a){this._getCurrentHash=()=>{const u=window.location.hash.replace("#","");if(this._hashName){let p;return u.split("&").map(g=>g.split("=")).forEach(g=>{g[0]===this._hashName&&(p=g)}),(p&&p[1]||"").split("/")}return u.split("/")},this._onHashChange=()=>{const u=this._getCurrentHash();if(u.length>=3&&!u.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(u[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+u[2],+u[1]],zoom:+u[0],bearing:p,pitch:+(u[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const u=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,u)}catch{}},this._updateHash=Gm(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const u=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,g=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,g),E=Math.round(u.lng*_)/_,A=Math.round(u.lat*_)/_,I=this._map.getBearing(),R=this._map.getPitch();let K="";if(K+=a?`/${E}/${A}/${p}`:`${p}/${A}/${E}`,(I||R)&&(K+="/"+Math.round(10*I)/10),R&&(K+=`/${Math.round(R)}`),this._hashName){const U=this._hashName;let X=!1;const te=window.location.hash.slice(1).split("&").map(ne=>{const me=ne.split("=")[0];return me===U?(X=!0,`${me}=${K}`):ne}).filter(ne=>ne);return X||te.push(`${U}=${K}`),`#${te.join("&")}`}return`#${K}`}}const Iu={linearity:.3,easing:c.b7(0,0,.3,1)},Zh=c.e({deceleration:2500,maxSpeed:1400},Iu),Mu=c.e({deceleration:20,maxSpeed:1400},Iu),Du=c.e({deceleration:1e3,maxSpeed:360},Iu),Yh=c.e({deceleration:1e3,maxSpeed:90},Iu);class Xh{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:T.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,u=T.now();for(;a.length>0&&u-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const u={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)u.zoom+=_.zoomDelta||0,u.bearing+=_.bearingDelta||0,u.pitch+=_.pitchDelta||0,_.panDelta&&u.pan._add(_.panDelta),_.around&&(u.around=_.around),_.pinchAround&&(u.pinchAround=_.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,g={};if(u.pan.mag()){const _=Wo(u.pan.mag(),p,c.e({},Zh,a||{}));g.offset=u.pan.mult(_.amount/u.pan.mag()),g.center=this._map.transform.center,ac(g,_)}if(u.zoom){const _=Wo(u.zoom,p,Mu);g.zoom=this._map.transform.zoom+_.amount,ac(g,_)}if(u.bearing){const _=Wo(u.bearing,p,Du);g.bearing=this._map.transform.bearing+c.ac(_.amount,-179,179),ac(g,_)}if(u.pitch){const _=Wo(u.pitch,p,Yh);g.pitch=this._map.transform.pitch+_.amount,ac(g,_)}if(g.zoom||g.bearing){const _=u.pinchAround===void 0?u.around:u.pinchAround;g.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),c.e(g,{noMoveStart:!0})}}function ac(x,a){(!x.duration||x.duration<a.duration)&&(x.duration=a.duration,x.easing=a.easing)}function Wo(x,a,u){const{maxSpeed:p,linearity:g,deceleration:_}=u,E=c.ac(x*g/(a/1e3),-p,p),A=Math.abs(E)/(_*g);return{easing:u.easing,duration:1e3*A,amount:E*(A/2)}}class Mn extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p,g={}){const _=C.mousePos(u.getCanvas(),p),E=u.unproject(_);super(a,c.e({point:_,lngLat:E,originalEvent:p},g)),this._defaultPrevented=!1,this.target=u}}class Go extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p){const g=a==="touchend"?p.changedTouches:p.touches,_=C.touchPos(u.getCanvasContainer(),g),E=_.map(I=>u.unproject(I)),A=_.reduce((I,R,K,U)=>I.add(R.div(U.length)),new c.P(0,0));super(a,{points:_,point:A,lngLats:E,lngLat:u.unproject(A),originalEvent:p}),this._defaultPrevented=!1}}class qm extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,u,p){super(a,{originalEvent:p}),this._defaultPrevented=!1}}class Jh{constructor(a,u){this._map=a,this._clickTolerance=u.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new qm(a.type,this._map,a))}mousedown(a,u){return this._mousedownPos=u,this._firePreventable(new Mn(a.type,this._map,a))}mouseup(a){this._map.fire(new Mn(a.type,this._map,a))}click(a,u){this._mousedownPos&&this._mousedownPos.dist(u)>=this._clickTolerance||this._map.fire(new Mn(a.type,this._map,a))}dblclick(a){return this._firePreventable(new Mn(a.type,this._map,a))}mouseover(a){this._map.fire(new Mn(a.type,this._map,a))}mouseout(a){this._map.fire(new Mn(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Go(a.type,this._map,a))}touchmove(a){this._map.fire(new Go(a.type,this._map,a))}touchend(a){this._map.fire(new Go(a.type,this._map,a))}touchcancel(a){this._map.fire(new Go(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class sx{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new Mn(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Mn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new Mn(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Os{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(c.P.convert(a),this._map.terrain)}}class oc{constructor(a,u){this._map=a,this._tr=new Os(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=u.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,u){this.isEnabled()&&a.shiftKey&&a.button===0&&(C.disableDrag(),this._startPos=this._lastPos=u,this._active=!0)}mousemoveWindow(a,u){if(!this._active)return;const p=u;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const g=this._startPos;this._lastPos=p,this._box||(this._box=C.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const _=Math.min(g.x,p.x),E=Math.max(g.x,p.x),A=Math.min(g.y,p.y),I=Math.max(g.y,p.y);C.setTransform(this._box,`translate(${_}px,${A}px)`),this._box.style.width=E-_+"px",this._box.style.height=I-A+"px"}mouseupWindow(a,u){if(!this._active||a.button!==0)return;const p=this._startPos,g=u;if(this.reset(),C.suppressClick(),p.x!==g.x||p.y!==g.y)return this._map.fire(new c.k("boxzoomend",{originalEvent:a})),{cameraAnimation:_=>_.fitScreenCoordinates(p,g,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(C.remove(this._box),this._box=null),C.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,u){return this._map.fire(new c.k(a,{originalEvent:u}))}}function sc(x,a){if(x.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${x.length}, points ${a.length}`);const u={};for(let p=0;p<x.length;p++)u[x[p].identifier]=a[p];return u}class Zm{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,u,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),p.length===this.numTouches&&(this.centroid=function(g){const _=new c.P(0,0);for(const E of g)_._add(E);return _.div(g.length)}(u),this.touches=sc(p,u)))}touchmove(a,u,p){if(this.aborted||!this.centroid)return;const g=sc(p,u);for(const _ in this.touches){const E=g[_];(!E||E.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(a,u,p){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const g=!this.aborted&&this.centroid;if(this.reset(),g)return g}}}class $u{constructor(a){this.singleTap=new Zm(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,u,p){this.singleTap.touchstart(a,u,p)}touchmove(a,u,p){this.singleTap.touchmove(a,u,p)}touchend(a,u,p){const g=this.singleTap.touchend(a,u,p);if(g){const _=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(g)<30;if(_&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=g,this.count===this.numTaps)return this.reset(),g}}}class Ru{constructor(a){this._tr=new Os(a),this._zoomIn=new $u({numTouches:1,numTaps:2}),this._zoomOut=new $u({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,u,p){this._zoomIn.touchstart(a,u,p),this._zoomOut.touchstart(a,u,p)}touchmove(a,u,p){this._zoomIn.touchmove(a,u,p),this._zoomOut.touchmove(a,u,p)}touchend(a,u,p){const g=this._zoomIn.touchend(a,u,p),_=this._zoomOut.touchend(a,u,p),E=this._tr;return g?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(g)},{originalEvent:a})}):_?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:A=>A.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(_)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class qo{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const u=this._moveFunction(...a);if(u.bearingDelta||u.pitchDelta||u.around||u.panDelta)return this._active=!0,u}dragStart(a,u){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=u.length?u[0]:u,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,u){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const g=u.length?u[0]:u;return!this._moved&&g.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=g,this._move(p,g))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&C.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const lx={0:1,2:2};class Lu{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const u=C.mouseButton(a);this._eventButton=u}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(u,p){const g=lx[p];return u.buttons===void 0||(u.buttons&g)!==g}(a,this._eventButton)}isValidEndEvent(a){return C.mouseButton(a)===this._eventButton}}class zr{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const Ga=x=>{x.mousedown=x.dragStart,x.mousemoveWindow=x.dragMove,x.mouseup=x.dragEnd,x.contextmenu=a=>{a.preventDefault()}},Ei=({enable:x,clickTolerance:a,bearingDegreesPerPixelMoved:u=.8})=>{const p=new Lu({checkCorrectEvent:g=>C.mouseButton(g)===0&&g.ctrlKey||C.mouseButton(g)===2});return new qo({clickTolerance:a,move:(g,_)=>({bearingDelta:(_.x-g.x)*u}),moveStateManager:p,enable:x,assignEvents:Ga})},zu=({enable:x,clickTolerance:a,pitchDegreesPerPixelMoved:u=-.5})=>{const p=new Lu({checkCorrectEvent:g=>C.mouseButton(g)===0&&g.ctrlKey||C.mouseButton(g)===2});return new qo({clickTolerance:a,move:(g,_)=>({pitchDelta:(_.y-g.y)*u}),moveStateManager:p,enable:x,assignEvents:Ga})};class Qh{constructor(a,u){this._clickTolerance=a.clickTolerance||1,this._map=u,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(a,u,p){return this._calculateTransform(a,u,p)}touchmove(a,u,p){if(this._active&&!(p.length<this.minTouchs()))return a.preventDefault(),this._calculateTransform(a,u,p)}touchend(a,u,p){this._calculateTransform(a,u,p),this._active&&p.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,u,p){p.length>0&&(this._active=!0);const g=sc(p,u),_=new c.P(0,0),E=new c.P(0,0);let A=0;for(const R in g){const K=g[R],U=this._touches[R];U&&(_._add(K),E._add(K.sub(U)),A++,g[R]=K)}if(this._touches=g,A<this.minTouchs()||!E.mag())return;const I=E.div(A);return this._sum._add(I),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(A),panDelta:I}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,u,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([u[0],u[1]]))}touchmove(a,u,p){if(!this._firstTwoTouches)return;a.preventDefault();const[g,_]=this._firstTwoTouches,E=qa(p,u,g),A=qa(p,u,_);if(!E||!A)return;const I=this._aroundCenter?null:E.add(A).div(2);return this._move([E,A],I,a)}touchend(a,u,p){if(!this._firstTwoTouches)return;const[g,_]=this._firstTwoTouches,E=qa(p,u,g),A=qa(p,u,_);E&&A||(this._active&&C.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function qa(x,a,u){for(let p=0;p<x.length;p++)if(x[p].identifier===u)return a[p]}function js(x,a){return Math.log(x/a)/Math.LN2}class Bu extends Fu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,u){const p=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(js(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:js(this._distance,p),pinchAround:u}}}function ef(x,a){return 180*x.angleWith(a)/Math.PI}class tf extends Fu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,u,p){const g=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ef(this._vector,g),pinchAround:u}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const u=25/(Math.PI*this._minDiameter)*360,p=ef(a,this._startVector);return Math.abs(p)<u}}function Nu(x){return Math.abs(x.y)>Math.abs(x.x)}class rf extends Fu{constructor(a){super(),this._currentTouchCount=0,this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,u,p){super.touchstart(a,u,p),this._currentTouchCount=p.length}_start(a){this._lastPoints=a,Nu(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,u,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const g=a[0].sub(this._lastPoints[0]),_=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(g,_,p.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(g.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(a,u,p){if(this._valid!==void 0)return this._valid;const g=a.mag()>=2,_=u.mag()>=2;if(!g&&!_)return;if(!g||!_)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const E=a.y>0==u.y>0;return Nu(a)&&Nu(u)&&E}}const Ym={panStep:100,bearingStep:15,pitchStep:10};class mo{constructor(a){this._tr=new Os(a);const u=Ym;this._panStep=u.panStep,this._bearingStep=u.bearingStep,this._pitchStep=u.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let u=0,p=0,g=0,_=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:u=1;break;case 189:case 109:case 173:u=-1;break;case 37:a.shiftKey?p=-1:(a.preventDefault(),_=-1);break;case 39:a.shiftKey?p=1:(a.preventDefault(),_=1);break;case 38:a.shiftKey?g=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?g=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(p=0,g=0),{cameraAnimation:A=>{const I=this._tr;A.easeTo({duration:300,easeId:"keyboardHandler",easing:Xm,zoom:u?Math.round(I.zoom)+u*(a.shiftKey?2:1):I.zoom,bearing:I.bearing+p*this._bearingStep,pitch:I.pitch+g*this._pitchStep,offset:[-_*this._panStep,-E*this._panStep],center:I.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Xm(x){return x*(2-x)}const nf=4.000244140625;class af{constructor(a,u){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=a,this._tr=new Os(a),this._triggerRenderFrame=u,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!a[this._map.cooperativeGestures._bypassKey])return;let u=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const p=T.now(),g=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,u!==0&&u%nf==0?this._type="wheel":u!==0&&Math.abs(u)<4?this._type="trackpad":g>400?(this._type=null,this._lastValue=u,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(g*u)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,u+=this._lastValue)),a.shiftKey&&u&&(u/=4),this._type&&(this._lastWheelEvent=a,this._delta-=u,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const u=C.mousePos(this._map.getCanvas(),a),p=this._tr;this._around=u.y>p.transform.height/2-p.transform.getHorizon()?c.M.convert(this._aroundCenter?p.center:p.unproject(u)):c.M.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const A=this._type==="wheel"&&Math.abs(this._delta)>nf?this._wheelZoomRate:this._defaultZoomRate;let I=2/(1+Math.exp(-Math.abs(this._delta*A)));this._delta<0&&I!==0&&(I=1/I);const R=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(R*I))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const u=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,p=this._startZoom,g=this._easing;let _,E=!1;if(this._type==="wheel"&&p&&g){const A=Math.min((T.now()-this._lastWheelEventTime)/200,1),I=g(A);_=c.z.number(p,u,I),A<1?this._frameId||(this._frameId=!0):E=!0}else _=u,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:_-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let u=c.b8;if(this._prevEase){const p=this._prevEase,g=(T.now()-p.start)/p.duration,_=p.easing(g+.01)-p.easing(g),E=.27/Math.sqrt(_*_+1e-4)*.01,A=Math.sqrt(.0729-E*E);u=c.b7(E,A,.25,1)}return this._prevEase={start:T.now(),duration:a,easing:u},u}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class of{constructor(a,u){this._clickZoom=a,this._tapZoom=u}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Jm{constructor(a){this._tr=new Os(a),this.reset()}reset(){this._active=!1}dblclick(a,u){return a.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(u)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Qm{constructor(){this._tap=new $u({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,u,p){if(!this._swipePoint)if(this._tapTime){const g=u[0],_=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(g)<30;_&&E?p.length>0&&(this._swipePoint=g,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(a,u,p)}touchmove(a,u,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const g=u[0],_=g.y-this._swipePoint.y;return this._swipePoint=g,a.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(a,u,p)}touchend(a,u,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const g=this._tap.touchend(a,u,p);g&&(this._tapTime=a.timeStamp,this._tapPoint=g)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class sf{constructor(a,u,p){this._el=a,this._mousePan=u,this._touchPan=p}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Vs{constructor(a,u,p){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=u,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class lf{constructor(a,u,p,g){this._el=a,this._touchZoom=u,this._touchRotate=p,this._tapDragZoom=g,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Ni{constructor(a,u){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=a,this._options=u,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const a=this._map.getCanvasContainer();a.classList.add("maplibregl-cooperative-gestures"),this._container=C.create("div","maplibregl-cooperative-gesture-screen",a);let u=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(u=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),g=document.createElement("div");g.className="maplibregl-desktop-message",g.textContent=u,this._container.appendChild(g);const _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=p,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(C.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(a){this._onCooperativeGesture(a.touches.length===1)}wheel(a){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!a[this._bypassKey])}_onCooperativeGesture(a){this._enabled&&a&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const ki=x=>x.zoom||x.drag||x.pitch||x.rotate;class eg extends c.k{}function Oi(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class lc{constructor(a,u){this.handleWindowEvent=g=>{this.handleEvent(g,`${g.type}Window`)},this.handleEvent=(g,_)=>{if(g.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=g.type==="renderFrame"?void 0:g,A={needsRenderFrame:!1},I={},R={},K=g.touches,U=K?this._getMapTouches(K):void 0,X=U?C.touchPos(this._map.getCanvas(),U):C.mousePos(this._map.getCanvas(),g);for(const{handlerName:me,handler:oe,allowed:_e}of this._handlers){if(!oe.isEnabled())continue;let Ce;this._blockedByActive(R,_e,me)?oe.reset():oe[_||g.type]&&(Ce=oe[_||g.type](g,X,U),this.mergeHandlerResult(A,I,Ce,me,E),Ce&&Ce.needsRenderFrame&&this._triggerRenderFrame()),(Ce||oe.isActive())&&(R[me]=oe)}const te={};for(const me in this._previousActiveHandlers)R[me]||(te[me]=E);this._previousActiveHandlers=R,(Object.keys(te).length||Oi(A))&&(this._changes.push([A,I,te]),this._triggerRenderFrame()),(Object.keys(R).length||Oi(A))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:ne}=A;ne&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],ne(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Xh(a),this._bearingSnap=u.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(u);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[g,_,E]of this._listeners)C.addEventListener(g,_,g===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,u,p]of this._listeners)C.removeEventListener(a,u,a===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(a){const u=this._map,p=u.getCanvasContainer();this._add("mapEvent",new Jh(u,a));const g=u.boxZoom=new oc(u,a);this._add("boxZoom",g),a.interactive&&a.boxZoom&&g.enable();const _=u.cooperativeGestures=new Ni(u,a.cooperativeGestures);this._add("cooperativeGestures",_),a.cooperativeGestures&&_.enable();const E=new Ru(u),A=new Jm(u);u.doubleClickZoom=new of(A,E),this._add("tapZoom",E),this._add("clickZoom",A),a.interactive&&a.doubleClickZoom&&u.doubleClickZoom.enable();const I=new Qm;this._add("tapDragZoom",I);const R=u.touchPitch=new rf(u);this._add("touchPitch",R),a.interactive&&a.touchPitch&&u.touchPitch.enable(a.touchPitch);const K=Ei(a),U=zu(a);u.dragRotate=new Vs(a,K,U),this._add("mouseRotate",K,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]),a.interactive&&a.dragRotate&&u.dragRotate.enable();const X=(({enable:Ce,clickTolerance:de})=>{const ke=new Lu({checkCorrectEvent:$e=>C.mouseButton($e)===0&&!$e.ctrlKey});return new qo({clickTolerance:de,move:($e,Fe)=>({around:Fe,panDelta:Fe.sub($e)}),activateOnStart:!0,moveStateManager:ke,enable:Ce,assignEvents:Ga})})(a),te=new Qh(a,u);u.dragPan=new sf(p,X,te),this._add("mousePan",X),this._add("touchPan",te,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&u.dragPan.enable(a.dragPan);const ne=new tf,me=new Bu;u.touchZoomRotate=new lf(p,me,ne,I),this._add("touchRotate",ne,["touchPan","touchZoom"]),this._add("touchZoom",me,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&u.touchZoomRotate.enable(a.touchZoomRotate);const oe=u.scrollZoom=new af(u,()=>this._triggerRenderFrame());this._add("scrollZoom",oe,["mousePan"]),a.interactive&&a.scrollZoom&&u.scrollZoom.enable(a.scrollZoom);const _e=u.keyboard=new mo(u);this._add("keyboard",_e),a.interactive&&a.keyboard&&u.keyboard.enable(),this._add("blockableMapEvent",new sx(u))}_add(a,u,p){this._handlers.push({handlerName:a,handler:u,allowed:p}),this._handlersById[a]=u}stop(a){if(!this._updatingCamera){for(const{handler:u}of this._handlers)u.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ki(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,u,p){for(const g in a)if(g!==p&&(!u||u.indexOf(g)<0))return!0;return!1}_getMapTouches(a){const u=[];for(const p of a)this._el.contains(p.target)&&u.push(p);return u}mergeHandlerResult(a,u,p,g,_){if(!p)return;c.e(a,p);const E={handlerName:g,originalEvent:p.originalEvent||_};p.zoomDelta!==void 0&&(u.zoom=E),p.panDelta!==void 0&&(u.drag=E),p.pitchDelta!==void 0&&(u.pitch=E),p.bearingDelta!==void 0&&(u.rotate=E)}_applyChanges(){const a={},u={},p={};for(const[g,_,E]of this._changes)g.panDelta&&(a.panDelta=(a.panDelta||new c.P(0,0))._add(g.panDelta)),g.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+g.zoomDelta),g.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+g.bearingDelta),g.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+g.pitchDelta),g.around!==void 0&&(a.around=g.around),g.pinchAround!==void 0&&(a.pinchAround=g.pinchAround),g.noInertia&&(a.noInertia=g.noInertia),c.e(u,_),c.e(p,E);this._updateMapTransform(a,u,p),this._changes=[]}_updateMapTransform(a,u,p){const g=this._map,_=g._getTransformForUpdate(),E=g.terrain;if(!(Oi(a)||E&&this._terrainMovement))return this._fireEvents(u,p,!0);let{panDelta:A,zoomDelta:I,bearingDelta:R,pitchDelta:K,around:U,pinchAround:X}=a;X!==void 0&&(U=X),g._stop(!0),U=U||g.transform.centerPoint;const te=_.pointLocation(A?U.sub(A):U);R&&(_.bearing+=R),K&&(_.pitch+=K),I&&(_.zoom+=I),E?this._terrainMovement||!u.drag&&!u.zoom?u.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(A)):_.setLocationAtPoint(te,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(te,U)):_.setLocationAtPoint(te,U),g._applyUpdatedTransform(_),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(u,p,!0)}_fireEvents(a,u,p){const g=ki(this._eventsInProgress),_=ki(a),E={};for(const U in a){const{originalEvent:X}=a[U];this._eventsInProgress[U]||(E[`${U}start`]=X),this._eventsInProgress[U]=a[U]}!g&&_&&this._fireEvent("movestart",_.originalEvent);for(const U in E)this._fireEvent(U,E[U]);_&&this._fireEvent("move",_.originalEvent);for(const U in a){const{originalEvent:X}=a[U];this._fireEvent(U,X)}const A={};let I;for(const U in this._eventsInProgress){const{handlerName:X,originalEvent:te}=this._eventsInProgress[U];this._handlersById[X].isActive()||(delete this._eventsInProgress[U],I=u[X]||te,A[`${U}end`]=I)}for(const U in A)this._fireEvent(U,A[U]);const R=ki(this._eventsInProgress),K=(g||_)&&!R;if(K&&this._terrainMovement&&(this._map._elevationFreeze=!1,this._terrainMovement=!1,this._map.transform.recalculateZoom(this._map.terrain)),p&&K){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),X=te=>te!==0&&-this._bearingSnap<te&&te<this._bearingSnap;!U||!U.essential&&T.prefersReducedMotion?(this._map.fire(new c.k("moveend",{originalEvent:I})),X(this._map.getBearing())&&this._map.resetNorth()):(X(U.bearing||this._map.getBearing())&&(U.bearing=0),U.freezeElevation=!0,this._map.easeTo(U,{originalEvent:I})),this._updatingCamera=!1}}_fireEvent(a,u){this._map.fire(new c.k(a,u?{originalEvent:u}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new eg("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class cx extends c.E{constructor(a,u){super(),this._renderFrameCallback=()=>{const p=Math.min((T.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=u.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new c.M(this.transform.center.lng,this.transform.center.lat)}setCenter(a,u){return this.jumpTo({center:a},u)}panBy(a,u,p){return a=c.P.convert(a).mult(-1),this.panTo(this.transform.center,c.e({offset:a},u),p)}panTo(a,u,p){return this.easeTo(c.e({center:a},u),p)}getZoom(){return this.transform.zoom}setZoom(a,u){return this.jumpTo({zoom:a},u),this}zoomTo(a,u,p){return this.easeTo(c.e({zoom:a},u),p)}zoomIn(a,u){return this.zoomTo(this.getZoom()+1,a,u),this}zoomOut(a,u){return this.zoomTo(this.getZoom()-1,a,u),this}getBearing(){return this.transform.bearing}setBearing(a,u){return this.jumpTo({bearing:a},u),this}getPadding(){return this.transform.padding}setPadding(a,u){return this.jumpTo({padding:a},u),this}rotateTo(a,u,p){return this.easeTo(c.e({bearing:a},u),p)}resetNorth(a,u){return this.rotateTo(0,c.e({duration:1e3},a),u),this}resetNorthPitch(a,u){return this.easeTo(c.e({bearing:0,pitch:0,duration:1e3},a),u),this}snapToNorth(a,u){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,u):this}getPitch(){return this.transform.pitch}setPitch(a,u){return this.jumpTo({pitch:a},u),this}cameraForBounds(a,u){a=Yt.convert(a);const p=u&&u.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),p,u)}_cameraForBoxAndBearing(a,u,p,g){const _={top:0,bottom:0,right:0,left:0};if(typeof(g=c.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const Xe=g.padding;g.padding={top:Xe,bottom:Xe,right:Xe,left:Xe}}g.padding=c.e(_,g.padding);const E=this.transform,A=E.padding,I=new Yt(a,u),R=E.project(I.getNorthWest()),K=E.project(I.getNorthEast()),U=E.project(I.getSouthEast()),X=E.project(I.getSouthWest()),te=c.b9(-p),ne=R.rotate(te),me=K.rotate(te),oe=U.rotate(te),_e=X.rotate(te),Ce=new c.P(Math.max(ne.x,me.x,_e.x,oe.x),Math.max(ne.y,me.y,_e.y,oe.y)),de=new c.P(Math.min(ne.x,me.x,_e.x,oe.x),Math.min(ne.y,me.y,_e.y,oe.y)),ke=Ce.sub(de),$e=(E.width-(A.left+A.right+g.padding.left+g.padding.right))/ke.x,Fe=(E.height-(A.top+A.bottom+g.padding.top+g.padding.bottom))/ke.y;if(Fe<0||$e<0)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const We=Math.min(E.scaleZoom(E.scale*Math.min($e,Fe)),g.maxZoom),Ye=c.P.convert(g.offset),ct=new c.P((g.padding.left-g.padding.right)/2,(g.padding.top-g.padding.bottom)/2).rotate(c.b9(p)),ut=Ye.add(ct).mult(E.scale/E.zoomScale(We));return{center:E.unproject(R.add(U).div(2).sub(ut)),zoom:We,bearing:p}}fitBounds(a,u,p){return this._fitInternal(this.cameraForBounds(a,u),u,p)}fitScreenCoordinates(a,u,p,g,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.P.convert(a)),this.transform.pointLocation(c.P.convert(u)),p,g),g,_)}_fitInternal(a,u,p){return a?(delete(u=c.e(a,u)).padding,u.linear?this.easeTo(u,p):this.flyTo(u,p)):this}jumpTo(a,u){this.stop();const p=this._getTransformForUpdate();let g=!1,_=!1,E=!1;return"zoom"in a&&p.zoom!==+a.zoom&&(g=!0,p.zoom=+a.zoom),a.center!==void 0&&(p.center=c.M.convert(a.center)),"bearing"in a&&p.bearing!==+a.bearing&&(_=!0,p.bearing=+a.bearing),"pitch"in a&&p.pitch!==+a.pitch&&(E=!0,p.pitch=+a.pitch),a.padding==null||p.isPaddingEqual(a.padding)||(p.padding=a.padding),this._applyUpdatedTransform(p),this.fire(new c.k("movestart",u)).fire(new c.k("move",u)),g&&this.fire(new c.k("zoomstart",u)).fire(new c.k("zoom",u)).fire(new c.k("zoomend",u)),_&&this.fire(new c.k("rotatestart",u)).fire(new c.k("rotate",u)).fire(new c.k("rotateend",u)),E&&this.fire(new c.k("pitchstart",u)).fire(new c.k("pitch",u)).fire(new c.k("pitchend",u)),this.fire(new c.k("moveend",u))}calculateCameraOptionsFromTo(a,u,p,g=0){const _=c.Y.fromLngLat(a,u),E=c.Y.fromLngLat(p,g),A=E.x-_.x,I=E.y-_.y,R=E.z-_.z,K=Math.hypot(A,I,R);if(K===0)throw new Error("Can't calculate camera options with same From and To");const U=Math.hypot(A,I),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/K/this.transform.tileSize),te=180*Math.atan2(A,-I)/Math.PI;let ne=180*Math.acos(U/K)/Math.PI;return ne=R<0?90-ne:90+ne,{center:E.toLngLat(),zoom:X,pitch:ne,bearing:te}}easeTo(a,u){var p;this._stop(!1,a.easeId),((a=c.e({offset:[0,0],duration:500,easing:c.b8},a)).animate===!1||!a.essential&&T.prefersReducedMotion)&&(a.duration=0);const g=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),A=this.getPitch(),I=this.getPadding(),R="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:A,U="padding"in a?a.padding:g.padding,X=c.P.convert(a.offset);let te=g.centerPoint.add(X);const ne=g.pointLocation(te),{center:me,zoom:oe}=g.getConstrained(c.M.convert(a.center||ne),(p=a.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(me);const _e=g.project(ne),Ce=g.project(me).sub(_e),de=g.zoomScale(oe-_);let ke,$e;a.around&&(ke=c.M.convert(a.around),$e=g.locationPoint(ke));const Fe={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||oe!==_,this._rotating=this._rotating||E!==R,this._pitching=this._pitching||K!==A,this._padding=!g.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(u,a.noMoveStart,Fe),this.terrain&&this._prepareElevation(me),this._ease(We=>{if(this._zooming&&(g.zoom=c.z.number(_,oe,We)),this._rotating&&(g.bearing=c.z.number(E,R,We)),this._pitching&&(g.pitch=c.z.number(A,K,We)),this._padding&&(g.interpolatePadding(I,U,We),te=g.centerPoint.add(X)),this.terrain&&!a.freezeElevation&&this._updateElevation(We),ke)g.setLocationAtPoint(ke,$e);else{const Ye=g.zoomScale(g.zoom-_),ct=oe>_?Math.min(2,de):Math.max(.5,de),ut=Math.pow(ct,1-We),Xe=g.unproject(_e.add(Ce.mult(We*ut)).mult(Ye));g.setLocationAtPoint(g.renderWorldCopies?Xe.wrap():Xe,te)}this._applyUpdatedTransform(g),this._fireMoveEvents(u)},We=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(u,We)},a),this}_prepareEase(a,u,p={}){this._moving=!0,u||p.moving||this.fire(new c.k("movestart",a)),this._zooming&&!p.zooming&&this.fire(new c.k("zoomstart",a)),this._rotating&&!p.rotating&&this.fire(new c.k("rotatestart",a)),this._pitching&&!p.pitching&&this.fire(new c.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const u=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&u!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(p-(u-(p*a+this._elevationStart))/(1-a)),this._elevationTarget=u}this.transform.elevation=c.z.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const u=a.clone(),{center:p,zoom:g,pitch:_,bearing:E,elevation:A}=this.transformCameraUpdate(u);p&&(u.center=p),g!==void 0&&(u.zoom=g),_!==void 0&&(u.pitch=_),E!==void 0&&(u.bearing=E),A!==void 0&&(u.elevation=A),this.transform.apply(u)}_fireMoveEvents(a){this.fire(new c.k("move",a)),this._zooming&&this.fire(new c.k("zoom",a)),this._rotating&&this.fire(new c.k("rotate",a)),this._pitching&&this.fire(new c.k("pitch",a))}_afterEase(a,u){if(this._easeId&&u&&this._easeId===u)return;delete this._easeId;const p=this._zooming,g=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new c.k("zoomend",a)),g&&this.fire(new c.k("rotateend",a)),_&&this.fire(new c.k("pitchend",a)),this.fire(new c.k("moveend",a))}flyTo(a,u){var p;if(!a.essential&&T.prefersReducedMotion){const at=c.L(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(at,u)}this.stop(),a=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.b8},a);const g=this._getTransformForUpdate(),_=this.getZoom(),E=this.getBearing(),A=this.getPitch(),I=this.getPadding(),R="bearing"in a?this._normalizeBearing(a.bearing,E):E,K="pitch"in a?+a.pitch:A,U="padding"in a?a.padding:g.padding,X=c.P.convert(a.offset);let te=g.centerPoint.add(X);const ne=g.pointLocation(te),{center:me,zoom:oe}=g.getConstrained(c.M.convert(a.center||ne),(p=a.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(me);const _e=g.zoomScale(oe-_),Ce=g.project(ne),de=g.project(me).sub(Ce);let ke=a.curve;const $e=Math.max(g.width,g.height),Fe=$e/_e,We=de.mag();if("minZoom"in a){const at=c.ac(Math.min(a.minZoom,_,oe),g.minZoom,g.maxZoom),It=$e/g.zoomScale(at-_);ke=Math.sqrt(It/We*2)}const Ye=ke*ke;function ct(at){const It=(Fe*Fe-$e*$e+(at?-1:1)*Ye*Ye*We*We)/(2*(at?Fe:$e)*Ye*We);return Math.log(Math.sqrt(It*It+1)-It)}function ut(at){return(Math.exp(at)-Math.exp(-at))/2}function Xe(at){return(Math.exp(at)+Math.exp(-at))/2}const et=ct(!1);let pt=function(at){return Xe(et)/Xe(et+ke*at)},Lt=function(at){return $e*((Xe(et)*(ut(It=et+ke*at)/Xe(It))-ut(et))/Ye)/We;var It},rt=(ct(!0)-et)/ke;if(Math.abs(We)<1e-6||!isFinite(rt)){if(Math.abs($e-Fe)<1e-6)return this.easeTo(a,u);const at=Fe<$e?-1:1;rt=Math.abs(Math.log(Fe/$e))/ke,Lt=()=>0,pt=It=>Math.exp(at*ke*It)}return a.duration="duration"in a?+a.duration:1e3*rt/("screenSpeed"in a?+a.screenSpeed/ke:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=E!==R,this._pitching=K!==A,this._padding=!g.isPaddingEqual(U),this._prepareEase(u,!1),this.terrain&&this._prepareElevation(me),this._ease(at=>{const It=at*rt,wr=1/pt(It);g.zoom=at===1?oe:_+g.scaleZoom(wr),this._rotating&&(g.bearing=c.z.number(E,R,at)),this._pitching&&(g.pitch=c.z.number(A,K,at)),this._padding&&(g.interpolatePadding(I,U,at),te=g.centerPoint.add(X)),this.terrain&&!a.freezeElevation&&this._updateElevation(at);const Ht=at===1?me:g.unproject(Ce.add(de.mult(Lt(It))).mult(wr));g.setLocationAtPoint(g.renderWorldCopies?Ht.wrap():Ht,te),this._applyUpdatedTransform(g),this._fireMoveEvents(u)},()=>{this.terrain&&a.freezeElevation&&this._finalizeElevation(),this._afterEase(u)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,u){var p;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const g=this._onEaseEnd;delete this._onEaseEnd,g.call(this,u)}return a||(p=this.handlers)===null||p===void 0||p.stop(!1),this}_ease(a,u,p){p.animate===!1||p.duration===0?(a(1),u()):(this._easeStart=T.now(),this._easeOptions=p,this._onEaseFrame=a,this._onEaseEnd=u,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,u){a=c.b2(a,-180,180);const p=Math.abs(a-u);return Math.abs(a-360-u)<p&&(a-=360),Math.abs(a+360-u)<p&&(a+=360),a}_normalizeCenter(a){const u=this.transform;if(!u.renderWorldCopies||u.lngRange)return;const p=a.lng-u.center.lng;a.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(c.M.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}const tg={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class rg{constructor(a=tg){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=u=>{!u||u.sourceDataType!=="metadata"&&u.sourceDataType!=="visibility"&&u.dataType!=="style"&&u.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options.compact,this._container=C.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=C.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=C.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){C.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,u){const p=this._map._getUIString(`AttributionControl.${u}`);a.title=p,a.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(g=>typeof g!="string"?"":g)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const g=this._map.style.stylesheet;this.styleOwner=g.owner,this.styleId=g.id}const u=this._map.style.sourceCaches;for(const g in u){const _=u[g];if(_.used||_.usedForTerrain){const E=_.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(g=>String(g).trim()),a.sort((g,_)=>g.length-_.length),a=a.filter((g,_)=>{for(let E=_+1;E<a.length;E++)if(a[E].indexOf(g)>=0)return!1;return!0});const p=a.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,a.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class cf{constructor(a={}){this._updateCompact=()=>{const u=this._container.children;if(u.length){const p=u[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=C.create("div","maplibregl-ctrl");const u=C.create("a","maplibregl-ctrl-logo");return u.target="_blank",u.rel="noopener nofollow",u.href="https://maplibre.org/",u.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),u.setAttribute("rel","noopener nofollow"),this._container.appendChild(u),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){C.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class cc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const u=++this._id;return this._queue.push({callback:a,id:u,cancelled:!1}),u}remove(a){const u=this._currentlyRunning,p=u?this._queue.concat(u):this._queue;for(const g of p)if(g.id===a)return void(g.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const u=this._currentlyRunning=this._queue;this._queue=[];for(const p of u)if(!p.cancelled&&(p.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var go=c.X([{name:"a_pos3d",type:"Int16",components:3}]);class ht extends c.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,u){this.sourceCache.update(a,u),this._renderableTilesKeys=[];const p={};for(const g of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:u}))p[g.key]=!0,this._renderableTilesKeys.push(g.key),this._tiles[g.key]||(g.posMatrix=new Float64Array(16),c.aO(g.posMatrix,0,c.W,0,c.W,0,1),this._tiles[g.key]=new In(g,this.tileSize));for(const g in this._tiles)p[g]||delete this._tiles[g]}freeRtt(a){for(const u in this._tiles){const p=this._tiles[u];(!a||p.tileID.equals(a)||p.tileID.isChildOf(a)||a.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const u={};for(const p of this._renderableTilesKeys){const g=this._tiles[p].tileID;if(g.canonical.equals(a.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16),c.aO(_.posMatrix,0,c.W,0,c.W,0,1),u[p]=_}else if(g.canonical.isChildOf(a.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16);const E=g.canonical.z-a.canonical.z,A=g.canonical.x-(g.canonical.x>>E<<E),I=g.canonical.y-(g.canonical.y>>E<<E),R=c.W>>E;c.aO(_.posMatrix,0,R,0,R,0,1),c.H(_.posMatrix,_.posMatrix,[-A*R,-I*R,0]),u[p]=_}else if(a.canonical.isChildOf(g.canonical)){const _=a.clone();_.posMatrix=new Float64Array(16);const E=a.canonical.z-g.canonical.z,A=a.canonical.x-(a.canonical.x>>E<<E),I=a.canonical.y-(a.canonical.y>>E<<E),R=c.W>>E;c.aO(_.posMatrix,0,c.W,0,c.W,0,1),c.H(_.posMatrix,_.posMatrix,[A*R,I*R,0]),c.J(_.posMatrix,_.posMatrix,[1/2**E,1/2**E,0]),u[p]=_}}return u}getSourceTile(a,u){const p=this.sourceCache._source;let g=a.overscaledZ-this.deltaZoom;if(g>p.maxzoom&&(g=p.maxzoom),g<p.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(g).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!_||!_.dem)&&u)for(;g>=p.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(a.scaledTo(g--).key);return _}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(u=>u.timeAdded>=a)}}class ng{constructor(a,u,p){this.painter=a,this.sourceCache=new ht(u),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,u,p,g=c.W){var _;if(!(u>=0&&u<g&&p>=0&&p<g))return 0;const E=this.getTerrainData(a),A=(_=E.tile)===null||_===void 0?void 0:_.dem;if(!A)return 0;const I=function(ne,me,oe){var _e=me[0],Ce=me[1];return ne[0]=oe[0]*_e+oe[4]*Ce+oe[12],ne[1]=oe[1]*_e+oe[5]*Ce+oe[13],ne}([],[u/g*c.W,p/g*c.W],E.u_terrain_matrix),R=[I[0]*A.dim,I[1]*A.dim],K=Math.floor(R[0]),U=Math.floor(R[1]),X=R[0]-K,te=R[1]-U;return A.get(K,U)*(1-X)*(1-te)+A.get(K+1,U)*X*(1-te)+A.get(K,U+1)*(1-X)*te+A.get(K+1,U+1)*X*te}getElevationForLngLatZoom(a,u){const{tileID:p,mercatorX:g,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(a,u);return this.getElevation(p,g%c.W,_%c.W,c.W)}getElevation(a,u,p,g=c.W){return this.getDEMElevation(a,u,p,g)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const g=this.painter.context,_=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new le(g,_,g.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new le(g,new c.R({width:1,height:1}),g.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.an([])}const u=this.sourceCache.getSourceTile(a,!0);if(u&&u.dem&&(!u.demTexture||u.needsTerrainPrepare)){const g=this.painter.context;u.demTexture=this.painter.getTileTexture(u.dem.stride),u.demTexture?u.demTexture.update(u.dem.getPixels(),{premultiply:!1}):u.demTexture=new le(g,u.dem.getPixels(),g.gl.RGBA,{premultiply:!1}),u.demTexture.bind(g.gl.NEAREST,g.gl.CLAMP_TO_EDGE),u.needsTerrainPrepare=!1}const p=u&&u+u.tileID.key+a.key;if(p&&!this._demMatrixCache[p]){const g=this.sourceCache.sourceCache._source.maxzoom;let _=a.canonical.z-u.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=g?_=a.canonical.z-g:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>_<<_),A=a.canonical.y-(a.canonical.y>>_<<_),I=c.ba(new Float64Array(16),[1/(c.W<<_),1/(c.W<<_),0]);c.H(I,I,[E*c.W,A*c.W,0]),this._demMatrixCache[a.key]={matrix:I,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:u&&u.dem&&u.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:u&&u.dem&&u.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(u&&u.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:u}}getFramebuffer(a){const u=this.painter,p=u.width/devicePixelRatio,g=u.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===g||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new le(u.context,{width:p,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new le(u.context,{width:p,height:g,data:null},u.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(u.context.gl.NEAREST,u.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=u.context.createFramebuffer(p,g,!0,!1),this._fbo.depthAttachment.set(u.context.createRenderbuffer(u.context.gl.DEPTH_COMPONENT16,p,g))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const u=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,E=0;_<this._coordsTextureSize;_++)for(let A=0;A<this._coordsTextureSize;A++,E+=4)u[E+0]=255&A,u[E+1]=255&_,u[E+2]=A>>8<<4|_>>8,u[E+3]=0;const p=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(u.buffer)),g=new le(a,p,a.gl.RGBA,{premultiply:!1});return g.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=g,g}pointCoordinate(a){this.painter.maybeDrawDepthAndCoords(!0);const u=new Uint8Array(4),p=this.painter.context,g=p.gl,_=Math.round(a.x*this.painter.pixelRatio/devicePixelRatio),E=Math.round(a.y*this.painter.pixelRatio/devicePixelRatio),A=Math.round(this.painter.height/devicePixelRatio);p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),g.readPixels(_,A-E-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),p.bindFramebuffer.set(null);const I=u[0]+(u[2]>>4<<8),R=u[1]+((15&u[2])<<8),K=this.coordsIndex[255-u[3]],U=K&&this.sourceCache.getTileByID(K);if(!U)return null;const X=this._coordsTextureSize,te=(1<<U.tileID.canonical.z)*X;return new c.Y((U.tileID.canonical.x*X+I)/te+U.tileID.wrap,(U.tileID.canonical.y*X+R)/te,this.getElevation(U.tileID,I,R,X))}depthAtPoint(a){const u=new Uint8Array(4),p=this.painter.context,g=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),g.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,g.RGBA,g.UNSIGNED_BYTE,u),p.bindFramebuffer.set(null),(u[0]/16777216+u[1]/65536+u[2]/256+u[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,u=new c.bb,p=new c.aY,g=this.meshSize,_=c.W/g,E=g*g;for(let U=0;U<=g;U++)for(let X=0;X<=g;X++)u.emplaceBack(X*_,U*_,0);for(let U=0;U<E;U+=g+1)for(let X=0;X<g;X++)p.emplaceBack(X+U,g+X+U+1,g+X+U+2),p.emplaceBack(X+U,g+X+U+2,X+U+1);const A=u.length,I=A+2*(g+1);for(const U of[0,1])for(let X=0;X<=g;X++)for(const te of[0,1])u.emplaceBack(X*_,U*c.W,te);for(let U=0;U<2*g;U+=2)p.emplaceBack(I+U,I+U+1,I+U+3),p.emplaceBack(I+U,I+U+3,I+U+2),p.emplaceBack(A+U,A+U+3,A+U+1),p.emplaceBack(A+U,A+U+2,A+U+3);const R=u.length,K=R+2*(g+1);for(const U of[0,1])for(let X=0;X<=g;X++)for(const te of[0,1])u.emplaceBack(U*c.W,X*_,te);for(let U=0;U<2*g;U+=2)p.emplaceBack(R+U,R+U+1,R+U+3),p.emplaceBack(R+U,R+U+3,R+U+2),p.emplaceBack(K+U,K+U+3,K+U+1),p.emplaceBack(K+U,K+U+2,K+U+3);return this._mesh={indexBuffer:a.createIndexBuffer(p),vertexBuffer:a.createVertexBuffer(u,go.members),segments:c.$.simpleSegment(0,0,u.length,p.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*c.bc/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,u){var p;const{tileID:g}=this._getOverscaledTileIDFromLngLatZoom(a,u);return(p=this.getMinMaxElevation(g).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(a){const u=this.getTerrainData(a).tile,p={minElevation:null,maxElevation:null};return u&&u.dem&&(p.minElevation=u.dem.min*this.exaggeration,p.maxElevation=u.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(a,u){const p=c.Y.fromLngLat(a.wrap()),g=(1<<u)*c.W,_=p.x*g,E=p.y*g,A=Math.floor(_/c.W),I=Math.floor(E/c.W);return{tileID:new c.Q(u,0,u,A,I),mercatorX:_,mercatorY:E}}}class uc{constructor(a,u,p){this._context=a,this._size=u,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const u=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new le(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),u.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),u.colorAttachment.set(p.texture),{id:a,fbo:u,texture:p,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(u=>a.id!==u),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const u of this._recentlyUsed)if(!this._objects[u].inUse)return this._objects[u];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const ba={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class ig{constructor(a,u){this.painter=a,this.terrain=u,this.pool=new uc(a.context,30,u.sourceCache.tileSize*u.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,u){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(p=>!a._layers[p].isHidden(u)),this._coordsDescendingInv={};for(const p in a.sourceCaches){this._coordsDescendingInv[p]={};const g=a.sourceCaches[p].getVisibleCoordinates();for(const _ of g){const E=this.terrain.sourceCache.getTerrainCoords(_);for(const A in E)this._coordsDescendingInv[p][A]||(this._coordsDescendingInv[p][A]=[]),this._coordsDescendingInv[p][A].push(E[A])}}this._coordsDescendingInvStr={};for(const p of a._order){const g=a._layers[p],_=g.source;if(ba[g.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const E in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][E]=this._coordsDescendingInv[_][E].map(A=>A.key).sort().join()}}for(const p of this._renderableTiles)for(const g in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[g][p.tileID.key];_&&_!==p.rttCoords[g]&&(p.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const u=a.type,p=this.painter,g=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(ba[u]&&(this._prevType&&ba[this._prevType]||this._stacks.push([]),this._prevType=u,this._stacks[this._stacks.length-1].push(a.id),!g))return!0;if(ba[this._prevType]||ba[u]&&g){this._prevType=u;const _=this._stacks.length-1,E=this._stacks[_]||[];for(const A of this._renderableTiles){if(this.pool.isFull()&&(ku(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(A),A.rtt[_]){const R=this.pool.getObjectForId(A.rtt[_].id);if(R.stamp===A.rtt[_].stamp){this.pool.useObject(R);continue}}const I=this.pool.getOrCreateFreeObject();this.pool.useObject(I),this.pool.stampObject(I),A.rtt[_]={id:I.id,stamp:I.stamp},p.context.bindFramebuffer.set(I.fbo.framebuffer),p.context.clear({color:c.aP.transparent,stencil:0}),p.currentStencilSource=void 0;for(let R=0;R<E.length;R++){const K=p.style._layers[E[R]],U=K.source?this._coordsDescendingInv[K.source][A.tileID.key]:[A.tileID];p.context.viewport.set([0,0,I.fbo.width,I.fbo.height]),p._renderTileClippingMasks(K,U),p.renderLayer(p,p.style.sourceCaches[K.source],K,U),K.source&&(A.rttCoords[K.source]=this._coordsDescendingInvStr[K.source][A.tileID.key])}}return ku(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),ba[u]}return!1}}const st={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},uf=v,ux={hash:!1,interactive:!0,bearingSnap:7,attributionControl:tg,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,refreshExpiredTiles:!0,scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],zoom:0,bearing:0,pitch:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0},ag=x=>{x.touchstart=x.dragStart,x.touchmoveWindow=x.dragMove,x.touchend=x.dragEnd},df={showCompass:!0,showZoom:!0,visualizePitch:!1};class og{constructor(a,u,p=!1){this.mousedown=E=>{this.startMouse(c.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),C.mousePos(this.element,E)),C.addEventListener(window,"mousemove",this.mousemove),C.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,C.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=C.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),C.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=C.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const g=a.dragRotate._mouseRotate.getClickTolerance(),_=a.dragRotate._mousePitch.getClickTolerance();this.element=u,this.mouseRotate=Ei({clickTolerance:g,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:A,bearingDegreesPerPixelMoved:I=.8})=>{const R=new zr;return new qo({clickTolerance:A,move:(K,U)=>({bearingDelta:(U.x-K.x)*I}),moveStateManager:R,enable:E,assignEvents:ag})})({clickTolerance:g,enable:!0}),this.map=a,p&&(this.mousePitch=zu({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:A,pitchDegreesPerPixelMoved:I=-.5})=>{const R=new zr;return new qo({clickTolerance:A,move:(K,U)=>({pitchDelta:(U.y-K.y)*I}),moveStateManager:R,enable:E,assignEvents:ag})})({clickTolerance:_,enable:!0})),C.addEventListener(u,"mousedown",this.mousedown),C.addEventListener(u,"touchstart",this.touchstart,{passive:!1}),C.addEventListener(u,"touchcancel",this.reset)}startMouse(a,u){this.mouseRotate.dragStart(a,u),this.mousePitch&&this.mousePitch.dragStart(a,u),C.disableDrag()}startTouch(a,u){this.touchRotate.dragStart(a,u),this.touchPitch&&this.touchPitch.dragStart(a,u),C.disableDrag()}moveMouse(a,u){const p=this.map,{bearingDelta:g}=this.mouseRotate.dragMove(a,u)||{};if(g&&p.setBearing(p.getBearing()+g),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(a,u)||{};_&&p.setPitch(p.getPitch()+_)}}moveTouch(a,u){const p=this.map,{bearingDelta:g}=this.touchRotate.dragMove(a,u)||{};if(g&&p.setBearing(p.getBearing()+g),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(a,u)||{};_&&p.setPitch(p.getPitch()+_)}}off(){const a=this.element;C.removeEventListener(a,"mousedown",this.mousedown),C.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend),C.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){C.enableDrag(),C.removeEventListener(window,"mousemove",this.mousemove),C.removeEventListener(window,"mouseup",this.mouseup),C.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),C.removeEventListener(window,"touchend",this.touchend)}}let yo;function sg(x,a,u){const p=new c.M(x.lng,x.lat);if(x=new c.M(x.lng,x.lat),a){const g=new c.M(x.lng-360,x.lat),_=new c.M(x.lng+360,x.lat),E=u.locationPoint(x).distSqr(a);u.locationPoint(g).distSqr(a)<E?x=g:u.locationPoint(_).distSqr(a)<E&&(x=_)}for(;Math.abs(x.lng-u.center.lng)>180;){const g=u.locationPoint(x);if(g.x>=0&&g.y>=0&&g.x<=u.width&&g.y<=u.height)break;x.lng>u.center.lng?x.lng-=360:x.lng+=360}return x.lng!==p.lng&&u.locationPoint(x).y>u.height/2-u.getHorizon()?x:p}const hf={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function vo(x,a,u){const p=x.classList;for(const g in hf)p.remove(`maplibregl-${u}-anchor-${g}`);p.add(`maplibregl-${u}-anchor-${a}`)}class vr extends c.E{constructor(a){if(super(),this._onKeyPress=u=>{const p=u.code,g=u.charCode||u.keyCode;p!=="Space"&&p!=="Enter"&&g!==32&&g!==13||this.togglePopup()},this._onMapClick=u=>{const p=u.originalEvent.target,g=this._element;this._popup&&(p===g||g.contains(p))&&this.togglePopup()},this._update=u=>{var p;if(!this._map)return;const g=this._map.loaded()&&!this._map.isMoving();((u==null?void 0:u.type)==="terrain"||(u==null?void 0:u.type)==="render"&&!g)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?sg(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(_=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E=`rotateX(${this._map.getPitch()}deg)`),u&&u.type!=="moveend"||(this._pos=this._pos.round()),C.setTransform(this._element,`${hf[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${E} ${_}`),T.frameAsync(new AbortController).then(()=>{this._updateOpacity(u&&u.type==="moveend")}).catch(()=>{})},this._onMove=u=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=u.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=u.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.k("dragstart"))),this.fire(new c.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.k("dragend")),this._state="inactive"},this._addDragHandler=u=>{this._element.contains(u.originalEvent.target)&&(u.preventDefault(),this._positionDelta=u.point.sub(this._pos).add(this._offset),this._pointerdownPos=u.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(a==null?void 0:a.opacity,a==null?void 0:a.opacityWhenCovered),a&&a.element)this._element=a.element,this._offset=c.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=C.create("div");const u=C.createNS("http://www.w3.org/2000/svg","svg"),p=41,g=27;u.setAttributeNS(null,"display","block"),u.setAttributeNS(null,"height",`${p}px`),u.setAttributeNS(null,"width",`${g}px`),u.setAttributeNS(null,"viewBox",`0 0 ${g} ${p}`);const _=C.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const E=C.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const A=C.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"transform","translate(3.0, 29.0)"),A.setAttributeNS(null,"fill","#000000");const I=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const _e of I){const Ce=C.createNS("http://www.w3.org/2000/svg","ellipse");Ce.setAttributeNS(null,"opacity","0.04"),Ce.setAttributeNS(null,"cx","10.5"),Ce.setAttributeNS(null,"cy","5.80029008"),Ce.setAttributeNS(null,"rx",_e.rx),Ce.setAttributeNS(null,"ry",_e.ry),A.appendChild(Ce)}const R=C.createNS("http://www.w3.org/2000/svg","g");R.setAttributeNS(null,"fill",this._color);const K=C.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),R.appendChild(K);const U=C.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");const X=C.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(X);const te=C.createNS("http://www.w3.org/2000/svg","g");te.setAttributeNS(null,"transform","translate(6.0, 7.0)"),te.setAttributeNS(null,"fill","#FFFFFF");const ne=C.createNS("http://www.w3.org/2000/svg","g");ne.setAttributeNS(null,"transform","translate(8.0, 8.0)");const me=C.createNS("http://www.w3.org/2000/svg","circle");me.setAttributeNS(null,"fill","#000000"),me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"cx","5.5"),me.setAttributeNS(null,"cy","5.5"),me.setAttributeNS(null,"r","5.4999962");const oe=C.createNS("http://www.w3.org/2000/svg","circle");oe.setAttributeNS(null,"fill","#FFFFFF"),oe.setAttributeNS(null,"cx","5.5"),oe.setAttributeNS(null,"cy","5.5"),oe.setAttributeNS(null,"r","5.4999962"),ne.appendChild(me),ne.appendChild(oe),E.appendChild(A),E.appendChild(R),E.appendChild(U),E.appendChild(te),E.appendChild(ne),u.appendChild(E),u.setAttributeNS(null,"height",p*this._scale+"px"),u.setAttributeNS(null,"width",g*this._scale+"px"),this._element.appendChild(u),this._offset=c.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",u=>{u.preventDefault()}),this._element.addEventListener("mousedown",u=>{u.preventDefault()}),vo(this._element,this._anchor,"marker"),a&&a.className)for(const u of a.className.split(" "))this._element.classList.add(u);this._popup=null}addTo(a){return this.remove(),this._map=a,this._element.setAttribute("aria-label",a._getUIString("Marker.Title")),a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),C.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=c.M.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const g=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[g,-1*(38.1-13.5+g)],"bottom-right":[-g,-1*(38.1-13.5+g)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:a?(a.isOpen()?a.remove():(a.setLngLat(this._lngLat),a.addTo(this._map)),this):this}_updateOpacity(a=!1){var u,p;if(!(!((u=this._map)===null||u===void 0)&&u.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(a)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const g=this._map,_=g.terrain.depthAtPoint(this._pos),E=g.terrain.getElevationForLngLatZoom(this._lngLat,g.transform.tileZoom);if(g.transform.lngLatToCameraDepth(this._lngLat,E)-_<.006)return void(this._element.style.opacity=this._opacity);const A=-this._offset.y/g.transform._pixelPerMeter,I=Math.sin(g.getPitch()*Math.PI/180)*A,R=g.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),K=g.transform.lngLatToCameraDepth(this._lngLat,E+I)-R>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&K&&this._popup.remove(),this._element.style.opacity=K?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(a){return this._offset=c.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(a,u){return a===void 0&&u===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),a!==void 0&&(this._opacity=a),u!==void 0&&(this._opacityWhenCovered=u),this._map&&this._updateOpacity(!0),this}}const Ou={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Us=0,Ks=!1;const lg={maxWidth:100,unit:"metric"};function ff(x,a,u){const p=u&&u.maxWidth||100,g=x._container.clientHeight/2,_=x.unproject([0,g]),E=x.unproject([p,g]),A=_.distanceTo(E);if(u&&u.unit==="imperial"){const I=3.2808*A;I>5280?dc(a,p,I/5280,x._getUIString("ScaleControl.Miles")):dc(a,p,I,x._getUIString("ScaleControl.Feet"))}else u&&u.unit==="nautical"?dc(a,p,A/1852,x._getUIString("ScaleControl.NauticalMiles")):A>=1e3?dc(a,p,A/1e3,x._getUIString("ScaleControl.Kilometers")):dc(a,p,A,x._getUIString("ScaleControl.Meters"))}function dc(x,a,u,p){const g=function(_){const E=Math.pow(10,`${Math.floor(_)}`.length-1);let A=_/E;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:A>=1?1:function(I){const R=Math.pow(10,Math.ceil(-Math.log(I)/Math.LN10));return Math.round(I*R)/R}(A),E*A}(u);x.style.width=a*(g/u)+"px",x.innerHTML=`${g}&nbsp;${p}`}const wa={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},ju=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function _t(x){if(x){if(typeof x=="number"){const a=Math.round(Math.abs(x)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,x),"top-left":new c.P(a,a),"top-right":new c.P(-a,a),bottom:new c.P(0,-x),"bottom-left":new c.P(a,-a),"bottom-right":new c.P(-a,-a),left:new c.P(x,0),right:new c.P(-x,0)}}if(x instanceof c.P||Array.isArray(x)){const a=c.P.convert(x);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:c.P.convert(x.center||[0,0]),top:c.P.convert(x.top||[0,0]),"top-left":c.P.convert(x["top-left"]||[0,0]),"top-right":c.P.convert(x["top-right"]||[0,0]),bottom:c.P.convert(x.bottom||[0,0]),"bottom-left":c.P.convert(x["bottom-left"]||[0,0]),"bottom-right":c.P.convert(x["bottom-right"]||[0,0]),left:c.P.convert(x.left||[0,0]),right:c.P.convert(x.right||[0,0])}}return _t(new c.P(0,0))}const kt=v;d.AJAXError=c.bf,d.Evented=c.E,d.LngLat=c.M,d.MercatorCoordinate=c.Y,d.Point=c.P,d.addProtocol=c.bg,d.config=c.a,d.removeProtocol=c.bh,d.AttributionControl=rg,d.BoxZoomHandler=oc,d.CanvasSource=Fo,d.CooperativeGesturesHandler=Ni,d.DoubleClickZoomHandler=of,d.DragPanHandler=sf,d.DragRotateHandler=Vs,d.EdgeInsets=ic,d.FullscreenControl=class extends c.E{constructor(x={}){super(),this._onFullscreenChange=()=>{var a;let u=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((a=u==null?void 0:u.shadowRoot)===null||a===void 0)&&a.fullscreenElement;)u=u.shadowRoot.fullscreenElement;u===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,x&&x.container&&(x.container instanceof HTMLElement?this._container=x.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){C.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const x=this._fullscreenButton=C.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);C.create("span","maplibregl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.title=x}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},d.GeoJSONSource=Gt,d.GeolocateControl=class extends c.E{constructor(x){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new c.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const u=new c.M(a.coords.longitude,a.coords.latitude),p=a.coords.accuracy,g=this._map.getBearing(),_=c.e({bearing:g},this.options.fitBoundsOptions),E=Yt.fromLngLat(u,p);this._map.fitBounds(E,_,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const u=new c.M(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(u).addTo(this._map),this._userLocationDotMarker.setLngLat(u).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Ks)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",u=>u.preventDefault()),this._geolocateButton=C.create("button","maplibregl-ctrl-geolocate",this._container),C.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const u=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}else{const u=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=u,this._geolocateButton.setAttribute("aria-label",u)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=C.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new vr({element:this._dotElement}),this._circleElement=C.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new vr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",u=>{u.geolocateSource||this._watchState!=="ACTIVE_LOCK"||u.originalEvent&&u.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.k("trackuserlocationend")),this.fire(new c.k("userlocationlostfocus")))})}},this.options=c.e({},Ou,x)}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return c._(this,arguments,void 0,function*(a=!1){if(yo!==void 0&&!a)return yo;if(window.navigator.permissions===void 0)return yo=!!window.navigator.geolocation,yo;try{yo=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{yo=!!window.navigator.geolocation}return yo})}().then(a=>this._setupUI(a)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),C.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Us=0,Ks=!1}_isOutOfMapMaxBounds(x){const a=this._map.getMaxBounds(),u=x.coords;return a&&(u.longitude<a.getWest()||u.longitude>a.getEast()||u.latitude<a.getSouth()||u.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const x=this._map.getBounds(),a=x.getSouthEast(),u=x.getNorthEast(),p=a.distanceTo(u),g=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width=`${g}px`,this._circleElement.style.height=`${g}px`}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Us--,Ks=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.k("trackuserlocationstart")),this.fire(new c.k("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Us++,Us>1?(x={maximumAge:6e5,timeout:0},Ks=!0):(x=this.options.positionOptions,Ks=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,x)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},d.Hash=qh,d.ImageSource=Yi,d.KeyboardHandler=mo,d.LngLatBounds=Yt,d.LogoControl=cf,d.Map=class extends cx{constructor(x){c.bd.mark(c.be.create);const a=Object.assign(Object.assign({},ux),x);if(a.minZoom!=null&&a.maxZoom!=null&&a.minZoom>a.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(a.minPitch!=null&&a.maxPitch!=null&&a.minPitch>a.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(a.minPitch!=null&&a.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(a.maxPitch!=null&&a.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Gh(a.minZoom,a.maxZoom,a.minPitch,a.maxPitch,a.renderWorldCopies),{bearingSnap:a.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new cc,this._controls=[],this._mapId=c.a3(),this._contextLost=u=>{u.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.k("webglcontextlost",{originalEvent:u}))},this._contextRestored=u=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.k("webglcontextrestored",{originalEvent:u}))},this._onMapScroll=u=>{if(u.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=a.interactive,this._maxTileCacheSize=a.maxTileCacheSize,this._maxTileCacheZoomLevels=a.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=a.failIfMajorPerformanceCaveat===!0,this._preserveDrawingBuffer=a.preserveDrawingBuffer===!0,this._antialias=a.antialias===!0,this._trackResize=a.trackResize===!0,this._bearingSnap=a.bearingSnap,this._refreshExpiredTiles=a.refreshExpiredTiles===!0,this._fadeDuration=a.fadeDuration,this._crossSourceCollisions=a.crossSourceCollisions===!0,this._collectResourceTiming=a.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},st),a.locale),this._clickTolerance=a.clickTolerance,this._overridePixelRatio=a.pixelRatio,this._maxCanvasSize=a.maxCanvasSize,this.transformCameraUpdate=a.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=a.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=N.addThrottleControl(()=>this.isMoving()),this._requestManager=new ee(a.transformRequest),typeof a.container=="string"){if(this._container=document.getElementById(a.container),!this._container)throw new Error(`Container '${a.container}' not found.`)}else{if(!(a.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=a.container}if(a.maxBounds&&this.setMaxBounds(a.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)).on("moveend",()=>this._update(!1)).on("zoom",()=>this._update(!0)).on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}).once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let u=!1;const p=Gm(g=>{this._trackResize&&!this._removed&&this.resize(g)._update()},50);this._resizeObserver=new ResizeObserver(g=>{u?p(g):u=!0}),this._resizeObserver.observe(this._container)}this.handlers=new lc(this,a),this._hash=a.hash&&new qh(typeof a.hash=="string"&&a.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:a.center,zoom:a.zoom,bearing:a.bearing,pitch:a.pitch}),a.bounds&&(this.resize(),this.fitBounds(a.bounds,c.e({},a.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=a.localIdeographFontFamily,this._validateStyle=a.validateStyle,a.style&&this.setStyle(a.style,{localIdeographFontFamily:a.localIdeographFontFamily}),a.attributionControl&&this.addControl(new rg(typeof a.attributionControl=="boolean"?void 0:a.attributionControl)),a.maplibreLogo&&this.addControl(new cf,a.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",u=>{this._update(u.dataType==="style"),this.fire(new c.k(`${u.dataType}data`,u))}),this.on("dataloading",u=>{this.fire(new c.k(`${u.dataType}dataloading`,u))}),this.on("dataabort",u=>{this.fire(new c.k("sourcedataabort",u))})}_getMapId(){return this._mapId}addControl(x,a){if(a===void 0&&(a=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new c.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const u=x.onAdd(this);this._controls.push(x);const p=this._controlPositions[a];return a.indexOf("bottom")!==-1?p.insertBefore(u,p.firstChild):p.appendChild(u),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new c.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(x);return a>-1&&this._controls.splice(a,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}calculateCameraOptionsFromTo(x,a,u,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(u,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(x,a,u,p)}resize(x){var a;const u=this._containerDimensions(),p=u[0],g=u[1],_=this._getClampedPixelRatio(p,g);if(this._resizeCanvas(p,g,_),this.painter.resize(p,g,_),this.painter.overLimit()){const A=this.painter.context.gl;this._maxCanvasSize=[A.drawingBufferWidth,A.drawingBufferHeight];const I=this._getClampedPixelRatio(p,g);this._resizeCanvas(p,g,I),this.painter.resize(p,g,I)}this.transform.resize(p,g),(a=this._requestedCameraState)===null||a===void 0||a.resize(p,g);const E=!this._moving;return E&&(this.stop(),this.fire(new c.k("movestart",x)).fire(new c.k("move",x))),this.fire(new c.k("resize",x)),E&&this.fire(new c.k("moveend",x)),this}_getClampedPixelRatio(x,a){const{0:u,1:p}=this._maxCanvasSize,g=this.getPixelRatio(),_=x*g,E=a*g;return Math.min(_>u?u/_:1,E>p?p/E:1)*g}getPixelRatio(){var x;return(x=this._overridePixelRatio)!==null&&x!==void 0?x:devicePixelRatio}setPixelRatio(x){this._overridePixelRatio=x,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(x){return this.transform.setMaxBounds(Yt.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x&&this.setZoom(x),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x&&this.setZoom(x),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x&&this.setPitch(x),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x&&this.setPitch(x),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this._update()}project(x){return this.transform.locationPoint(c.M.convert(x),this.style&&this.terrain)}unproject(x){return this.transform.pointLocation(c.P.convert(x),this.terrain)}isMoving(){var x;return this._moving||((x=this.handlers)===null||x===void 0?void 0:x.isMoving())}isZooming(){var x;return this._zooming||((x=this.handlers)===null||x===void 0?void 0:x.isZooming())}isRotating(){var x;return this._rotating||((x=this.handlers)===null||x===void 0?void 0:x.isRotating())}_createDelegatedListener(x,a,u){if(x==="mouseenter"||x==="mouseover"){let p=!1;return{layer:a,listener:u,delegates:{mousemove:_=>{const E=this.getLayer(a)?this.queryRenderedFeatures(_.point,{layers:[a]}):[];E.length?p||(p=!0,u.call(this,new Mn(x,this,_.originalEvent,{features:E}))):p=!1},mouseout:()=>{p=!1}}}}if(x==="mouseleave"||x==="mouseout"){let p=!1;return{layer:a,listener:u,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?p=!0:p&&(p=!1,u.call(this,new Mn(x,this,E.originalEvent)))},mouseout:E=>{p&&(p=!1,u.call(this,new Mn(x,this,E.originalEvent)))}}}}{const p=g=>{const _=this.getLayer(a)?this.queryRenderedFeatures(g.point,{layers:[a]}):[];_.length&&(g.features=_,u.call(this,g),delete g.features)};return{layer:a,listener:u,delegates:{[x]:p}}}}on(x,a,u){if(u===void 0)return super.on(x,a);const p=this._createDelegatedListener(x,a,u);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(p);for(const g in p.delegates)this.on(g,p.delegates[g]);return this}once(x,a,u){if(u===void 0)return super.once(x,a);const p=this._createDelegatedListener(x,a,u);for(const g in p.delegates)this.once(g,p.delegates[g]);return this}off(x,a,u){return u===void 0?super.off(x,a):(this._delegatedListeners&&this._delegatedListeners[x]&&(p=>{const g=this._delegatedListeners[x];for(let _=0;_<g.length;_++){const E=g[_];if(E.layer===a&&E.listener===u){for(const A in E.delegates)this.off(A,E.delegates[A]);return g.splice(_,1),this}}})(),this)}queryRenderedFeatures(x,a){if(!this.style)return[];let u;const p=x instanceof c.P||Array.isArray(x),g=p?x:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(p?{}:x)||{},g instanceof c.P||typeof g[0]=="number")u=[c.P.convert(g)];else{const _=c.P.convert(g[0]),E=c.P.convert(g[1]);u=[_,new c.P(E.x,_.y),E,new c.P(_.x,E.y),_]}return this.style.queryRenderedFeatures(u,a,this.transform)}querySourceFeatures(x,a){return this.style.querySourceFeatures(x,a)}setStyle(x,a){return(a=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&x?(this._diffStyle(x,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(x,a))}setTransformRequest(x){return this._requestManager.setTransformRequest(x),this}_getUIString(x){const a=this._locale[x];if(a==null)throw new Error(`Missing UI string '${x}'`);return a}_updateStyle(x,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(x,a));const u=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!x)),x?(this.style=new uu(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x,a,u):this.style.loadJSON(x,a,u),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new uu(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,a){if(typeof x=="string"){const u=this._requestManager.transformRequest(x,"Style");c.h(u,new AbortController).then(p=>{this._updateDiff(p.data,a)}).catch(p=>{p&&this.fire(new c.j(p))})}else typeof x=="object"&&this._updateDiff(x,a)}_updateDiff(x,a){try{this.style.setState(x,a)&&this._update(!0)}catch(u){c.w(`Unable to perform style diff: ${u.message||u.error||u}.  Rebuilding the style from scratch.`),this._updateStyle(x,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(x,a){return this._lazyInitEmptyStyle(),this.style.addSource(x,a),this._update(!0)}isSourceLoaded(x){const a=this.style&&this.style.sourceCaches[x];if(a!==void 0)return a.loaded();this.fire(new c.j(new Error(`There is no source with ID '${x}'`)))}setTerrain(x){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),x){const a=this.style.sourceCaches[x.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${x.source}`);this.terrain===null&&a.reload();for(const u in this.style._layers){const p=this.style._layers[u];p.type==="hillshade"&&p.source===x.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ng(this.painter,a,x),this.painter.renderToTexture=new ig(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=u=>{u.dataType==="style"?this.terrain.sourceCache.freeRtt():u.dataType==="source"&&u.tile&&(u.sourceId!==x.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(u.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new c.k("terrain",{terrain:x})),this}getTerrain(){var x,a;return(a=(x=this.terrain)===null||x===void 0?void 0:x.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const x=this.style&&this.style.sourceCaches;for(const a in x){const u=x[a]._tiles;for(const p in u){const g=u[p];if(g.state!=="loaded"&&g.state!=="errored")return!1}}return!0}removeSource(x){return this.style.removeSource(x),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,a,u={}){const{pixelRatio:p=1,sdf:g=!1,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:R}=u;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||c.b(a))){if(a.width===void 0||a.height===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:K,height:U,data:X}=a,te=a;return this.style.addImage(x,{data:new c.R({width:K,height:U},new Uint8Array(X)),pixelRatio:p,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:R,sdf:g,version:0,userImage:te}),te.onAdd&&te.onAdd(this,x),this}}{const{width:K,height:U,data:X}=T.getImageData(a);this.style.addImage(x,{data:new c.R({width:K,height:U},X),pixelRatio:p,stretchX:_,stretchY:E,content:A,textFitWidth:I,textFitHeight:R,sdf:g,version:0})}}updateImage(x,a){const u=this.style.getImage(x);if(!u)return this.fire(new c.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=a instanceof HTMLImageElement||c.b(a)?T.getImageData(a):a,{width:g,height:_,data:E}=p;if(g===void 0||_===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(g!==u.data.width||_!==u.data.height)return this.fire(new c.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const A=!(a instanceof HTMLImageElement||c.b(a));return u.data.replace(E,A),this.style.updateImage(x,u),this}getImage(x){return this.style.getImage(x)}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new c.j(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x){return N.getImage(this._requestManager.transformRequest(x,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(x,a){return this._lazyInitEmptyStyle(),this.style.addLayer(x,a),this._update(!0)}moveLayer(x,a){return this.style.moveLayer(x,a),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(x,a,u){return this.style.setLayerZoomRange(x,a,u),this._update(!0)}setFilter(x,a,u={}){return this.style.setFilter(x,a,u),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,a,u,p={}){return this.style.setPaintProperty(x,a,u,p),this._update(!0)}getPaintProperty(x,a){return this.style.getPaintProperty(x,a)}setLayoutProperty(x,a,u,p={}){return this.style.setLayoutProperty(x,a,u,p),this._update(!0)}getLayoutProperty(x,a){return this.style.getLayoutProperty(x,a)}setGlyphs(x,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(x,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(x,a,u={}){return this._lazyInitEmptyStyle(),this.style.addSprite(x,a,u,p=>{p||this._update(!0)}),this}removeSprite(x){return this._lazyInitEmptyStyle(),this.style.removeSprite(x),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(x,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(x,a,u=>{u||this._update(!0)}),this}setLight(x,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(x,a){return this.style.setFeatureState(x,a),this._update()}removeFeatureState(x,a){return this.style.removeFeatureState(x,a),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let x=0,a=0;return this._container&&(x=this._container.clientWidth||400,a=this._container.clientHeight||300),[x,a]}_setupContainer(){const x=this._container;x.classList.add("maplibregl-map");const a=this._canvasContainer=C.create("div","maplibregl-canvas-container",x);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=C.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const u=this._containerDimensions(),p=this._getClampedPixelRatio(u[0],u[1]);this._resizeCanvas(u[0],u[1],p);const g=this._controlContainer=C.create("div","maplibregl-control-container",x),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{_[E]=C.create("div",`maplibregl-ctrl-${E} `,g)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,a,u){this._canvas.width=Math.floor(u*x),this._canvas.height=Math.floor(u*a),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const x={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{a={requestedAttributes:x},p&&(a.statusMessage=p.statusMessage,a.type=p.type)},{once:!0});const u=this._canvas.getContext("webgl2",x)||this._canvas.getContext("webgl",x);if(!u){const p="Failed to initialize WebGL";throw a?(a.message=p,new Error(JSON.stringify(a))):new Error(p)}this.painter=new tr(u,this.transform),D.testSupport(u)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_render(x){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(x),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const g=this.transform.zoom,_=T.now();this.style.zoomHistory.update(g,_);const E=new c.a8(g,{now:_,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),A=E.crossFadingFactor();A===1&&A===this._crossFadingFactor||(u=!0,this._crossFadingFactor=A),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new c.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.bd.mark(c.be.load),this.fire(new c.k("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,c.bd.mark(c.be.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var x;this._hash&&this._hash.remove();for(const u of this._controls)u.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),N.removeThrottleControl(this._imageQueueHandle),(x=this._resizeObserver)===null||x===void 0||x.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a!=null&&a.loseContext&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),C.remove(this._canvasContainer),C.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),c.bd.clearMetrics(),this._removed=!0,this.fire(new c.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,T.frameAsync(this._frameRequest).then(x=>{c.bd.frame(x),this._frameRequest=null,this._render(x)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get version(){return uf}getCameraTargetElevation(){return this.transform.elevation}},d.MapMouseEvent=Mn,d.MapTouchEvent=Go,d.MapWheelEvent=qm,d.Marker=vr,d.NavigationControl=class{constructor(x){this._updateZoomButtons=()=>{const a=this._map.getZoom(),u=a===this._map.getMaxZoom(),p=a===this._map.getMinZoom();this._zoomInButton.disabled=u,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",u.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,u)=>{const p=this._map._getUIString(`NavigationControl.${u}`);a.title=p,a.setAttribute("aria-label",p)},this.options=c.e({},df,x),this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),C.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),C.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=C.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new og(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){C.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(x,a){const u=C.create("button",x,this._container);return u.type="button",u.addEventListener("click",a),u}},d.Popup=class extends c.E{constructor(x){super(),this.remove=()=>(this._content&&C.remove(this._content),this._container&&(C.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.k("close"))),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{var u;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=C.create("div","maplibregl-popup",this._map.getContainer()),this._tip=C.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const A of this.options.className.split(" "))this._container.classList.add(A);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?sg(this._lngLat,this._flatPos,this._map.transform):(u=this._lngLat)===null||u===void 0?void 0:u.wrap(),this._trackPointer&&!a)return;const p=this._flatPos=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&a?a:this._map.transform.locationPoint(this._lngLat));let g=this.options.anchor;const _=_t(this.options.offset);if(!g){const A=this._container.offsetWidth,I=this._container.offsetHeight;let R;R=p.y+_.bottom.y<I?["top"]:p.y>this._map.transform.height-I?["bottom"]:[],p.x<A/2?R.push("left"):p.x>this._map.transform.width-A/2&&R.push("right"),g=R.length===0?"bottom":R.join("-")}let E=p.add(_[g]);this.options.subpixelPositioning||(E=E.round()),C.setTransform(this._container,`${hf[g]} translate(${E.x}px,${E.y}px)`),vo(this._container,g,"popup")},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(wa),x)}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(x){return this._lngLat=c.M.convert(x),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(document.createTextNode(x))}setHTML(x){const a=document.createDocumentFragment(),u=document.createElement("body");let p;for(u.innerHTML=x;p=u.firstChild,p;)a.appendChild(p);return this.setDOMContent(a)}getMaxWidth(){var x;return(x=this._container)===null||x===void 0?void 0:x.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=C.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(x),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(x){return this._container&&this._container.classList.add(x),this}removeClassName(x){return this._container&&this._container.classList.remove(x),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){if(this._container)return this._container.classList.toggle(x)}setSubpixelPositioning(x){this.options.subpixelPositioning=x}_createCloseButton(){this.options.closeButton&&(this._closeButton=C.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(ju);x&&x.focus()}},d.RasterDEMTileSource=kr,d.RasterTileSource=ni,d.ScaleControl=class{constructor(x){this._onMove=()=>{ff(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,ff(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},lg),x)}getDefaultPosition(){return"bottom-left"}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-scale",x.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){C.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},d.ScrollZoomHandler=af,d.Style=uu,d.TerrainControl=class{constructor(x){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=x}onAdd(x){return this._map=x,this._container=C.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=C.create("button","maplibregl-ctrl-terrain",this._container),C.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){C.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},d.TwoFingersTouchPitchHandler=rf,d.TwoFingersTouchRotateHandler=tf,d.TwoFingersTouchZoomHandler=Bu,d.TwoFingersTouchZoomRotateHandler=lf,d.VectorTileSource=Ve,d.VideoSource=ho,d.addSourceType=(x,a)=>c._(void 0,void 0,void 0,function*(){if(Xi(x))throw new Error(`A source type called "${x}" already exists.`);((u,p)=>{ja[u]=p})(x,a)}),d.clearPrewarmedResources=function(){const x=mt;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(ze),mt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},d.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},d.getRTLTextPluginStatus=function(){return en().getRTLTextPluginStatus()},d.getVersion=function(){return kt},d.getWorkerCount=function(){return Ze.workerCount},d.getWorkerUrl=function(){return c.a.WORKER_URL},d.importScriptInWorkers=function(x){return At().broadcast("IS",x)},d.prewarm=function(){Et().acquire(ze)},d.setMaxParallelImageRequests=function(x){c.a.MAX_PARALLEL_IMAGE_REQUESTS=x},d.setRTLTextPlugin=function(x,a){return en().setRTLTextPlugin(x,a)},d.setWorkerCount=function(x){Ze.workerCount=x},d.setWorkerUrl=function(x){c.a.WORKER_URL=x}});var h=r;return h})})(Cz);var Rw=Cz.exports;const mr=lm(Rw);var oP={exports:{}},Gd=typeof Reflect=="object"?Reflect:null,xI=Gd&&typeof Gd.apply=="function"?Gd.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},Uy;Gd&&typeof Gd.ownKeys=="function"?Uy=Gd.ownKeys:Object.getOwnPropertySymbols?Uy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Uy=function(t){return Object.getOwnPropertyNames(t)};function Fee(e){console&&console.warn&&console.warn(e)}var kz=Number.isNaN||function(t){return t!==t};function Cr(){Cr.init.call(this)}oP.exports=Cr;oP.exports.once=jee;Cr.EventEmitter=Cr;Cr.prototype._events=void 0;Cr.prototype._eventsCount=0;Cr.prototype._maxListeners=void 0;var _I=10;function U0(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Cr,"defaultMaxListeners",{enumerable:!0,get:function(){return _I},set:function(e){if(typeof e!="number"||e<0||kz(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_I=e}});Cr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Cr.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||kz(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Az(e){return e._maxListeners===void 0?Cr.defaultMaxListeners:e._maxListeners}Cr.prototype.getMaxListeners=function(){return Az(this)};Cr.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",h=this._events;if(h!==void 0)s=s&&h.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var c=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw c.context=d,c}var v=h[t];if(v===void 0)return!1;if(typeof v=="function")xI(v,this,r);else for(var w=v.length,S=Rz(v,w),n=0;n<w;++n)xI(S[n],this,r);return!0};function Iz(e,t,r,n){var s,h,d;if(U0(r),h=e._events,h===void 0?(h=e._events=Object.create(null),e._eventsCount=0):(h.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),h=e._events),d=h[t]),d===void 0)d=h[t]=r,++e._eventsCount;else if(typeof d=="function"?d=h[t]=n?[r,d]:[d,r]:n?d.unshift(r):d.push(r),s=Az(e),s>0&&d.length>s&&!d.warned){d.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=d.length,Fee(c)}return e}Cr.prototype.addListener=function(t,r){return Iz(this,t,r,!1)};Cr.prototype.on=Cr.prototype.addListener;Cr.prototype.prependListener=function(t,r){return Iz(this,t,r,!0)};function Bee(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Mz(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=Bee.bind(n);return s.listener=r,n.wrapFn=s,s}Cr.prototype.once=function(t,r){return U0(r),this.on(t,Mz(this,t,r)),this};Cr.prototype.prependOnceListener=function(t,r){return U0(r),this.prependListener(t,Mz(this,t,r)),this};Cr.prototype.removeListener=function(t,r){var n,s,h,d,c;if(U0(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(h=-1,d=n.length-1;d>=0;d--)if(n[d]===r||n[d].listener===r){c=n[d].listener,h=d;break}if(h<0)return this;h===0?n.shift():Nee(n,h),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,c||r)}return this};Cr.prototype.off=Cr.prototype.removeListener;Cr.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var h=Object.keys(n),d;for(s=0;s<h.length;++s)d=h[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function Dz(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?Oee(s):Rz(s,s.length)}Cr.prototype.listeners=function(t){return Dz(this,t,!0)};Cr.prototype.rawListeners=function(t){return Dz(this,t,!1)};Cr.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):$z.call(e,t)};Cr.prototype.listenerCount=$z;function $z(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Cr.prototype.eventNames=function(){return this._eventsCount>0?Uy(this._events):[]};function Rz(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Nee(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Oee(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function jee(e,t){return new Promise(function(r,n){function s(d){e.removeListener(t,h),n(d)}function h(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}Lz(e,t,h,{once:!0}),t!=="error"&&Vee(e,s,{once:!0})})}function Vee(e,t,r){typeof e.on=="function"&&Lz(e,"error",t,r)}function Lz(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(h){n.once&&e.removeEventListener(t,s),r(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Uee=oP.exports;const Kee=lm(Uee);function Hee(){return typeof self<"u"?fetch.bind(self):typeof global<"u"&&global.fetch?global.fetch:null}class Wee{constructor(){this._apiKey="",this._fetch=Hee(),this.tileCacheSize=200}set apiKey(t){this._apiKey=t}get apiKey(){return this._apiKey}set fetch(t){this._fetch=t}get fetch(){return this._fetch}}const qd=new Wee,Gee={AUTO:"auto",ALBANIAN:"sq",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HUNGARIAN:"hu",ICELANDIC:"is",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALTESE:"mt",NORWEGIAN:"no",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(Gee));async function qee(e,t={}){if(qd.fetch===null)throw new Error("The fetch function was not found. If on NodeJS < 18 please specify the fetch function with config.fetch");if(new URL(e).searchParams.get("key").trim()==="")throw new Error("The MapTiler Cloud API key is missing. Set it in `config.apiKey` or get one for free at https://maptiler.com");return qd.fetch(e,t)}const zz={maptilerApiURL:"https://api.maptiler.com/",mapStyle:"streets-v2"};Object.freeze(zz);class Zee extends Error{constructor(t,r=""){super(`Call to enpoint ${t.url} failed with the status code ${t.status}. ${r}`),this.res=t}}const bI={403:"Key is missing, invalid or restricted"};async function Yee(e={}){const t=new URL("geolocation/ip.json",zz.maptilerApiURL);t.searchParams.set("key",e.apiKey??qd.apiKey);const r=t.toString(),n=await qee(r);if(!n.ok)throw new Zee(n,n.status in bI?bI[n.status]:"");return await n.json()}const wI={info:Yee};function Fz(e){const t=/^maptiler:\/\/(.*)/;let r;const n=e.trim();let s;return n.startsWith("http://")||n.startsWith("https://")?s=n:(r=t.exec(n))!==null?s=`https://api.maptiler.com/maps/${r[1]}/style.json`:s=`https://api.maptiler.com/maps/${n}/style.json`,s}class Bz{constructor(t,r,n,s,h,d){this.name=t,this.variantType=r,this.id=n,this.referenceStyle=s,this.description=h,this.imageURL=d}getName(){return this.name}getFullName(){return`${this.referenceStyle.getName()} ${this.name}`}getType(){return this.variantType}getId(){return this.id}getDescription(){return this.description}getReferenceStyle(){return this.referenceStyle}hasVariant(t){return this.referenceStyle.hasVariant(t)}getVariant(t){return this.referenceStyle.getVariant(t)}getVariants(){return this.referenceStyle.getVariants().filter(t=>t!==this)}getImageURL(){return this.imageURL}getExpandedStyleURL(){return Fz(this.getId())}}class Nz{constructor(t,r){this.name=t,this.id=r,this.variants={},this.orderedVariants=[]}getName(){return this.name}getId(){return this.id}addVariant(t){this.variants[t.getType()]=t,this.orderedVariants.push(t)}hasVariant(t){return t in this.variants}getVariant(t){return t in this.variants?this.variants[t]:this.orderedVariants[0]}getVariants(){return Object.values(this.variants)}getDefaultVariant(){return this.orderedVariants[0]}}const Lw=[{referenceStyleID:"STREETS",name:"Streets",description:"",variants:[{id:"streets-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"streets-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"streets-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"streets-v2-night",name:"Night",variantType:"NIGHT",description:"",imageURL:""},{id:"streets-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OUTDOOR",name:"Outdoor",description:"",variants:[{id:"outdoor-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"outdoor-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"WINTER",name:"Winter",description:"",variants:[{id:"winter-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"winter-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""}]},{referenceStyleID:"SATELLITE",name:"Satellite",description:"",variants:[{id:"satellite",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"HYBRID",name:"Hybrid",description:"",variants:[{id:"hybrid",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"BASIC",name:"Basic",description:"",variants:[{id:"basic-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"basic-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"basic-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BRIGHT",name:"Bright",description:"",variants:[{id:"bright-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"bright-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"bright-v2-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""},{id:"bright-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""}]},{referenceStyleID:"OPENSTREETMAP",name:"OpenStreetMap",description:"",variants:[{id:"openstreetmap",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]},{referenceStyleID:"TOPO",name:"Topo",description:"",variants:[{id:"topo-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"topo-v2-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"topo-v2-shiny",name:"Shiny",variantType:"SHINY",description:"",imageURL:""},{id:"topo-v2-pastel",name:"Pastel",variantType:"PASTEL",description:"",imageURL:""},{id:"topo-v2-topographique",name:"Topographique",variantType:"TOPOGRAPHIQUE",description:"",imageURL:""}]},{referenceStyleID:"VOYAGER",name:"Voyager",description:"",variants:[{id:"voyager-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"voyager-v2-darkmatter",name:"Darkmatter",variantType:"DARK",description:"",imageURL:""},{id:"voyager-v2-positron",name:"Positron",variantType:"LIGHT",description:"",imageURL:""},{id:"voyager-v2-vintage",name:"Vintage",variantType:"VINTAGE",description:"",imageURL:""}]},{referenceStyleID:"TONER",name:"Toner",description:"",variants:[{id:"toner-v2",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"toner-v2-background",name:"Background",variantType:"BACKGROUND",description:"",imageURL:""},{id:"toner-v2-lite",name:"Lite",variantType:"LITE",description:"",imageURL:""},{id:"toner-v2-lines",name:"Lines",variantType:"LINES",description:"",imageURL:""}]},{referenceStyleID:"DATAVIZ",name:"Dataviz",description:"",variants:[{id:"dataviz",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"dataviz-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"dataviz-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"BACKDROP",name:"Backdrop",description:"",variants:[{id:"backdrop",name:"Default",variantType:"DEFAULT",description:"",imageURL:""},{id:"backdrop-dark",name:"Dark",variantType:"DARK",description:"",imageURL:""},{id:"backdrop-light",name:"Light",variantType:"LIGHT",description:"",imageURL:""}]},{referenceStyleID:"OCEAN",name:"Ocean",description:"",variants:[{id:"ocean",name:"Default",variantType:"DEFAULT",description:"",imageURL:""}]}];function Xee(e){return new Proxy(e,{get(t,r,n){return t.hasVariant(r)?t.getVariant(r):r.toString().toUpperCase()===r?e.getDefaultVariant():Reflect.get(t,r,n)}})}function Jee(){const e={};for(let t=0;t<Lw.length;t+=1){const r=Lw[t],n=Xee(new Nz(r.name,r.referenceStyleID));for(let s=0;s<r.variants.length;s+=1){const h=r.variants[s],d=new Bz(h.name,h.variantType,h.id,n,h.description,h.imageURL);n.addVariant(d)}e[r.referenceStyleID]=n}return e}const Oz=Jee();let vy;const Qee=new Uint8Array(16);function ete(){if(!vy&&(vy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vy(Qee)}const Xn=[];for(let e=0;e<256;++e)Xn.push((e+256).toString(16).slice(1));function tte(e,t=0){return Xn[e[t+0]]+Xn[e[t+1]]+Xn[e[t+2]]+Xn[e[t+3]]+"-"+Xn[e[t+4]]+Xn[e[t+5]]+"-"+Xn[e[t+6]]+Xn[e[t+7]]+"-"+Xn[e[t+8]]+Xn[e[t+9]]+"-"+Xn[e[t+10]]+Xn[e[t+11]]+Xn[e[t+12]]+Xn[e[t+13]]+Xn[e[t+14]]+Xn[e[t+15]]}const rte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),SI={randomUUID:rte};function nte(e,t,r){if(SI.randomUUID&&!t&&!e)return SI.randomUUID();e=e||{};const n=e.random||(e.rng||ete)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tte(n)}const jz="3.7.7",ite=jz,Th=typeof Buffer=="function",PI=typeof TextDecoder=="function"?new TextDecoder:void 0,TI=typeof TextEncoder=="function"?new TextEncoder:void 0,ate="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",hp=Array.prototype.slice.call(ate),xy=(e=>{let t={};return e.forEach((r,n)=>t[r]=n),t})(hp),ote=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ei=String.fromCharCode.bind(String),CI=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Vz=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),Uz=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),Kz=e=>{let t,r,n,s,h="";const d=e.length%3;for(let c=0;c<e.length;){if((r=e.charCodeAt(c++))>255||(n=e.charCodeAt(c++))>255||(s=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|s,h+=hp[t>>18&63]+hp[t>>12&63]+hp[t>>6&63]+hp[t&63]}return d?h.slice(0,d-3)+"===".substring(d):h},sP=typeof btoa=="function"?e=>btoa(e):Th?e=>Buffer.from(e,"binary").toString("base64"):Kz,zw=Th?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,s=e.length;n<s;n+=4096)r.push(ei.apply(null,e.subarray(n,n+4096)));return sP(r.join(""))},Ky=(e,t=!1)=>t?Vz(zw(e)):zw(e),ste=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?ei(192|t>>>6)+ei(128|t&63):ei(224|t>>>12&15)+ei(128|t>>>6&63)+ei(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return ei(240|t>>>18&7)+ei(128|t>>>12&63)+ei(128|t>>>6&63)+ei(128|t&63)}},lte=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Hz=e=>e.replace(lte,ste),EI=Th?e=>Buffer.from(e,"utf8").toString("base64"):TI?e=>zw(TI.encode(e)):e=>sP(Hz(e)),Zd=(e,t=!1)=>t?Vz(EI(e)):EI(e),kI=e=>Zd(e,!0),cte=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ute=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return ei((r>>>10)+55296)+ei((r&1023)+56320);case 3:return ei((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return ei((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Wz=e=>e.replace(cte,ute),Gz=e=>{if(e=e.replace(/\s+/g,""),!ote.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,r="",n,s;for(let h=0;h<e.length;)t=xy[e.charAt(h++)]<<18|xy[e.charAt(h++)]<<12|(n=xy[e.charAt(h++)])<<6|(s=xy[e.charAt(h++)]),r+=n===64?ei(t>>16&255):s===64?ei(t>>16&255,t>>8&255):ei(t>>16&255,t>>8&255,t&255);return r},lP=typeof atob=="function"?e=>atob(Uz(e)):Th?e=>Buffer.from(e,"base64").toString("binary"):Gz,qz=Th?e=>CI(Buffer.from(e,"base64")):e=>CI(lP(e).split("").map(t=>t.charCodeAt(0))),Zz=e=>qz(Yz(e)),dte=Th?e=>Buffer.from(e,"base64").toString("utf8"):PI?e=>PI.decode(qz(e)):e=>Wz(lP(e)),Yz=e=>Uz(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Fw=e=>dte(Yz(e)),hte=e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},Xz=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),Jz=function(){const e=(t,r)=>Object.defineProperty(String.prototype,t,Xz(r));e("fromBase64",function(){return Fw(this)}),e("toBase64",function(t){return Zd(this,t)}),e("toBase64URI",function(){return Zd(this,!0)}),e("toBase64URL",function(){return Zd(this,!0)}),e("toUint8Array",function(){return Zz(this)})},Qz=function(){const e=(t,r)=>Object.defineProperty(Uint8Array.prototype,t,Xz(r));e("toBase64",function(t){return Ky(this,t)}),e("toBase64URI",function(){return Ky(this,!0)}),e("toBase64URL",function(){return Ky(this,!0)})},fte=()=>{Jz(),Qz()},pte={version:jz,VERSION:ite,atob:lP,atobPolyfill:Gz,btoa:sP,btoaPolyfill:Kz,fromBase64:Fw,toBase64:Zd,encode:Zd,encodeURI:kI,encodeURL:kI,utob:Hz,btou:Wz,decode:Fw,isValid:hte,fromUint8Array:Ky,toUint8Array:Zz,extendString:Jz,extendUint8Array:Qz,extendBuiltins:fte},lr={VISITOR:"visitor",VISITOR_ENGLISH:"visitor_en",STYLE:"style",AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"name:latin",NON_LATIN:"name:nonlatin",LOCAL:"name",INTERNATIONAL:"name_int",ALBANIAN:"name:sq",AMHARIC:"name:am",ARABIC:"name:ar",ARMENIAN:"name:hy",AZERBAIJANI:"name:az",BASQUE:"name:eu",BELORUSSIAN:"name:be",BENGALI:"name:bn",BOSNIAN:"name:bs",BRETON:"name:br",BULGARIAN:"name:bg",CATALAN:"name:ca",CHINESE:"name:zh",TRADITIONAL_CHINESE:"name:zh-Hant",SIMPLIFIED_CHINESE:"name:zh-Hans",CORSICAN:"name:co",CROATIAN:"name:hr",CZECH:"name:cs",DANISH:"name:da",DUTCH:"name:nl",ENGLISH:"name:en",ESPERANTO:"name:eo",ESTONIAN:"name:et",FINNISH:"name:fi",FRENCH:"name:fr",FRISIAN:"name:fy",GEORGIAN:"name:ka",GERMAN:"name:de",GREEK:"name:el",HEBREW:"name:he",HINDI:"name:hi",HUNGARIAN:"name:hu",ICELANDIC:"name:is",INDONESIAN:"name:id",IRISH:"name:ga",ITALIAN:"name:it",JAPANESE:"name:ja",JAPANESE_HIRAGANA:"name:ja-Hira",JAPANESE_KANA:"name:ja_kana",JAPANESE_LATIN:"name:ja_rm",JAPANESE_2018:"name:ja-Latn",KANNADA:"name:kn",KAZAKH:"name:kk",KOREAN:"name:ko",KOREAN_LATIN:"name:ko-Latn",KURDISH:"name:ku",ROMAN_LATIN:"name:la",LATVIAN:"name:lv",LITHUANIAN:"name:lt",LUXEMBOURGISH:"name:lb",MACEDONIAN:"name:mk",MALAYALAM:"name:ml",MALTESE:"name:mt",NORWEGIAN:"name:no",OCCITAN:"name:oc",PERSIAN:"name:fa",POLISH:"name:pl",PORTUGUESE:"name:pt",PUNJABI:"name:pa",WESTERN_PUNJABI:"name:pnb",ROMANIAN:"name:ro",ROMANSH:"name:rm",RUSSIAN:"name:ru",SCOTTISH_GAELIC:"name:gd",SERBIAN_CYRILLIC:"name:sr",SERBIAN_LATIN:"name:sr-Latn",SLOVAK:"name:sk",SLOVENE:"name:sl",SPANISH:"name:es",SWEDISH:"name:sv",TAMIL:"name:ta",TELUGU:"name:te",THAI:"name:th",TURKISH:"name:tr",UKRAINIAN:"name:uk",URDU:"name:ur",VIETNAMIAN_LATIN:"name:vi",WELSH:"name:cy"},mte=new Set(Object.values(lr));function AI(e){return mte.has(e)}const gte=new Set(Object.values(lr));function II(){if(typeof navigator>"u")return`name:${Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0]}`;const e=Array.from(new Set(navigator.languages.map(t=>`name:${t.split("-")[0]}`))).filter(t=>gte.has(t));return e.length?e[0]:lr.LOCAL}const Ki={maptilerLogoURL:"https://api.maptiler.com/resources/logo.svg",maptilerURL:"https://www.maptiler.com/",maptilerApiHost:"api.maptiler.com",rtlPluginURL:"https://cdn.maptiler.com/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.min.js",primaryLanguage:lr.STYLE,secondaryLanguage:lr.LOCAL,terrainSourceURL:"https://api.maptiler.com/tiles/terrain-rgb-v2/tiles.json",terrainSourceId:"maptiler-terrain"};Object.freeze(Ki);const eF=nte();class yte extends Kee{constructor(){super(...arguments),this.primaryLanguage=Ki.primaryLanguage,this.session=!0,this.caching=!0,this._unit="metric",this._apiKey=""}set unit(t){this._unit=t,this.emit("unit",t)}get unit(){return this._unit}set apiKey(t){this._apiKey=t,qd.apiKey=t,this.emit("apiKey",t)}get apiKey(){return this._apiKey}set fetch(t){qd.fetch=t}get fetch(){return qd.fetch}}const Ui=new yte,Bw="localcache_source",Nw="localcache",vte="maptiler_sdk",xte=1e3,_te=100,Ow=typeof caches<"u";function bte(e,t){if(Ow&&Ui.caching&&Ui.session&&e.host===Ki.maptilerApiHost){if(t==="Source"&&e.href.includes("tiles.json"))return e.href.replace("https://",`${Bw}://`);if(t==="Tile"||t==="Glyphs")return e.href.replace("https://",`${Nw}://`)}return e.href}let E_;async function tF(){return E_||(E_=await caches.open(vte)),E_}let MI=0;async function wte(){const e=await tF(),t=await e.keys(),r=t.slice(0,Math.max(t.length-xte,0));for(const n of r)e.delete(n)}function Ste(){Rw.addProtocol(Bw,async(e,t)=>{if(!e.url)throw new Error("");e.url=e.url.replace(`${Bw}://`,"https://");const r=e;r.signal=t.signal;const n=await fetch(e.url,r),s=await n.json();return s.tiles&&s.tiles.length>0&&(s.tiles[0]+=`&last-modified=${n.headers.get("Last-Modified")}`),{data:s,cacheControl:n.headers.get("Cache-Control"),expires:n.headers.get("Expires")}}),Rw.addProtocol(Nw,async(e,t)=>{if(!e.url)throw new Error("");e.url=e.url.replace(`${Nw}://`,"https://");const r=new URL(e.url),n=new URL(r);n.searchParams.delete("mtsid"),n.searchParams.delete("key");const s=n.toString(),h=new URL(r);h.searchParams.delete("last-modified");const d=h.toString(),c=async C=>({data:await C.arrayBuffer(),cacheControl:C.headers.get("Cache-Control"),expires:C.headers.get("Expires")}),v=await tF(),w=await v.match(s);if(w)return c(w);const S=e;S.signal=t.signal;const T=await fetch(d,S);return T.status>=200&&T.status<300&&(v.put(s,T.clone()).catch(()=>{}),++MI>_te&&(wte(),MI=0)),c(T)})}function Pte(){if(typeof window>"u")return;const e=mr.getRTLTextPluginStatus();if(e==="unavailable"||e==="requested")try{mr.setRTLTextPlugin(Ki.rtlPluginURL,!0)}catch{}}function Tte(e,t){for(const r of e)typeof t[r]=="function"&&(t[r]=t[r].bind(t))}function wl(e,t,r){const n=window.document.createElement(e);return t!==void 0&&(n.className=t),r&&r.appendChild(n),n}function rF(e){e.parentNode&&e.parentNode.removeChild(e)}function DI(e,t){let r=null;try{r=new URL(e)}catch{return{url:e}}return r.host===Ki.maptilerApiHost&&(r.searchParams.has("key")||r.searchParams.append("key",Ui.apiKey),Ui.session&&r.searchParams.append("mtsid",eF)),{url:bte(r,t)}}function $I(e){return(t,r)=>{if(e!=null){const n=e(t,r),s=DI((n==null?void 0:n.url)??"",r);return{...n,...s}}return DI(t,r)}}function Cte(){return document.createElement("canvas").getContext("webgl2")?null:typeof WebGL2RenderingContext<"u"?"Graphic rendering with WebGL2 has been disabled or is not supported by your graphic card. The map cannot be displayed.":"Your browser does not support graphic rendering with WebGL2. The map cannot be displayed."}function Ete(e){const t=Cte();if(!t)return;let r=null;if(typeof e=="string"?r=document.getElementById(e):e instanceof HTMLElement&&(r=e),!r)throw new Error("The Map container must be provided.");const n=document.createElement("div");throw n.innerHTML=t,n.classList.add("no-webgl-support-div"),r.appendChild(n),new Error(t)}let kte=class extends mr.Marker{addTo(t){return super.addTo(t)}};class Ate extends mr.Popup{addTo(t){return super.addTo(t)}}class kre extends mr.Style{constructor(t,r={}){super(t,r)}}class Are extends mr.CanvasSource{onAdd(t){super.onAdd(t)}}class Ire extends mr.GeoJSONSource{onAdd(t){super.onAdd(t)}}class Mre extends mr.ImageSource{onAdd(t){super.onAdd(t)}}class Dre extends mr.RasterTileSource{onAdd(t){super.onAdd(t)}}class $re extends mr.RasterDEMTileSource{onAdd(t){super.onAdd(t)}}class Rre extends mr.VectorTileSource{onAdd(t){super.onAdd(t)}}class Lre extends mr.VideoSource{onAdd(t){super.onAdd(t)}}class Ite extends mr.NavigationControl{onAdd(t){return super.onAdd(t)}}class Mte extends mr.GeolocateControl{onAdd(t){return super.onAdd(t)}}class zre extends mr.AttributionControl{onAdd(t){return super.onAdd(t)}}class Dte extends mr.LogoControl{onAdd(t){return super.onAdd(t)}}class $te extends mr.ScaleControl{onAdd(t){return super.onAdd(t)}}class Rte extends mr.FullscreenControl{onAdd(t){return super.onAdd(t)}}class Fre extends mr.TerrainControl{onAdd(t){return super.onAdd(t)}}class Bre extends mr.BoxZoomHandler{constructor(t,r){super(t,r)}}class Nre extends mr.ScrollZoomHandler{constructor(t,r){super(t,r)}}class Ore extends mr.CooperativeGesturesHandler{constructor(t,r){super(t,r)}}class jre extends mr.KeyboardHandler{constructor(t){super(t)}}class Vre extends mr.TwoFingersTouchPitchHandler{constructor(t){super(t)}}class Ure extends mr.MapWheelEvent{constructor(t,r,n){super(t,r,n)}}class Kre extends mr.MapTouchEvent{constructor(t,r,n){super(t,r,n)}}class Hre extends mr.MapMouseEvent{constructor(t,r,n,s={}){super(t,r,n,s)}}class RI extends Dte{constructor(t={}){super(t),this.logoURL="",this.linkURL="",this.logoURL=t.logoURL??Ki.maptilerLogoURL,this.linkURL=t.linkURL??Ki.maptilerURL}onAdd(t){this._map=t,this._compact=this.options.compact??!1,this._container=window.document.createElement("div"),this._container.className="maplibregl-ctrl";const r=window.document.createElement("a");return r.style.backgroundRepeat="no-repeat",r.style.cursor="pointer",r.style.display="block",r.style.height="23px",r.style.margin="0 0 -4px -4px",r.style.overflow="hidden",r.style.width="88px",r.style.backgroundImage=`url(${this.logoURL})`,r.style.backgroundSize="100px 30px",r.style.width="100px",r.style.height="30px",r.target="_blank",r.rel="noopener",r.href=this.linkURL,r.setAttribute("aria-label","MapTiler logo"),r.setAttribute("rel","noopener"),this._container.appendChild(r),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}}function LI(e){return e?typeof e=="string"||e instanceof String?!e.startsWith("http")&&e.toLowerCase().includes(".json")?e:Fz(e):e instanceof Bz?e.getExpandedStyleURL():e instanceof Nz?e.getDefaultVariant().getExpandedStyleURL():e:Oz[Lw[0].referenceStyleID].getDefaultVariant().getExpandedStyleURL()}class Lte{constructor(){Tte(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(t){return this._map=t,this._container=wl("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=wl("button","maplibregl-ctrl-terrain",this._container),wl("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){rF(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.hasTerrain()?this._map.disableTerrain():this._map.enableTerrain(),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.hasTerrain()?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))}}class zte extends Ite{constructor(){super({showCompass:!0,showZoom:!0,visualizePitch:!0}),this._rotateCompassArrow=()=>{const t=this.options.visualizePitch?`scale(${Math.min(1.5,1/Math.cos(this._map.transform.pitch*(Math.PI/180))**.5)}) rotateX(${Math.min(70,this._map.transform.pitch)}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=t},this._compass.removeEventListener("click",this._compass.clickFunction),this._compass.addEventListener("click",t=>{this._map.getPitch()===0?this._map.easeTo({pitch:Math.min(this._map.getMaxPitch(),80)}):this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:t}):this._map.resetNorth({},{originalEvent:t})})}_createButton(t,r){const n=super._createButton(t,r);return n.clickFunction=r,n}}const zI=mr.Marker,FI=mr.LngLat,Fte=mr.LngLatBounds;class Bte extends Mte{constructor(){super(...arguments),this.lastUpdatedCenter=new FI(0,0),this._updateCamera=t=>{var w,S;const r=new FI(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,h={bearing:this._map.getBearing(),...this.options.fitBoundsOptions,linear:!0},d=this._map.getZoom();d>(((S=(w=this.options)==null?void 0:w.fitBoundsOptions)==null?void 0:S.maxZoom)??30)&&(h.zoom=d),this._map.fitBounds(Fte.fromLngLat(r,n),h,{geolocateSource:!0});let c=!1;const v=()=>{c=!0};this._map.once("click",v),this._map.once("dblclick",v),this._map.once("dragstart",v),this._map.once("mousedown",v),this._map.once("touchstart",v),this._map.once("wheel",v),this._map.once("moveend",()=>{this._map.off("click",v),this._map.off("dblclick",v),this._map.off("dragstart",v),this._map.off("mousedown",v),this._map.off("touchstart",v),this._map.off("wheel",v),!c&&(this.lastUpdatedCenter=this._map.getCenter())})},this._setupUI=t=>{if(this.lastUpdatedCenter=this._map.getCenter(),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=wl("button","maplibregl-ctrl-geolocate",this._container),wl("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",t===!1){const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=wl("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new zI({element:this._dotElement}),this._circleElement=wl("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new zI({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("move",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("moveend",r=>{const n=r.originalEvent&&r.originalEvent.type==="resize",s=this.lastUpdatedCenter.distanceTo(this._map.getCenter());!r.geolocateSource&&this._watchState==="ACTIVE_LOCK"&&!n&&s>1&&(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new Event("trackuserlocationend")))})},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}}_updateCircleRadius(){if(this._watchState!=="BACKGROUND"&&this._watchState!=="ACTIVE_LOCK")return;const t=[this._lastKnownPosition.coords.longitude,this._lastKnownPosition.coords.latitude],r=this._map.project(t),n=this._map.unproject([r.x,r.y]),s=this._map.unproject([r.x+20,r.y]),h=n.distanceTo(s)/20,d=Math.ceil(2*this._accuracy/h);this._circleElement.style.width=`${d}px`,this._circleElement.style.height=`${d}px`}}var nF=e=>{throw TypeError(e)},cP=(e,t,r)=>t.has(e)||nF("Cannot "+r),ir=(e,t,r)=>(cP(e,t,"read from private field"),r?r.call(e):t.get(e)),ol=(e,t,r)=>t.has(e)?nF("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pd=(e,t,r,n)=>(cP(e,t,"write to private field"),t.set(e,r),r),la=(e,t,r)=>(cP(e,t,"access private method"),r),ca,Mo,kc,iF,Hc,ka,Hy,Mi,aF,Ia,oF;class k_{constructor(t,r){ol(this,Mi),ol(this,ca),ol(this,Mo),ol(this,kc),ol(this,iF),ol(this,Hc),ol(this,ka,!1),ol(this,Hy),t.style!==void 0&&pd(this,ka,!0),pd(this,ca,{zoomAdjust:-4,position:"top-right",...r,forceNoAttributionControl:!0,attributionControl:!1,navigationControl:!1,geolocateControl:!1,maptilerLogo:!1,minimap:!1,hash:!1,pitchAdjust:!1,...t,containerStyle:{border:"1px solid #000",width:"400px",height:"300px",...t.containerStyle??{}}}),t.lockZoom!==void 0&&(ir(this,ca).minZoom=t.lockZoom,ir(this,ca).maxZoom=t.lockZoom)}setStyle(t,r){ir(this,ka)||this.map.setStyle(t,r),la(this,Mi,Ia).call(this)}addLayer(t,r){return ir(this,ka)||this.map.addLayer(t,r),la(this,Mi,Ia).call(this),this.map}moveLayer(t,r){return ir(this,ka)||this.map.moveLayer(t,r),la(this,Mi,Ia).call(this),this.map}removeLayer(t){return ir(this,ka)||this.map.removeLayer(t),la(this,Mi,Ia).call(this),this}setLayerZoomRange(t,r,n){return ir(this,ka)||this.map.setLayerZoomRange(t,r,n),la(this,Mi,Ia).call(this),this}setFilter(t,r,n){return ir(this,ka)||this.map.setFilter(t,r,n),la(this,Mi,Ia).call(this),this}setPaintProperty(t,r,n,s){return ir(this,ka)||this.map.setPaintProperty(t,r,n,s),la(this,Mi,Ia).call(this),this}setLayoutProperty(t,r,n,s){return ir(this,ka)||this.map.setLayoutProperty(t,r,n,s),la(this,Mi,Ia).call(this),this}setGlyphs(t,r){return ir(this,ka)||this.map.setGlyphs(t,r),la(this,Mi,Ia).call(this),this}onAdd(t){pd(this,Mo,t),pd(this,kc,wl("div","maplibregl-ctrl maplibregl-ctrl-group"));for(const[r,n]of Object.entries(ir(this,ca).containerStyle))ir(this,kc).style.setProperty(r,n);return ir(this,ca).container=ir(this,kc),ir(this,ca).zoom=t.getZoom()+ir(this,ca).zoomAdjust,this.map=new sF(ir(this,ca)),this.map.once("style.load",()=>{this.map.resize()}),this.map.once("load",()=>{la(this,Mi,aF).call(this,ir(this,ca).parentRect),pd(this,Hy,la(this,Mi,oF).call(this))}),ir(this,kc)}onRemove(){var t;(t=ir(this,Hy))==null||t.call(this),rF(ir(this,kc))}}ca=new WeakMap;Mo=new WeakMap;kc=new WeakMap;iF=new WeakMap;Hc=new WeakMap;ka=new WeakMap;Hy=new WeakMap;Mi=new WeakSet;aF=function(e){e===void 0||e.linePaint===void 0&&e.fillPaint===void 0||(pd(this,Hc,{type:"Feature",properties:{name:"parentRect"},geometry:{type:"Polygon",coordinates:[[[],[],[],[],[]]]}}),this.map.addSource("parentRect",{type:"geojson",data:ir(this,Hc)}),(e.lineLayout!==void 0||e.linePaint!==void 0)&&this.map.addLayer({id:"parentRectOutline",type:"line",source:"parentRect",layout:{...e.lineLayout},paint:{"line-color":"#FFF","line-width":1,"line-opacity":.85,...e.linePaint}}),e.fillPaint!==void 0&&this.map.addLayer({id:"parentRectFill",type:"fill",source:"parentRect",layout:{},paint:{"fill-color":"#08F","fill-opacity":.135,...e.fillPaint}}),la(this,Mi,Ia).call(this))};Ia=function(){if(ir(this,Hc)===void 0)return;const{devicePixelRatio:e}=window,t=ir(this,Mo).getCanvas(),r=t.width/e,n=t.height/e,s=ir(this,Mo).unproject.bind(ir(this,Mo)),h=s([0,0]),d=s([r,0]),c=s([0,n]),v=s([r,n]);ir(this,Hc).geometry.coordinates=[[c.toArray(),v.toArray(),d.toArray(),h.toArray(),c.toArray()]],this.map.getSource("parentRect").setData(ir(this,Hc))};oF=function(){const{pitchAdjust:e}=ir(this,ca),t=()=>{h("parent")},r=()=>{h("minimap")},n=()=>{ir(this,Mo).on("move",t),this.map.on("move",r)},s=()=>{ir(this,Mo).off("move",t),this.map.off("move",r)},h=d=>{s();const c=d==="parent"?ir(this,Mo):this.map,v=d==="parent"?this.map:ir(this,Mo),w=c.getCenter(),S=c.getZoom()+(ir(this,ca).zoomAdjust??-4)*(d==="parent"?1:-1),T=c.getBearing(),C=c.getPitch();v.jumpTo({center:w,zoom:S,bearing:T,pitch:e?C:0}),la(this,Mi,Ia).call(this),n()};return n(),()=>{s()}};const Nte={POINT:"POINT",COUNTRY:"COUNTRY"};let sF=class extends mr.Map{constructor(t){Ete(t.container),t.apiKey&&(Ui.apiKey=t.apiKey);const r=LI(t.style),n=location.hash;Ui.apiKey||console.warn("MapTiler Cloud API key is not set. Visit https://maptiler.com and try Cloud for free!");let s={compact:!1};t.customAttribution?s.customAttribution=t.customAttribution:t.attributionControl&&typeof t.attributionControl=="object"&&(s={...s,...t.attributionControl}),super({...t,style:r,maplibreLogo:!1,transformRequest:$I(t.transformRequest),attributionControl:t.forceNoAttributionControl===!0?!1:s}),this.isTerrainEnabled=!1,this.terrainExaggeration=1,this.terrainGrowing=!1,this.terrainFlattening=!1,this.isReady=!1,Ui.caching&&!Ow&&console.warn("The cache API is only available in secure contexts. More info at https://developer.mozilla.org/en-US/docs/Web/API/Cache"),Ui.caching&&Ow&&Ste(),this.primaryLanguage=t.language??Ui.primaryLanguage,this.forceLanguageUpdate=!(this.primaryLanguage===lr.STYLE||this.primaryLanguage===lr.STYLE_LOCK),this.languageAlwaysBeenStyle=this.primaryLanguage===lr.STYLE,this.terrainExaggeration=t.terrainExaggeration??this.terrainExaggeration,this.once("styledata",async()=>{if(!t.geolocate||t.center||t.hash&&n)return;try{if(t.geolocate===Nte.COUNTRY){await this.fitToIpBounds();return}}catch(T){console.warn(T.message)}let w;try{await this.centerOnIpPoint(t.zoom),w=this.getCameraHash()}catch(T){console.warn(T.message)}(await navigator.permissions.query({name:"geolocation"})).state==="granted"&&navigator.geolocation.getCurrentPosition(T=>{w===this.getCameraHash()&&(this.terrain?this.easeTo({center:[T.coords.longitude,T.coords.latitude],zoom:t.zoom||12,duration:2e3}):this.once("terrain",()=>{this.easeTo({center:[T.coords.longitude,T.coords.latitude],zoom:t.zoom||12,duration:2e3})}))},null,{maximumAge:24*3600*1e3,timeout:5e3,enableHighAccuracy:!1})}),this.on("styledata",()=>{this.setPrimaryLanguage(this.primaryLanguage)}),this.on("styledata",()=>{this.getTerrain()===null&&this.isTerrainEnabled&&this.enableTerrain(this.terrainExaggeration)}),this.once("load",async()=>{let w={logo:null};try{const S=Object.keys(this.style.sourceCaches).map(D=>this.getSource(D)).filter(D=>D&&"url"in D&&typeof D.url=="string"&&(D==null?void 0:D.url.includes("tiles.json"))),T=new URL(S[0].url);T.searchParams.has("key")||T.searchParams.append("key",Ui.apiKey),w=await(await fetch(T.href)).json()}catch{}if(t.forceNoAttributionControl!==!0)if("logo"in w&&w.logo){const S=w.logo;this.addControl(new RI({logoURL:S}),t.logoPosition)}else t.maptilerLogo&&this.addControl(new RI,t.logoPosition);if(t.scaleControl){const S=t.scaleControl===!0||t.scaleControl===void 0?"bottom-right":t.scaleControl,T=new $te({unit:Ui.unit});this.addControl(T,S),Ui.on("unit",C=>{T.setUnit(C)})}if(t.navigationControl!==!1){const S=t.navigationControl===!0||t.navigationControl===void 0?"top-right":t.navigationControl;this.addControl(new zte,S)}if(t.geolocateControl!==!1){const S=t.geolocateControl===!0||t.geolocateControl===void 0?"top-right":t.geolocateControl;this.addControl(new Bte({positionOptions:{enableHighAccuracy:!0,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!0,showAccuracyCircle:!0,showUserLocation:!0}),S)}if(t.terrainControl){const S=t.terrainControl===!0||t.terrainControl===void 0?"top-right":t.terrainControl;this.addControl(new Lte,S)}if(t.fullscreenControl){const S=t.fullscreenControl===!0||t.fullscreenControl===void 0?"top-right":t.fullscreenControl;this.addControl(new Rte({}),S)}this.isReady=!0,this.fire("ready",{target:this})});let h=!1,d=!1,c;this.once("ready",()=>{h=!0,d&&this.fire("loadWithTerrain",c)}),this.once("style.load",()=>{const{minimap:w}=t;if(typeof w=="object"){const{zoom:S,center:T,style:C,language:D,apiKey:B,maptilerLogo:j,antialias:Y,refreshExpiredTiles:V,maxBounds:F,scrollZoom:N,minZoom:ee,maxZoom:ie,boxZoom:fe,locale:be,fadeDuration:q,crossSourceCollisions:pe,clickTolerance:xe,bounds:le,fitBoundsOptions:Se,pixelRatio:ge,validateStyle:ye}=t;this.minimap=new k_(w,{zoom:S,center:T,style:C,language:D,apiKey:B,container:"null",maptilerLogo:j,antialias:Y,refreshExpiredTiles:V,maxBounds:F,scrollZoom:N,minZoom:ee,maxZoom:ie,boxZoom:fe,locale:be,fadeDuration:q,crossSourceCollisions:pe,clickTolerance:xe,bounds:le,fitBoundsOptions:Se,pixelRatio:ge,validateStyle:ye}),this.addControl(this.minimap,w.position??"bottom-left")}else w===!0?(this.minimap=new k_({},t),this.addControl(this.minimap,"bottom-left")):w!==void 0&&w!==!1&&(this.minimap=new k_({},t),this.addControl(this.minimap,w))});const v=w=>{w.terrain&&(d=!0,c={type:"loadWithTerrain",target:this,terrain:w.terrain},this.off("terrain",v),h&&this.fire("loadWithTerrain",c))};this.on("terrain",v),t.terrain&&this.enableTerrain(t.terrainExaggeration??this.terrainExaggeration)}async onLoadAsync(){return new Promise(t=>{if(this.loaded())return t(this);this.once("load",()=>{t(this)})})}async onReadyAsync(){return new Promise(t=>{if(this.isReady)return t(this);this.once("ready",()=>{t(this)})})}async onLoadWithTerrainAsync(){return new Promise(t=>{if(this.isReady&&this.terrain)return t(this);this.once("loadWithTerrain",()=>{t(this)})})}setStyle(t,r){var n;return(n=this.minimap)==null||n.setStyle(t),this.forceLanguageUpdate=!0,this.once("idle",()=>{this.forceLanguageUpdate=!1}),super.setStyle(LI(t),r)}addLayer(t,r){var n;return(n=this.minimap)==null||n.addLayer(t,r),super.addLayer(t,r)}moveLayer(t,r){var n;return(n=this.minimap)==null||n.moveLayer(t,r),super.moveLayer(t,r)}removeLayer(t){var r;return(r=this.minimap)==null||r.removeLayer(t),super.removeLayer(t)}setLayerZoomRange(t,r,n){var s;return(s=this.minimap)==null||s.setLayerZoomRange(t,r,n),super.setLayerZoomRange(t,r,n)}setFilter(t,r,n){var s;return(s=this.minimap)==null||s.setFilter(t,r,n),super.setFilter(t,r,n)}setPaintProperty(t,r,n,s){var h;return(h=this.minimap)==null||h.setPaintProperty(t,r,n,s),super.setPaintProperty(t,r,n,s)}setLayoutProperty(t,r,n,s){var h;return(h=this.minimap)==null||h.setLayoutProperty(t,r,n,s),super.setLayoutProperty(t,r,n,s)}setGlyphs(t,r){var n;return(n=this.minimap)==null||n.setGlyphs(t,r),super.setGlyphs(t,r)}getStyleLanguage(){return!this.style.stylesheet.metadata||typeof this.style.stylesheet.metadata!="object"?null:"maptiler:language"in this.style.stylesheet.metadata&&typeof this.style.stylesheet.metadata["maptiler:language"]=="string"?this.style.stylesheet.metadata["maptiler:language"]:null}setLanguage(t){var r,n;(n=(r=this.minimap)==null?void 0:r.map)==null||n.setLanguage(t),this.onStyleReady(()=>{this.setPrimaryLanguage(t)})}setPrimaryLanguage(t){const r=this.getStyleLanguage();if(!(t===lr.STYLE&&(r===lr.AUTO||r===lr.VISITOR))&&(t!==lr.STYLE&&(this.languageAlwaysBeenStyle=!1),this.languageAlwaysBeenStyle||this.primaryLanguage===t&&!this.forceLanguageUpdate))return;if(!AI(t)){console.warn(`The language "${t}" is not supported.`);return}if(this.primaryLanguage===lr.STYLE_LOCK){console.warn("The language cannot be changed because this map has been instantiated with the STYLE_LOCK language flag.");return}this.primaryLanguage=t;let n=t;if(t===lr.STYLE){if(!r){console.warn("The style has no default languages.");return}if(!AI(r)){console.warn("The language defined in the style is not valid.");return}n=r}let s=lr.LOCAL,h=`{${s}}`;n===lr.VISITOR?(s=II(),h=["case",["all",["has",s],["has",lr.LOCAL]],["case",["==",["get",s],["get",lr.LOCAL]],["get",lr.LOCAL],["format",["get",s],{"font-scale":.8},`
`,["get",lr.LOCAL],{"font-scale":1.1}]],["get",lr.LOCAL]]):n===lr.VISITOR_ENGLISH?(s=lr.ENGLISH,h=["case",["all",["has",s],["has",lr.LOCAL]],["case",["==",["get",s],["get",lr.LOCAL]],["get",lr.LOCAL],["format",["get",s],{"font-scale":.8},`
`,["get",lr.LOCAL],{"font-scale":1.1}]],["get",lr.LOCAL]]):n===lr.AUTO?(s=II(),h=["case",["has",s],["get",s],["get",lr.LOCAL]]):n===lr.LOCAL?(s=lr.LOCAL,h=`{${s}}`):(s=n,h=["case",["has",s],["get",s],["get",lr.LOCAL]]);const{layers:d}=this.getStyle();for(const c of d){if(c.type!=="symbol")continue;const v=c,w=this.getSource(v.source);if(!w||!("url"in w&&typeof w.url=="string")||new URL(w.url).host!==Ki.maptilerApiHost)continue;const{id:T,layout:C}=v;if(!C||!("text-field"in C))continue;const D=this.getLayoutProperty(T,"text-field");typeof D=="string"&&(D.toLowerCase().includes("ref")||D.toLowerCase().includes("housenumber"))||this.setLayoutProperty(T,"text-field",h)}}getPrimaryLanguage(){return this.primaryLanguage}getTerrainExaggeration(){return this.terrainExaggeration}hasTerrain(){return this.isTerrainEnabled}growTerrain(t,r=1e3){if(!this.terrain)return;const n=performance.now(),s=this.terrain.exaggeration,h=t-s,d=()=>{if(!this.terrain||this.terrainFlattening)return;const c=(performance.now()-n)/r;if(c<.99){const v=1-(1-c)**4,w=s+v*h;this.terrain.exaggeration=w,requestAnimationFrame(d)}else this.terrainGrowing=!1,this.terrainFlattening=!1,this.terrain.exaggeration=t;this.triggerRepaint()};this.terrainGrowing=!0,this.terrainFlattening=!1,requestAnimationFrame(d)}enableTerrain(t=this.terrainExaggeration){if(t<0){console.warn("Terrain exaggeration cannot be negative.");return}const r=async s=>{!this.terrain||s.type!=="data"||s.dataType!=="source"||!("source"in s)||s.sourceId!=="maptiler-terrain"||s.source.type!=="raster-dem"||s.isSourceLoaded&&(this.off("data",r),this.growTerrain(t))},n=()=>{this.isTerrainEnabled=!0,this.terrainExaggeration=t,this.on("data",r),this.addSource(Ki.terrainSourceId,{type:"raster-dem",url:Ki.terrainSourceURL}),this.setTerrain({source:Ki.terrainSourceId,exaggeration:0})};if(this.getTerrain()){this.isTerrainEnabled=!0,this.growTerrain(t);return}this.loaded()||this.isTerrainEnabled?n():this.once("load",()=>{this.getTerrain()&&this.getSource(Ki.terrainSourceId)||n()})}disableTerrain(){if(!this.terrain)return;this.isTerrainEnabled=!1;const t=1*1e3,r=performance.now(),n=this.terrain.exaggeration,s=()=>{if(!this.terrain||this.terrainGrowing)return;const h=(performance.now()-r)/t;if(h<.99){const d=(1-h)**4,c=n*d;this.terrain.exaggeration=c,requestAnimationFrame(s)}else this.terrain.exaggeration=0,this.terrainGrowing=!1,this.terrainFlattening=!1,this.setTerrain(),this.getSource(Ki.terrainSourceId)&&this.removeSource(Ki.terrainSourceId);this.triggerRepaint()};this.terrainGrowing=!1,this.terrainFlattening=!0,requestAnimationFrame(s)}setTerrainExaggeration(t,r=!0){!r&&this.terrain?(this.terrainExaggeration=t,this.terrain.exaggeration=t,this.triggerRepaint()):this.enableTerrain(t)}onStyleReady(t){this.isStyleLoaded()?t():this.once("styledata",()=>{t()})}async fitToIpBounds(){const t=await wI.info();this.fitBounds(t.country_bounds,{duration:0,padding:100})}async centerOnIpPoint(t){const r=await wI.info();this.jumpTo({center:[(r==null?void 0:r.longitude)??0,(r==null?void 0:r.latitude)??0],zoom:t||11})}getCameraHash(){const t=new Float32Array(5),r=this.getCenter();return t[0]=r.lng,t[1]=r.lat,t[2]=this.getZoom(),t[3]=this.getPitch(),t[4]=this.getBearing(),pte.fromUint8Array(new Uint8Array(t.buffer))}getSdkConfig(){return Ui}getMaptilerSessionId(){return eF}setTransformRequest(t){return super.setTransformRequest($I(t)),this}};function _y(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ote(e){return`#${_y(e[0])}${_y(e[1])}${_y(e[2])}${e.length===4?_y(e[3]):""}`}class Mt extends Array{constructor(t={}){super(),this.min=0,this.max=1,"min"in t&&(this.min=t.min),"max"in t&&(this.max=t.max),"stops"in t&&this.setStops(t.stops,{clone:!1})}static fromArrayDefinition(t){return new Mt({stops:t.map(r=>({value:r[0],color:r[1]}))})}setStops(t,r={clone:!0}){const n=r.clone?this.clone():this;n.length=0;let s=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(let d=0;d<t.length;d+=1)s=Math.min(s,t[d].value),h=Math.max(h,t[d].value),n.push({value:t[d].value,color:t[d].color.slice()});return n.sort((d,c)=>d.value<c.value?-1:1),this.min=s,this.max=h,n}scale(t,r,n={clone:!0}){const s=n.clone,h=this[0].value,c=this.at(-1).value-h,v=r-t,w=[];for(let S=0;S<this.length;S+=1){const D=(this[S].value-h)/c*v+t;s?w.push({value:D,color:this[S].color.slice()}):this[S].value=D}return s?new Mt({stops:w}):this}at(t){return t<0?this[this.length+t]:this[t]}clone(){return new Mt({stops:this.getRawColorStops()})}getRawColorStops(){const t=[];for(let r=0;r<this.length;r+=1)t.push({value:this[r].value,color:this[r].color});return t}reverse(t={clone:!0}){const r=t.clone?this.clone():this;for(let n=0;n<~~(r.length/2);n+=1){const s=r[n].color;r[n].color=r.at(-(n+1)).color,r.at(-(n+1)).color=s}return r}getBounds(){return{min:this.min,max:this.max}}getColor(t,r={smooth:!0}){if(t<=this[0].value)return this[0].color;if(t>=this.at(-1).value)return this.at(-1).color;for(let n=0;n<this.length-1;n+=1){if(t>this[n+1].value)continue;const s=this[n].color;if(!r.smooth)return s.slice();const h=this[n].value,d=this[n+1].value,c=this[n+1].color,v=(d-t)/(d-h);return s.map((w,S)=>Math.round(w*v+c[S]*(1-v)))}return[0,0,0]}getColorHex(t,r={smooth:!0,withAlpha:!1}){return Ote(this.getColor(t,r))}getColorRelative(t,r={smooth:!0}){const n=this.getBounds();return this.getColor(n.min+t*(n.max-n.min),r)}getCanvasStrip(t={horizontal:!0,size:512,smooth:!0}){const r=document.createElement("canvas");r.width=t.horizontal?t.size:1,r.height=t.horizontal?1:t.size;const n=r.getContext("2d");if(!n)throw new Error("Canvs context is missing");const s=n.getImageData(0,0,r.width,r.height),h=s.data,d=t.size,c=this[0].value,S=(this.at(-1).value-c)/d;for(let T=0;T<d;T+=1){const C=this.getColor(c+T*S,{smooth:t.smooth});h[T*4]=C[0],h[T*4+1]=C[1],h[T*4+2]=C[2],h[T*4+3]=C.length>3?C[3]:255}return n.putImageData(s,0,0),r}resample(t,r=15){const n=this.getBounds(),s=this.scale(0,1),h=1/(r-1);let d;if(t==="ease-in-square")d=Array.from({length:r},(w,S)=>{const T=S*h,C=T**2,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-square")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-(1-T)**2,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-sqrt")d=Array.from({length:r},(w,S)=>{const T=S*h,C=T**.5,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-in-sqrt")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-(1-T)**.5,D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-out-exp")d=Array.from({length:r},(w,S)=>{const T=S*h,C=1-2**(-10*T),D=s.getColor(C);return{value:T,color:D}});else if(t==="ease-in-exp")d=Array.from({length:r},(w,S)=>{const T=S*h,C=2**(10*T-10),D=s.getColor(C);return{value:T,color:D}});else throw new Error("Invalid ressampling method.");return new Mt({stops:d}).scale(n.min,n.max)}transparentStart(){const t=this.getRawColorStops();t.unshift({value:t[0].value,color:t[0].color.slice()}),t[1].value+=.001;for(const r of t)r.color.length===3&&r.color.push(255);return t[0].color[3]=0,new Mt({stops:t})}hasTransparentStart(){return this[0].color.length===4&&this[0].color[3]===0}}new Mt({stops:[{value:0,color:[0,0,0,0]},{value:1,color:[0,0,0,0]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,131]},{value:.125,color:[0,60,170]},{value:.375,color:[5,255,255]},{value:.625,color:[255,255,0]},{value:.875,color:[250,0,0]},{value:1,color:[128,0,0]}]}),new Mt({stops:[{value:0,color:[255,0,0]},{value:.169,color:[253,255,2]},{value:.173,color:[247,255,2]},{value:.337,color:[0,252,4]},{value:.341,color:[0,252,10]},{value:.506,color:[1,249,255]},{value:.671,color:[2,0,253]},{value:.675,color:[8,0,253]},{value:.839,color:[255,0,251]},{value:.843,color:[255,0,245]},{value:1,color:[255,0,6]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.3,color:[230,0,0]},{value:.6,color:[255,210,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[255,0,255]},{value:1,color:[255,255,0]}]}),new Mt({stops:[{value:0,color:[0,128,102]},{value:1,color:[255,255,102]}]}),new Mt({stops:[{value:0,color:[255,0,0]},{value:1,color:[255,255,0]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:1,color:[0,255,128]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.376,color:[84,84,116]},{value:.753,color:[169,200,200]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.804,color:[255,160,102]},{value:1,color:[255,199,127]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[8,29,88]},{value:.125,color:[37,52,148]},{value:.25,color:[34,94,168]},{value:.375,color:[29,145,192]},{value:.5,color:[65,182,196]},{value:.625,color:[127,205,187]},{value:.75,color:[199,233,180]},{value:.875,color:[237,248,217]},{value:1,color:[255,255,217]}]}),new Mt({stops:[{value:0,color:[0,68,27]},{value:.125,color:[0,109,44]},{value:.25,color:[35,139,69]},{value:.375,color:[65,171,93]},{value:.5,color:[116,196,118]},{value:.625,color:[161,217,155]},{value:.75,color:[199,233,192]},{value:.875,color:[229,245,224]},{value:1,color:[247,252,245]}]}),new Mt({stops:[{value:0,color:[128,0,38]},{value:.125,color:[189,0,38]},{value:.25,color:[227,26,28]},{value:.375,color:[252,78,42]},{value:.5,color:[253,141,60]},{value:.625,color:[254,178,76]},{value:.75,color:[254,217,118]},{value:.875,color:[255,237,160]},{value:1,color:[255,255,204]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[5,10,172]},{value:.35,color:[106,137,247]},{value:.5,color:[190,190,190]},{value:.6,color:[220,170,132]},{value:.7,color:[230,145,90]},{value:1,color:[178,10,28]}]}),new Mt({stops:[{value:0,color:[0,0,255]},{value:.1,color:[51,153,255]},{value:.2,color:[102,204,255]},{value:.3,color:[153,204,255]},{value:.4,color:[204,204,255]},{value:.5,color:[255,255,255]},{value:.6,color:[255,204,255]},{value:.7,color:[255,153,255]},{value:.8,color:[255,102,204]},{value:.9,color:[255,102,102]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[150,0,90]},{value:.125,color:[0,0,200]},{value:.25,color:[0,25,255]},{value:.375,color:[0,152,255]},{value:.5,color:[44,255,150]},{value:.625,color:[151,255,0]},{value:.75,color:[255,234,0]},{value:.875,color:[255,111,0]},{value:1,color:[255,0,0]}]}),new Mt({stops:[{value:0,color:[12,51,131]},{value:.25,color:[10,136,186]},{value:.5,color:[242,211,56]},{value:.75,color:[242,143,56]},{value:1,color:[217,30,30]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.2,color:[230,0,0]},{value:.4,color:[230,210,0]},{value:.7,color:[255,255,255]},{value:1,color:[160,200,255]}]}),new Mt({stops:[{value:0,color:[0,0,130]},{value:.1,color:[0,180,180]},{value:.2,color:[40,210,40]},{value:.4,color:[230,230,50]},{value:.6,color:[120,70,20]},{value:1,color:[255,255,255]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.15,color:[30,0,100]},{value:.4,color:[120,0,100]},{value:.6,color:[160,90,0]},{value:.8,color:[230,200,0]},{value:1,color:[255,250,220]}]}),new Mt({stops:[{value:0,color:[68,1,84]},{value:.13,color:[71,44,122]},{value:.25,color:[59,81,139]},{value:.38,color:[44,113,142]},{value:.5,color:[33,144,141]},{value:.63,color:[39,173,129]},{value:.75,color:[92,200,99]},{value:.88,color:[170,220,50]},{value:1,color:[253,231,37]}]}),new Mt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[31,12,72]},{value:.25,color:[85,15,109]},{value:.38,color:[136,34,106]},{value:.5,color:[186,54,85]},{value:.63,color:[227,89,51]},{value:.75,color:[249,140,10]},{value:.88,color:[249,201,50]},{value:1,color:[252,255,164]}]}),new Mt({stops:[{value:0,color:[0,0,4]},{value:.13,color:[28,16,68]},{value:.25,color:[79,18,123]},{value:.38,color:[129,37,129]},{value:.5,color:[181,54,122]},{value:.63,color:[229,80,100]},{value:.75,color:[251,135,97]},{value:.88,color:[254,194,135]},{value:1,color:[252,253,191]}]}),new Mt({stops:[{value:0,color:[13,8,135]},{value:.13,color:[75,3,161]},{value:.25,color:[125,3,168]},{value:.38,color:[168,34,150]},{value:.5,color:[203,70,121]},{value:.63,color:[229,107,93]},{value:.75,color:[248,148,65]},{value:.88,color:[253,195,40]},{value:1,color:[240,249,33]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[172,0,187]},{value:.25,color:[219,0,170]},{value:.38,color:[255,0,130]},{value:.5,color:[255,63,74]},{value:.63,color:[255,123,0]},{value:.75,color:[234,176,0]},{value:.88,color:[190,228,0]},{value:1,color:[147,255,0]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.13,color:[116,0,218]},{value:.25,color:[98,74,237]},{value:.38,color:[68,146,231]},{value:.5,color:[0,204,197]},{value:.63,color:[0,247,146]},{value:.75,color:[0,255,88]},{value:.88,color:[40,255,8]},{value:1,color:[147,255,0]}]}),new Mt({stops:[{value:0,color:[125,0,179]},{value:.1,color:[199,0,180]},{value:.2,color:[255,0,121]},{value:.3,color:[255,108,0]},{value:.4,color:[222,194,0]},{value:.5,color:[150,255,0]},{value:.6,color:[0,255,55]},{value:.7,color:[0,246,150]},{value:.8,color:[50,167,222]},{value:.9,color:[103,51,235]},{value:1,color:[124,0,186]}]}),new Mt({stops:[{value:0,color:[40,26,44]},{value:.13,color:[59,49,90]},{value:.25,color:[64,76,139]},{value:.38,color:[63,110,151]},{value:.5,color:[72,142,158]},{value:.63,color:[85,174,163]},{value:.75,color:[120,206,163]},{value:.88,color:[187,230,172]},{value:1,color:[253,254,204]}]}),new Mt({stops:[{value:0,color:[47,15,62]},{value:.13,color:[87,23,86]},{value:.25,color:[130,28,99]},{value:.38,color:[171,41,96]},{value:.5,color:[206,67,86]},{value:.63,color:[230,106,84]},{value:.75,color:[242,149,103]},{value:.88,color:[249,193,135]},{value:1,color:[254,237,176]}]}),new Mt({stops:[{value:0,color:[18,36,20]},{value:.13,color:[25,63,41]},{value:.25,color:[24,91,59]},{value:.38,color:[13,119,72]},{value:.5,color:[18,148,80]},{value:.63,color:[80,173,89]},{value:.75,color:[132,196,122]},{value:.88,color:[175,221,162]},{value:1,color:[215,249,208]}]}),new Mt({stops:[{value:0,color:[54,14,36]},{value:.13,color:[89,23,80]},{value:.25,color:[110,45,132]},{value:.38,color:[120,77,178]},{value:.5,color:[120,113,213]},{value:.63,color:[115,151,228]},{value:.75,color:[134,185,227]},{value:.88,color:[177,214,227]},{value:1,color:[230,241,241]}]}),new Mt({stops:[{value:0,color:[30,4,110]},{value:.13,color:[47,14,176]},{value:.25,color:[41,45,236]},{value:.38,color:[25,99,212]},{value:.5,color:[68,131,200]},{value:.63,color:[114,156,197]},{value:.75,color:[157,181,203]},{value:.88,color:[200,208,216]},{value:1,color:[241,237,236]}]}),new Mt({stops:[{value:0,color:[60,9,18]},{value:.13,color:[100,17,27]},{value:.25,color:[142,20,29]},{value:.38,color:[177,43,27]},{value:.5,color:[192,87,63]},{value:.63,color:[205,125,105]},{value:.75,color:[216,162,148]},{value:.88,color:[227,199,193]},{value:1,color:[241,237,236]}]}),new Mt({stops:[{value:0,color:[64,5,5]},{value:.13,color:[106,6,15]},{value:.25,color:[144,26,7]},{value:.38,color:[168,64,3]},{value:.5,color:[188,100,4]},{value:.63,color:[206,136,11]},{value:.75,color:[220,174,25]},{value:.88,color:[231,215,44]},{value:1,color:[248,254,105]}]}),new Mt({stops:[{value:0,color:[51,20,24]},{value:.13,color:[90,32,35]},{value:.25,color:[129,44,34]},{value:.38,color:[159,68,25]},{value:.5,color:[182,99,19]},{value:.63,color:[199,134,22]},{value:.75,color:[212,171,35]},{value:.88,color:[221,210,54]},{value:1,color:[225,253,75]}]}),new Mt({stops:[{value:0,color:[145,105,18]},{value:.13,color:[184,71,38]},{value:.25,color:[186,58,115]},{value:.38,color:[160,71,185]},{value:.5,color:[110,97,218]},{value:.63,color:[50,123,164]},{value:.75,color:[31,131,110]},{value:.88,color:[77,129,34]},{value:1,color:[145,105,18]}]}),new Mt({stops:[{value:0,color:[42,24,108]},{value:.13,color:[33,50,162]},{value:.25,color:[15,90,145]},{value:.38,color:[40,118,137]},{value:.5,color:[59,146,135]},{value:.63,color:[79,175,126]},{value:.75,color:[120,203,104]},{value:.88,color:[193,221,100]},{value:1,color:[253,239,154]}]}),new Mt({stops:[{value:0,color:[4,35,51]},{value:.13,color:[23,51,122]},{value:.25,color:[85,59,157]},{value:.38,color:[129,79,143]},{value:.5,color:[175,95,130]},{value:.63,color:[222,112,101]},{value:.75,color:[249,146,66]},{value:.88,color:[249,196,65]},{value:1,color:[232,250,91]}]}),new Mt({stops:[{value:0,color:[34,31,27]},{value:.13,color:[65,50,41]},{value:.25,color:[98,69,52]},{value:.38,color:[131,89,57]},{value:.5,color:[161,112,59]},{value:.63,color:[185,140,66]},{value:.75,color:[202,174,88]},{value:.88,color:[216,209,126]},{value:1,color:[233,246,171]}]}),new Mt({stops:[{value:0,color:[17,32,64]},{value:.13,color:[35,52,116]},{value:.25,color:[29,81,156]},{value:.38,color:[31,113,162]},{value:.5,color:[50,144,169]},{value:.63,color:[87,173,176]},{value:.75,color:[149,196,189]},{value:.88,color:[203,221,211]},{value:1,color:[254,251,230]}]}),new Mt({stops:[{value:0,color:[23,35,19]},{value:.13,color:[24,64,38]},{value:.25,color:[11,95,45]},{value:.38,color:[39,123,35]},{value:.5,color:[95,146,12]},{value:.63,color:[152,165,18]},{value:.75,color:[201,186,69]},{value:.88,color:[233,216,137]},{value:1,color:[255,253,205]}]}),new Mt({stops:[{value:0,color:[0,0,0]},{value:.07,color:[22,5,59]},{value:.13,color:[60,4,105]},{value:.2,color:[109,1,135]},{value:.27,color:[161,0,147]},{value:.33,color:[210,2,142]},{value:.4,color:[251,11,123]},{value:.47,color:[255,29,97]},{value:.53,color:[255,54,69]},{value:.6,color:[255,85,46]},{value:.67,color:[255,120,34]},{value:.73,color:[255,157,37]},{value:.8,color:[241,191,57]},{value:.87,color:[224,220,93]},{value:.93,color:[218,241,142]},{value:1,color:[227,253,198]}]}),new Mt({stops:[{value:0,color:[0,32,77,255]},{value:.125,color:[5,54,110,255]},{value:.25,color:[65,77,108,255]},{value:.375,color:[97,100,111,255]},{value:.5,color:[125,124,121,255]},{value:.625,color:[156,149,120,255]},{value:.75,color:[190,175,111,255]},{value:.875,color:[225,204,94,255]},{value:1,color:[255,235,70,255]}]}),new Mt({stops:[{value:0,color:[48,18,59,255]},{value:.125,color:[70,107,227,255]},{value:.25,color:[40,187,236,255]},{value:.375,color:[49,242,153,255]},{value:.5,color:[162,252,60,255]},{value:.625,color:[237,208,58,255]},{value:.75,color:[251,128,34,255]},{value:.875,color:[210,49,5,255]},{value:1,color:[122,4,3,255]}]}),new Mt({stops:[{value:0,color:[250,235,221,0]},{value:.133,color:[250,235,221,255]},{value:.266,color:[246,170,130,255]},{value:.4,color:[240,96,67,255]},{value:.533,color:[203,27,79,255]},{value:.666,color:[132,30,90,255]},{value:.8,color:[63,27,68,255]},{value:1,color:[3,5,26,255]}]}),new Mt({stops:[{value:0,color:[11,4,5,255]},{value:.125,color:[43,28,53,255]},{value:.25,color:[62,53,107,255]},{value:.375,color:[59,86,152,255]},{value:.5,color:[53,123,162,255]},{value:.625,color:[53,158,170,255]},{value:.75,color:[73,193,173,255]},{value:.875,color:[150,221,181,255]},{value:1,color:[222,245,229,255]}]});Pte();function jte(){const e={latitude:26.887926682692324,longitude:80.94213960084427},t=z.useRef(null),r=z.useRef(null),[n]=z.useState(17);Ui.apiKey="IalOQ02822zuJQcKKurw";var s=new Ate({offset:25}).setText("Green Village Initiative Head Office");z.useEffect(()=>{r.current&&e.lat||(r.current=new sF({container:t.current,style:Oz.SATELLITE,zoom:n,interactive:!1,center:[e.longitude,e.latitude]}),new kte({color:"#FF0000"}).setPopup(s).setLngLat([e.longitude,e.latitude]).addTo(r.current))},[e.longitude,e.latitude]),z.useState(!0);const[h,d]=z.useState(!0);return z.useEffect(()=>{document.title="Contact | GVI"},[]),L.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:[L.jsx("p",{className:"pl-4 text-center w-full  flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Contact Us"}),L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh] flex justify-center",children:L.jsxs("div",{className:"w-[95vw] md:w-[80vw] lg:w-[70vw] xl:w-[60vw] py-8",children:[L.jsx(da,{children:L.jsx(rL,{isLoaded:!h,classNames:{content:"h-[80vh] w-full"},children:L.jsx("iframe",{onLoad:()=>d(!1),className:"w-full h-full",src:"https://docs.google.com/forms/d/e/1FAIpQLSdEeyF27Ovo0TB0uPEj6sCxRBCboXqOFheXj469jFB_RbbVPg/viewform?usp=sf_link"})})}),L.jsxs("div",{className:"map-wrap w-full h-[100vh] mt-10 flex justify-center items-center",children:[L.jsx("div",{ref:t,className:"map h-[75vh] w-[75vh]"}),L.jsxs(da,{className:"max-w-[80%] ml-12",children:[L.jsx(za,{children:L.jsx("p",{className:" text-center w-full font-bold text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Office Location"})}),L.jsx($l,{}),L.jsx(La,{children:L.jsx("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:"Modern School Aliganj, Lucknow Uttar Pradesh, India"})}),L.jsx($l,{}),L.jsx(za,{children:L.jsx("p",{className:" text-center w-full font-bold text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Our Socials"})}),L.jsx($l,{}),L.jsx(La,{children:L.jsxs("p",{className:" w-full flex text-sm md:text-lg lg:text-xl pl-4",children:["Instagram:- @GVI",L.jsx("br",{}),"Facebook:- Green Village Initiative"]})})]})]})]})})]})}const Vte="/p1.jpg",Ute="/p2.jpg",Kte="/p3.jpg",Hte="/p4.jpg",Wte="/p5.jpg";function Gte(){const e=[{id:"p1",name:"Workshop with Village Residents",agenda:"Promoting Sustainable Development in Our Village",desc:`
During the workshop, we will explore the principles of sustainable development, delve into practical examples of sustainable practices, and discuss how these can be applied within our community. Participants will have the opportunity to brainstorm and plan community-driven projects that promote environmental conservation and enhance community well-being.
Whether you are interested in reducing waste, conserving energy, or improving local resources, this workshop will provide valuable insights and actionable steps to make a positive impact in our village. Together, we can build a more sustainable future for generations to come.`,img:Vte},{id:"p2",name:"500+ Trees Planted in the City",agenda:" Planting 500 Trees for a Greener Village",desc:"Join us in a village-wide campaign to plant 500 trees, aiming to enhance our environment and community. The campaign will begin with a launch event, featuring introductions and planting demonstrations. Community planting days will follow, allowing hands-on participation at designated sites. We will ensure ongoing tree health through regular monitoring and maintenance efforts. The campaign will conclude with a celebratory event to acknowledge our achievements and reflect on our collective impact toward a greener future.",img:Ute},{id:"p3",name:"Literacy Campaign about Carbon Footprint",agenda:" Literacy Campaign for Carbon Footprint*.",desc:"Engage in our village-wide literacy campaign focused on understanding and reducing carbon footprints. The campaign will commence with an educational launch event introducing the concept and importance of carbon footprint literacy. Participants will then partake in interactive sessions and workshops to learn practical ways to measure, reduce, and offset carbon footprints in daily life. Ongoing engagement will include community-wide initiatives, such as awareness drives and practical demonstrations, aiming to empower individuals to make informed choices for a sustainable future. The campaign will culminate in a closing event celebrating achievements and fostering a commitment to ongoing carbon footprint literacy within our community.",img:Kte},{id:"p4",name:"Plastic Recycling Workshop",agenda:" To educate and eradicate the use of plastic from our country",desc:"Participate in our village workshop dedicated to plastic recycling, aimed at promoting environmental sustainability. The workshop will commence with an introduction to the importance of plastic recycling and its impact on our community and environment. Participants will engage in hands-on sessions to learn about sorting, cleaning, and processing different types of plastic waste. Practical demonstrations will showcase creative ways to upcycle plastics into useful products. The workshop will conclude with a discussion on sustainable practices and strategies to implement effective plastic recycling initiatives within our village, fostering a cleaner and greener environment for all.",img:Hte},{id:"p5",name:"Destributing LPG Cylinders",agenda:" To distribute LPG cylinders to promote sustainable and eco-friendly development",desc:"Join us in our village-wide initiative to distribute LPG cylinders, promoting cleaner and safer cooking solutions. The campaign will kick off with a distribution launch event, where the importance of clean cooking and the benefits of LPG will be highlighted. Residents will have the opportunity to receive LPG cylinders and participate in educational sessions on safe handling, efficient usage, and environmental benefits. Ongoing efforts will focus on monitoring usage and providing support for maintenance and safety. The campaign will conclude with a community celebration to recognize participation and encourage sustained adoption of cleaner cooking practices across our village.",img:Wte}];return cu(),z.useEffect(()=>{document.title="Projects | GVI"},[]),L.jsx(L.Fragment,{children:L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:L.jsxs("div",{className:"w-full flex  items-center flex-col",children:[L.jsx("div",{className:"py-[10vh]",children:L.jsx("h1",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Previous Projects"})}),e.map(t=>L.jsx("section",{id:t.id,style:{backgroundImage:`url(${t.img}`},className:"bg-cover bg-center w-full bg-fixed min-h-[100vh]",children:L.jsx("div",{className:"flex justify-center items-center flex-col w-full min-h-[100vh] bg-[rgba(255,255,255,0.85)] dark:bg-[rgba(0,0,0,0.7)] text-black dark:text-white",children:L.jsx("div",{className:"container flex px-5 py-[15vh] items-center justify-center flex-col w-full h-full",children:L.jsxs("div",{className:"text-center lg:w-2/3 w-full grid gap-5",children:[L.jsx("h1",{className:"title-font sm:text-6xl text-5xl mb-4 font-medium ",children:t.name}),L.jsx("h2",{className:"text-2xl font-medium",children:L.jsx("div",{className:"p-4 my-4 border-s-4 border-primary-300/50 bg-gray-50/50 dark:border-primary-500/50 dark:bg-gray-800/50 col-span-11 rounded",children:L.jsxs("p",{className:"text-2xl italic hover:not-italic font-medium leading-relaxed",children:['"',t.agenda.trim(),'"']})})}),L.jsx("p",{className:"mb-8 leading-relaxed text-lg text-justify indent-10",children:t.desc}),L.jsx("div",{className:"w-full flex justify-centre items-centre"})]})})})}))]})})})}const qte="/images/Event1.jpg",Zte="/images/Event2.jpg",Yte="/images/Event3%20copy.jpg",Xte="/images/Event4.jpg",Jte="/images/Event5.jpg";function Qte(){const e=[{id:"e1",name:"Recycling Camp",agenda:"Join Our Recycling Camp: Educating, Engaging, and Empowering",desc:`
During our Recycling Camp, participants will engage in hands-on activities, workshops, and educational sessions led by experts in environmental conservation. They will learn practical skills such as sorting recyclables, understanding recycling symbols, and creating upcycled crafts from reusable materials.`,img:qte,date:"2024-08-02"},{id:"e2",name:"Project Paws",agenda:" Saving dogs from exploitation and cruelty",desc:`Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives.

Through a network of dedicated volunteers and animal welfare professionals, Project Paws offers regular feeding programs, medical treatments, and vaccination drives. These efforts not only address immediate health concerns but also contribute to controlling the population of stray dogs through spaying and neutering initiatives.
`,img:Zte,date:"2024-08-09"},{id:"e3",name:"Go EV!",agenda:"Reducing Carbon Footprint*.",desc:`"Go EV!" stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come.

Embracing EVs means embracing innovation and progress. These vehicles are not just a mode of transport but a catalyst for change, revolutionizing how we think about mobility. With zero tailpipe emissions, EVs help mitigate the harmful effects of traditional fossil fuel vehicles on our environment and public health. They offer quieter, smoother rides and require less maintenance, making them not only eco-friendly but also practical and cost-effective choices for consumers and businesses alike.`,img:Yte,date:"2024-08-16"},{id:"e4",name:"Tree Plantation",agenda:" To educate and eradicate cutting of trees from our country",desc:`Trees play a crucial role in improving air quality, absorbing carbon dioxide, and providing habitat for wildlife. Through our drive, we aim to increase green cover in our community, beautify our surroundings, and create a healthier environment for all.

Participating in the Plantation Drive is more than just planting trees; it's about taking tangible steps towards a sustainable future. Whether you're an individual, a local business, or a community organization, you can make a significant impact by joining us. Together, we can make our neighborhoods cleaner, greener, and more resilient to environmental challenges.
`,img:Xte,date:"2024-08-24"},{id:"e5",name:"Clean the Beech Mission",agenda:"Join Our Beach Cleaning Event: Preserving Coastal Beaut",desc:`During the Beach Cleaning event, volunteers of all ages and backgrounds gather to remove litter, debris, and plastics from the shoreline. Through collective effort and dedication, we aim to reduce pollution in our oceans, safeguard marine life, and maintain the natural beauty of our coastal areas.

Participants not only contribute to the immediate cleanliness of the beach but also raise awareness about the importance of responsible waste disposal and the impact of plastic pollution on marine ecosystems. By taking action at the local level, we demonstrate our commitment to global environmental sustainability goals.
`,img:Jte,date:"2024-08-31"}];return cu(),z.useEffect(()=>{document.title="Events | GVI"},[]),L.jsx(L.Fragment,{children:L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:L.jsxs("div",{className:"w-full flex  items-center flex-col",children:[L.jsx("div",{className:"py-[10vh]",children:L.jsx("h1",{className:"pl-4 text-center w-full h-[10vh] mb-10 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Upcoming Events"})}),e.map(t=>L.jsx("section",{id:t.id,style:{backgroundImage:`url(${t.img}`},className:"bg-cover bg-center w-full bg-fixed min-h-[100vh]",children:L.jsx("div",{className:"flex justify-center items-center flex-col w-full min-h-[100vh] bg-[rgba(255,255,255,0.85)] dark:bg-[rgba(0,0,0,0.7)] text-black dark:text-white",children:L.jsx("div",{className:"container flex px-5 py-[15vh] items-center justify-center flex-col w-full h-full",children:L.jsxs("div",{className:"text-center lg:w-2/3 w-full grid gap-5",children:[L.jsx("h1",{className:"title-font sm:text-6xl text-5xl mb-4 font-medium ",children:t.name}),L.jsx("h2",{className:"text-2xl font-medium",children:L.jsx("div",{className:"p-4 my-4 border-s-4 border-primary-300/50 bg-gray-50/50 dark:border-primary-500/50 dark:bg-gray-800/50 col-span-11 rounded",children:L.jsxs("p",{className:"text-2xl italic hover:not-italic font-medium leading-relaxed",children:['"',t.agenda.trim(),'"']})})}),L.jsx("p",{className:"mb-8 leading-relaxed text-lg text-justify indent-10",children:t.desc}),L.jsx("div",{className:"w-full flex justify-centre items-centre",children:L.jsx("div",{className:"flex gap-x-4 w-full justify-centre items-centre",children:L.jsx(dQ,{"aria-label":"Date (No Selection)",prevButton:"disabled",isReadOnly:!0,value:Mj(`${t.date}`)})})})]})})})}))]})})})}function ere(){const e=[{src:"/images/Event1.jpg",id:"e1",name:"Recycling Camp",post:"2/8/24",link:"https://youtu.be/4rcWLy2MgDQ?si=C24o5UTFjjLNBPtY",desc:"At GVI, we are passionate about promoting environmental sustainability through our Recycling Camp initiative. This camp is designed to educate participants of all ages about the importance of recycling, waste reduction, and responsible waste management practices."},{src:"/images/Event2.jpg",id:"e2",name:"Project Paws",post:"9/8/24",link:"https://youtu.be/lmboaugl6zg?si=CZquRY4XrcXtBarb",desc:"Project Paws is a compassionate initiative aimed at improving the lives of street dogs through humane and proactive measures. Our mission is to provide essential care, medical attention, and shelter to stray dogs in need. By rescuing and rehabilitating these animals, we strive to reduce their suffering and ensure they lead healthier, happier lives. "},{src:"/images/Event3.jpg",id:"e3",name:"Go EV",post:"16/8/24",link:"https://youtu.be/0sMKYut0pmQ?si=uhYkGfTgcW7RXgok",desc:"Go EV! stands as a powerful call to action in the global movement towards sustainable transportation. As we face unprecedented environmental challenges, transitioning to electric vehicles (EVs) represents a pivotal step towards reducing carbon emissions, improving air quality, and securing a cleaner future for generations to come."},{src:"/images/Event4.jpg",id:"e4",name:"Tree Plantation",post:"24/8/24",link:"https://youtu.be/uTAVw1sbpno?si=j7oPD7X-f46oYbOE",desc:"At GVI, we are committed to environmental stewardship and sustainability. Our Plantation Drive is a proactive initiative aimed at combating climate change and enhancing our ecosystem through the planting of trees and native vegetation."},{src:"/images/Event5.jpg",id:"e5",name:"Clean the Beech Mission",post:"31/8/24",link:"https://youtu.be/JtGsdiYdObQ?si=y8sm6FnWbQWotX_w",desc:"GVI invites you to participate in our Beach Cleaning event, where we come together to protect and preserve our coastal environments. This initiative is part of our commitment to environmental conservation and ensuring our beaches remain clean and beautiful for everyone to enjoy."}];return cu(),z.useEffect(()=>{document.title="Resources | GVI"},[]),L.jsx(L.Fragment,{children:L.jsx("div",{className:"pt-[10vh] w-full min-h-[100vh]",children:L.jsxs("div",{className:"w-full flex  items-center flex-col",children:[L.jsxs("div",{className:"py-[5vh] text-center",children:[L.jsx("p",{className:"w-full h-[8vh] m-1 flex justify-center items-center font-black text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Resources"}),L.jsx("p",{className:"pt-[2.5vh]",children:"Click on your respective project name to view its guide."})]}),L.jsx("div",{className:"min-h-[80vh] w-full flex items-center flex-col",children:L.jsx("div",{className:"grid grid-cols-5 grid-rows-1 w-full",children:e.map(t=>L.jsx("div",{className:"w-full h-[30vh] hover:z-10 md:h-[40vh] xl:h-[80vh] bg-primary-100 brightness-75 transition-all hover:brightness-100 hover:scale-[105%] flex justify-end items-center flex-col bg-cover bg-center data-[low=true]:hidden data-[low=true]:md:flex",onClick:()=>window.open(base+"resources/"+t.filename,"_blank").focus(),style:{backgroundImage:`url(${t.src})`,backgroundPosition:t.position||"center"},transition:{duration:0},"data-low":t.low?"true":"false",children:L.jsx("div",{className:"h-[10vh] w-full",children:L.jsx("h2",{className:"text-3xl text-center text-white",children:L.jsx(Cs,{onClick:()=>window.open(`${t.link}`,"_blank").focus(),radius:"md",className:"bg-gradient-to-tr from-green-700 to-yellow-200 text-white shadow-lg font-semibold mr-[2vw]",color:"secondary",variant:"shadow",children:t.name})})})},t.id))})})]})})})}var lF={};function tre(e){if(typeof window>"u")return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}Object.defineProperty(lF,"__esModule",{value:!0});var an=z;function rre(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var sl=rre(an);tre(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const nre=an.forwardRef(function({style:t={},className:r="",autoFill:n=!1,play:s=!0,pauseOnHover:h=!1,pauseOnClick:d=!1,direction:c="left",speed:v=50,delay:w=0,loop:S=0,gradient:T=!1,gradientColor:C="white",gradientWidth:D=200,onFinish:B,onCycleComplete:j,onMount:Y,children:V},F){const[N,ee]=an.useState(0),[ie,fe]=an.useState(0),[be,q]=an.useState(1),[pe,xe]=an.useState(!1),le=an.useRef(null),Se=F||le,ge=an.useRef(null),ye=an.useCallback(()=>{if(ge.current&&Se.current){const se=Se.current.getBoundingClientRect(),ze=ge.current.getBoundingClientRect();let Ze=se.width,lt=ze.width;(c==="up"||c==="down")&&(Ze=se.height,lt=ze.height),q(n&&Ze&&lt&&lt<Ze?Math.ceil(Ze/lt):1),ee(Ze),fe(lt)}},[n,Se,c]);an.useEffect(()=>{if(pe&&(ye(),ge.current&&Se.current)){const se=new ResizeObserver(()=>ye());return se.observe(Se.current),se.observe(ge.current),()=>{se&&se.disconnect()}}},[ye,Se,pe]),an.useEffect(()=>{ye()},[ye,V]),an.useEffect(()=>{xe(!0)},[]),an.useEffect(()=>{typeof Y=="function"&&Y()},[]);const Be=an.useMemo(()=>n?ie*be/v:ie<N?N/v:ie/v,[n,N,ie,be,v]),Re=an.useMemo(()=>Object.assign(Object.assign({},t),{"--pause-on-hover":!s||h?"paused":"running","--pause-on-click":!s||h&&!d||d?"paused":"running","--width":c==="up"||c==="down"?"100vh":"100%","--transform":c==="up"?"rotate(-90deg)":c==="down"?"rotate(90deg)":"none"}),[t,s,h,d,c]),ae=an.useMemo(()=>({"--gradient-color":C,"--gradient-width":typeof D=="number"?`${D}px`:D}),[C,D]),De=an.useMemo(()=>({"--play":s?"running":"paused","--direction":c==="left"?"normal":"reverse","--duration":`${Be}s`,"--delay":`${w}s`,"--iteration-count":S?`${S}`:"infinite","--min-width":n?"auto":"100%"}),[s,c,Be,w,S,n]),je=an.useMemo(()=>({"--transform":c==="up"?"rotate(90deg)":c==="down"?"rotate(-90deg)":"none"}),[c]),Oe=an.useCallback(se=>[...Array(Number.isFinite(se)&&se>=0?se:0)].map((ze,Ze)=>sl.default.createElement(an.Fragment,{key:Ze},an.Children.map(V,lt=>sl.default.createElement("div",{style:je,className:"rfm-child"},lt)))),[je,V]);return pe?sl.default.createElement("div",{ref:Se,style:Re,className:"rfm-marquee-container "+r},T&&sl.default.createElement("div",{style:ae,className:"rfm-overlay"}),sl.default.createElement("div",{className:"rfm-marquee",style:De,onAnimationIteration:j,onAnimationEnd:B},sl.default.createElement("div",{className:"rfm-initial-child-container",ref:ge},an.Children.map(V,se=>sl.default.createElement("div",{style:je,className:"rfm-child"},se))),Oe(be-1)),sl.default.createElement("div",{className:"rfm-marquee",style:De},Oe(be))):null});var ire=lF.default=nre;function are(){return z.useEffect(()=>{document.title="Impact | GVI"},[]),cu(),L.jsxs("div",{className:"pt-[10vh] w-full min-h-[100vh] grid grid-col-3 grid-row-3 items-center justify-center gap-5",children:[L.jsx("p",{className:"pl-4 text-center w-full mb-5 flex justify-center items-center font-bold text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-generica bg-gradient-to-r from-green-700 to-yellow-200 inline-block text-transparent bg-clip-text",children:"Testimonials"}),L.jsxs(ire,{children:[L.jsxs(da,{className:"max-w-[340px] mr-12 ml-12",children:[L.jsx(za,{className:"justify-between",children:L.jsxs("div",{className:"flex gap-5",children:[L.jsx(Xf,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-1.png"}),L.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[L.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Radhika Sri"}),L.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@radhika"})]})]})}),L.jsxs(La,{className:"px-3 py-0 text-small text-default-400",children:[L.jsx("p",{children:"The Green Village Initiative promotes sustainable development and is the most reliable non-profit organisation."}),L.jsxs("span",{className:"pt-2",children:["#GrowGreenGlobal",L.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),L.jsxs(Jf,{className:"gap-3",children:[L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"59"}),L.jsx("p",{className:" text-default-400 text-small",children:"Likes"})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),L.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),L.jsxs(da,{className:"max-w-[340px] mr-12",children:[L.jsx(za,{className:"justify-between",children:L.jsxs("div",{className:"flex gap-5",children:[L.jsx(Xf,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-2.png"}),L.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[L.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Naman Singh"}),L.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@namanSingh"})]})]})}),L.jsxs(La,{className:"px-3 py-0 text-small text-default-400",children:[L.jsx("p",{children:"The NGO helps lots of people and provides them with everything they requrire."}),L.jsxs("span",{className:"pt-2",children:["#GOGREEN",L.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),L.jsxs(Jf,{className:"gap-3",children:[L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"98"}),L.jsx("p",{className:" text-default-400 text-small",children:"Likes"})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"49.5K"}),L.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),L.jsxs(da,{className:"max-w-[340px] mr-12",children:[L.jsx(za,{className:"justify-between",children:L.jsxs("div",{className:"flex gap-5",children:[L.jsx(Xf,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-3.png"}),L.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[L.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Anshika"}),L.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@anshika"})]})]})}),L.jsxs(La,{className:"px-3 py-0 text-small text-default-400",children:[L.jsx("p",{children:"The initiative encouraged me to buy a EV car and I am enjoying it."}),L.jsxs("span",{className:"pt-2",children:["#Go_EV",L.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),L.jsxs(Jf,{className:"gap-3",children:[L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"434"}),L.jsx("p",{className:" text-default-400 text-small",children:"Likes"})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"452K"}),L.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),L.jsxs(da,{className:"max-w-[340px] mr-12",children:[L.jsx(za,{className:"justify-between",children:L.jsxs("div",{className:"flex gap-5",children:[L.jsx(Xf,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-4.png"}),L.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[L.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Abhijeet Kumar"}),L.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@abhi-beast"})]})]})}),L.jsxs(La,{className:"px-3 py-0 text-small text-default-400",children:[L.jsx("p",{children:"I have worked with this NGO and can support that they do real work."}),L.jsxs("span",{className:"pt-2",children:["#TeamTrees",L.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),L.jsxs(Jf,{className:"gap-3",children:[L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4.4K"}),L.jsx("p",{className:" text-default-400 text-small",children:"Likes"})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"912K"}),L.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]}),L.jsxs(da,{className:"max-w-[340px]",children:[L.jsx(za,{className:"justify-between",children:L.jsxs("div",{className:"flex gap-5",children:[L.jsx(Xf,{isBordered:!0,radius:"full",size:"md",src:"https://nextui.org/avatars/avatar-5.png"}),L.jsxs("div",{className:"flex flex-col gap-1 items-start justify-center",children:[L.jsx("h4",{className:"text-small font-semibold leading-none text-default-600",children:"Akshat Goel"}),L.jsx("h5",{className:"text-small tracking-tight text-default-400",children:"@goelJiTopper"})]})]})}),L.jsxs(La,{className:"px-3 py-0 text-small text-default-400",children:[L.jsx("p",{children:"I got 99% in boards due to the help provided by this NGO. I am grateful to them."}),L.jsxs("span",{className:"pt-2",children:["#IamATopper",L.jsx("span",{className:"py-2","aria-label":"computer",role:"img",children:"💻"})]})]}),L.jsxs(Jf,{className:"gap-3",children:[L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"4"}),L.jsx("p",{className:" text-default-400 text-small",children:"Following"})]}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("p",{className:"font-semibold text-default-400 text-small",children:"97.1K"}),L.jsx("p",{className:"text-default-400 text-small",children:"Followers"})]})]})]})]})]})}function ore(){const e=cu();return oz(),L.jsx(zV,{navigate:e,children:L.jsx("main",{className:"text-foreground bg-background",children:L.jsxs(uee,{children:[L.jsx(Co,{loader:L.jsx(bc,{}),path:"/",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(Dee,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:!0,path:"/Projects",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(Gte,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/volunteer",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(Ree,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/contact",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(jte,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/donate",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(zee,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/Events",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(Qte,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/Resources",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(ere,{}),L.jsx(al,{})]})}),L.jsx(Co,{loader:L.jsx(bc,{}),path:"/Impact",element:L.jsxs(L.Fragment,{children:[L.jsx(ns,{}),L.jsx(are,{}),L.jsx(al,{})]})}),L.jsx(Co,{path:"*",element:L.jsxs("div",{className:"h-[100vh] w-full pt-[10vh] flex justify-center items-center",children:[L.jsx(ns,{}),L.jsxs("div",{className:"flex h-10 items-center space-x-4 text-2xl",children:[L.jsx("div",{children:"404"}),L.jsx($l,{orientation:"vertical"}),L.jsx("div",{children:"Page Not Found"})]})]})})]})})})}A_.createRoot(document.getElementById("root")).render(L.jsx(Qt.StrictMode,{children:L.jsx(fee,{children:L.jsx(ore,{})})}));
